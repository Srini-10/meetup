exports.id=564,exports.ids=[564],exports.modules={36982:(e,t,i)=>{"use strict";let n,s,r,a,o,l,c,d,u,p,h;i.d(t,{PHQ:()=>bC,lkp:()=>bZ,GUv:()=>bM,Uq0:()=>F,Avh:()=>b_,ZXw:()=>yx,gy1:()=>yS,N_D:()=>yp,c3T:()=>b6,hbc:()=>ym,GRk:()=>d7,FoN:()=>yn,W7t:()=>u1,dvl:()=>pp,b12:()=>pn});var m,f,g,v,b,y,x,_,w,S,k,E,T,C,R,O,P,j,I,N,D,A,L,M,U,F,B,$,q,V,W={};i.r(W),i.d(W,{fixNegotiationNeeded:()=>ef,shimAddTrackRemoveTrack:()=>eh,shimAddTrackRemoveTrackWithNative:()=>ep,shimGetDisplayMedia:()=>ea,shimGetSendersWithDtmf:()=>ec,shimGetStats:()=>ed,shimGetUserMedia:()=>er,shimMediaStream:()=>eo,shimOnTrack:()=>el,shimPeerConnection:()=>em,shimSenderReceiverGetStats:()=>eu});var z={};i.r(z),i.d(z,{shimAddTransceiver:()=>ek,shimCreateAnswer:()=>eC,shimCreateOffer:()=>eT,shimGetDisplayMedia:()=>ev,shimGetParameters:()=>eE,shimGetUserMedia:()=>eg,shimOnTrack:()=>eb,shimPeerConnection:()=>ey,shimRTCDataChannel:()=>eS,shimReceiverGetStats:()=>e_,shimRemoveStream:()=>ew,shimSenderGetStats:()=>ex});var H={};i.r(H),i.d(H,{shimAudioContext:()=>eL,shimCallbacksAPI:()=>eP,shimConstraints:()=>eI,shimCreateOfferLegacy:()=>eA,shimGetUserMedia:()=>ej,shimLocalStreamsAPI:()=>eR,shimRTCIceServerUrls:()=>eN,shimRemoteStreamsAPI:()=>eO,shimTrackEventTransceiver:()=>eD});var K={};i.r(K),i.d(K,{removeExtmapAllowMixed:()=>eW,shimAddIceCandidateNullOrEmpty:()=>ez,shimConnectionState:()=>eV,shimMaxMessageSize:()=>e$,shimParameterlessSetLocalDescription:()=>eH,shimRTCIceCandidate:()=>eF,shimRTCIceCandidateRelayProtocol:()=>eB,shimSendThrowTypeError:()=>eq});var G={};i.r(G),i.d(G,{hasBrowserEnv:()=>iw,hasStandardBrowserEnv:()=>ik,hasStandardBrowserWebWorkerEnv:()=>iE,navigator:()=>iS,origin:()=>iT});let J=!0,Y=!0;function Q(e,t,i){let n=e.match(t);return n&&n.length>=i&&parseInt(n[i],10)}function X(e,t,i){if(!e.RTCPeerConnection)return;let n=e.RTCPeerConnection.prototype,s=n.addEventListener;n.addEventListener=function(e,n){if(e!==t)return s.apply(this,arguments);let r=e=>{let t=i(e);t&&(n.handleEvent?n.handleEvent(t):n(t))};return this._eventMap=this._eventMap||{},this._eventMap[t]||(this._eventMap[t]=new Map),this._eventMap[t].set(n,r),s.apply(this,[e,r])};let r=n.removeEventListener;n.removeEventListener=function(e,i){if(e!==t||!this._eventMap||!this._eventMap[t]||!this._eventMap[t].has(i))return r.apply(this,arguments);let n=this._eventMap[t].get(i);return this._eventMap[t].delete(i),0===this._eventMap[t].size&&delete this._eventMap[t],0===Object.keys(this._eventMap).length&&delete this._eventMap,r.apply(this,[e,n])},Object.defineProperty(n,"on"+t,{get(){return this["_on"+t]},set(e){this["_on"+t]&&(this.removeEventListener(t,this["_on"+t]),delete this["_on"+t]),e&&this.addEventListener(t,this["_on"+t]=e)},enumerable:!0,configurable:!0})}function Z(e){return"boolean"!=typeof e?Error("Argument type: "+typeof e+". Please use a boolean."):(J=e,e?"adapter.js logging disabled":"adapter.js logging enabled")}function ee(e){return"boolean"!=typeof e?Error("Argument type: "+typeof e+". Please use a boolean."):(Y=!e,"adapter.js deprecation warnings "+(e?"disabled":"enabled"))}function et(){"object"!=typeof window||J||"undefined"==typeof console||"function"!=typeof console.log||console.log.apply(console,arguments)}function ei(e,t){Y&&console.warn(e+" is deprecated, please use "+t+" instead.")}function en(e){return"[object Object]"===Object.prototype.toString.call(e)}function es(e,t,i){let n=i?"outbound-rtp":"inbound-rtp",s=new Map;if(null===t)return s;let r=[];return e.forEach(e=>{"track"===e.type&&e.trackIdentifier===t.id&&r.push(e)}),r.forEach(t=>{e.forEach(i=>{i.type===n&&i.trackId===t.id&&function e(t,i,n){!i||n.has(i.id)||(n.set(i.id,i),Object.keys(i).forEach(s=>{s.endsWith("Id")?e(t,t.get(i[s]),n):s.endsWith("Ids")&&i[s].forEach(i=>{e(t,t.get(i),n)})}))}(e,i,s)})}),s}function er(e,t){let i=e&&e.navigator;if(!i.mediaDevices)return;let n=function(e){if("object"!=typeof e||e.mandatory||e.optional)return e;let t={};return Object.keys(e).forEach(i=>{if("require"===i||"advanced"===i||"mediaSource"===i)return;let n="object"==typeof e[i]?e[i]:{ideal:e[i]};void 0!==n.exact&&"number"==typeof n.exact&&(n.min=n.max=n.exact);let s=function(e,t){return e?e+t.charAt(0).toUpperCase()+t.slice(1):"deviceId"===t?"sourceId":t};if(void 0!==n.ideal){t.optional=t.optional||[];let e={};"number"==typeof n.ideal?(e[s("min",i)]=n.ideal,t.optional.push(e),(e={})[s("max",i)]=n.ideal):e[s("",i)]=n.ideal,t.optional.push(e)}void 0!==n.exact&&"number"!=typeof n.exact?(t.mandatory=t.mandatory||{},t.mandatory[s("",i)]=n.exact):["min","max"].forEach(e=>{void 0!==n[e]&&(t.mandatory=t.mandatory||{},t.mandatory[s(e,i)]=n[e])})}),e.advanced&&(t.optional=(t.optional||[]).concat(e.advanced)),t},s=function(e,s){if(t.version>=61)return s(e);if((e=JSON.parse(JSON.stringify(e)))&&"object"==typeof e.audio){let t=function(e,t,i){t in e&&!(i in e)&&(e[i]=e[t],delete e[t])};t((e=JSON.parse(JSON.stringify(e))).audio,"autoGainControl","googAutoGainControl"),t(e.audio,"noiseSuppression","googNoiseSuppression"),e.audio=n(e.audio)}if(e&&"object"==typeof e.video){let r=e.video.facingMode;r=r&&("object"==typeof r?r:{ideal:r});let a=t.version<66;if(r&&("user"===r.exact||"environment"===r.exact||"user"===r.ideal||"environment"===r.ideal)&&!(i.mediaDevices.getSupportedConstraints&&i.mediaDevices.getSupportedConstraints().facingMode&&!a)){let t;if(delete e.video.facingMode,"environment"===r.exact||"environment"===r.ideal?t=["back","rear"]:("user"===r.exact||"user"===r.ideal)&&(t=["front"]),t)return i.mediaDevices.enumerateDevices().then(i=>{let a=(i=i.filter(e=>"videoinput"===e.kind)).find(e=>t.some(t=>e.label.toLowerCase().includes(t)));return!a&&i.length&&t.includes("back")&&(a=i[i.length-1]),a&&(e.video.deviceId=r.exact?{exact:a.deviceId}:{ideal:a.deviceId}),e.video=n(e.video),et("chrome: "+JSON.stringify(e)),s(e)})}e.video=n(e.video)}return et("chrome: "+JSON.stringify(e)),s(e)},r=function(e){return t.version>=64?e:{name:({PermissionDeniedError:"NotAllowedError",PermissionDismissedError:"NotAllowedError",InvalidStateError:"NotAllowedError",DevicesNotFoundError:"NotFoundError",ConstraintNotSatisfiedError:"OverconstrainedError",TrackStartError:"NotReadableError",MediaDeviceFailedDueToShutdown:"NotAllowedError",MediaDeviceKillSwitchOn:"NotAllowedError",TabCaptureError:"AbortError",ScreenCaptureError:"AbortError",DeviceCaptureError:"AbortError"})[e.name]||e.name,message:e.message,constraint:e.constraint||e.constraintName,toString(){return this.name+(this.message&&": ")+this.message}}};if(i.getUserMedia=(function(e,t,n){s(e,e=>{i.webkitGetUserMedia(e,t,e=>{n&&n(r(e))})})}).bind(i),i.mediaDevices.getUserMedia){let e=i.mediaDevices.getUserMedia.bind(i.mediaDevices);i.mediaDevices.getUserMedia=function(t){return s(t,t=>e(t).then(e=>{if(t.audio&&!e.getAudioTracks().length||t.video&&!e.getVideoTracks().length)throw e.getTracks().forEach(e=>{e.stop()}),new DOMException("","NotFoundError");return e},e=>Promise.reject(r(e))))}}}function ea(e,t){if((!e.navigator.mediaDevices||!("getDisplayMedia"in e.navigator.mediaDevices))&&e.navigator.mediaDevices){if("function"!=typeof t){console.error("shimGetDisplayMedia: getSourceId argument is not a function");return}e.navigator.mediaDevices.getDisplayMedia=function(i){return t(i).then(t=>{let n=i.video&&i.video.width,s=i.video&&i.video.height,r=i.video&&i.video.frameRate;return i.video={mandatory:{chromeMediaSource:"desktop",chromeMediaSourceId:t,maxFrameRate:r||3}},n&&(i.video.mandatory.maxWidth=n),s&&(i.video.mandatory.maxHeight=s),e.navigator.mediaDevices.getUserMedia(i)})}}}function eo(e){e.MediaStream=e.MediaStream||e.webkitMediaStream}function el(e){if("object"!=typeof e||!e.RTCPeerConnection||"ontrack"in e.RTCPeerConnection.prototype)X(e,"track",e=>(e.transceiver||Object.defineProperty(e,"transceiver",{value:{receiver:e.receiver}}),e));else{Object.defineProperty(e.RTCPeerConnection.prototype,"ontrack",{get(){return this._ontrack},set(e){this._ontrack&&this.removeEventListener("track",this._ontrack),this.addEventListener("track",this._ontrack=e)},enumerable:!0,configurable:!0});let t=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){return this._ontrackpoly||(this._ontrackpoly=t=>{t.stream.addEventListener("addtrack",i=>{let n;n=e.RTCPeerConnection.prototype.getReceivers?this.getReceivers().find(e=>e.track&&e.track.id===i.track.id):{track:i.track};let s=new Event("track");s.track=i.track,s.receiver=n,s.transceiver={receiver:n},s.streams=[t.stream],this.dispatchEvent(s)}),t.stream.getTracks().forEach(i=>{let n;n=e.RTCPeerConnection.prototype.getReceivers?this.getReceivers().find(e=>e.track&&e.track.id===i.id):{track:i};let s=new Event("track");s.track=i,s.receiver=n,s.transceiver={receiver:n},s.streams=[t.stream],this.dispatchEvent(s)})},this.addEventListener("addstream",this._ontrackpoly)),t.apply(this,arguments)}}}function ec(e){if("object"==typeof e&&e.RTCPeerConnection&&!("getSenders"in e.RTCPeerConnection.prototype)&&"createDTMFSender"in e.RTCPeerConnection.prototype){let t=function(e,t){return{track:t,get dtmf(){return void 0===this._dtmf&&("audio"===t.kind?this._dtmf=e.createDTMFSender(t):this._dtmf=null),this._dtmf},_pc:e}};if(!e.RTCPeerConnection.prototype.getSenders){e.RTCPeerConnection.prototype.getSenders=function(){return this._senders=this._senders||[],this._senders.slice()};let i=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addTrack=function(e,n){let s=i.apply(this,arguments);return s||(s=t(this,e),this._senders.push(s)),s};let n=e.RTCPeerConnection.prototype.removeTrack;e.RTCPeerConnection.prototype.removeTrack=function(e){n.apply(this,arguments);let t=this._senders.indexOf(e);-1!==t&&this._senders.splice(t,1)}}let i=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(e){this._senders=this._senders||[],i.apply(this,[e]),e.getTracks().forEach(e=>{this._senders.push(t(this,e))})};let n=e.RTCPeerConnection.prototype.removeStream;e.RTCPeerConnection.prototype.removeStream=function(e){this._senders=this._senders||[],n.apply(this,[e]),e.getTracks().forEach(e=>{let t=this._senders.find(t=>t.track===e);t&&this._senders.splice(this._senders.indexOf(t),1)})}}else if("object"==typeof e&&e.RTCPeerConnection&&"getSenders"in e.RTCPeerConnection.prototype&&"createDTMFSender"in e.RTCPeerConnection.prototype&&e.RTCRtpSender&&!("dtmf"in e.RTCRtpSender.prototype)){let t=e.RTCPeerConnection.prototype.getSenders;e.RTCPeerConnection.prototype.getSenders=function(){let e=t.apply(this,[]);return e.forEach(e=>e._pc=this),e},Object.defineProperty(e.RTCRtpSender.prototype,"dtmf",{get(){return void 0===this._dtmf&&("audio"===this.track.kind?this._dtmf=this._pc.createDTMFSender(this.track):this._dtmf=null),this._dtmf}})}}function ed(e){if(!e.RTCPeerConnection)return;let t=e.RTCPeerConnection.prototype.getStats;e.RTCPeerConnection.prototype.getStats=function(){let[e,i,n]=arguments;if(arguments.length>0&&"function"==typeof e)return t.apply(this,arguments);if(0===t.length&&(0==arguments.length||"function"!=typeof e))return t.apply(this,[]);let s=function(e){let t={};return e.result().forEach(e=>{let i={id:e.id,timestamp:e.timestamp,type:{localcandidate:"local-candidate",remotecandidate:"remote-candidate"}[e.type]||e.type};e.names().forEach(t=>{i[t]=e.stat(t)}),t[i.id]=i}),t},r=function(e){return new Map(Object.keys(e).map(t=>[t,e[t]]))};return arguments.length>=2?t.apply(this,[function(e){i(r(s(e)))},e]):new Promise((e,i)=>{t.apply(this,[function(t){e(r(s(t)))},i])}).then(i,n)}}function eu(e){if(!("object"==typeof e&&e.RTCPeerConnection&&e.RTCRtpSender&&e.RTCRtpReceiver))return;if(!("getStats"in e.RTCRtpSender.prototype)){let t=e.RTCPeerConnection.prototype.getSenders;t&&(e.RTCPeerConnection.prototype.getSenders=function(){let e=t.apply(this,[]);return e.forEach(e=>e._pc=this),e});let i=e.RTCPeerConnection.prototype.addTrack;i&&(e.RTCPeerConnection.prototype.addTrack=function(){let e=i.apply(this,arguments);return e._pc=this,e}),e.RTCRtpSender.prototype.getStats=function(){let e=this;return this._pc.getStats().then(t=>es(t,e.track,!0))}}if(!("getStats"in e.RTCRtpReceiver.prototype)){let t=e.RTCPeerConnection.prototype.getReceivers;t&&(e.RTCPeerConnection.prototype.getReceivers=function(){let e=t.apply(this,[]);return e.forEach(e=>e._pc=this),e}),X(e,"track",e=>(e.receiver._pc=e.srcElement,e)),e.RTCRtpReceiver.prototype.getStats=function(){let e=this;return this._pc.getStats().then(t=>es(t,e.track,!1))}}if(!("getStats"in e.RTCRtpSender.prototype&&"getStats"in e.RTCRtpReceiver.prototype))return;let t=e.RTCPeerConnection.prototype.getStats;e.RTCPeerConnection.prototype.getStats=function(){if(arguments.length>0&&arguments[0]instanceof e.MediaStreamTrack){let e,t,i;let n=arguments[0];return(this.getSenders().forEach(t=>{t.track===n&&(e?i=!0:e=t)}),this.getReceivers().forEach(e=>(e.track===n&&(t?i=!0:t=e),e.track===n)),i||e&&t)?Promise.reject(new DOMException("There are more than one sender or receiver for the track.","InvalidAccessError")):e?e.getStats():t?t.getStats():Promise.reject(new DOMException("There is no sender or receiver for the track.","InvalidAccessError"))}return t.apply(this,arguments)}}function ep(e){e.RTCPeerConnection.prototype.getLocalStreams=function(){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},Object.keys(this._shimmedLocalStreams).map(e=>this._shimmedLocalStreams[e][0])};let t=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addTrack=function(e,i){if(!i)return t.apply(this,arguments);this._shimmedLocalStreams=this._shimmedLocalStreams||{};let n=t.apply(this,arguments);return this._shimmedLocalStreams[i.id]?-1===this._shimmedLocalStreams[i.id].indexOf(n)&&this._shimmedLocalStreams[i.id].push(n):this._shimmedLocalStreams[i.id]=[i,n],n};let i=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(e){this._shimmedLocalStreams=this._shimmedLocalStreams||{},e.getTracks().forEach(e=>{if(this.getSenders().find(t=>t.track===e))throw new DOMException("Track already exists.","InvalidAccessError")});let t=this.getSenders();i.apply(this,arguments);let n=this.getSenders().filter(e=>-1===t.indexOf(e));this._shimmedLocalStreams[e.id]=[e].concat(n)};let n=e.RTCPeerConnection.prototype.removeStream;e.RTCPeerConnection.prototype.removeStream=function(e){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},delete this._shimmedLocalStreams[e.id],n.apply(this,arguments)};let s=e.RTCPeerConnection.prototype.removeTrack;e.RTCPeerConnection.prototype.removeTrack=function(e){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},e&&Object.keys(this._shimmedLocalStreams).forEach(t=>{let i=this._shimmedLocalStreams[t].indexOf(e);-1!==i&&this._shimmedLocalStreams[t].splice(i,1),1===this._shimmedLocalStreams[t].length&&delete this._shimmedLocalStreams[t]}),s.apply(this,arguments)}}function eh(e,t){if(!e.RTCPeerConnection)return;if(e.RTCPeerConnection.prototype.addTrack&&t.version>=65)return ep(e);let i=e.RTCPeerConnection.prototype.getLocalStreams;e.RTCPeerConnection.prototype.getLocalStreams=function(){let e=i.apply(this);return this._reverseStreams=this._reverseStreams||{},e.map(e=>this._reverseStreams[e.id])};let n=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(t){if(this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},t.getTracks().forEach(e=>{if(this.getSenders().find(t=>t.track===e))throw new DOMException("Track already exists.","InvalidAccessError")}),!this._reverseStreams[t.id]){let i=new e.MediaStream(t.getTracks());this._streams[t.id]=i,this._reverseStreams[i.id]=t,t=i}n.apply(this,[t])};let s=e.RTCPeerConnection.prototype.removeStream;function r(e,t){let i=t.sdp;return Object.keys(e._reverseStreams||[]).forEach(t=>{let n=e._reverseStreams[t],s=e._streams[n.id];i=i.replace(RegExp(s.id,"g"),n.id)}),new RTCSessionDescription({type:t.type,sdp:i})}e.RTCPeerConnection.prototype.removeStream=function(e){this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},s.apply(this,[this._streams[e.id]||e]),delete this._reverseStreams[this._streams[e.id]?this._streams[e.id].id:e.id],delete this._streams[e.id]},e.RTCPeerConnection.prototype.addTrack=function(t,i){if("closed"===this.signalingState)throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");let n=[].slice.call(arguments,1);if(1!==n.length||!n[0].getTracks().find(e=>e===t))throw new DOMException("The adapter.js addTrack polyfill only supports a single  stream which is associated with the specified track.","NotSupportedError");if(this.getSenders().find(e=>e.track===t))throw new DOMException("Track already exists.","InvalidAccessError");this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{};let s=this._streams[i.id];if(s)s.addTrack(t),Promise.resolve().then(()=>{this.dispatchEvent(new Event("negotiationneeded"))});else{let n=new e.MediaStream([t]);this._streams[i.id]=n,this._reverseStreams[n.id]=i,this.addStream(n)}return this.getSenders().find(e=>e.track===t)},["createOffer","createAnswer"].forEach(function(t){let i=e.RTCPeerConnection.prototype[t];e.RTCPeerConnection.prototype[t]=({[t](){let e=arguments,t=arguments.length&&"function"==typeof arguments[0];return t?i.apply(this,[t=>{let i=r(this,t);e[0].apply(null,[i])},t=>{e[1]&&e[1].apply(null,t)},arguments[2]]):i.apply(this,arguments).then(e=>r(this,e))}})[t]});let a=e.RTCPeerConnection.prototype.setLocalDescription;e.RTCPeerConnection.prototype.setLocalDescription=function(){var e,t;let i;return arguments.length&&arguments[0].type&&(arguments[0]=(e=this,t=arguments[0],i=t.sdp,Object.keys(e._reverseStreams||[]).forEach(t=>{let n=e._reverseStreams[t],s=e._streams[n.id];i=i.replace(RegExp(n.id,"g"),s.id)}),new RTCSessionDescription({type:t.type,sdp:i}))),a.apply(this,arguments)};let o=Object.getOwnPropertyDescriptor(e.RTCPeerConnection.prototype,"localDescription");Object.defineProperty(e.RTCPeerConnection.prototype,"localDescription",{get(){let e=o.get.apply(this);return""===e.type?e:r(this,e)}}),e.RTCPeerConnection.prototype.removeTrack=function(e){let t;if("closed"===this.signalingState)throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");if(!e._pc)throw new DOMException("Argument 1 of RTCPeerConnection.removeTrack does not implement interface RTCRtpSender.","TypeError");if(e._pc!==this)throw new DOMException("Sender was not created by this connection.","InvalidAccessError");this._streams=this._streams||{},Object.keys(this._streams).forEach(i=>{this._streams[i].getTracks().find(t=>e.track===t)&&(t=this._streams[i])}),t&&(1===t.getTracks().length?this.removeStream(this._reverseStreams[t.id]):t.removeTrack(e.track),this.dispatchEvent(new Event("negotiationneeded")))}}function em(e,t){!e.RTCPeerConnection&&e.webkitRTCPeerConnection&&(e.RTCPeerConnection=e.webkitRTCPeerConnection),e.RTCPeerConnection&&t.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(t){let i=e.RTCPeerConnection.prototype[t];e.RTCPeerConnection.prototype[t]=({[t](){return arguments[0]=new("addIceCandidate"===t?e.RTCIceCandidate:e.RTCSessionDescription)(arguments[0]),i.apply(this,arguments)}})[t]})}function ef(e,t){X(e,"negotiationneeded",e=>{let i=e.target;if(!(t.version<72)&&(!i.getConfiguration||"plan-b"!==i.getConfiguration().sdpSemantics)||"stable"===i.signalingState)return e})}function eg(e,t){let i=e&&e.navigator,n=e&&e.MediaStreamTrack;if(i.getUserMedia=function(e,t,n){ei("navigator.getUserMedia","navigator.mediaDevices.getUserMedia"),i.mediaDevices.getUserMedia(e).then(t,n)},!(t.version>55&&"autoGainControl"in i.mediaDevices.getSupportedConstraints())){let e=function(e,t,i){t in e&&!(i in e)&&(e[i]=e[t],delete e[t])},t=i.mediaDevices.getUserMedia.bind(i.mediaDevices);if(i.mediaDevices.getUserMedia=function(i){return"object"==typeof i&&"object"==typeof i.audio&&(e((i=JSON.parse(JSON.stringify(i))).audio,"autoGainControl","mozAutoGainControl"),e(i.audio,"noiseSuppression","mozNoiseSuppression")),t(i)},n&&n.prototype.getSettings){let t=n.prototype.getSettings;n.prototype.getSettings=function(){let i=t.apply(this,arguments);return e(i,"mozAutoGainControl","autoGainControl"),e(i,"mozNoiseSuppression","noiseSuppression"),i}}if(n&&n.prototype.applyConstraints){let t=n.prototype.applyConstraints;n.prototype.applyConstraints=function(i){return"audio"===this.kind&&"object"==typeof i&&(e(i=JSON.parse(JSON.stringify(i)),"autoGainControl","mozAutoGainControl"),e(i,"noiseSuppression","mozNoiseSuppression")),t.apply(this,[i])}}}}function ev(e,t){e.navigator.mediaDevices&&"getDisplayMedia"in e.navigator.mediaDevices||!e.navigator.mediaDevices||(e.navigator.mediaDevices.getDisplayMedia=function(i){if(!(i&&i.video)){let e=new DOMException("getDisplayMedia without video constraints is undefined");return e.name="NotFoundError",e.code=8,Promise.reject(e)}return!0===i.video?i.video={mediaSource:t}:i.video.mediaSource=t,e.navigator.mediaDevices.getUserMedia(i)})}function eb(e){"object"==typeof e&&e.RTCTrackEvent&&"receiver"in e.RTCTrackEvent.prototype&&!("transceiver"in e.RTCTrackEvent.prototype)&&Object.defineProperty(e.RTCTrackEvent.prototype,"transceiver",{get(){return{receiver:this.receiver}}})}function ey(e,t){if("object"!=typeof e||!(e.RTCPeerConnection||e.mozRTCPeerConnection))return;!e.RTCPeerConnection&&e.mozRTCPeerConnection&&(e.RTCPeerConnection=e.mozRTCPeerConnection),t.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(t){let i=e.RTCPeerConnection.prototype[t];e.RTCPeerConnection.prototype[t]=({[t](){return arguments[0]=new("addIceCandidate"===t?e.RTCIceCandidate:e.RTCSessionDescription)(arguments[0]),i.apply(this,arguments)}})[t]});let i={inboundrtp:"inbound-rtp",outboundrtp:"outbound-rtp",candidatepair:"candidate-pair",localcandidate:"local-candidate",remotecandidate:"remote-candidate"},n=e.RTCPeerConnection.prototype.getStats;e.RTCPeerConnection.prototype.getStats=function(){let[e,s,r]=arguments;return n.apply(this,[e||null]).then(e=>{if(t.version<53&&!s)try{e.forEach(e=>{e.type=i[e.type]||e.type})}catch(t){if("TypeError"!==t.name)throw t;e.forEach((t,n)=>{e.set(n,Object.assign({},t,{type:i[t.type]||t.type}))})}return e}).then(s,r)}}function ex(e){if(!("object"==typeof e&&e.RTCPeerConnection&&e.RTCRtpSender)||e.RTCRtpSender&&"getStats"in e.RTCRtpSender.prototype)return;let t=e.RTCPeerConnection.prototype.getSenders;t&&(e.RTCPeerConnection.prototype.getSenders=function(){let e=t.apply(this,[]);return e.forEach(e=>e._pc=this),e});let i=e.RTCPeerConnection.prototype.addTrack;i&&(e.RTCPeerConnection.prototype.addTrack=function(){let e=i.apply(this,arguments);return e._pc=this,e}),e.RTCRtpSender.prototype.getStats=function(){return this.track?this._pc.getStats(this.track):Promise.resolve(new Map)}}function e_(e){if(!("object"==typeof e&&e.RTCPeerConnection&&e.RTCRtpSender)||e.RTCRtpSender&&"getStats"in e.RTCRtpReceiver.prototype)return;let t=e.RTCPeerConnection.prototype.getReceivers;t&&(e.RTCPeerConnection.prototype.getReceivers=function(){let e=t.apply(this,[]);return e.forEach(e=>e._pc=this),e}),X(e,"track",e=>(e.receiver._pc=e.srcElement,e)),e.RTCRtpReceiver.prototype.getStats=function(){return this._pc.getStats(this.track)}}function ew(e){!e.RTCPeerConnection||"removeStream"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.removeStream=function(e){ei("removeStream","removeTrack"),this.getSenders().forEach(t=>{t.track&&e.getTracks().includes(t.track)&&this.removeTrack(t)})})}function eS(e){e.DataChannel&&!e.RTCDataChannel&&(e.RTCDataChannel=e.DataChannel)}function ek(e){if(!("object"==typeof e&&e.RTCPeerConnection))return;let t=e.RTCPeerConnection.prototype.addTransceiver;t&&(e.RTCPeerConnection.prototype.addTransceiver=function(){this.setParametersPromises=[];let e=arguments[1]&&arguments[1].sendEncodings;void 0===e&&(e=[]);let i=(e=[...e]).length>0;i&&e.forEach(e=>{if("rid"in e&&!/^[a-z0-9]{0,16}$/i.test(e.rid))throw TypeError("Invalid RID value provided.");if("scaleResolutionDownBy"in e&&!(parseFloat(e.scaleResolutionDownBy)>=1))throw RangeError("scale_resolution_down_by must be >= 1.0");if("maxFramerate"in e&&!(parseFloat(e.maxFramerate)>=0))throw RangeError("max_framerate must be >= 0.0")});let n=t.apply(this,arguments);if(i){let{sender:t}=n,i=t.getParameters();"encodings"in i&&(1!==i.encodings.length||0!==Object.keys(i.encodings[0]).length)||(i.encodings=e,t.sendEncodings=e,this.setParametersPromises.push(t.setParameters(i).then(()=>{delete t.sendEncodings}).catch(()=>{delete t.sendEncodings})))}return n})}function eE(e){if(!("object"==typeof e&&e.RTCRtpSender))return;let t=e.RTCRtpSender.prototype.getParameters;t&&(e.RTCRtpSender.prototype.getParameters=function(){let e=t.apply(this,arguments);return"encodings"in e||(e.encodings=[].concat(this.sendEncodings||[{}])),e})}function eT(e){if(!("object"==typeof e&&e.RTCPeerConnection))return;let t=e.RTCPeerConnection.prototype.createOffer;e.RTCPeerConnection.prototype.createOffer=function(){return this.setParametersPromises&&this.setParametersPromises.length?Promise.all(this.setParametersPromises).then(()=>t.apply(this,arguments)).finally(()=>{this.setParametersPromises=[]}):t.apply(this,arguments)}}function eC(e){if(!("object"==typeof e&&e.RTCPeerConnection))return;let t=e.RTCPeerConnection.prototype.createAnswer;e.RTCPeerConnection.prototype.createAnswer=function(){return this.setParametersPromises&&this.setParametersPromises.length?Promise.all(this.setParametersPromises).then(()=>t.apply(this,arguments)).finally(()=>{this.setParametersPromises=[]}):t.apply(this,arguments)}}function eR(e){if("object"==typeof e&&e.RTCPeerConnection){if("getLocalStreams"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.getLocalStreams=function(){return this._localStreams||(this._localStreams=[]),this._localStreams}),!("addStream"in e.RTCPeerConnection.prototype)){let t=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addStream=function(e){this._localStreams||(this._localStreams=[]),this._localStreams.includes(e)||this._localStreams.push(e),e.getAudioTracks().forEach(i=>t.call(this,i,e)),e.getVideoTracks().forEach(i=>t.call(this,i,e))},e.RTCPeerConnection.prototype.addTrack=function(e,...i){return i&&i.forEach(e=>{this._localStreams?this._localStreams.includes(e)||this._localStreams.push(e):this._localStreams=[e]}),t.apply(this,arguments)}}"removeStream"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.removeStream=function(e){this._localStreams||(this._localStreams=[]);let t=this._localStreams.indexOf(e);if(-1===t)return;this._localStreams.splice(t,1);let i=e.getTracks();this.getSenders().forEach(e=>{i.includes(e.track)&&this.removeTrack(e)})})}}function eO(e){if("object"==typeof e&&e.RTCPeerConnection&&("getRemoteStreams"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.getRemoteStreams=function(){return this._remoteStreams?this._remoteStreams:[]}),!("onaddstream"in e.RTCPeerConnection.prototype))){Object.defineProperty(e.RTCPeerConnection.prototype,"onaddstream",{get(){return this._onaddstream},set(e){this._onaddstream&&(this.removeEventListener("addstream",this._onaddstream),this.removeEventListener("track",this._onaddstreampoly)),this.addEventListener("addstream",this._onaddstream=e),this.addEventListener("track",this._onaddstreampoly=e=>{e.streams.forEach(e=>{if(this._remoteStreams||(this._remoteStreams=[]),this._remoteStreams.includes(e))return;this._remoteStreams.push(e);let t=new Event("addstream");t.stream=e,this.dispatchEvent(t)})})}});let t=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){let e=this;return this._onaddstreampoly||this.addEventListener("track",this._onaddstreampoly=function(t){t.streams.forEach(t=>{if(e._remoteStreams||(e._remoteStreams=[]),e._remoteStreams.indexOf(t)>=0)return;e._remoteStreams.push(t);let i=new Event("addstream");i.stream=t,e.dispatchEvent(i)})}),t.apply(e,arguments)}}}function eP(e){if("object"!=typeof e||!e.RTCPeerConnection)return;let t=e.RTCPeerConnection.prototype,i=t.createOffer,n=t.createAnswer,s=t.setLocalDescription,r=t.setRemoteDescription,a=t.addIceCandidate;t.createOffer=function(e,t){let n=arguments.length>=2?arguments[2]:arguments[0],s=i.apply(this,[n]);return t?(s.then(e,t),Promise.resolve()):s},t.createAnswer=function(e,t){let i=arguments.length>=2?arguments[2]:arguments[0],s=n.apply(this,[i]);return t?(s.then(e,t),Promise.resolve()):s};let o=function(e,t,i){let n=s.apply(this,[e]);return i?(n.then(t,i),Promise.resolve()):n};t.setLocalDescription=o,o=function(e,t,i){let n=r.apply(this,[e]);return i?(n.then(t,i),Promise.resolve()):n},t.setRemoteDescription=o,o=function(e,t,i){let n=a.apply(this,[e]);return i?(n.then(t,i),Promise.resolve()):n},t.addIceCandidate=o}function ej(e){let t=e&&e.navigator;if(t.mediaDevices&&t.mediaDevices.getUserMedia){let e=t.mediaDevices,i=e.getUserMedia.bind(e);t.mediaDevices.getUserMedia=e=>i(eI(e))}!t.getUserMedia&&t.mediaDevices&&t.mediaDevices.getUserMedia&&(t.getUserMedia=(function(e,i,n){t.mediaDevices.getUserMedia(e).then(i,n)}).bind(t))}function eI(e){return e&&void 0!==e.video?Object.assign({},e,{video:function e(t){return en(t)?Object.keys(t).reduce(function(i,n){let s=en(t[n]),r=s?e(t[n]):t[n],a=s&&!Object.keys(r).length;return void 0===r||a?i:Object.assign(i,{[n]:r})},{}):t}(e.video)}):e}function eN(e){if(!e.RTCPeerConnection)return;let t=e.RTCPeerConnection;e.RTCPeerConnection=function(e,i){if(e&&e.iceServers){let t=[];for(let i=0;i<e.iceServers.length;i++){let n=e.iceServers[i];void 0===n.urls&&n.url?(ei("RTCIceServer.url","RTCIceServer.urls"),(n=JSON.parse(JSON.stringify(n))).urls=n.url,delete n.url,t.push(n)):t.push(e.iceServers[i])}e.iceServers=t}return new t(e,i)},e.RTCPeerConnection.prototype=t.prototype,"generateCertificate"in t&&Object.defineProperty(e.RTCPeerConnection,"generateCertificate",{get:()=>t.generateCertificate})}function eD(e){"object"==typeof e&&e.RTCTrackEvent&&"receiver"in e.RTCTrackEvent.prototype&&!("transceiver"in e.RTCTrackEvent.prototype)&&Object.defineProperty(e.RTCTrackEvent.prototype,"transceiver",{get(){return{receiver:this.receiver}}})}function eA(e){let t=e.RTCPeerConnection.prototype.createOffer;e.RTCPeerConnection.prototype.createOffer=function(e){if(e){void 0!==e.offerToReceiveAudio&&(e.offerToReceiveAudio=!!e.offerToReceiveAudio);let t=this.getTransceivers().find(e=>"audio"===e.receiver.track.kind);!1===e.offerToReceiveAudio&&t?"sendrecv"===t.direction?t.setDirection?t.setDirection("sendonly"):t.direction="sendonly":"recvonly"===t.direction&&(t.setDirection?t.setDirection("inactive"):t.direction="inactive"):!0!==e.offerToReceiveAudio||t||this.addTransceiver("audio",{direction:"recvonly"}),void 0!==e.offerToReceiveVideo&&(e.offerToReceiveVideo=!!e.offerToReceiveVideo);let i=this.getTransceivers().find(e=>"video"===e.receiver.track.kind);!1===e.offerToReceiveVideo&&i?"sendrecv"===i.direction?i.setDirection?i.setDirection("sendonly"):i.direction="sendonly":"recvonly"===i.direction&&(i.setDirection?i.setDirection("inactive"):i.direction="inactive"):!0!==e.offerToReceiveVideo||i||this.addTransceiver("video",{direction:"recvonly"})}return t.apply(this,arguments)}}function eL(e){"object"!=typeof e||e.AudioContext||(e.AudioContext=e.webkitAudioContext)}var eM=i(2752),eU=i.n(eM);function eF(e){if(!e.RTCIceCandidate||e.RTCIceCandidate&&"foundation"in e.RTCIceCandidate.prototype)return;let t=e.RTCIceCandidate;e.RTCIceCandidate=function(e){if("object"==typeof e&&e.candidate&&0===e.candidate.indexOf("a=")&&((e=JSON.parse(JSON.stringify(e))).candidate=e.candidate.substring(2)),e.candidate&&e.candidate.length){let i=new t(e),n=eU().parseCandidate(e.candidate);for(let e in n)e in i||Object.defineProperty(i,e,{value:n[e]});return i.toJSON=function(){return{candidate:i.candidate,sdpMid:i.sdpMid,sdpMLineIndex:i.sdpMLineIndex,usernameFragment:i.usernameFragment}},i}return new t(e)},e.RTCIceCandidate.prototype=t.prototype,X(e,"icecandidate",t=>(t.candidate&&Object.defineProperty(t,"candidate",{value:new e.RTCIceCandidate(t.candidate),writable:"false"}),t))}function eB(e){!e.RTCIceCandidate||e.RTCIceCandidate&&"relayProtocol"in e.RTCIceCandidate.prototype||X(e,"icecandidate",e=>{if(e.candidate){let t=eU().parseCandidate(e.candidate.candidate);"relay"===t.type&&(e.candidate.relayProtocol=({0:"tls",1:"tcp",2:"udp"})[t.priority>>24])}return e})}function e$(e,t){if(!e.RTCPeerConnection)return;"sctp"in e.RTCPeerConnection.prototype||Object.defineProperty(e.RTCPeerConnection.prototype,"sctp",{get(){return void 0===this._sctp?null:this._sctp}});let i=function(e){if(!e||!e.sdp)return!1;let t=eU().splitSections(e.sdp);return t.shift(),t.some(e=>{let t=eU().parseMLine(e);return t&&"application"===t.kind&&-1!==t.protocol.indexOf("SCTP")})},n=function(e){let t=e.sdp.match(/mozilla...THIS_IS_SDPARTA-(\d+)/);if(null===t||t.length<2)return -1;let i=parseInt(t[1],10);return i!=i?-1:i},s=function(e){let i=65536;return"firefox"===t.browser&&(i=t.version<57?-1===e?16384:2147483637:t.version<60?57===t.version?65535:65536:2147483637),i},r=function(e,i){let n=65536;"firefox"===t.browser&&57===t.version&&(n=65535);let s=eU().matchPrefix(e.sdp,"a=max-message-size:");return s.length>0?n=parseInt(s[0].substring(19),10):"firefox"===t.browser&&-1!==i&&(n=2147483637),n},a=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){if(this._sctp=null,"chrome"===t.browser&&t.version>=76){let{sdpSemantics:e}=this.getConfiguration();"plan-b"===e&&Object.defineProperty(this,"sctp",{get(){return void 0===this._sctp?null:this._sctp},enumerable:!0,configurable:!0})}if(i(arguments[0])){let e;let t=n(arguments[0]),i=s(t),a=r(arguments[0],t);e=0===i&&0===a?Number.POSITIVE_INFINITY:0===i||0===a?Math.max(i,a):Math.min(i,a);let o={};Object.defineProperty(o,"maxMessageSize",{get:()=>e}),this._sctp=o}return a.apply(this,arguments)}}function eq(e){if(!(e.RTCPeerConnection&&"createDataChannel"in e.RTCPeerConnection.prototype))return;function t(e,t){let i=e.send;e.send=function(){let n=arguments[0],s=n.length||n.size||n.byteLength;if("open"===e.readyState&&t.sctp&&s>t.sctp.maxMessageSize)throw TypeError("Message too large (can send a maximum of "+t.sctp.maxMessageSize+" bytes)");return i.apply(e,arguments)}}let i=e.RTCPeerConnection.prototype.createDataChannel;e.RTCPeerConnection.prototype.createDataChannel=function(){let e=i.apply(this,arguments);return t(e,this),e},X(e,"datachannel",e=>(t(e.channel,e.target),e))}function eV(e){if(!e.RTCPeerConnection||"connectionState"in e.RTCPeerConnection.prototype)return;let t=e.RTCPeerConnection.prototype;Object.defineProperty(t,"connectionState",{get(){return({completed:"connected",checking:"connecting"})[this.iceConnectionState]||this.iceConnectionState},enumerable:!0,configurable:!0}),Object.defineProperty(t,"onconnectionstatechange",{get(){return this._onconnectionstatechange||null},set(e){this._onconnectionstatechange&&(this.removeEventListener("connectionstatechange",this._onconnectionstatechange),delete this._onconnectionstatechange),e&&this.addEventListener("connectionstatechange",this._onconnectionstatechange=e)},enumerable:!0,configurable:!0}),["setLocalDescription","setRemoteDescription"].forEach(e=>{let i=t[e];t[e]=function(){return this._connectionstatechangepoly||(this._connectionstatechangepoly=e=>{let t=e.target;if(t._lastConnectionState!==t.connectionState){t._lastConnectionState=t.connectionState;let i=new Event("connectionstatechange",e);t.dispatchEvent(i)}return e},this.addEventListener("iceconnectionstatechange",this._connectionstatechangepoly)),i.apply(this,arguments)}})}function eW(e,t){if(!e.RTCPeerConnection||"chrome"===t.browser&&t.version>=71||"safari"===t.browser&&t.version>=605)return;let i=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(t){if(t&&t.sdp&&-1!==t.sdp.indexOf("\na=extmap-allow-mixed")){let i=t.sdp.split("\n").filter(e=>"a=extmap-allow-mixed"!==e.trim()).join("\n");e.RTCSessionDescription&&t instanceof e.RTCSessionDescription?arguments[0]=new e.RTCSessionDescription({type:t.type,sdp:i}):t.sdp=i}return i.apply(this,arguments)}}function ez(e,t){if(!(e.RTCPeerConnection&&e.RTCPeerConnection.prototype))return;let i=e.RTCPeerConnection.prototype.addIceCandidate;i&&0!==i.length&&(e.RTCPeerConnection.prototype.addIceCandidate=function(){return arguments[0]?("chrome"===t.browser&&t.version<78||"firefox"===t.browser&&t.version<68||"safari"===t.browser)&&arguments[0]&&""===arguments[0].candidate?Promise.resolve():i.apply(this,arguments):(arguments[1]&&arguments[1].apply(null),Promise.resolve())})}function eH(e,t){if(!(e.RTCPeerConnection&&e.RTCPeerConnection.prototype))return;let i=e.RTCPeerConnection.prototype.setLocalDescription;i&&0!==i.length&&(e.RTCPeerConnection.prototype.setLocalDescription=function(){let e=arguments[0]||{};if("object"!=typeof e||e.type&&e.sdp)return i.apply(this,arguments);if(!(e={type:e.type,sdp:e.sdp}).type)switch(this.signalingState){case"stable":case"have-local-offer":case"have-remote-pranswer":e.type="offer";break;default:e.type="answer"}return e.sdp||"offer"!==e.type&&"answer"!==e.type?i.apply(this,[e]):("offer"===e.type?this.createOffer:this.createAnswer).apply(this).then(e=>i.apply(this,[e]))})}!function({window:e}={},t={shimChrome:!0,shimFirefox:!0,shimSafari:!0}){let i=function(e){let t={browser:null,version:null};if(void 0===e||!e.navigator||!e.navigator.userAgent)return t.browser="Not a browser.",t;let{navigator:i}=e;return i.mozGetUserMedia?(t.browser="firefox",t.version=Q(i.userAgent,/Firefox\/(\d+)\./,1)):i.webkitGetUserMedia||!1===e.isSecureContext&&e.webkitRTCPeerConnection?(t.browser="chrome",t.version=Q(i.userAgent,/Chrom(e|ium)\/(\d+)\./,2)):e.RTCPeerConnection&&i.userAgent.match(/AppleWebKit\/(\d+)\./)?(t.browser="safari",t.version=Q(i.userAgent,/AppleWebKit\/(\d+)\./,1),t.supportsUnifiedPlan=e.RTCRtpTransceiver&&"currentDirection"in e.RTCRtpTransceiver.prototype):t.browser="Not a supported browser.",t}(e),n={browserDetails:i,commonShim:K,extractVersion:Q,disableLog:Z,disableWarnings:ee,sdp:eM};switch(i.browser){case"chrome":if(!W||!em||!t.shimChrome){et("Chrome shim is not included in this adapter release.");break}if(null===i.version){et("Chrome shim can not determine version, not shimming.");break}et("adapter.js shimming chrome."),n.browserShim=W,ez(e,i),eH(e,i),er(e,i),eo(e,i),em(e,i),el(e,i),eh(e,i),ec(e,i),ed(e,i),eu(e,i),ef(e,i),eF(e,i),eB(e,i),eV(e,i),e$(e,i),eq(e,i),eW(e,i);break;case"firefox":if(!z||!ey||!t.shimFirefox){et("Firefox shim is not included in this adapter release.");break}et("adapter.js shimming firefox."),n.browserShim=z,ez(e,i),eH(e,i),eg(e,i),ey(e,i),eb(e,i),ew(e,i),ex(e,i),e_(e,i),eS(e,i),ek(e,i),eE(e,i),eT(e,i),eC(e,i),eF(e,i),eV(e,i),e$(e,i),eq(e,i);break;case"safari":if(!H||!t.shimSafari){et("Safari shim is not included in this adapter release.");break}et("adapter.js shimming safari."),n.browserShim=H,ez(e,i),eH(e,i),eN(e,i),eA(e,i),eP(e,i),eR(e,i),eO(e,i),eD(e,i),ej(e,i),eL(e,i),eF(e,i),eB(e,i),e$(e,i),eq(e,i),eW(e,i);break;default:et("Unsupported browser!")}}({window:"undefined"==typeof window?void 0:window});let eK=Symbol.for("protobuf-ts/message-type");function eG(e){let t=!1,i=[];for(let n=0;n<e.length;n++){let s=e.charAt(n);"_"==s?t=!0:/\d/.test(s)?(i.push(s),t=!0):t?(i.push(s.toUpperCase()),t=!1):0==n?i.push(s.toLowerCase()):i.push(s)}return i.join("")}function eJ(e){var t,i,n,s;return e.localName=null!==(t=e.localName)&&void 0!==t?t:eG(e.name),e.jsonName=null!==(i=e.jsonName)&&void 0!==i?i:eG(e.name),e.repeat=null!==(n=e.repeat)&&void 0!==n?n:x.NO,e.opt=null!==(s=e.opt)&&void 0!==s?s:!e.repeat&&!e.oneof&&"message"==e.kind,e}(function(e){e[e.DOUBLE=1]="DOUBLE",e[e.FLOAT=2]="FLOAT",e[e.INT64=3]="INT64",e[e.UINT64=4]="UINT64",e[e.INT32=5]="INT32",e[e.FIXED64=6]="FIXED64",e[e.FIXED32=7]="FIXED32",e[e.BOOL=8]="BOOL",e[e.STRING=9]="STRING",e[e.BYTES=12]="BYTES",e[e.UINT32=13]="UINT32",e[e.SFIXED32=15]="SFIXED32",e[e.SFIXED64=16]="SFIXED64",e[e.SINT32=17]="SINT32",e[e.SINT64=18]="SINT64"})(b||(b={})),function(e){e[e.BIGINT=0]="BIGINT",e[e.STRING=1]="STRING",e[e.NUMBER=2]="NUMBER"}(y||(y={})),function(e){e[e.NO=0]="NO",e[e.PACKED=1]="PACKED",e[e.UNPACKED=2]="UNPACKED"}(x||(x={}));class eY{constructor(e){var t;this.fields=null!==(t=e.fields)&&void 0!==t?t:[]}prepare(){if(this.data)return;let e=[],t=[],i=[];for(let n of this.fields)if(n.oneof)i.includes(n.oneof)||(i.push(n.oneof),e.push(n.oneof),t.push(n.oneof));else switch(t.push(n.localName),n.kind){case"scalar":case"enum":(!n.opt||n.repeat)&&e.push(n.localName);break;case"message":n.repeat&&e.push(n.localName);break;case"map":e.push(n.localName)}this.data={req:e,known:t,oneofs:Object.values(i)}}is(e,t,i=!1){if(t<0)return!0;if(null==e||"object"!=typeof e)return!1;this.prepare();let n=Object.keys(e),s=this.data;if(n.length<s.req.length||s.req.some(e=>!n.includes(e))||!i&&n.some(e=>!s.known.includes(e)))return!1;if(t<1)return!0;for(let n of s.oneofs){let s=e[n];if(!function(e){if("object"!=typeof e||null===e||!e.hasOwnProperty("oneofKind"))return!1;switch(typeof e.oneofKind){case"string":if(void 0===e[e.oneofKind])return!1;return 2==Object.keys(e).length;case"undefined":return 1==Object.keys(e).length;default:return!1}}(s))return!1;if(void 0===s.oneofKind)continue;let r=this.fields.find(e=>e.localName===s.oneofKind);if(!r||!this.field(s[s.oneofKind],r,i,t))return!1}for(let n of this.fields)if(void 0===n.oneof&&!this.field(e[n.localName],n,i,t))return!1;return!0}field(e,t,i,n){let s=t.repeat;switch(t.kind){case"scalar":if(void 0===e)return t.opt;if(s)return this.scalars(e,t.T,n,t.L);return this.scalar(e,t.T,t.L);case"enum":if(void 0===e)return t.opt;if(s)return this.scalars(e,b.INT32,n);return this.scalar(e,b.INT32);case"message":if(void 0===e)break;if(s)return this.messages(e,t.T(),i,n);return this.message(e,t.T(),i,n);case"map":if("object"!=typeof e||null===e)return!1;if(n<2)break;if(!this.mapKeys(e,t.K,n))return!1;switch(t.V.kind){case"scalar":return this.scalars(Object.values(e),t.V.T,n,t.V.L);case"enum":return this.scalars(Object.values(e),b.INT32,n);case"message":return this.messages(Object.values(e),t.V.T(),i,n)}}return!0}message(e,t,i,n){return i?t.isAssignable(e,n):t.is(e,n)}messages(e,t,i,n){if(!Array.isArray(e))return!1;if(n<2)return!0;if(i){for(let i=0;i<e.length&&i<n;i++)if(!t.isAssignable(e[i],n-1))return!1}else for(let i=0;i<e.length&&i<n;i++)if(!t.is(e[i],n-1))return!1;return!0}scalar(e,t,i){let n=typeof e;switch(t){case b.UINT64:case b.FIXED64:case b.INT64:case b.SFIXED64:case b.SINT64:switch(i){case y.BIGINT:return"bigint"==n;case y.NUMBER:return"number"==n&&!isNaN(e);default:return"string"==n}case b.BOOL:return"boolean"==n;case b.STRING:return"string"==n;case b.BYTES:return e instanceof Uint8Array;case b.DOUBLE:case b.FLOAT:return"number"==n&&!isNaN(e);default:return"number"==n&&Number.isInteger(e)}}scalars(e,t,i,n){if(!Array.isArray(e))return!1;if(i<2)return!0;if(Array.isArray(e)){for(let s=0;s<e.length&&s<i;s++)if(!this.scalar(e[s],t,n))return!1}return!0}mapKeys(e,t,i){let n=Object.keys(e);switch(t){case b.INT32:case b.FIXED32:case b.SFIXED32:case b.SINT32:case b.UINT32:return this.scalars(n.slice(0,i).map(e=>parseInt(e)),t,i);case b.BOOL:return this.scalars(n.slice(0,i).map(e=>"true"==e||"false"!=e&&e),t,i);default:return this.scalars(n,t,i,y.STRING)}}}function eQ(e){let t=typeof e;if("object"==t){if(Array.isArray(e))return"array";if(null===e)return"null"}return t}function eX(e){return null!==e&&"object"==typeof e&&!Array.isArray(e)}let eZ="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split(""),e0=[];for(let e=0;e<eZ.length;e++)e0[eZ[e].charCodeAt(0)]=e;function e1(){let e=0,t=0;for(let i=0;i<28;i+=7){let n=this.buf[this.pos++];if(e|=(127&n)<<i,(128&n)==0)return this.assertBounds(),[e,t]}let i=this.buf[this.pos++];if(e|=(15&i)<<28,t=(112&i)>>4,(128&i)==0)return this.assertBounds(),[e,t];for(let i=3;i<=31;i+=7){let n=this.buf[this.pos++];if(t|=(127&n)<<i,(128&n)==0)return this.assertBounds(),[e,t]}throw Error("invalid varint")}function e2(e,t,i){for(let n=0;n<28;n+=7){let s=e>>>n,r=!(s>>>7==0&&0==t),a=(r?128|s:s)&255;if(i.push(a),!r)return}let n=e>>>28&15|(7&t)<<4,s=t>>3!=0;if(i.push((s?128|n:n)&255),s){for(let e=3;e<31;e+=7){let n=t>>>e,s=n>>>7!=0,r=(s?128|n:n)&255;if(i.push(r),!s)return}i.push(t>>>31&1)}}function e3(e){let t="-"==e[0];t&&(e=e.slice(1));let i=0,n=0;function s(t,s){let r=Number(e.slice(t,s));n*=1e6,(i=1e6*i+r)>=4294967296&&(n+=i/4294967296|0,i%=4294967296)}return s(-24,-18),s(-18,-12),s(-12,-6),s(-6),[t,i,n]}function e4(e,t){if(t>>>0<=2097151)return""+(4294967296*t+(e>>>0));let i=(e>>>24|t<<8)>>>0&16777215,n=t>>16&65535,s=(16777215&e)+6777216*i+6710656*n,r=i+8147497*n,a=2*n;function o(e,t){let i=e?String(e):"";return t?"0000000".slice(i.length)+i:i}return s>=1e7&&(r+=Math.floor(s/1e7),s%=1e7),r>=1e7&&(a+=Math.floor(r/1e7),r%=1e7),o(a,0)+o(r,a)+o(s,1)}function e5(e,t){if(e>=0){for(;e>127;)t.push(127&e|128),e>>>=7;t.push(e)}else{for(let i=0;i<9;i++)t.push(127&e|128),e>>=7;t.push(1)}}function e6(){let e=this.buf[this.pos++],t=127&e;if((128&e)==0||(t|=(127&(e=this.buf[this.pos++]))<<7,(128&e)==0)||(t|=(127&(e=this.buf[this.pos++]))<<14,(128&e)==0)||(t|=(127&(e=this.buf[this.pos++]))<<21,(128&e)==0))return this.assertBounds(),t;t|=(15&(e=this.buf[this.pos++]))<<28;for(let t=5;(128&e)!=0&&t<10;t++)e=this.buf[this.pos++];if((128&e)!=0)throw Error("invalid varint");return this.assertBounds(),t>>>0}function e8(e){if(!e)throw Error("BigInt unavailable, see https://github.com/timostamm/protobuf-ts/blob/v1.0.8/MANUAL.md#bigint-support")}e0["-".charCodeAt(0)]=eZ.indexOf("+"),e0["_".charCodeAt(0)]=eZ.indexOf("/"),function(){let e=new DataView(new ArrayBuffer(8));n=void 0!==globalThis.BigInt&&"function"==typeof e.getBigInt64&&"function"==typeof e.getBigUint64&&"function"==typeof e.setBigInt64&&"function"==typeof e.setBigUint64?{MIN:BigInt("-9223372036854775808"),MAX:BigInt("9223372036854775807"),UMIN:BigInt("0"),UMAX:BigInt("18446744073709551615"),C:BigInt,V:e}:void 0}();let e9=/^-?[0-9]+$/;class e7{constructor(e,t){this.lo=0|e,this.hi=0|t}isZero(){return 0==this.lo&&0==this.hi}toNumber(){let e=4294967296*this.hi+(this.lo>>>0);if(!Number.isSafeInteger(e))throw Error("cannot convert to safe number");return e}}class te extends e7{static from(e){if(n)switch(typeof e){case"string":if("0"==e)return this.ZERO;if(""==e)throw Error("string is no integer");e=n.C(e);case"number":if(0===e)return this.ZERO;e=n.C(e);case"bigint":if(!e)return this.ZERO;if(e<n.UMIN)throw Error("signed value for ulong");if(e>n.UMAX)throw Error("ulong too large");return n.V.setBigUint64(0,e,!0),new te(n.V.getInt32(0,!0),n.V.getInt32(4,!0))}else switch(typeof e){case"string":if("0"==e)return this.ZERO;if(e=e.trim(),!e9.test(e))throw Error("string is no integer");let[t,i,s]=e3(e);if(t)throw Error("signed value for ulong");return new te(i,s);case"number":if(0==e)return this.ZERO;if(!Number.isSafeInteger(e))throw Error("number is no integer");if(e<0)throw Error("signed value for ulong");return new te(e,e/4294967296)}throw Error("unknown value "+typeof e)}toString(){return n?this.toBigInt().toString():e4(this.lo,this.hi)}toBigInt(){return e8(n),n.V.setInt32(0,this.lo,!0),n.V.setInt32(4,this.hi,!0),n.V.getBigUint64(0,!0)}}te.ZERO=new te(0,0);class tt extends e7{static from(e){if(n)switch(typeof e){case"string":if("0"==e)return this.ZERO;if(""==e)throw Error("string is no integer");e=n.C(e);case"number":if(0===e)return this.ZERO;e=n.C(e);case"bigint":if(!e)return this.ZERO;if(e<n.MIN)throw Error("signed long too small");if(e>n.MAX)throw Error("signed long too large");return n.V.setBigInt64(0,e,!0),new tt(n.V.getInt32(0,!0),n.V.getInt32(4,!0))}else switch(typeof e){case"string":if("0"==e)return this.ZERO;if(e=e.trim(),!e9.test(e))throw Error("string is no integer");let[t,i,s]=e3(e);if(t){if(s>2147483648||2147483648==s&&0!=i)throw Error("signed long too small")}else if(s>=2147483648)throw Error("signed long too large");let r=new tt(i,s);return t?r.negate():r;case"number":if(0==e)return this.ZERO;if(!Number.isSafeInteger(e))throw Error("number is no integer");return e>0?new tt(e,e/4294967296):new tt(-e,-e/4294967296).negate()}throw Error("unknown value "+typeof e)}isNegative(){return(2147483648&this.hi)!=0}negate(){let e=~this.hi,t=this.lo;return t?t=~t+1:e+=1,new tt(t,e)}toString(){if(n)return this.toBigInt().toString();if(this.isNegative()){let e=this.negate();return"-"+e4(e.lo,e.hi)}return e4(this.lo,this.hi)}toBigInt(){return e8(n),n.V.setInt32(0,this.lo,!0),n.V.setInt32(4,this.hi,!0),n.V.getBigInt64(0,!0)}}function ti(e,t){if(!e)throw Error(t)}function tn(e){if("number"!=typeof e)throw Error("invalid int 32: "+typeof e);if(!Number.isInteger(e)||e>2147483647||e<-2147483648)throw Error("invalid int 32: "+e)}function ts(e){if("number"!=typeof e)throw Error("invalid uint 32: "+typeof e);if(!Number.isInteger(e)||e>4294967295||e<0)throw Error("invalid uint 32: "+e)}function tr(e){if("number"!=typeof e)throw Error("invalid float 32: "+typeof e);if(Number.isFinite(e)&&(e>34028234663852886e22||e<-34028234663852886e22))throw Error("invalid float 32: "+e)}function ta(e,t){switch(t){case y.BIGINT:return e.toBigInt();case y.NUMBER:return e.toNumber();default:return e.toString()}}tt.ZERO=new tt(0,0);class to{constructor(e){this.info=e}prepare(){var e;if(void 0===this.fMap)for(let t of(this.fMap={},null!==(e=this.info.fields)&&void 0!==e?e:[]))this.fMap[t.name]=t,this.fMap[t.jsonName]=t,this.fMap[t.localName]=t}assert(e,t,i){if(!e){let e=eQ(i);throw("number"==e||"boolean"==e)&&(e=i.toString()),Error(`Cannot parse JSON ${e} for ${this.info.typeName}#${t}`)}}read(e,t,i){this.prepare();let n=[];for(let[s,r]of Object.entries(e)){let e;let a=this.fMap[s];if(!a){if(!i.ignoreUnknownFields)throw Error(`Found unknown field while reading ${this.info.typeName} from JSON format. JSON key: ${s}`);continue}let o=a.localName;if(a.oneof){if(null===r&&("enum"!==a.kind||"google.protobuf.NullValue"!==a.T()[0]))continue;if(n.includes(a.oneof))throw Error(`Multiple members of the oneof group "${a.oneof}" of ${this.info.typeName} are present in JSON.`);n.push(a.oneof),e=t[a.oneof]={oneofKind:o}}else e=t;if("map"==a.kind){if(null===r)continue;this.assert(eX(r),a.name,r);let t=e[o];for(let[e,n]of Object.entries(r)){let s;switch(this.assert(null!==n,a.name+" map value",null),a.V.kind){case"message":s=a.V.T().internalJsonRead(n,i);break;case"enum":if(!1===(s=this.enum(a.V.T(),n,a.name,i.ignoreUnknownFields)))continue;break;case"scalar":s=this.scalar(n,a.V.T,a.V.L,a.name)}this.assert(void 0!==s,a.name+" map value",n);let r=e;a.K==b.BOOL&&(r="true"==r||"false"!=r&&r),t[r=this.scalar(r,a.K,y.STRING,a.name).toString()]=s}}else if(a.repeat){if(null===r)continue;this.assert(Array.isArray(r),a.name,r);let t=e[o];for(let e of r){let n;switch(this.assert(null!==e,a.name,null),a.kind){case"message":n=a.T().internalJsonRead(e,i);break;case"enum":if(!1===(n=this.enum(a.T(),e,a.name,i.ignoreUnknownFields)))continue;break;case"scalar":n=this.scalar(e,a.T,a.L,a.name)}this.assert(void 0!==n,a.name,r),t.push(n)}}else switch(a.kind){case"message":if(null===r&&"google.protobuf.Value"!=a.T().typeName){this.assert(void 0===a.oneof,a.name+" (oneof member)",null);continue}e[o]=a.T().internalJsonRead(r,i,e[o]);break;case"enum":let l=this.enum(a.T(),r,a.name,i.ignoreUnknownFields);if(!1===l)continue;e[o]=l;break;case"scalar":e[o]=this.scalar(r,a.T,a.L,a.name)}}}enum(e,t,i,n){if("google.protobuf.NullValue"==e[0]&&ti(null===t||"NULL_VALUE"===t,`Unable to parse field ${this.info.typeName}#${i}, enum ${e[0]} only accepts null.`),null===t)return 0;switch(typeof t){case"number":return ti(Number.isInteger(t),`Unable to parse field ${this.info.typeName}#${i}, enum can only be integral number, got ${t}.`),t;case"string":let s=t;e[2]&&t.substring(0,e[2].length)===e[2]&&(s=t.substring(e[2].length));let r=e[1][s];if(void 0===r&&n)return!1;return ti("number"==typeof r,`Unable to parse field ${this.info.typeName}#${i}, enum ${e[0]} has no value for "${t}".`),r}ti(!1,`Unable to parse field ${this.info.typeName}#${i}, cannot parse enum value from ${typeof t}".`)}scalar(e,t,i,n){let s;try{switch(t){case b.DOUBLE:case b.FLOAT:if(null===e)return 0;if("NaN"===e)return Number.NaN;if("Infinity"===e)return Number.POSITIVE_INFINITY;if("-Infinity"===e)return Number.NEGATIVE_INFINITY;if(""===e){s="empty string";break}if("string"==typeof e&&e.trim().length!==e.length){s="extra whitespace";break}if("string"!=typeof e&&"number"!=typeof e)break;let n=Number(e);if(Number.isNaN(n)){s="not a number";break}if(!Number.isFinite(n)){s="too large or small";break}return t==b.FLOAT&&tr(n),n;case b.INT32:case b.FIXED32:case b.SFIXED32:case b.SINT32:case b.UINT32:let r;if(null===e)return 0;if("number"==typeof e?r=e:""===e?s="empty string":"string"==typeof e&&(e.trim().length!==e.length?s="extra whitespace":r=Number(e)),void 0===r)break;return t==b.UINT32?ts(r):tn(r),r;case b.INT64:case b.SFIXED64:case b.SINT64:if(null===e)return ta(tt.ZERO,i);if("number"!=typeof e&&"string"!=typeof e)break;return ta(tt.from(e),i);case b.FIXED64:case b.UINT64:if(null===e)return ta(te.ZERO,i);if("number"!=typeof e&&"string"!=typeof e)break;return ta(te.from(e),i);case b.BOOL:if(null===e)return!1;if("boolean"!=typeof e)break;return e;case b.STRING:if(null===e)return"";if("string"!=typeof e){s="extra whitespace";break}try{encodeURIComponent(e)}catch(e){break}return e;case b.BYTES:if(null===e||""===e)return new Uint8Array(0);if("string"!=typeof e)break;return function(e){let t=3*e.length/4;"="==e[e.length-2]?t-=2:"="==e[e.length-1]&&(t-=1);let i=new Uint8Array(t),n=0,s=0,r,a=0;for(let t=0;t<e.length;t++){if(void 0===(r=e0[e.charCodeAt(t)]))switch(e[t]){case"=":s=0;case"\n":case"\r":case"	":case" ":continue;default:throw Error("invalid base64 string.")}switch(s){case 0:a=r,s=1;break;case 1:i[n++]=a<<2|(48&r)>>4,a=r,s=2;break;case 2:i[n++]=(15&a)<<4|(60&r)>>2,a=r,s=3;break;case 3:i[n++]=(3&a)<<6|r,s=0}}if(1==s)throw Error("invalid base64 string.");return i.subarray(0,n)}(e)}}catch(e){s=e.message}this.assert(!1,n+(s?" - "+s:""),e)}}class tl{constructor(e){var t;this.fields=null!==(t=e.fields)&&void 0!==t?t:[]}write(e,t){let i={};for(let n of this.fields){if(!n.oneof){let s=this.field(n,e[n.localName],t);void 0!==s&&(i[t.useProtoFieldName?n.name:n.jsonName]=s);continue}let s=e[n.oneof];if(s.oneofKind!==n.localName)continue;let r="scalar"==n.kind||"enum"==n.kind?Object.assign(Object.assign({},t),{emitDefaultValues:!0}):t,a=this.field(n,s[n.localName],r);ti(void 0!==a),i[t.useProtoFieldName?n.name:n.jsonName]=a}return i}field(e,t,i){let n;if("map"==e.kind){ti("object"==typeof t&&null!==t);let s={};switch(e.V.kind){case"scalar":for(let[i,n]of Object.entries(t)){let t=this.scalar(e.V.T,n,e.name,!1,!0);ti(void 0!==t),s[i.toString()]=t}break;case"message":let r=e.V.T();for(let[n,a]of Object.entries(t)){let t=this.message(r,a,e.name,i);ti(void 0!==t),s[n.toString()]=t}break;case"enum":let a=e.V.T();for(let[n,r]of Object.entries(t)){ti(void 0===r||"number"==typeof r);let t=this.enum(a,r,e.name,!1,!0,i.enumAsInteger);ti(void 0!==t),s[n.toString()]=t}}(i.emitDefaultValues||Object.keys(s).length>0)&&(n=s)}else if(e.repeat){ti(Array.isArray(t));let s=[];switch(e.kind){case"scalar":for(let i=0;i<t.length;i++){let n=this.scalar(e.T,t[i],e.name,e.opt,!0);ti(void 0!==n),s.push(n)}break;case"enum":let r=e.T();for(let n=0;n<t.length;n++){ti(void 0===t[n]||"number"==typeof t[n]);let a=this.enum(r,t[n],e.name,e.opt,!0,i.enumAsInteger);ti(void 0!==a),s.push(a)}break;case"message":let a=e.T();for(let n=0;n<t.length;n++){let r=this.message(a,t[n],e.name,i);ti(void 0!==r),s.push(r)}}(i.emitDefaultValues||s.length>0||i.emitDefaultValues)&&(n=s)}else switch(e.kind){case"scalar":n=this.scalar(e.T,t,e.name,e.opt,i.emitDefaultValues);break;case"enum":n=this.enum(e.T(),t,e.name,e.opt,i.emitDefaultValues,i.enumAsInteger);break;case"message":n=this.message(e.T(),t,e.name,i)}return n}enum(e,t,i,n,s,r){if("google.protobuf.NullValue"==e[0])return s||n?null:void 0;if(void 0===t){ti(n);return}if(0!==t||s||n)return(ti("number"==typeof t),ti(Number.isInteger(t)),r||!e[1].hasOwnProperty(t))?t:e[2]?e[2]+e[1][t]:e[1][t]}message(e,t,i,n){return void 0===t?n.emitDefaultValues?null:void 0:e.internalJsonWrite(t,n)}scalar(e,t,i,n,s){if(void 0===t){ti(n);return}let r=s||n;switch(e){case b.INT32:case b.SFIXED32:case b.SINT32:if(0===t)return r?0:void 0;return tn(t),t;case b.FIXED32:case b.UINT32:if(0===t)return r?0:void 0;return ts(t),t;case b.FLOAT:tr(t);case b.DOUBLE:if(0===t)return r?0:void 0;if(ti("number"==typeof t),Number.isNaN(t))return"NaN";if(t===Number.POSITIVE_INFINITY)return"Infinity";if(t===Number.NEGATIVE_INFINITY)return"-Infinity";return t;case b.STRING:if(""===t)return r?"":void 0;return ti("string"==typeof t),t;case b.BOOL:if(!1===t)return!r&&void 0;return ti("boolean"==typeof t),t;case b.UINT64:case b.FIXED64:ti("number"==typeof t||"string"==typeof t||"bigint"==typeof t);let a=te.from(t);if(a.isZero()&&!r)return;return a.toString();case b.INT64:case b.SFIXED64:case b.SINT64:ti("number"==typeof t||"string"==typeof t||"bigint"==typeof t);let o=tt.from(t);if(o.isZero()&&!r)return;return o.toString();case b.BYTES:if(ti(t instanceof Uint8Array),!t.byteLength)return r?"":void 0;return function(e){let t="",i=0,n,s=0;for(let r=0;r<e.length;r++)switch(n=e[r],i){case 0:t+=eZ[n>>2],s=(3&n)<<4,i=1;break;case 1:t+=eZ[s|n>>4],s=(15&n)<<2,i=2;break;case 2:t+=eZ[s|n>>6]+eZ[63&n],i=0}return i&&(t+=eZ[s]+"=",1==i&&(t+="=")),t}(t)}}}function tc(e,t=y.STRING){switch(e){case b.BOOL:return!1;case b.UINT64:case b.FIXED64:return ta(te.ZERO,t);case b.INT64:case b.SFIXED64:case b.SINT64:return ta(tt.ZERO,t);case b.DOUBLE:case b.FLOAT:return 0;case b.BYTES:return new Uint8Array(0);case b.STRING:return"";default:return 0}}(function(e){e.symbol=Symbol.for("protobuf-ts/unknown"),e.onRead=(i,n,s,r,a)=>{(t(n)?n[e.symbol]:n[e.symbol]=[]).push({no:s,wireType:r,data:a})},e.onWrite=(t,i,n)=>{for(let{no:t,wireType:s,data:r}of e.list(i))n.tag(t,s).raw(r)},e.list=(i,n)=>{if(t(i)){let t=i[e.symbol];return n?t.filter(e=>e.no==n):t}return[]},e.last=(t,i)=>e.list(t,i).slice(-1)[0];let t=t=>t&&Array.isArray(t[e.symbol])})(_||(_={})),function(e){e[e.Varint=0]="Varint",e[e.Bit64=1]="Bit64",e[e.LengthDelimited=2]="LengthDelimited",e[e.StartGroup=3]="StartGroup",e[e.EndGroup=4]="EndGroup",e[e.Bit32=5]="Bit32"}(w||(w={}));class td{constructor(e){this.info=e}prepare(){var e;if(!this.fieldNoToField){let t=null!==(e=this.info.fields)&&void 0!==e?e:[];this.fieldNoToField=new Map(t.map(e=>[e.no,e]))}}read(e,t,i,n){this.prepare();let s=void 0===n?e.len:e.pos+n;for(;e.pos<s;){let[n,s]=e.tag(),r=this.fieldNoToField.get(n);if(!r){let r=i.readUnknownField;if("throw"==r)throw Error(`Unknown field ${n} (wire type ${s}) for ${this.info.typeName}`);let a=e.skip(s);!1!==r&&(!0===r?_.onRead:r)(this.info.typeName,t,n,s,a);continue}let a=t,o=r.repeat,l=r.localName;switch(r.oneof&&(a=a[r.oneof]).oneofKind!==l&&(a=t[r.oneof]={oneofKind:l}),r.kind){case"scalar":case"enum":let c="enum"==r.kind?b.INT32:r.T,d="scalar"==r.kind?r.L:void 0;if(o){let t=a[l];if(s==w.LengthDelimited&&c!=b.STRING&&c!=b.BYTES){let i=e.uint32()+e.pos;for(;e.pos<i;)t.push(this.scalar(e,c,d))}else t.push(this.scalar(e,c,d))}else a[l]=this.scalar(e,c,d);break;case"message":if(o){let t=a[l],n=r.T().internalBinaryRead(e,e.uint32(),i);t.push(n)}else a[l]=r.T().internalBinaryRead(e,e.uint32(),i,a[l]);break;case"map":let[u,p]=this.mapEntry(r,e,i);a[l][u]=p}}}mapEntry(e,t,i){let n,s,r=t.uint32(),a=t.pos+r;for(;t.pos<a;){let[r,a]=t.tag();switch(r){case 1:n=e.K==b.BOOL?t.bool().toString():this.scalar(t,e.K,y.STRING);break;case 2:switch(e.V.kind){case"scalar":s=this.scalar(t,e.V.T,e.V.L);break;case"enum":s=t.int32();break;case"message":s=e.V.T().internalBinaryRead(t,t.uint32(),i)}break;default:throw Error(`Unknown field ${r} (wire type ${a}) in map entry for ${this.info.typeName}#${e.name}`)}}if(void 0===n){let t=tc(e.K);n=e.K==b.BOOL?t.toString():t}if(void 0===s)switch(e.V.kind){case"scalar":s=tc(e.V.T,e.V.L);break;case"enum":s=0;break;case"message":s=e.V.T().create()}return[n,s]}scalar(e,t,i){switch(t){case b.INT32:return e.int32();case b.STRING:return e.string();case b.BOOL:return e.bool();case b.DOUBLE:return e.double();case b.FLOAT:return e.float();case b.INT64:return ta(e.int64(),i);case b.UINT64:return ta(e.uint64(),i);case b.FIXED64:return ta(e.fixed64(),i);case b.FIXED32:return e.fixed32();case b.BYTES:return e.bytes();case b.UINT32:return e.uint32();case b.SFIXED32:return e.sfixed32();case b.SFIXED64:return ta(e.sfixed64(),i);case b.SINT32:return e.sint32();case b.SINT64:return ta(e.sint64(),i)}}}class tu{constructor(e){this.info=e}prepare(){if(!this.fields){let e=this.info.fields?this.info.fields.concat():[];this.fields=e.sort((e,t)=>e.no-t.no)}}write(e,t,i){for(let n of(this.prepare(),this.fields)){let s,r,a=n.repeat,o=n.localName;if(n.oneof){let t=e[n.oneof];if(t.oneofKind!==o)continue;s=t[o],r=!0}else s=e[o],r=!1;switch(n.kind){case"scalar":case"enum":let l="enum"==n.kind?b.INT32:n.T;if(a){if(ti(Array.isArray(s)),a==x.PACKED)this.packed(t,l,n.no,s);else for(let e of s)this.scalar(t,l,n.no,e,!0)}else void 0===s?ti(n.opt):this.scalar(t,l,n.no,s,r||n.opt);break;case"message":if(a)for(let e of(ti(Array.isArray(s)),s))this.message(t,i,n.T(),n.no,e);else this.message(t,i,n.T(),n.no,s);break;case"map":for(let[e,r]of(ti("object"==typeof s&&null!==s),Object.entries(s)))this.mapEntry(t,i,n,e,r)}}let n=i.writeUnknownFields;!1!==n&&(!0===n?_.onWrite:n)(this.info.typeName,e,t)}mapEntry(e,t,i,n,s){e.tag(i.no,w.LengthDelimited),e.fork();let r=n;switch(i.K){case b.INT32:case b.FIXED32:case b.UINT32:case b.SFIXED32:case b.SINT32:r=Number.parseInt(n);break;case b.BOOL:ti("true"==n||"false"==n),r="true"==n}switch(this.scalar(e,i.K,1,r,!0),i.V.kind){case"scalar":this.scalar(e,i.V.T,2,s,!0);break;case"enum":this.scalar(e,b.INT32,2,s,!0);break;case"message":this.message(e,t,i.V.T(),2,s)}e.join()}message(e,t,i,n,s){void 0!==s&&(i.internalBinaryWrite(s,e.tag(n,w.LengthDelimited).fork(),t),e.join())}scalar(e,t,i,n,s){let[r,a,o]=this.scalarInfo(t,n);(!o||s)&&(e.tag(i,r),e[a](n))}packed(e,t,i,n){if(!n.length)return;ti(t!==b.BYTES&&t!==b.STRING),e.tag(i,w.LengthDelimited),e.fork();let[,s]=this.scalarInfo(t);for(let t=0;t<n.length;t++)e[s](n[t]);e.join()}scalarInfo(e,t){let i,n=w.Varint,s=void 0===t,r=0===t;switch(e){case b.INT32:i="int32";break;case b.STRING:r=s||!t.length,n=w.LengthDelimited,i="string";break;case b.BOOL:r=!1===t,i="bool";break;case b.UINT32:i="uint32";break;case b.DOUBLE:n=w.Bit64,i="double";break;case b.FLOAT:n=w.Bit32,i="float";break;case b.INT64:r=s||tt.from(t).isZero(),i="int64";break;case b.UINT64:r=s||te.from(t).isZero(),i="uint64";break;case b.FIXED64:r=s||te.from(t).isZero(),n=w.Bit64,i="fixed64";break;case b.BYTES:r=s||!t.byteLength,n=w.LengthDelimited,i="bytes";break;case b.FIXED32:n=w.Bit32,i="fixed32";break;case b.SFIXED32:n=w.Bit32,i="sfixed32";break;case b.SFIXED64:r=s||tt.from(t).isZero(),n=w.Bit64,i="sfixed64";break;case b.SINT32:i="sint32";break;case b.SINT64:r=s||tt.from(t).isZero(),i="sint64"}return[n,i,s||r]}}function tp(e,t,i){let n,s;for(let r of e.fields){let e=r.localName;if(r.oneof){let a=i[r.oneof];if((null==a?void 0:a.oneofKind)==void 0)continue;if(n=a[e],(s=t[r.oneof]).oneofKind=a.oneofKind,void 0==n){delete s[e];continue}}else if(n=i[e],s=t,void 0==n)continue;switch(r.repeat&&(s[e].length=n.length),r.kind){case"scalar":case"enum":if(r.repeat)for(let t=0;t<n.length;t++)s[e][t]=n[t];else s[e]=n;break;case"message":let a=r.T();if(r.repeat)for(let t=0;t<n.length;t++)s[e][t]=a.create(n[t]);else void 0===s[e]?s[e]=a.create(n):a.mergePartial(s[e],n);break;case"map":switch(r.V.kind){case"scalar":case"enum":Object.assign(s[e],n);break;case"message":let o=r.V.T();for(let t of Object.keys(n))s[e][t]=o.create(n[t])}}}}let th={emitDefaultValues:!1,enumAsInteger:!1,useProtoFieldName:!1,prettySpaces:0},tm={ignoreUnknownFields:!1},tf=Object.values;function tg(e,t,i){if(t===i)return!0;if(e!==b.BYTES||t.length!==i.length)return!1;for(let e=0;e<t.length;e++)if(t[e]!=i[e])return!1;return!0}function tv(e,t,i){if(t.length!==i.length)return!1;for(let n=0;n<t.length;n++)if(!tg(e,t[n],i[n]))return!1;return!0}function tb(e,t,i){if(t.length!==i.length)return!1;for(let n=0;n<t.length;n++)if(!e.equals(t[n],i[n]))return!1;return!0}let ty={writeUnknownFields:!0,writerFactory:()=>new tx};class tx{constructor(e){this.stack=[],this.textEncoder=null!=e?e:new TextEncoder,this.chunks=[],this.buf=[]}finish(){this.chunks.push(new Uint8Array(this.buf));let e=0;for(let t=0;t<this.chunks.length;t++)e+=this.chunks[t].length;let t=new Uint8Array(e),i=0;for(let e=0;e<this.chunks.length;e++)t.set(this.chunks[e],i),i+=this.chunks[e].length;return this.chunks=[],t}fork(){return this.stack.push({chunks:this.chunks,buf:this.buf}),this.chunks=[],this.buf=[],this}join(){let e=this.finish(),t=this.stack.pop();if(!t)throw Error("invalid state, fork stack empty");return this.chunks=t.chunks,this.buf=t.buf,this.uint32(e.byteLength),this.raw(e)}tag(e,t){return this.uint32((e<<3|t)>>>0)}raw(e){return this.buf.length&&(this.chunks.push(new Uint8Array(this.buf)),this.buf=[]),this.chunks.push(e),this}uint32(e){for(ts(e);e>127;)this.buf.push(127&e|128),e>>>=7;return this.buf.push(e),this}int32(e){return tn(e),e5(e,this.buf),this}bool(e){return this.buf.push(e?1:0),this}bytes(e){return this.uint32(e.byteLength),this.raw(e)}string(e){let t=this.textEncoder.encode(e);return this.uint32(t.byteLength),this.raw(t)}float(e){tr(e);let t=new Uint8Array(4);return new DataView(t.buffer).setFloat32(0,e,!0),this.raw(t)}double(e){let t=new Uint8Array(8);return new DataView(t.buffer).setFloat64(0,e,!0),this.raw(t)}fixed32(e){ts(e);let t=new Uint8Array(4);return new DataView(t.buffer).setUint32(0,e,!0),this.raw(t)}sfixed32(e){tn(e);let t=new Uint8Array(4);return new DataView(t.buffer).setInt32(0,e,!0),this.raw(t)}sint32(e){return tn(e),e5(e=(e<<1^e>>31)>>>0,this.buf),this}sfixed64(e){let t=new Uint8Array(8),i=new DataView(t.buffer),n=tt.from(e);return i.setInt32(0,n.lo,!0),i.setInt32(4,n.hi,!0),this.raw(t)}fixed64(e){let t=new Uint8Array(8),i=new DataView(t.buffer),n=te.from(e);return i.setInt32(0,n.lo,!0),i.setInt32(4,n.hi,!0),this.raw(t)}int64(e){let t=tt.from(e);return e2(t.lo,t.hi,this.buf),this}sint64(e){let t=tt.from(e),i=t.hi>>31;return e2(t.lo<<1^i,(t.hi<<1|t.lo>>>31)^i,this.buf),this}uint64(e){let t=te.from(e);return e2(t.lo,t.hi,this.buf),this}}let t_={readUnknownField:!0,readerFactory:e=>new tw(e)};class tw{constructor(e,t){this.varint64=e1,this.uint32=e6,this.buf=e,this.len=e.length,this.pos=0,this.view=new DataView(e.buffer,e.byteOffset,e.byteLength),this.textDecoder=null!=t?t:new TextDecoder("utf-8",{fatal:!0,ignoreBOM:!0})}tag(){let e=this.uint32(),t=e>>>3,i=7&e;if(t<=0||i<0||i>5)throw Error("illegal tag: field no "+t+" wire type "+i);return[t,i]}skip(e){let t=this.pos;switch(e){case w.Varint:for(;128&this.buf[this.pos++];);break;case w.Bit64:this.pos+=4;case w.Bit32:this.pos+=4;break;case w.LengthDelimited:let i=this.uint32();this.pos+=i;break;case w.StartGroup:let n;for(;(n=this.tag()[1])!==w.EndGroup;)this.skip(n);break;default:throw Error("cant skip wire type "+e)}return this.assertBounds(),this.buf.subarray(t,this.pos)}assertBounds(){if(this.pos>this.len)throw RangeError("premature EOF")}int32(){return 0|this.uint32()}sint32(){let e=this.uint32();return e>>>1^-(1&e)}int64(){return new tt(...this.varint64())}uint64(){return new te(...this.varint64())}sint64(){let[e,t]=this.varint64(),i=-(1&e);return new tt(e=(e>>>1|(1&t)<<31)^i,t=t>>>1^i)}bool(){let[e,t]=this.varint64();return 0!==e||0!==t}fixed32(){return this.view.getUint32((this.pos+=4)-4,!0)}sfixed32(){return this.view.getInt32((this.pos+=4)-4,!0)}fixed64(){return new te(this.sfixed32(),this.sfixed32())}sfixed64(){return new tt(this.sfixed32(),this.sfixed32())}float(){return this.view.getFloat32((this.pos+=4)-4,!0)}double(){return this.view.getFloat64((this.pos+=8)-8,!0)}bytes(){let e=this.uint32(),t=this.pos;return this.pos+=e,this.assertBounds(),this.buf.subarray(t,t+e)}string(){return this.textDecoder.decode(this.bytes())}}let tS=Object.getOwnPropertyDescriptors(Object.getPrototypeOf({}));class tk{constructor(e,t,i){this.defaultCheckDepth=16,this.typeName=e,this.fields=t.map(eJ),this.options=null!=i?i:{},this.messagePrototype=Object.create(null,Object.assign(Object.assign({},tS),{[eK]:{value:this}})),this.refTypeCheck=new eY(this),this.refJsonReader=new to(this),this.refJsonWriter=new tl(this),this.refBinReader=new td(this),this.refBinWriter=new tu(this)}create(e){let t=function(e){let t=e.messagePrototype?Object.create(e.messagePrototype):Object.defineProperty({},eK,{value:e});for(let i of e.fields){let e=i.localName;if(!i.opt){if(i.oneof)t[i.oneof]={oneofKind:void 0};else if(i.repeat)t[e]=[];else switch(i.kind){case"scalar":t[e]=tc(i.T,i.L);break;case"enum":t[e]=0;break;case"map":t[e]={}}}}return t}(this);return void 0!==e&&tp(this,t,e),t}clone(e){let t=this.create();return tp(this,t,e),t}equals(e,t){return function(e,t,i){if(t===i)return!0;if(!t||!i)return!1;for(let n of e.fields){let e=n.localName,s=n.oneof?t[n.oneof][e]:t[e],r=n.oneof?i[n.oneof][e]:i[e];switch(n.kind){case"enum":case"scalar":let a="enum"==n.kind?b.INT32:n.T;if(!(n.repeat?tv(a,s,r):tg(a,s,r)))return!1;break;case"map":if(!("message"==n.V.kind?tb(n.V.T(),tf(s),tf(r)):tv("enum"==n.V.kind?b.INT32:n.V.T,tf(s),tf(r))))return!1;break;case"message":let o=n.T();if(!(n.repeat?tb(o,s,r):o.equals(s,r)))return!1}}return!0}(this,e,t)}is(e,t=this.defaultCheckDepth){return this.refTypeCheck.is(e,t,!1)}isAssignable(e,t=this.defaultCheckDepth){return this.refTypeCheck.is(e,t,!0)}mergePartial(e,t){tp(this,e,t)}fromBinary(e,t){let i=t?Object.assign(Object.assign({},t_),t):t_;return this.internalBinaryRead(i.readerFactory(e),e.byteLength,i)}fromJson(e,t){return this.internalJsonRead(e,t?Object.assign(Object.assign({},tm),t):tm)}fromJsonString(e,t){let i=JSON.parse(e);return this.fromJson(i,t)}toJson(e,t){return this.internalJsonWrite(e,t?Object.assign(Object.assign({},th),t):th)}toJsonString(e,t){var i;return JSON.stringify(this.toJson(e,t),null,null!==(i=null==t?void 0:t.prettySpaces)&&void 0!==i?i:0)}toBinary(e,t){let i=t?Object.assign(Object.assign({},ty),t):ty;return this.internalBinaryWrite(e,i.writerFactory(),i).finish()}internalJsonRead(e,t,i){if(null!==e&&"object"==typeof e&&!Array.isArray(e)){let n=null!=i?i:this.create();return this.refJsonReader.read(e,n,t),n}throw Error(`Unable to parse message ${this.typeName} from JSON ${eQ(e)}.`)}internalJsonWrite(e,t){return this.refJsonWriter.write(e,t)}internalBinaryWrite(e,t,i){return this.refBinWriter.write(e,t,i),t}internalBinaryRead(e,t,i,n){let s=null!=n?n:this.create();return this.refBinReader.read(e,s,i,t),s}}class tE{constructor(e,t,i){this.typeName=e,this.methods=t.map(e=>(function(e,t){var i,n,s;return e.service=t,e.localName=null!==(i=e.localName)&&void 0!==i?i:eG(e.name),e.serverStreaming=!!e.serverStreaming,e.clientStreaming=!!e.clientStreaming,e.options=null!==(n=e.options)&&void 0!==n?n:{},e.idempotency=null!==(s=e.idempotency)&&void 0!==s?s:void 0,e})(e,this)),this.options=null!=i?i:{}}}function tT(e,t,i,n,s){var r,a,o,l;if("unary"==e){let e=(e,i,n)=>t.unary(e,i,n);for(let t of(null!==(r=n.interceptors)&&void 0!==r?r:[]).filter(e=>e.interceptUnary).reverse()){let i=e;e=(e,n,s)=>t.interceptUnary(i,e,n,s)}return e(i,s,n)}if("serverStreaming"==e){let e=(e,i,n)=>t.serverStreaming(e,i,n);for(let t of(null!==(a=n.interceptors)&&void 0!==a?a:[]).filter(e=>e.interceptServerStreaming).reverse()){let i=e;e=(e,n,s)=>t.interceptServerStreaming(i,e,n,s)}return e(i,s,n)}if("clientStreaming"==e){let e=(e,i)=>t.clientStreaming(e,i);for(let t of(null!==(o=n.interceptors)&&void 0!==o?o:[]).filter(e=>e.interceptClientStreaming).reverse()){let i=e;e=(e,n)=>t.interceptClientStreaming(i,e,n)}return e(i,n)}if("duplex"==e){let e=(e,i)=>t.duplex(e,i);for(let t of(null!==(l=n.interceptors)&&void 0!==l?l:[]).filter(e=>e.interceptDuplex).reverse()){let i=e;e=(e,n)=>t.interceptDuplex(i,e,n)}return e(i,n)}!function(e,t){throw Error("Unexpected object: "+e)}(e)}class tC extends Error{constructor(e,t="UNKNOWN",i){super(e),this.name="RpcError",Object.setPrototypeOf(this,new.target.prototype),this.code=t,this.meta=null!=i?i:{}}toString(){let e=[this.name+": "+this.message];this.code&&(e.push(""),e.push("Code: "+this.code)),this.serviceName&&this.methodName&&e.push("Method: "+this.serviceName+"/"+this.methodName);let t=Object.entries(this.meta);if(t.length)for(let[i,n]of(e.push(""),e.push("Meta:"),t))e.push(`  ${i}: ${n}`);return e.join("\n")}}function tR(e,t){return function(){return e.apply(t,arguments)}}let{toString:tO}=Object.prototype,{getPrototypeOf:tP}=Object,tj=(c=Object.create(null),e=>{let t=tO.call(e);return c[t]||(c[t]=t.slice(8,-1).toLowerCase())}),tI=e=>(e=e.toLowerCase(),t=>tj(t)===e),tN=e=>t=>typeof t===e,{isArray:tD}=Array,tA=tN("undefined"),tL=tI("ArrayBuffer"),tM=tN("string"),tU=tN("function"),tF=tN("number"),tB=e=>null!==e&&"object"==typeof e,t$=e=>{if("object"!==tj(e))return!1;let t=tP(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},tq=tI("Date"),tV=tI("File"),tW=tI("Blob"),tz=tI("FileList"),tH=tI("URLSearchParams"),[tK,tG,tJ,tY]=["ReadableStream","Request","Response","Headers"].map(tI);function tQ(e,t,{allOwnKeys:i=!1}={}){let n,s;if(null!=e){if("object"!=typeof e&&(e=[e]),tD(e))for(n=0,s=e.length;n<s;n++)t.call(null,e[n],n,e);else{let s;let r=i?Object.getOwnPropertyNames(e):Object.keys(e),a=r.length;for(n=0;n<a;n++)s=r[n],t.call(null,e[s],s,e)}}}function tX(e,t){let i;t=t.toLowerCase();let n=Object.keys(e),s=n.length;for(;s-- >0;)if(t===(i=n[s]).toLowerCase())return i;return null}let tZ="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:global,t0=e=>!tA(e)&&e!==tZ,t1=(d="undefined"!=typeof Uint8Array&&tP(Uint8Array),e=>d&&e instanceof d),t2=tI("HTMLFormElement"),t3=(({hasOwnProperty:e})=>(t,i)=>e.call(t,i))(Object.prototype),t4=tI("RegExp"),t5=(e,t)=>{let i=Object.getOwnPropertyDescriptors(e),n={};tQ(i,(i,s)=>{let r;!1!==(r=t(i,s,e))&&(n[s]=r||i)}),Object.defineProperties(e,n)},t6="abcdefghijklmnopqrstuvwxyz",t8="0123456789",t9={DIGIT:t8,ALPHA:t6,ALPHA_DIGIT:t6+t6.toUpperCase()+t8},t7=tI("AsyncFunction"),ie=(m="function"==typeof setImmediate,f=tU(tZ.postMessage),m?setImmediate:f?(p=`axios@${Math.random()}`,h=[],tZ.addEventListener("message",({source:e,data:t})=>{e===tZ&&t===p&&h.length&&h.shift()()},!1),e=>{h.push(e),tZ.postMessage(p,"*")}):e=>setTimeout(e)),it="undefined"!=typeof queueMicrotask?queueMicrotask.bind(tZ):"undefined"!=typeof process&&process.nextTick||ie,ii={isArray:tD,isArrayBuffer:tL,isBuffer:function(e){return null!==e&&!tA(e)&&null!==e.constructor&&!tA(e.constructor)&&tU(e.constructor.isBuffer)&&e.constructor.isBuffer(e)},isFormData:e=>{let t;return e&&("function"==typeof FormData&&e instanceof FormData||tU(e.append)&&("formdata"===(t=tj(e))||"object"===t&&tU(e.toString)&&"[object FormData]"===e.toString()))},isArrayBufferView:function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&tL(e.buffer)},isString:tM,isNumber:tF,isBoolean:e=>!0===e||!1===e,isObject:tB,isPlainObject:t$,isReadableStream:tK,isRequest:tG,isResponse:tJ,isHeaders:tY,isUndefined:tA,isDate:tq,isFile:tV,isBlob:tW,isRegExp:t4,isFunction:tU,isStream:e=>tB(e)&&tU(e.pipe),isURLSearchParams:tH,isTypedArray:t1,isFileList:tz,forEach:tQ,merge:function e(){let{caseless:t}=t0(this)&&this||{},i={},n=(n,s)=>{let r=t&&tX(i,s)||s;t$(i[r])&&t$(n)?i[r]=e(i[r],n):t$(n)?i[r]=e({},n):tD(n)?i[r]=n.slice():i[r]=n};for(let e=0,t=arguments.length;e<t;e++)arguments[e]&&tQ(arguments[e],n);return i},extend:(e,t,i,{allOwnKeys:n}={})=>(tQ(t,(t,n)=>{i&&tU(t)?e[n]=tR(t,i):e[n]=t},{allOwnKeys:n}),e),trim:e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:e=>(65279===e.charCodeAt(0)&&(e=e.slice(1)),e),inherits:(e,t,i,n)=>{e.prototype=Object.create(t.prototype,n),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),i&&Object.assign(e.prototype,i)},toFlatObject:(e,t,i,n)=>{let s,r,a;let o={};if(t=t||{},null==e)return t;do{for(r=(s=Object.getOwnPropertyNames(e)).length;r-- >0;)a=s[r],(!n||n(a,e,t))&&!o[a]&&(t[a]=e[a],o[a]=!0);e=!1!==i&&tP(e)}while(e&&(!i||i(e,t))&&e!==Object.prototype);return t},kindOf:tj,kindOfTest:tI,endsWith:(e,t,i)=>{e=String(e),(void 0===i||i>e.length)&&(i=e.length),i-=t.length;let n=e.indexOf(t,i);return -1!==n&&n===i},toArray:e=>{if(!e)return null;if(tD(e))return e;let t=e.length;if(!tF(t))return null;let i=Array(t);for(;t-- >0;)i[t]=e[t];return i},forEachEntry:(e,t)=>{let i;let n=(e&&e[Symbol.iterator]).call(e);for(;(i=n.next())&&!i.done;){let n=i.value;t.call(e,n[0],n[1])}},matchAll:(e,t)=>{let i;let n=[];for(;null!==(i=e.exec(t));)n.push(i);return n},isHTMLForm:t2,hasOwnProperty:t3,hasOwnProp:t3,reduceDescriptors:t5,freezeMethods:e=>{t5(e,(t,i)=>{if(tU(e)&&-1!==["arguments","caller","callee"].indexOf(i))return!1;if(tU(e[i])){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+i+"'")})}})},toObjectSet:(e,t)=>{let i={};return(e=>{e.forEach(e=>{i[e]=!0})})(tD(e)?e:String(e).split(t)),i},toCamelCase:e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(e,t,i){return t.toUpperCase()+i}),noop:()=>{},toFiniteNumber:(e,t)=>null!=e&&Number.isFinite(e=+e)?e:t,findKey:tX,global:tZ,isContextDefined:t0,ALPHABET:t9,generateString:(e=16,t=t9.ALPHA_DIGIT)=>{let i="",{length:n}=t;for(;e--;)i+=t[Math.random()*n|0];return i},isSpecCompliantForm:function(e){return!!(e&&tU(e.append)&&"FormData"===e[Symbol.toStringTag]&&e[Symbol.iterator])},toJSONObject:e=>{let t=Array(10),i=(e,n)=>{if(tB(e)){if(t.indexOf(e)>=0)return;if(!("toJSON"in e)){t[n]=e;let s=tD(e)?[]:{};return tQ(e,(e,t)=>{let r=i(e,n+1);tA(r)||(s[t]=r)}),t[n]=void 0,s}}return e};return i(e,0)},isAsyncFn:t7,isThenable:e=>e&&(tB(e)||tU(e))&&tU(e.then)&&tU(e.catch),setImmediate:ie,asap:it};function is(e,t,i,n,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),i&&(this.config=i),n&&(this.request=n),s&&(this.response=s,this.status=s.status?s.status:null)}ii.inherits(is,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:ii.toJSONObject(this.config),code:this.code,status:this.status}}});let ir=is.prototype,ia={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{ia[e]={value:e}}),Object.defineProperties(is,ia),Object.defineProperty(ir,"isAxiosError",{value:!0}),is.from=(e,t,i,n,s,r)=>{let a=Object.create(ir);return ii.toFlatObject(e,a,function(e){return e!==Error.prototype},e=>"isAxiosError"!==e),is.call(a,e.message,t,i,n,s),a.cause=e,a.name=e.name,r&&Object.assign(a,r),a};var io=i(54127);function il(e){return ii.isPlainObject(e)||ii.isArray(e)}function ic(e){return ii.endsWith(e,"[]")?e.slice(0,-2):e}function id(e,t,i){return e?e.concat(t).map(function(e,t){return e=ic(e),!i&&t?"["+e+"]":e}).join(i?".":""):t}let iu=ii.toFlatObject(ii,{},null,function(e){return/^is[A-Z]/.test(e)}),ip=function(e,t,i){if(!ii.isObject(e))throw TypeError("target must be an object");t=t||new(io||FormData);let n=(i=ii.toFlatObject(i,{metaTokens:!0,dots:!1,indexes:!1},!1,function(e,t){return!ii.isUndefined(t[e])})).metaTokens,s=i.visitor||c,r=i.dots,a=i.indexes,o=(i.Blob||"undefined"!=typeof Blob&&Blob)&&ii.isSpecCompliantForm(t);if(!ii.isFunction(s))throw TypeError("visitor must be a function");function l(e){if(null===e)return"";if(ii.isDate(e))return e.toISOString();if(!o&&ii.isBlob(e))throw new is("Blob is not supported. Use a Buffer instead.");return ii.isArrayBuffer(e)||ii.isTypedArray(e)?o&&"function"==typeof Blob?new Blob([e]):Buffer.from(e):e}function c(e,i,s){let o=e;if(e&&!s&&"object"==typeof e){if(ii.endsWith(i,"{}"))i=n?i:i.slice(0,-2),e=JSON.stringify(e);else{var c;if(ii.isArray(e)&&(c=e,ii.isArray(c)&&!c.some(il))||(ii.isFileList(e)||ii.endsWith(i,"[]"))&&(o=ii.toArray(e)))return i=ic(i),o.forEach(function(e,n){ii.isUndefined(e)||null===e||t.append(!0===a?id([i],n,r):null===a?i:i+"[]",l(e))}),!1}}return!!il(e)||(t.append(id(s,i,r),l(e)),!1)}let d=[],u=Object.assign(iu,{defaultVisitor:c,convertValue:l,isVisitable:il});if(!ii.isObject(e))throw TypeError("data must be an object");return function e(i,n){if(!ii.isUndefined(i)){if(-1!==d.indexOf(i))throw Error("Circular reference detected in "+n.join("."));d.push(i),ii.forEach(i,function(i,r){!0===(!(ii.isUndefined(i)||null===i)&&s.call(t,i,ii.isString(r)?r.trim():r,n,u))&&e(i,n?n.concat(r):[r])}),d.pop()}}(e),t};function ih(e){let t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(e){return t[e]})}function im(e,t){this._pairs=[],e&&ip(e,this,t)}let ig=im.prototype;function iv(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function ib(e,t,i){let n;if(!t)return e;let s=i&&i.encode||iv,r=i&&i.serialize;if(n=r?r(t,i):ii.isURLSearchParams(t)?t.toString():new im(t,i).toString(s)){let t=e.indexOf("#");-1!==t&&(e=e.slice(0,t)),e+=(-1===e.indexOf("?")?"?":"&")+n}return e}ig.append=function(e,t){this._pairs.push([e,t])},ig.toString=function(e){let t=e?function(t){return e.call(this,t,ih)}:ih;return this._pairs.map(function(e){return t(e[0])+"="+t(e[1])},"").join("&")};class iy{constructor(){this.handlers=[]}use(e,t,i){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!i&&i.synchronous,runWhen:i?i.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){ii.forEach(this.handlers,function(t){null!==t&&e(t)})}}let ix={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},i_={isNode:!0,classes:{URLSearchParams:i(57310).URLSearchParams,FormData:io,Blob:"undefined"!=typeof Blob&&Blob||null},protocols:["http","https","file","data"]},iw="undefined"!=typeof window&&"undefined"!=typeof document,iS="object"==typeof navigator&&navigator||void 0,ik=iw&&(!iS||0>["ReactNative","NativeScript","NS"].indexOf(iS.product)),iE="undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"==typeof self.importScripts,iT=iw&&window.location.href||"http://localhost",iC={...G,...i_},iR=function(e){if(ii.isFormData(e)&&ii.isFunction(e.entries)){let t={};return ii.forEachEntry(e,(e,i)=>{!function e(t,i,n,s){let r=t[s++];if("__proto__"===r)return!0;let a=Number.isFinite(+r),o=s>=t.length;return(r=!r&&ii.isArray(n)?n.length:r,o)?ii.hasOwnProp(n,r)?n[r]=[n[r],i]:n[r]=i:(n[r]&&ii.isObject(n[r])||(n[r]=[]),e(t,i,n[r],s)&&ii.isArray(n[r])&&(n[r]=function(e){let t,i;let n={},s=Object.keys(e),r=s.length;for(t=0;t<r;t++)n[i=s[t]]=e[i];return n}(n[r]))),!a}(ii.matchAll(/\w+|\[(\w*)]/g,e).map(e=>"[]"===e[0]?"":e[1]||e[0]),i,t,0)}),t}return null},iO={transitional:ix,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){let i;let n=t.getContentType()||"",s=n.indexOf("application/json")>-1,r=ii.isObject(e);if(r&&ii.isHTMLForm(e)&&(e=new FormData(e)),ii.isFormData(e))return s?JSON.stringify(iR(e)):e;if(ii.isArrayBuffer(e)||ii.isBuffer(e)||ii.isStream(e)||ii.isFile(e)||ii.isBlob(e)||ii.isReadableStream(e))return e;if(ii.isArrayBufferView(e))return e.buffer;if(ii.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();if(r){if(n.indexOf("application/x-www-form-urlencoded")>-1){var a,o;return(a=e,o=this.formSerializer,ip(a,new iC.classes.URLSearchParams,Object.assign({visitor:function(e,t,i,n){return iC.isNode&&ii.isBuffer(e)?(this.append(t,e.toString("base64")),!1):n.defaultVisitor.apply(this,arguments)}},o))).toString()}if((i=ii.isFileList(e))||n.indexOf("multipart/form-data")>-1){let t=this.env&&this.env.FormData;return ip(i?{"files[]":e}:e,t&&new t,this.formSerializer)}}return r||s?(t.setContentType("application/json",!1),function(e,t,i){if(ii.isString(e))try{return(0,JSON.parse)(e),ii.trim(e)}catch(e){if("SyntaxError"!==e.name)throw e}return(0,JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){let t=this.transitional||iO.transitional,i=t&&t.forcedJSONParsing,n="json"===this.responseType;if(ii.isResponse(e)||ii.isReadableStream(e))return e;if(e&&ii.isString(e)&&(i&&!this.responseType||n)){let i=t&&t.silentJSONParsing;try{return JSON.parse(e)}catch(e){if(!i&&n){if("SyntaxError"===e.name)throw is.from(e,is.ERR_BAD_RESPONSE,this,null,this.response);throw e}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:iC.classes.FormData,Blob:iC.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};ii.forEach(["delete","get","head","post","put","patch"],e=>{iO.headers[e]={}});let iP=ii.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),ij=e=>{let t,i,n;let s={};return e&&e.split("\n").forEach(function(e){n=e.indexOf(":"),t=e.substring(0,n).trim().toLowerCase(),i=e.substring(n+1).trim(),!t||s[t]&&iP[t]||("set-cookie"===t?s[t]?s[t].push(i):s[t]=[i]:s[t]=s[t]?s[t]+", "+i:i)}),s},iI=Symbol("internals");function iN(e){return e&&String(e).trim().toLowerCase()}function iD(e){return!1===e||null==e?e:ii.isArray(e)?e.map(iD):String(e)}let iA=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function iL(e,t,i,n,s){if(ii.isFunction(n))return n.call(this,t,i);if(s&&(t=i),ii.isString(t)){if(ii.isString(n))return -1!==t.indexOf(n);if(ii.isRegExp(n))return n.test(t)}}class iM{constructor(e){e&&this.set(e)}set(e,t,i){let n=this;function s(e,t,i){let s=iN(t);if(!s)throw Error("header name must be a non-empty string");let r=ii.findKey(n,s);r&&void 0!==n[r]&&!0!==i&&(void 0!==i||!1===n[r])||(n[r||t]=iD(e))}let r=(e,t)=>ii.forEach(e,(e,i)=>s(e,i,t));if(ii.isPlainObject(e)||e instanceof this.constructor)r(e,t);else if(ii.isString(e)&&(e=e.trim())&&!iA(e))r(ij(e),t);else if(ii.isHeaders(e))for(let[t,n]of e.entries())s(n,t,i);else null!=e&&s(t,e,i);return this}get(e,t){if(e=iN(e)){let i=ii.findKey(this,e);if(i){let e=this[i];if(!t)return e;if(!0===t)return function(e){let t;let i=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;for(;t=n.exec(e);)i[t[1]]=t[2];return i}(e);if(ii.isFunction(t))return t.call(this,e,i);if(ii.isRegExp(t))return t.exec(e);throw TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=iN(e)){let i=ii.findKey(this,e);return!!(i&&void 0!==this[i]&&(!t||iL(this,this[i],i,t)))}return!1}delete(e,t){let i=this,n=!1;function s(e){if(e=iN(e)){let s=ii.findKey(i,e);s&&(!t||iL(i,i[s],s,t))&&(delete i[s],n=!0)}}return ii.isArray(e)?e.forEach(s):s(e),n}clear(e){let t=Object.keys(this),i=t.length,n=!1;for(;i--;){let s=t[i];(!e||iL(this,this[s],s,e,!0))&&(delete this[s],n=!0)}return n}normalize(e){let t=this,i={};return ii.forEach(this,(n,s)=>{let r=ii.findKey(i,s);if(r){t[r]=iD(n),delete t[s];return}let a=e?s.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,i)=>t.toUpperCase()+i):String(s).trim();a!==s&&delete t[s],t[a]=iD(n),i[a]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){let t=Object.create(null);return ii.forEach(this,(i,n)=>{null!=i&&!1!==i&&(t[n]=e&&ii.isArray(i)?i.join(", "):i)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,t])=>e+": "+t).join("\n")}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){let i=new this(e);return t.forEach(e=>i.set(e)),i}static accessor(e){let t=(this[iI]=this[iI]={accessors:{}}).accessors,i=this.prototype;function n(e){let n=iN(e);t[n]||(function(e,t){let i=ii.toCamelCase(" "+t);["get","set","has"].forEach(n=>{Object.defineProperty(e,n+i,{value:function(e,i,s){return this[n].call(this,t,e,i,s)},configurable:!0})})}(i,e),t[n]=!0)}return ii.isArray(e)?e.forEach(n):n(e),this}}function iU(e,t){let i=this||iO,n=t||i,s=iM.from(n.headers),r=n.data;return ii.forEach(e,function(e){r=e.call(i,r,s.normalize(),t?t.status:void 0)}),s.normalize(),r}function iF(e){return!!(e&&e.__CANCEL__)}function iB(e,t,i){is.call(this,null==e?"canceled":e,is.ERR_CANCELED,t,i),this.name="CanceledError"}function i$(e,t,i){let n=i.config.validateStatus;!i.status||!n||n(i.status)?e(i):t(new is("Request failed with status code "+i.status,[is.ERR_BAD_REQUEST,is.ERR_BAD_RESPONSE][Math.floor(i.status/100)-4],i.config,i.request,i))}function iq(e,t){return e&&!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)?t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e:t}iM.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),ii.reduceDescriptors(iM.prototype,({value:e},t)=>{let i=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(e){this[i]=e}}}),ii.freezeMethods(iM),ii.inherits(iB,is,{__CANCEL__:!0});var iV=i(13304),iW=i(13685),iz=i(95687),iH=i.n(iz),iK=i(73837),iG=i(19831),iJ=i(59796);let iY="1.7.7";function iQ(e){let t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}let iX=/^(?:([^;]+);)?(?:[^;]+;)?(base64|),([\s\S]*)$/;var iZ=i(12781);let i0=Symbol("internals");class i1 extends iZ.Transform{constructor(e){super({readableHighWaterMark:(e=ii.toFlatObject(e,{maxRate:0,chunkSize:65536,minChunkSize:100,timeWindow:500,ticksRate:2,samplesCount:15},null,(e,t)=>!ii.isUndefined(t[e]))).chunkSize});let t=this[i0]={timeWindow:e.timeWindow,chunkSize:e.chunkSize,maxRate:e.maxRate,minChunkSize:e.minChunkSize,bytesSeen:0,isCaptured:!1,notifiedBytesLoaded:0,ts:Date.now(),bytes:0,onReadCallback:null};this.on("newListener",e=>{"progress"!==e||t.isCaptured||(t.isCaptured=!0)})}_read(e){let t=this[i0];return t.onReadCallback&&t.onReadCallback(),super._read(e)}_transform(e,t,i){let n=this[i0],s=n.maxRate,r=this.readableHighWaterMark,a=n.timeWindow,o=s/(1e3/a),l=!1!==n.minChunkSize?Math.max(n.minChunkSize,.01*o):0,c=(e,t)=>{let i=Buffer.byteLength(e);n.bytesSeen+=i,n.bytes+=i,n.isCaptured&&this.emit("progress",n.bytesSeen),this.push(e)?process.nextTick(t):n.onReadCallback=()=>{n.onReadCallback=null,process.nextTick(t)}},d=(e,t)=>{let i;let d=Buffer.byteLength(e),u=null,p=r,h=0;if(s){let e=Date.now();(!n.ts||(h=e-n.ts)>=a)&&(n.ts=e,i=o-n.bytes,n.bytes=i<0?-i:0,h=0),i=o-n.bytes}if(s){if(i<=0)return setTimeout(()=>{t(null,e)},a-h);i<p&&(p=i)}p&&d>p&&d-p>l&&(u=e.subarray(p),e=e.subarray(0,p)),c(e,u?()=>{process.nextTick(t,null,u)}:t)};d(e,function e(t,n){if(t)return i(t);n?d(n,e):i(null)})}}var i2=i(82361);let{asyncIterator:i3}=Symbol,i4=async function*(e){e.stream?yield*e.stream():e.arrayBuffer?yield await e.arrayBuffer():e[i3]?yield*e[i3]():yield e},i5=ii.ALPHABET.ALPHA_DIGIT+"-_",i6=new iK.TextEncoder,i8=i6.encode("\r\n");class i9{constructor(e,t){let{escapeName:i}=this.constructor,n=ii.isString(t),s=`Content-Disposition: form-data; name="${i(e)}"${!n&&t.name?`; filename="${i(t.name)}"`:""}\r
`;n?t=i6.encode(String(t).replace(/\r?\n|\r\n?/g,"\r\n")):s+=`Content-Type: ${t.type||"application/octet-stream"}\r
`,this.headers=i6.encode(s+"\r\n"),this.contentLength=n?t.byteLength:t.size,this.size=this.headers.byteLength+this.contentLength+2,this.name=e,this.value=t}async *encode(){yield this.headers;let{value:e}=this;ii.isTypedArray(e)?yield e:yield*i4(e),yield i8}static escapeName(e){return String(e).replace(/[\r\n"]/g,e=>({"\r":"%0D","\n":"%0A",'"':"%22"})[e])}}let i7=(e,t,i)=>{let{tag:n="form-data-boundary",size:s=25,boundary:r=n+"-"+ii.generateString(s,i5)}=i||{};if(!ii.isFormData(e))throw TypeError("FormData instance required");if(r.length<1||r.length>70)throw Error("boundary must be 10-70 characters long");let a=i6.encode("--"+r+"\r\n"),o=i6.encode("--"+r+"--\r\n\r\n"),l=o.byteLength,c=Array.from(e.entries()).map(([e,t])=>{let i=new i9(e,t);return l+=i.size,i});l+=a.byteLength*c.length;let d={"Content-Type":`multipart/form-data; boundary=${r}`};return Number.isFinite(l=ii.toFiniteNumber(l))&&(d["Content-Length"]=l),t&&t(d),iZ.Readable.from(async function*(){for(let e of c)yield a,yield*e.encode();yield o}())};class ne extends iZ.Transform{__transform(e,t,i){this.push(e),i()}_transform(e,t,i){if(0!==e.length&&(this._transform=this.__transform,120!==e[0])){let e=Buffer.alloc(2);e[0]=120,e[1]=156,this.push(e,t)}this.__transform(e,t,i)}}let nt=(e,t)=>ii.isAsyncFn(e)?function(...i){let n=i.pop();e.apply(this,i).then(e=>{try{t?n(null,...t(e)):n(null,e)}catch(e){n(e)}},n)}:e,ni=function(e,t){let i;let n=Array(e=e||10),s=Array(e),r=0,a=0;return t=void 0!==t?t:1e3,function(o){let l=Date.now(),c=s[a];i||(i=l),n[r]=o,s[r]=l;let d=a,u=0;for(;d!==r;)u+=n[d++],d%=e;if((r=(r+1)%e)===a&&(a=(a+1)%e),l-i<t)return;let p=c&&l-c;return p?Math.round(1e3*u/p):void 0}},nn=function(e,t){let i,n,s=0,r=1e3/t,a=(t,r=Date.now())=>{s=r,i=null,n&&(clearTimeout(n),n=null),e.apply(null,t)};return[(...e)=>{let t=Date.now(),o=t-s;o>=r?a(e,t):(i=e,n||(n=setTimeout(()=>{n=null,a(i)},r-o)))},()=>i&&a(i)]},ns=(e,t,i=3)=>{let n=0,s=ni(50,250);return nn(i=>{let r=i.loaded,a=i.lengthComputable?i.total:void 0,o=r-n,l=s(o);n=r,e({loaded:r,total:a,progress:a?r/a:void 0,bytes:o,rate:l||void 0,estimated:l&&a&&r<=a?(a-r)/l:void 0,event:i,lengthComputable:null!=a,[t?"download":"upload"]:!0})},i)},nr=(e,t)=>{let i=null!=e;return[n=>t[0]({lengthComputable:i,total:e,loaded:n}),t[1]]},na=e=>(...t)=>ii.asap(()=>e(...t)),no={flush:iJ.constants.Z_SYNC_FLUSH,finishFlush:iJ.constants.Z_SYNC_FLUSH},nl={flush:iJ.constants.BROTLI_OPERATION_FLUSH,finishFlush:iJ.constants.BROTLI_OPERATION_FLUSH},nc=ii.isFunction(iJ.createBrotliDecompress),{http:nd,https:nu}=iG,np=/https:?/,nh=iC.protocols.map(e=>e+":"),nm=(e,[t,i])=>(e.on("end",i).on("error",i),t);function nf(e,t){e.beforeRedirects.proxy&&e.beforeRedirects.proxy(e),e.beforeRedirects.config&&e.beforeRedirects.config(e,t)}let ng="undefined"!=typeof process&&"process"===ii.kindOf(process),nv=e=>new Promise((t,i)=>{let n,s;let r=(e,t)=>{!s&&(s=!0,n&&n(e,t))},a=e=>{r(e,!0),i(e)};e(e=>{r(e),t(e)},a,e=>n=e).catch(a)}),nb=({address:e,family:t})=>{if(!ii.isString(e))throw TypeError("address must be a string");return{address:e,family:t||(0>e.indexOf(".")?6:4)}},ny=(e,t)=>nb(ii.isObject(e)?e:{address:e,family:t}),nx=ng&&function(e){return nv(async function(t,i,n){let s,r,a,o,l,c,d,{data:u,lookup:p,family:h}=e,{responseType:m,responseEncoding:f}=e,g=e.method.toUpperCase(),v=!1;if(p){let e=nt(p,e=>ii.isArray(e)?e:[e]);p=(t,i,n)=>{e(t,i,(e,t,s)=>{if(e)return n(e);let r=ii.isArray(t)?t.map(e=>ny(e)):[ny(t,s)];i.all?n(e,r):n(e,r[0].address,r[0].family)})}}let b=new i2.EventEmitter,y=()=>{e.cancelToken&&e.cancelToken.unsubscribe(x),e.signal&&e.signal.removeEventListener("abort",x),b.removeAllListeners()};function x(t){b.emit("abort",!t||t.type?new iB(null,e,l):t)}n((e,t)=>{o=!0,t&&(v=!0,y())}),b.once("abort",i),(e.cancelToken||e.signal)&&(e.cancelToken&&e.cancelToken.subscribe(x),e.signal&&(e.signal.aborted?x():e.signal.addEventListener("abort",x)));let _=new URL(iq(e.baseURL,e.url),iC.hasBrowserEnv?iC.origin:void 0),w=_.protocol||nh[0];if("data:"===w){let n;if("GET"!==g)return i$(t,i,{status:405,statusText:"method not allowed",headers:{},config:e});try{n=function(e,t,i){let n=i&&i.Blob||iC.classes.Blob,s=iQ(e);if(void 0===t&&n&&(t=!0),"data"===s){e=s.length?e.slice(s.length+1):e;let i=iX.exec(e);if(!i)throw new is("Invalid URL",is.ERR_INVALID_URL);let r=i[1],a=i[2],o=i[3],l=Buffer.from(decodeURIComponent(o),a?"base64":"utf8");if(t){if(!n)throw new is("Blob is not supported",is.ERR_NOT_SUPPORT);return new n([l],{type:r})}return l}throw new is("Unsupported protocol "+s,is.ERR_NOT_SUPPORT)}(e.url,"blob"===m,{Blob:e.env&&e.env.Blob})}catch(t){throw is.from(t,is.ERR_BAD_REQUEST,e)}return"text"===m?(n=n.toString(f),f&&"utf8"!==f||(n=ii.stripBOM(n))):"stream"===m&&(n=iZ.Readable.from(n)),i$(t,i,{data:n,status:200,statusText:"OK",headers:new iM,config:e})}if(-1===nh.indexOf(w))return i(new is("Unsupported protocol "+w,is.ERR_BAD_REQUEST,e));let S=iM.from(e.headers).normalize();S.set("User-Agent","axios/"+iY,!1);let{onUploadProgress:k,onDownloadProgress:E}=e,T=e.maxRate;if(ii.isSpecCompliantForm(u)){let e=S.getContentType(/boundary=([-_\w\d]{10,70})/i);u=i7(u,e=>{S.set(e)},{tag:`axios-${iY}-boundary`,boundary:e&&e[1]||void 0})}else if(ii.isFormData(u)&&ii.isFunction(u.getHeaders)){if(S.set(u.getHeaders()),!S.hasContentLength())try{let e=await iK.promisify(u.getLength).call(u);Number.isFinite(e)&&e>=0&&S.setContentLength(e)}catch(e){}}else if(ii.isBlob(u))u.size&&S.setContentType(u.type||"application/octet-stream"),S.setContentLength(u.size||0),u=iZ.Readable.from(i4(u));else if(u&&!ii.isStream(u)){if(Buffer.isBuffer(u));else if(ii.isArrayBuffer(u))u=Buffer.from(new Uint8Array(u));else{if(!ii.isString(u))return i(new is("Data after transformation must be a string, an ArrayBuffer, a Buffer, or a Stream",is.ERR_BAD_REQUEST,e));u=Buffer.from(u,"utf-8")}if(S.setContentLength(u.length,!1),e.maxBodyLength>-1&&u.length>e.maxBodyLength)return i(new is("Request body larger than maxBodyLength limit",is.ERR_BAD_REQUEST,e))}let C=ii.toFiniteNumber(S.getContentLength());ii.isArray(T)?(s=T[0],r=T[1]):s=r=T,u&&(k||s)&&(ii.isStream(u)||(u=iZ.Readable.from(u,{objectMode:!1})),u=iZ.pipeline([u,new i1({maxRate:ii.toFiniteNumber(s)})],ii.noop),k&&u.on("progress",nm(u,nr(C,ns(na(k),!1,3))))),e.auth&&(a=(e.auth.username||"")+":"+(e.auth.password||"")),!a&&_.username&&(a=_.username+":"+_.password),a&&S.delete("authorization");try{c=ib(_.pathname+_.search,e.params,e.paramsSerializer).replace(/^\?/,"")}catch(n){let t=Error(n.message);return t.config=e,t.url=e.url,t.exists=!0,i(t)}S.set("Accept-Encoding","gzip, compress, deflate"+(nc?", br":""),!1);let R={path:c,method:g,headers:S.toJSON(),agents:{http:e.httpAgent,https:e.httpsAgent},auth:a,protocol:w,family:h,beforeRedirect:nf,beforeRedirects:{}};ii.isUndefined(p)||(R.lookup=p),e.socketPath?R.socketPath=e.socketPath:(R.hostname=_.hostname.startsWith("[")?_.hostname.slice(1,-1):_.hostname,R.port=_.port,function e(t,i,n){let s=i;if(!s&&!1!==s){let e=(0,iV.j)(n);e&&(s=new URL(e))}if(s){if(s.username&&(s.auth=(s.username||"")+":"+(s.password||"")),s.auth){(s.auth.username||s.auth.password)&&(s.auth=(s.auth.username||"")+":"+(s.auth.password||""));let e=Buffer.from(s.auth,"utf8").toString("base64");t.headers["Proxy-Authorization"]="Basic "+e}t.headers.host=t.hostname+(t.port?":"+t.port:"");let e=s.hostname||s.host;t.hostname=e,t.host=e,t.port=s.port,t.path=n,s.protocol&&(t.protocol=s.protocol.includes(":")?s.protocol:`${s.protocol}:`)}t.beforeRedirects.proxy=function(t){e(t,i,t.href)}}(R,e.proxy,w+"//"+_.hostname+(_.port?":"+_.port:"")+R.path));let O=np.test(R.protocol);if(R.agent=O?e.httpsAgent:e.httpAgent,e.transport?d=e.transport:0===e.maxRedirects?d=O?iz:iW:(e.maxRedirects&&(R.maxRedirects=e.maxRedirects),e.beforeRedirect&&(R.beforeRedirects.config=e.beforeRedirect),d=O?nu:nd),e.maxBodyLength>-1?R.maxBodyLength=e.maxBodyLength:R.maxBodyLength=1/0,e.insecureHTTPParser&&(R.insecureHTTPParser=e.insecureHTTPParser),l=d.request(R,function(n){if(l.destroyed)return;let s=[n],a=+n.headers["content-length"];if(E||r){let e=new i1({maxRate:ii.toFiniteNumber(r)});E&&e.on("progress",nm(e,nr(a,ns(na(E),!0,3)))),s.push(e)}let o=n,c=n.req||l;if(!1!==e.decompress&&n.headers["content-encoding"])switch(("HEAD"===g||204===n.statusCode)&&delete n.headers["content-encoding"],(n.headers["content-encoding"]||"").toLowerCase()){case"gzip":case"x-gzip":case"compress":case"x-compress":s.push(iJ.createUnzip(no)),delete n.headers["content-encoding"];break;case"deflate":s.push(new ne),s.push(iJ.createUnzip(no)),delete n.headers["content-encoding"];break;case"br":nc&&(s.push(iJ.createBrotliDecompress(nl)),delete n.headers["content-encoding"])}o=s.length>1?iZ.pipeline(s,ii.noop):s[0];let d=iZ.finished(o,()=>{d(),y()}),u={status:n.statusCode,statusText:n.statusMessage,headers:new iM(n.headers),config:e,request:c};if("stream"===m)u.data=o,i$(t,i,u);else{let n=[],s=0;o.on("data",function(t){n.push(t),s+=t.length,e.maxContentLength>-1&&s>e.maxContentLength&&(v=!0,o.destroy(),i(new is("maxContentLength size of "+e.maxContentLength+" exceeded",is.ERR_BAD_RESPONSE,e,c)))}),o.on("aborted",function(){if(v)return;let t=new is("maxContentLength size of "+e.maxContentLength+" exceeded",is.ERR_BAD_RESPONSE,e,c);o.destroy(t),i(t)}),o.on("error",function(t){l.destroyed||i(is.from(t,null,e,c))}),o.on("end",function(){try{let e=1===n.length?n[0]:Buffer.concat(n);"arraybuffer"===m||(e=e.toString(f),f&&"utf8"!==f||(e=ii.stripBOM(e))),u.data=e}catch(t){return i(is.from(t,null,e,u.request,u))}i$(t,i,u)})}b.once("abort",e=>{o.destroyed||(o.emit("error",e),o.destroy())})}),b.once("abort",e=>{i(e),l.destroy(e)}),l.on("error",function(t){i(is.from(t,null,e,l))}),l.on("socket",function(e){e.setKeepAlive(!0,6e4)}),e.timeout){let t=parseInt(e.timeout,10);if(Number.isNaN(t)){i(new is("error trying to parse `config.timeout` to int",is.ERR_BAD_OPTION_VALUE,e,l));return}l.setTimeout(t,function(){if(o)return;let t=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded",n=e.transitional||ix;e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),i(new is(t,n.clarifyTimeoutError?is.ETIMEDOUT:is.ECONNABORTED,e,l)),x()})}if(ii.isStream(u)){let t=!1,i=!1;u.on("end",()=>{t=!0}),u.once("error",e=>{i=!0,l.destroy(e)}),u.on("close",()=>{t||i||x(new iB("Request stream has been aborted",e,l))}),u.pipe(l)}else l.end(u)})},n_=iC.hasStandardBrowserEnv?function(){let e;let t=iC.navigator&&/(msie|trident)/i.test(iC.navigator.userAgent),i=document.createElement("a");function n(e){let n=e;return t&&(i.setAttribute("href",n),n=i.href),i.setAttribute("href",n),{href:i.href,protocol:i.protocol?i.protocol.replace(/:$/,""):"",host:i.host,search:i.search?i.search.replace(/^\?/,""):"",hash:i.hash?i.hash.replace(/^#/,""):"",hostname:i.hostname,port:i.port,pathname:"/"===i.pathname.charAt(0)?i.pathname:"/"+i.pathname}}return e=n(window.location.href),function(t){let i=ii.isString(t)?n(t):t;return i.protocol===e.protocol&&i.host===e.host}}():function(){return!0},nw=iC.hasStandardBrowserEnv?{write(e,t,i,n,s,r){let a=[e+"="+encodeURIComponent(t)];ii.isNumber(i)&&a.push("expires="+new Date(i).toGMTString()),ii.isString(n)&&a.push("path="+n),ii.isString(s)&&a.push("domain="+s),!0===r&&a.push("secure"),document.cookie=a.join("; ")},read(e){let t=document.cookie.match(RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read:()=>null,remove(){}},nS=e=>e instanceof iM?{...e}:e;function nk(e,t){t=t||{};let i={};function n(e,t,i){return ii.isPlainObject(e)&&ii.isPlainObject(t)?ii.merge.call({caseless:i},e,t):ii.isPlainObject(t)?ii.merge({},t):ii.isArray(t)?t.slice():t}function s(e,t,i){return ii.isUndefined(t)?ii.isUndefined(e)?void 0:n(void 0,e,i):n(e,t,i)}function r(e,t){if(!ii.isUndefined(t))return n(void 0,t)}function a(e,t){return ii.isUndefined(t)?ii.isUndefined(e)?void 0:n(void 0,e):n(void 0,t)}function o(i,s,r){return r in t?n(i,s):r in e?n(void 0,i):void 0}let l={url:r,method:r,data:r,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,withXSRFToken:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:o,headers:(e,t)=>s(nS(e),nS(t),!0)};return ii.forEach(Object.keys(Object.assign({},e,t)),function(n){let r=l[n]||s,a=r(e[n],t[n],n);ii.isUndefined(a)&&r!==o||(i[n]=a)}),i}let nE=e=>{let t;let i=nk({},e),{data:n,withXSRFToken:s,xsrfHeaderName:r,xsrfCookieName:a,headers:o,auth:l}=i;if(i.headers=o=iM.from(o),i.url=ib(iq(i.baseURL,i.url),e.params,e.paramsSerializer),l&&o.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):""))),ii.isFormData(n)){if(iC.hasStandardBrowserEnv||iC.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if(!1!==(t=o.getContentType())){let[e,...i]=t?t.split(";").map(e=>e.trim()).filter(Boolean):[];o.setContentType([e||"multipart/form-data",...i].join("; "))}}if(iC.hasStandardBrowserEnv&&(s&&ii.isFunction(s)&&(s=s(i)),s||!1!==s&&n_(i.url))){let e=r&&a&&nw.read(a);e&&o.set(r,e)}return i},nT="undefined"!=typeof XMLHttpRequest&&function(e){return new Promise(function(t,i){let n,s,r,a,o;let l=nE(e),c=l.data,d=iM.from(l.headers).normalize(),{responseType:u,onUploadProgress:p,onDownloadProgress:h}=l;function m(){a&&a(),o&&o(),l.cancelToken&&l.cancelToken.unsubscribe(n),l.signal&&l.signal.removeEventListener("abort",n)}let f=new XMLHttpRequest;function g(){if(!f)return;let n=iM.from("getAllResponseHeaders"in f&&f.getAllResponseHeaders());i$(function(e){t(e),m()},function(e){i(e),m()},{data:u&&"text"!==u&&"json"!==u?f.response:f.responseText,status:f.status,statusText:f.statusText,headers:n,config:e,request:f}),f=null}f.open(l.method.toUpperCase(),l.url,!0),f.timeout=l.timeout,"onloadend"in f?f.onloadend=g:f.onreadystatechange=function(){f&&4===f.readyState&&(0!==f.status||f.responseURL&&0===f.responseURL.indexOf("file:"))&&setTimeout(g)},f.onabort=function(){f&&(i(new is("Request aborted",is.ECONNABORTED,e,f)),f=null)},f.onerror=function(){i(new is("Network Error",is.ERR_NETWORK,e,f)),f=null},f.ontimeout=function(){let t=l.timeout?"timeout of "+l.timeout+"ms exceeded":"timeout exceeded",n=l.transitional||ix;l.timeoutErrorMessage&&(t=l.timeoutErrorMessage),i(new is(t,n.clarifyTimeoutError?is.ETIMEDOUT:is.ECONNABORTED,e,f)),f=null},void 0===c&&d.setContentType(null),"setRequestHeader"in f&&ii.forEach(d.toJSON(),function(e,t){f.setRequestHeader(t,e)}),ii.isUndefined(l.withCredentials)||(f.withCredentials=!!l.withCredentials),u&&"json"!==u&&(f.responseType=l.responseType),h&&([r,o]=ns(h,!0),f.addEventListener("progress",r)),p&&f.upload&&([s,a]=ns(p),f.upload.addEventListener("progress",s),f.upload.addEventListener("loadend",a)),(l.cancelToken||l.signal)&&(n=t=>{f&&(i(!t||t.type?new iB(null,e,f):t),f.abort(),f=null)},l.cancelToken&&l.cancelToken.subscribe(n),l.signal&&(l.signal.aborted?n():l.signal.addEventListener("abort",n)));let v=iQ(l.url);if(v&&-1===iC.protocols.indexOf(v)){i(new is("Unsupported protocol "+v+":",is.ERR_BAD_REQUEST,e));return}f.send(c||null)})},nC=(e,t)=>{let{length:i}=e=e?e.filter(Boolean):[];if(t||i){let i,n=new AbortController,s=function(e){if(!i){i=!0,a();let t=e instanceof Error?e:this.reason;n.abort(t instanceof is?t:new iB(t instanceof Error?t.message:t))}},r=t&&setTimeout(()=>{r=null,s(new is(`timeout ${t} of ms exceeded`,is.ETIMEDOUT))},t),a=()=>{e&&(r&&clearTimeout(r),r=null,e.forEach(e=>{e.unsubscribe?e.unsubscribe(s):e.removeEventListener("abort",s)}),e=null)};e.forEach(e=>e.addEventListener("abort",s));let{signal:o}=n;return o.unsubscribe=()=>ii.asap(a),o}},nR=function*(e,t){let i,n=e.byteLength;if(!t||n<t){yield e;return}let s=0;for(;s<n;)i=s+t,yield e.slice(s,i),s=i},nO=async function*(e,t){for await(let i of nP(e))yield*nR(i,t)},nP=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}let t=e.getReader();try{for(;;){let{done:e,value:i}=await t.read();if(e)break;yield i}}finally{await t.cancel()}},nj=(e,t,i,n)=>{let s;let r=nO(e,t),a=0,o=e=>{!s&&(s=!0,n&&n(e))};return new ReadableStream({async pull(e){try{let{done:t,value:n}=await r.next();if(t){o(),e.close();return}let s=n.byteLength;if(i){let e=a+=s;i(e)}e.enqueue(new Uint8Array(n))}catch(e){throw o(e),e}},cancel:e=>(o(e),r.return())},{highWaterMark:2})},nI="function"==typeof fetch&&"function"==typeof Request&&"function"==typeof Response,nN=nI&&"function"==typeof ReadableStream,nD=nI&&("function"==typeof TextEncoder?(u=new TextEncoder,e=>u.encode(e)):async e=>new Uint8Array(await new Response(e).arrayBuffer())),nA=(e,...t)=>{try{return!!e(...t)}catch(e){return!1}},nL=nN&&nA(()=>{let e=!1,t=new Request(iC.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),nM=nN&&nA(()=>ii.isReadableStream(new Response("").body)),nU={stream:nM&&(e=>e.body)};nI&&(g=new Response,["text","arrayBuffer","blob","formData","stream"].forEach(e=>{nU[e]||(nU[e]=ii.isFunction(g[e])?t=>t[e]():(t,i)=>{throw new is(`Response type '${e}' is not supported`,is.ERR_NOT_SUPPORT,i)})}));let nF=async e=>{if(null==e)return 0;if(ii.isBlob(e))return e.size;if(ii.isSpecCompliantForm(e)){let t=new Request(iC.origin,{method:"POST",body:e});return(await t.arrayBuffer()).byteLength}return ii.isArrayBufferView(e)||ii.isArrayBuffer(e)?e.byteLength:(ii.isURLSearchParams(e)&&(e+=""),ii.isString(e))?(await nD(e)).byteLength:void 0},nB=async(e,t)=>{let i=ii.toFiniteNumber(e.getContentLength());return null==i?nF(t):i},n$={http:nx,xhr:nT,fetch:nI&&(async e=>{let t,i,{url:n,method:s,data:r,signal:a,cancelToken:o,timeout:l,onDownloadProgress:c,onUploadProgress:d,responseType:u,headers:p,withCredentials:h="same-origin",fetchOptions:m}=nE(e);u=u?(u+"").toLowerCase():"text";let f=nC([a,o&&o.toAbortSignal()],l),g=f&&f.unsubscribe&&(()=>{f.unsubscribe()});try{if(d&&nL&&"get"!==s&&"head"!==s&&0!==(i=await nB(p,r))){let e,t=new Request(n,{method:"POST",body:r,duplex:"half"});if(ii.isFormData(r)&&(e=t.headers.get("content-type"))&&p.setContentType(e),t.body){let[e,n]=nr(i,ns(na(d)));r=nj(t.body,65536,e,n)}}ii.isString(h)||(h=h?"include":"omit");let a="credentials"in Request.prototype;t=new Request(n,{...m,signal:f,method:s.toUpperCase(),headers:p.normalize().toJSON(),body:r,duplex:"half",credentials:a?h:void 0});let o=await fetch(t),l=nM&&("stream"===u||"response"===u);if(nM&&(c||l&&g)){let e={};["status","statusText","headers"].forEach(t=>{e[t]=o[t]});let t=ii.toFiniteNumber(o.headers.get("content-length")),[i,n]=c&&nr(t,ns(na(c),!0))||[];o=new Response(nj(o.body,65536,i,()=>{n&&n(),g&&g()}),e)}u=u||"text";let v=await nU[ii.findKey(nU,u)||"text"](o,e);return!l&&g&&g(),await new Promise((i,n)=>{i$(i,n,{data:v,headers:iM.from(o.headers),status:o.status,statusText:o.statusText,config:e,request:t})})}catch(i){if(g&&g(),i&&"TypeError"===i.name&&/fetch/i.test(i.message))throw Object.assign(new is("Network Error",is.ERR_NETWORK,e,t),{cause:i.cause||i});throw is.from(i,i&&i.code,e,t)}})};ii.forEach(n$,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch(e){}Object.defineProperty(e,"adapterName",{value:t})}});let nq=e=>`- ${e}`,nV=e=>ii.isFunction(e)||null===e||!1===e,nW={getAdapter:e=>{let t,i;let{length:n}=e=ii.isArray(e)?e:[e],s={};for(let r=0;r<n;r++){let n;if(i=t=e[r],!nV(t)&&void 0===(i=n$[(n=String(t)).toLowerCase()]))throw new is(`Unknown adapter '${n}'`);if(i)break;s[n||"#"+r]=i}if(!i){let e=Object.entries(s).map(([e,t])=>`adapter ${e} `+(!1===t?"is not supported by the environment":"is not available in the build"));throw new is("There is no suitable adapter to dispatch the request "+(n?e.length>1?"since :\n"+e.map(nq).join("\n"):" "+nq(e[0]):"as no adapter specified"),"ERR_NOT_SUPPORT")}return i}};function nz(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new iB(null,e)}function nH(e){return nz(e),e.headers=iM.from(e.headers),e.data=iU.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1),nW.getAdapter(e.adapter||iO.adapter)(e).then(function(t){return nz(e),t.data=iU.call(e,e.transformResponse,t),t.headers=iM.from(t.headers),t},function(t){return!iF(t)&&(nz(e),t&&t.response&&(t.response.data=iU.call(e,e.transformResponse,t.response),t.response.headers=iM.from(t.response.headers))),Promise.reject(t)})}let nK={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{nK[e]=function(i){return typeof i===e||"a"+(t<1?"n ":" ")+e}});let nG={};nK.transitional=function(e,t,i){function n(e,t){return"[Axios v"+iY+"] Transitional option '"+e+"'"+t+(i?". "+i:"")}return(i,s,r)=>{if(!1===e)throw new is(n(s," has been removed"+(t?" in "+t:"")),is.ERR_DEPRECATED);return t&&!nG[s]&&(nG[s]=!0,console.warn(n(s," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(i,s,r)}};let nJ={assertOptions:function(e,t,i){if("object"!=typeof e)throw new is("options must be an object",is.ERR_BAD_OPTION_VALUE);let n=Object.keys(e),s=n.length;for(;s-- >0;){let r=n[s],a=t[r];if(a){let t=e[r],i=void 0===t||a(t,r,e);if(!0!==i)throw new is("option "+r+" must be "+i,is.ERR_BAD_OPTION_VALUE);continue}if(!0!==i)throw new is("Unknown option "+r,is.ERR_BAD_OPTION)}},validators:nK},nY=nJ.validators;class nQ{constructor(e){this.defaults=e,this.interceptors={request:new iy,response:new iy}}async request(e,t){try{return await this._request(e,t)}catch(e){if(e instanceof Error){let t;Error.captureStackTrace?Error.captureStackTrace(t={}):t=Error();let i=t.stack?t.stack.replace(/^.+\n/,""):"";try{e.stack?i&&!String(e.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(e.stack+="\n"+i):e.stack=i}catch(e){}}throw e}}_request(e,t){let i,n;"string"==typeof e?(t=t||{}).url=e:t=e||{};let{transitional:s,paramsSerializer:r,headers:a}=t=nk(this.defaults,t);void 0!==s&&nJ.assertOptions(s,{silentJSONParsing:nY.transitional(nY.boolean),forcedJSONParsing:nY.transitional(nY.boolean),clarifyTimeoutError:nY.transitional(nY.boolean)},!1),null!=r&&(ii.isFunction(r)?t.paramsSerializer={serialize:r}:nJ.assertOptions(r,{encode:nY.function,serialize:nY.function},!0)),t.method=(t.method||this.defaults.method||"get").toLowerCase();let o=a&&ii.merge(a.common,a[t.method]);a&&ii.forEach(["delete","get","head","post","put","patch","common"],e=>{delete a[e]}),t.headers=iM.concat(o,a);let l=[],c=!0;this.interceptors.request.forEach(function(e){("function"!=typeof e.runWhen||!1!==e.runWhen(t))&&(c=c&&e.synchronous,l.unshift(e.fulfilled,e.rejected))});let d=[];this.interceptors.response.forEach(function(e){d.push(e.fulfilled,e.rejected)});let u=0;if(!c){let e=[nH.bind(this),void 0];for(e.unshift.apply(e,l),e.push.apply(e,d),n=e.length,i=Promise.resolve(t);u<n;)i=i.then(e[u++],e[u++]);return i}n=l.length;let p=t;for(u=0;u<n;){let e=l[u++],t=l[u++];try{p=e(p)}catch(e){t.call(this,e);break}}try{i=nH.call(this,p)}catch(e){return Promise.reject(e)}for(u=0,n=d.length;u<n;)i=i.then(d[u++],d[u++]);return i}getUri(e){return ib(iq((e=nk(this.defaults,e)).baseURL,e.url),e.params,e.paramsSerializer)}}ii.forEach(["delete","get","head","options"],function(e){nQ.prototype[e]=function(t,i){return this.request(nk(i||{},{method:e,url:t,data:(i||{}).data}))}}),ii.forEach(["post","put","patch"],function(e){function t(t){return function(i,n,s){return this.request(nk(s||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:i,data:n}))}}nQ.prototype[e]=t(),nQ.prototype[e+"Form"]=t(!0)});class nX{constructor(e){let t;if("function"!=typeof e)throw TypeError("executor must be a function.");this.promise=new Promise(function(e){t=e});let i=this;this.promise.then(e=>{if(!i._listeners)return;let t=i._listeners.length;for(;t-- >0;)i._listeners[t](e);i._listeners=null}),this.promise.then=e=>{let t;let n=new Promise(e=>{i.subscribe(e),t=e}).then(e);return n.cancel=function(){i.unsubscribe(t)},n},e(function(e,n,s){i.reason||(i.reason=new iB(e,n,s),t(i.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;let t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}toAbortSignal(){let e=new AbortController,t=t=>{e.abort(t)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new nX(function(t){e=t}),cancel:e}}}let nZ={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(nZ).forEach(([e,t])=>{nZ[t]=e});let n0=function e(t){let i=new nQ(t),n=tR(nQ.prototype.request,i);return ii.extend(n,nQ.prototype,i,{allOwnKeys:!0}),ii.extend(n,i,null,{allOwnKeys:!0}),n.create=function(i){return e(nk(t,i))},n}(iO);n0.Axios=nQ,n0.CanceledError=iB,n0.CancelToken=nX,n0.isCancel=iF,n0.VERSION=iY,n0.toFormData=ip,n0.AxiosError=is,n0.Cancel=n0.CanceledError,n0.all=function(e){return Promise.all(e)},n0.spread=function(e){return function(t){return e.apply(null,t)}},n0.isAxiosError=function(e){return ii.isObject(e)&&!0===e.isAxiosError},n0.mergeConfig=nk,n0.AxiosHeaders=iM,n0.formToJSON=e=>iR(ii.isHTMLForm(e)?new FormData(e):e),n0.getAdapter=nW.getAdapter,n0.HttpStatusCode=nZ,n0.default=n0;let{Axios:n1,AxiosError:n2,CanceledError:n3,isCancel:n4,CancelToken:n5,VERSION:n6,all:n8,Cancel:n9,isAxiosError:n7,spread:se,toFormData:st,AxiosHeaders:si,HttpStatusCode:sn,formToJSON:ss,getAdapter:sr,mergeConfig:sa}=n0;function so(e,t){if(e)for(let[i,n]of Object.entries(e))n instanceof Date?t[i]=new Date(n.getTime()):Array.isArray(n)?t[i]=n.concat():t[i]=n}(function(e){e[e.cancelled=0]="cancelled",e[e.unknown=1]="unknown",e[e.invalid_argument=2]="invalid_argument",e[e.malformed=3]="malformed",e[e.deadline_exceeded=4]="deadline_exceeded",e[e.not_found=5]="not_found",e[e.bad_route=6]="bad_route",e[e.already_exists=7]="already_exists",e[e.permission_denied=8]="permission_denied",e[e.unauthenticated=9]="unauthenticated",e[e.resource_exhausted=10]="resource_exhausted",e[e.failed_precondition=11]="failed_precondition",e[e.aborted=12]="aborted",e[e.out_of_range=13]="out_of_range",e[e.unimplemented=14]="unimplemented",e[e.internal=15]="internal",e[e.unavailable=16]="unavailable",e[e.dataloss=17]="dataloss"})(S||(S={})),function(e){e[e.PENDING=0]="PENDING",e[e.REJECTED=1]="REJECTED",e[e.RESOLVED=2]="RESOLVED"}(k||(k={}));class sl{constructor(e=!0){this._state=k.PENDING,this._promise=new Promise((e,t)=>{this._resolve=e,this._reject=t}),e&&this._promise.catch(e=>{})}get state(){return this._state}get promise(){return this._promise}resolve(e){if(this.state!==k.PENDING)throw Error(`cannot resolve ${k[this.state].toLowerCase()}`);this._resolve(e),this._state=k.RESOLVED}reject(e){if(this.state!==k.PENDING)throw Error(`cannot reject ${k[this.state].toLowerCase()}`);this._reject(e),this._state=k.REJECTED}resolvePending(e){this._state===k.PENDING&&this.resolve(e)}rejectPending(e){this._state===k.PENDING&&this.reject(e)}}class sc{constructor(e,t,i,n,s,r,a){this.method=e,this.requestHeaders=t,this.request=i,this.headers=n,this.response=s,this.status=r,this.trailers=a}then(e,t){return this.promiseFinished().then(t=>e?Promise.resolve(e(t)):t,e=>t?Promise.resolve(t(e)):Promise.reject(e))}promiseFinished(){var e,t,i,n;return e=this,t=void 0,i=void 0,n=function*(){let[e,t,i,n]=yield Promise.all([this.headers,this.response,this.status,this.trailers]);return{method:this.method,requestHeaders:this.requestHeaders,request:this.request,headers:e,response:t,status:i,trailers:n}},new(i||(i=Promise))(function(s,r){function a(e){try{l(n.next(e))}catch(e){r(e)}}function o(e){try{l(n.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?s(e.value):((t=e.value)instanceof i?t:new i(function(e){e(t)})).then(a,o)}l((n=n.apply(e,t||[])).next())})}}class sd{constructor(e){this.defaultOptions=e}mergeOptions(e){return function(e,t){if(!t)return e;let i={};for(let r of(so(e,i),so(t,i),Object.keys(t))){let a=t[r];switch(r){case"jsonOptions":i.jsonOptions=function(e,t){var i,n;let s=Object.assign(Object.assign({},e),t);return s.typeRegistry=[...null!==(i=null==e?void 0:e.typeRegistry)&&void 0!==i?i:[],...null!==(n=null==t?void 0:t.typeRegistry)&&void 0!==n?n:[]],s}(e.jsonOptions,i.jsonOptions);break;case"binaryOptions":var n,s;i.binaryOptions=(n=e.binaryOptions,s=i.binaryOptions,Object.assign(Object.assign({},n),s));break;case"meta":i.meta={},so(e.meta,i.meta),so(t.meta,i.meta);break;case"interceptors":i.interceptors=e.interceptors?e.interceptors.concat(a):a.concat()}}return i}(this.defaultOptions,e)}unary(e,t,i){var n,s,r;let a=this.makeUrl(e,i),o=null!==(n=i.fetchInit)&&void 0!==n?n:{},l=i.sendJson?e.I.toJsonString(t,i.jsonOptions):e.I.toBinary(t,i.binaryOptions),c=new sl,d=new sl,u=new sl,p=new sl;return globalThis.fetch(a,Object.assign(Object.assign({},o),{method:"POST",headers:function(e,t,i){if(i)for(let[t,n]of Object.entries(i))if("string"==typeof n)e.append(t,n);else for(let i of n)e.append(t,i);return e.set("Content-Type",t?"application/json":"application/protobuf"),e.set("Accept",t?"application/json":"application/protobuf, application/json"),e}(new globalThis.Headers,!!i.sendJson,i.meta),body:l,signal:null!==(s=i.abort)&&void 0!==s?s:null})).then(t=>{var n;let s,r;c.resolve((n=t.headers,r={},n.forEach((e,t)=>{"content-type"!==t.toLowerCase()&&"content-length"!==t.toLowerCase()&&(r.hasOwnProperty(t)?r[t].push(e):r[t]=e)}),r));try{s=t.type}catch(e){}switch(s){case"error":case"opaque":case"opaqueredirect":throw new tC(`fetch response type ${t.type}`,S[S.unknown])}return t.ok?i.sendJson?t.json().then(t=>e.O.fromJson(t,i.jsonOptions),()=>{throw new tC("unable to read response body as json",S[S.dataloss])}):t.arrayBuffer().then(t=>e.O.fromBinary(new Uint8Array(t),i.binaryOptions),()=>{throw new tC("unable to read response body",S[S.dataloss])}):t.json().then(e=>{throw function(e){if(!eX(e)||"string"!=typeof e.code||"string"!=typeof e.msg)return new tC("cannot read twirp error response",S[S.internal]);let t={};if(eX(e.meta))for(let[i,n]of Object.entries(e.meta))"string"==typeof n&&(t[i]=n);return new tC(e.msg,e.code,t)}(e)},()=>{throw new tC("received HTTP "+t.status+", unable to read response body as json",S[S.internal])})},e=>{if(e instanceof Error&&"AbortError"===e.name)throw new tC(e.message,S[S.cancelled]);throw new tC(e instanceof Error?e.message:e)}).then(e=>{d.resolve(e),u.resolve({code:"OK",detail:""}),p.resolve({})}).catch(t=>{let i=t instanceof tC?t:new tC(t instanceof Error?t.message:t,S[S.internal]);i.methodName=e.name,i.serviceName=e.service.typeName,c.rejectPending(i),d.rejectPending(i),u.rejectPending(i),p.rejectPending(i)}),new sc(e,null!==(r=i.meta)&&void 0!==r?r:{},t,c.promise,d.promise,u.promise,p.promise)}makeUrl(e,t){let i=t.baseUrl;i.endsWith("/")&&(i=i.substring(0,i.length-1));let n=e.name;return!0!==t.useProtoMethodName&&(n=(n=eG(n)).substring(0,1).toUpperCase()+n.substring(1)),`${i}/${e.service.typeName}/${n}`}clientStreaming(e){let t=new tC("Client streaming is not supported by Twirp",S[S.unimplemented]);throw t.methodName=e.name,t.serviceName=e.service.typeName,t}duplex(e){let t=new tC("Duplex streaming is not supported by Twirp",S[S.unimplemented]);throw t.methodName=e.name,t.serviceName=e.service.typeName,t}serverStreaming(e){let t=new tC("Server streaming is not supported by Twirp",S[S.unimplemented]);throw t.methodName=e.name,t.serviceName=e.service.typeName,t}}var su=i(53557),sp=i(65826);function sh(e){return"function"==typeof e}function sm(e){var t=e(function(e){Error.call(e),e.stack=Error().stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var sf=sm(function(e){return function(t){e(this),this.message=t?t.length+" errors occurred during unsubscription:\n"+t.map(function(e,t){return t+1+") "+e.toString()}).join("\n  "):"",this.name="UnsubscriptionError",this.errors=t}});function sg(e,t){if(e){var i=e.indexOf(t);0<=i&&e.splice(i,1)}}var sv=function(){var e;function t(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}return t.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var e,t,i,n,s,r=this._parentage;if(r){if(this._parentage=null,Array.isArray(r))try{for(var a=(0,sp.XA)(r),o=a.next();!o.done;o=a.next())o.value.remove(this)}catch(t){e={error:t}}finally{try{o&&!o.done&&(t=a.return)&&t.call(a)}finally{if(e)throw e.error}}else r.remove(this)}var l=this.initialTeardown;if(sh(l))try{l()}catch(e){s=e instanceof sf?e.errors:[e]}var c=this._finalizers;if(c){this._finalizers=null;try{for(var d=(0,sp.XA)(c),u=d.next();!u.done;u=d.next()){var p=u.value;try{sx(p)}catch(e){s=null!=s?s:[],e instanceof sf?s=(0,sp.ev)((0,sp.ev)([],(0,sp.CR)(s)),(0,sp.CR)(e.errors)):s.push(e)}}}catch(e){i={error:e}}finally{try{u&&!u.done&&(n=d.return)&&n.call(d)}finally{if(i)throw i.error}}}if(s)throw new sf(s)}},t.prototype.add=function(e){var i;if(e&&e!==this){if(this.closed)sx(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(i=this._finalizers)&&void 0!==i?i:[]).push(e)}}},t.prototype._hasParent=function(e){var t=this._parentage;return t===e||Array.isArray(t)&&t.includes(e)},t.prototype._addParent=function(e){var t=this._parentage;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e},t.prototype._removeParent=function(e){var t=this._parentage;t===e?this._parentage=null:Array.isArray(t)&&sg(t,e)},t.prototype.remove=function(e){var i=this._finalizers;i&&sg(i,e),e instanceof t&&e._removeParent(this)},t.EMPTY=((e=new t).closed=!0,e),t}(),sb=sv.EMPTY;function sy(e){return e instanceof sv||e&&"closed"in e&&sh(e.remove)&&sh(e.add)&&sh(e.unsubscribe)}function sx(e){sh(e)?e():e.unsubscribe()}var s_={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},sw={setTimeout:function(e,t){for(var i=[],n=2;n<arguments.length;n++)i[n-2]=arguments[n];var s=sw.delegate;return(null==s?void 0:s.setTimeout)?s.setTimeout.apply(s,(0,sp.ev)([e,t],(0,sp.CR)(i))):setTimeout.apply(void 0,(0,sp.ev)([e,t],(0,sp.CR)(i)))},clearTimeout:function(e){var t=sw.delegate;return((null==t?void 0:t.clearTimeout)||clearTimeout)(e)},delegate:void 0};function sS(e){sw.setTimeout(function(){var t=s_.onUnhandledError;if(t)t(e);else throw e})}function sk(){}var sE=sT("C",void 0,void 0);function sT(e,t,i){return{kind:e,value:t,error:i}}var sC=null;function sR(e){if(s_.useDeprecatedSynchronousErrorHandling){var t=!sC;if(t&&(sC={errorThrown:!1,error:null}),e(),t){var i=sC,n=i.errorThrown,s=i.error;if(sC=null,n)throw s}}else e()}var sO=function(e){function t(t){var i=e.call(this)||this;return i.isStopped=!1,t?(i.destination=t,sy(t)&&t.add(i)):i.destination=sL,i}return(0,sp.ZT)(t,e),t.create=function(e,t,i){return new sN(e,t,i)},t.prototype.next=function(e){this.isStopped?sA(sT("N",e,void 0),this):this._next(e)},t.prototype.error=function(e){this.isStopped?sA(sT("E",void 0,e),this):(this.isStopped=!0,this._error(e))},t.prototype.complete=function(){this.isStopped?sA(sE,this):(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this),this.destination=null)},t.prototype._next=function(e){this.destination.next(e)},t.prototype._error=function(e){try{this.destination.error(e)}finally{this.unsubscribe()}},t.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},t}(sv),sP=Function.prototype.bind;function sj(e,t){return sP.call(e,t)}var sI=function(){function e(e){this.partialObserver=e}return e.prototype.next=function(e){var t=this.partialObserver;if(t.next)try{t.next(e)}catch(e){sD(e)}},e.prototype.error=function(e){var t=this.partialObserver;if(t.error)try{t.error(e)}catch(e){sD(e)}else sD(e)},e.prototype.complete=function(){var e=this.partialObserver;if(e.complete)try{e.complete()}catch(e){sD(e)}},e}(),sN=function(e){function t(t,i,n){var s,r,a=e.call(this)||this;return sh(t)||!t?s={next:null!=t?t:void 0,error:null!=i?i:void 0,complete:null!=n?n:void 0}:a&&s_.useDeprecatedNextContext?((r=Object.create(t)).unsubscribe=function(){return a.unsubscribe()},s={next:t.next&&sj(t.next,r),error:t.error&&sj(t.error,r),complete:t.complete&&sj(t.complete,r)}):s=t,a.destination=new sI(s),a}return(0,sp.ZT)(t,e),t}(sO);function sD(e){s_.useDeprecatedSynchronousErrorHandling?s_.useDeprecatedSynchronousErrorHandling&&sC&&(sC.errorThrown=!0,sC.error=e):sS(e)}function sA(e,t){var i=s_.onStoppedNotification;i&&sw.setTimeout(function(){return i(e,t)})}var sL={closed:!0,next:sk,error:function(e){throw e},complete:sk},sM="function"==typeof Symbol&&Symbol.observable||"@@observable";function sU(e){return e}var sF=function(){function e(e){e&&(this._subscribe=e)}return e.prototype.lift=function(t){var i=new e;return i.source=this,i.operator=t,i},e.prototype.subscribe=function(e,t,i){var n,s=this,r=(n=e)&&n instanceof sO||n&&sh(n.next)&&sh(n.error)&&sh(n.complete)&&sy(n)?e:new sN(e,t,i);return sR(function(){var e=s.operator,t=s.source;r.add(e?e.call(r,t):t?s._subscribe(r):s._trySubscribe(r))}),r},e.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(t){e.error(t)}},e.prototype.forEach=function(e,t){var i=this;return new(t=sB(t))(function(t,n){var s=new sN({next:function(t){try{e(t)}catch(e){n(e),s.unsubscribe()}},error:n,complete:t});i.subscribe(s)})},e.prototype._subscribe=function(e){var t;return null===(t=this.source)||void 0===t?void 0:t.subscribe(e)},e.prototype[sM]=function(){return this},e.prototype.pipe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return(0===e.length?sU:1===e.length?e[0]:function(t){return e.reduce(function(e,t){return t(e)},t)})(this)},e.prototype.toPromise=function(e){var t=this;return new(e=sB(e))(function(e,i){var n;t.subscribe(function(e){return n=e},function(e){return i(e)},function(){return e(n)})})},e.create=function(t){return new e(t)},e}();function sB(e){var t;return null!==(t=null!=e?e:s_.Promise)&&void 0!==t?t:Promise}var s$=sm(function(e){return function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}}),sq=function(e){function t(){var t=e.call(this)||this;return t.closed=!1,t.currentObservers=null,t.observers=[],t.isStopped=!1,t.hasError=!1,t.thrownError=null,t}return(0,sp.ZT)(t,e),t.prototype.lift=function(e){var t=new sV(this,this);return t.operator=e,t},t.prototype._throwIfClosed=function(){if(this.closed)throw new s$},t.prototype.next=function(e){var t=this;sR(function(){var i,n;if(t._throwIfClosed(),!t.isStopped){t.currentObservers||(t.currentObservers=Array.from(t.observers));try{for(var s=(0,sp.XA)(t.currentObservers),r=s.next();!r.done;r=s.next())r.value.next(e)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=s.return)&&n.call(s)}finally{if(i)throw i.error}}}})},t.prototype.error=function(e){var t=this;sR(function(){if(t._throwIfClosed(),!t.isStopped){t.hasError=t.isStopped=!0,t.thrownError=e;for(var i=t.observers;i.length;)i.shift().error(e)}})},t.prototype.complete=function(){var e=this;sR(function(){if(e._throwIfClosed(),!e.isStopped){e.isStopped=!0;for(var t=e.observers;t.length;)t.shift().complete()}})},t.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(t.prototype,"observed",{get:function(){var e;return(null===(e=this.observers)||void 0===e?void 0:e.length)>0},enumerable:!1,configurable:!0}),t.prototype._trySubscribe=function(t){return this._throwIfClosed(),e.prototype._trySubscribe.call(this,t)},t.prototype._subscribe=function(e){return this._throwIfClosed(),this._checkFinalizedStatuses(e),this._innerSubscribe(e)},t.prototype._innerSubscribe=function(e){var t=this,i=this.hasError,n=this.isStopped,s=this.observers;return i||n?sb:(this.currentObservers=null,s.push(e),new sv(function(){t.currentObservers=null,sg(s,e)}))},t.prototype._checkFinalizedStatuses=function(e){var t=this.hasError,i=this.thrownError,n=this.isStopped;t?e.error(i):n&&e.complete()},t.prototype.asObservable=function(){var e=new sF;return e.source=this,e},t.create=function(e,t){return new sV(e,t)},t}(sF),sV=function(e){function t(t,i){var n=e.call(this)||this;return n.destination=t,n.source=i,n}return(0,sp.ZT)(t,e),t.prototype.next=function(e){var t,i;null===(i=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===i||i.call(t,e)},t.prototype.error=function(e){var t,i;null===(i=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===i||i.call(t,e)},t.prototype.complete=function(){var e,t;null===(t=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===t||t.call(e)},t.prototype._subscribe=function(e){var t,i;return null!==(i=null===(t=this.source)||void 0===t?void 0:t.subscribe(e))&&void 0!==i?i:sb},t}(sq),sW={now:function(){return(sW.delegate||Date).now()},delegate:void 0},sz=function(e){function t(t,i,n){void 0===t&&(t=1/0),void 0===i&&(i=1/0),void 0===n&&(n=sW);var s=e.call(this)||this;return s._bufferSize=t,s._windowTime=i,s._timestampProvider=n,s._buffer=[],s._infiniteTimeWindow=!0,s._infiniteTimeWindow=i===1/0,s._bufferSize=Math.max(1,t),s._windowTime=Math.max(1,i),s}return(0,sp.ZT)(t,e),t.prototype.next=function(t){var i=this.isStopped,n=this._buffer,s=this._infiniteTimeWindow,r=this._timestampProvider,a=this._windowTime;!i&&(n.push(t),s||n.push(r.now()+a)),this._trimBuffer(),e.prototype.next.call(this,t)},t.prototype._subscribe=function(e){this._throwIfClosed(),this._trimBuffer();for(var t=this._innerSubscribe(e),i=this._infiniteTimeWindow,n=this._buffer.slice(),s=0;s<n.length&&!e.closed;s+=i?1:2)e.next(n[s]);return this._checkFinalizedStatuses(e),t},t.prototype._trimBuffer=function(){var e=this._bufferSize,t=this._timestampProvider,i=this._buffer,n=this._infiniteTimeWindow,s=(n?1:2)*e;if(e<1/0&&s<i.length&&i.splice(0,i.length-s),!n){for(var r=t.now(),a=0,o=1;o<i.length&&i[o]<=r;o+=2)a=o;a&&i.splice(0,a+1)}},t}(sq),sH=Array.isArray,sK=Object.getPrototypeOf,sG=Object.prototype,sJ=Object.keys,sY=function(e){return e&&"number"==typeof e.length&&"function"!=typeof e};function sQ(e){return sh(null==e?void 0:e.then)}function sX(e){return Symbol.asyncIterator&&sh(null==e?void 0:e[Symbol.asyncIterator])}function sZ(e){return TypeError("You provided "+(null!==e&&"object"==typeof e?"an invalid object":"'"+e+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}var s0="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator";function s1(e){return sh(null==e?void 0:e[s0])}function s2(e){return(0,sp.FC)(this,arguments,function(){var t,i,n;return(0,sp.Jh)(this,function(s){switch(s.label){case 0:t=e.getReader(),s.label=1;case 1:s.trys.push([1,,9,10]),s.label=2;case 2:return[4,(0,sp.qq)(t.read())];case 3:if(n=(i=s.sent()).value,!i.done)return[3,5];return[4,(0,sp.qq)(void 0)];case 4:return[2,s.sent()];case 5:return[4,(0,sp.qq)(n)];case 6:return[4,s.sent()];case 7:return s.sent(),[3,2];case 8:return[3,10];case 9:return t.releaseLock(),[7];case 10:return[2]}})})}function s3(e){return sh(null==e?void 0:e.getReader)}function s4(e){if(e instanceof sF)return e;if(null!=e){if(sh(e[sM]))return new sF(function(t){var i=e[sM]();if(sh(i.subscribe))return i.subscribe(t);throw TypeError("Provided object does not correctly implement Symbol.observable")});if(sY(e))return new sF(function(t){for(var i=0;i<e.length&&!t.closed;i++)t.next(e[i]);t.complete()});if(sQ(e))return new sF(function(t){e.then(function(e){t.closed||(t.next(e),t.complete())},function(e){return t.error(e)}).then(null,sS)});if(sX(e))return s5(e);if(s1(e))return new sF(function(t){var i,n;try{for(var s=(0,sp.XA)(e),r=s.next();!r.done;r=s.next()){var a=r.value;if(t.next(a),t.closed)return}}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=s.return)&&n.call(s)}finally{if(i)throw i.error}}t.complete()});if(s3(e))return s5(s2(e))}throw sZ(e)}function s5(e){return new sF(function(t){(function(e,t){var i,n,s,r;return(0,sp.mG)(this,void 0,void 0,function(){var a;return(0,sp.Jh)(this,function(o){switch(o.label){case 0:o.trys.push([0,5,6,11]),i=(0,sp.KL)(e),o.label=1;case 1:return[4,i.next()];case 2:if((n=o.sent()).done)return[3,4];if(a=n.value,t.next(a),t.closed)return[2];o.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return s={error:o.sent()},[3,11];case 6:if(o.trys.push([6,,9,10]),!(n&&!n.done&&(r=i.return)))return[3,8];return[4,r.call(i)];case 7:o.sent(),o.label=8;case 8:return[3,10];case 9:if(s)throw s.error;return[7];case 10:return[7];case 11:return t.complete(),[2]}})})})(e,t).catch(function(e){return t.error(e)})})}function s6(e,t,i,n,s){void 0===n&&(n=0),void 0===s&&(s=!1);var r=t.schedule(function(){i(),s?e.add(this.schedule(null,n)):this.unsubscribe()},n);if(e.add(r),!s)return r}function s8(e){return function(t){if(sh(null==t?void 0:t.lift))return t.lift(function(t){try{return e(t,this)}catch(e){this.error(e)}});throw TypeError("Unable to lift unknown Observable type")}}function s9(e,t,i,n,s){return new s7(e,t,i,n,s)}var s7=function(e){function t(t,i,n,s,r,a){var o=e.call(this,t)||this;return o.onFinalize=r,o.shouldUnsubscribe=a,o._next=i?function(e){try{i(e)}catch(e){t.error(e)}}:e.prototype._next,o._error=s?function(e){try{s(e)}catch(e){t.error(e)}finally{this.unsubscribe()}}:e.prototype._error,o._complete=n?function(){try{n()}catch(e){t.error(e)}finally{this.unsubscribe()}}:e.prototype._complete,o}return(0,sp.ZT)(t,e),t.prototype.unsubscribe=function(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var i=this.closed;e.prototype.unsubscribe.call(this),i||null===(t=this.onFinalize)||void 0===t||t.call(this)}},t}(sO);function re(e,t){return void 0===t&&(t=0),s8(function(i,n){i.subscribe(s9(n,function(i){return s6(n,e,function(){return n.next(i)},t)},function(){return s6(n,e,function(){return n.complete()},t)},function(i){return s6(n,e,function(){return n.error(i)},t)}))})}function rt(e,t){return void 0===t&&(t=0),s8(function(i,n){n.add(e.schedule(function(){return i.subscribe(n)},t))})}function ri(e,t){if(!e)throw Error("Iterable cannot be null");return new sF(function(i){s6(i,t,function(){var n=e[Symbol.asyncIterator]();s6(i,t,function(){n.next().then(function(e){e.done?i.complete():i.next(e.value)})},0,!0)})})}function rn(e,t){return t?function(e,t){if(null!=e){if(sh(e[sM]))return s4(e).pipe(rt(t),re(t));if(sY(e))return new sF(function(i){var n=0;return t.schedule(function(){n===e.length?i.complete():(i.next(e[n++]),i.closed||this.schedule())})});if(sQ(e))return s4(e).pipe(rt(t),re(t));if(sX(e))return ri(e,t);if(s1(e))return new sF(function(i){var n;return s6(i,t,function(){n=e[s0](),s6(i,t,function(){var e,t,s;try{t=(e=n.next()).value,s=e.done}catch(e){i.error(e);return}s?i.complete():i.next(t)},0,!0)}),function(){return sh(null==n?void 0:n.return)&&n.return()}});if(s3(e))return ri(s2(e),t)}throw sZ(e)}(e,t):s4(e)}function rs(e,t){return s8(function(i,n){var s=0;i.subscribe(s9(n,function(i){n.next(e.call(t,i,s++))}))})}var rr=Array.isArray;function ra(e){return rs(function(t){return rr(t)?e.apply(void 0,(0,sp.ev)([],(0,sp.CR)(t))):e(t)})}function ro(e){return e[e.length-1]}function rl(e){var t;return(t=ro(e))&&sh(t.schedule)?e.pop():void 0}function rc(){for(var e,t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];var n=rl(t),s=sh(ro(t))?t.pop():void 0,r=function(e){if(1===e.length){var t=e[0];if(sH(t))return{args:t,keys:null};if(t&&"object"==typeof t&&sK(t)===sG){var i=sJ(t);return{args:i.map(function(e){return t[e]}),keys:i}}}return{args:e,keys:null}}(t),a=r.args,o=r.keys;if(0===a.length)return rn([],n);var l=new sF((void 0===(e=o?function(e){return o.reduce(function(t,i,n){return t[i]=e[n],t},{})}:sU)&&(e=sU),function(t){var i,s,r;i=n,s=function(){for(var i=a.length,s=Array(i),r=i,o=i,l=function(i){var l,c,d;l=n,c=function(){var l=rn(a[i],n),c=!1;l.subscribe(s9(t,function(n){s[i]=n,!c&&(c=!0,o--),o||t.next(e(s.slice()))},function(){--r||t.complete()}))},d=t,l?s6(d,l,c):c()},c=0;c<i;c++)l(c)},r=t,i?s6(r,i,s):s()}));return s?l.pipe(ra(s)):l}var rd=function(e){function t(t){var i=e.call(this)||this;return i._value=t,i}return(0,sp.ZT)(t,e),Object.defineProperty(t.prototype,"value",{get:function(){return this.getValue()},enumerable:!1,configurable:!0}),t.prototype._subscribe=function(t){var i=e.prototype._subscribe.call(this,t);return i.closed||t.next(this._value),i},t.prototype.getValue=function(){var e=this.hasError,t=this.thrownError,i=this._value;if(e)throw t;return this._throwIfClosed(),i},t.prototype.next=function(t){e.prototype.next.call(this,this._value=t)},t}(sq);function ru(e,t){for(var i=[],n=2;n<arguments.length;n++)i[n-2]=arguments[n];if(!0===t){e();return}if(!1!==t){var s=new sN({next:function(){s.unsubscribe(),e()}});return s4(t.apply(void 0,(0,sp.ev)([],(0,sp.CR)(i)))).subscribe(s)}}function rp(e,t,i){var n,s,r,a,o,l,c,d,u,p,h,m,f,g=!1;return e&&"object"==typeof e?(f=void 0===(p=e.bufferSize)?1/0:p,t=void 0===(h=e.windowTime)?1/0:h,g=void 0!==(m=e.refCount)&&m,i=e.scheduler):f=null!=e?e:1/0,r=void 0===(s=(n={connector:function(){return new sz(f,t,i)},resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:g}).connector)?function(){return new sq}:s,o=void 0===(a=n.resetOnError)||a,c=void 0===(l=n.resetOnComplete)||l,u=void 0===(d=n.resetOnRefCountZero)||d,function(e){var t,i,n,s=0,a=!1,l=!1,d=function(){null==i||i.unsubscribe(),i=void 0},p=function(){d(),t=n=void 0,a=l=!1},h=function(){var e=t;p(),null==e||e.unsubscribe()};return s8(function(e,m){s++,l||a||d();var f=n=null!=n?n:r();m.add(function(){0!=--s||l||a||(i=ru(h,u))}),f.subscribe(m),!t&&s>0&&(t=new sN({next:function(e){return f.next(e)},error:function(e){l=!0,d(),i=ru(p,o,e),f.error(e)},complete:function(){a=!0,d(),i=ru(p,c),f.complete()}}),s4(e).subscribe(t))})(e)}}function rh(e,t){return void 0===t&&(t=sU),e=null!=e?e:rm,s8(function(i,n){var s,r=!0;i.subscribe(s9(n,function(i){var a=t(i);(r||!e(s,a))&&(r=!1,s=a,n.next(i))}))})}function rm(e,t){return e===t}function rf(e,t){return void 0===t&&(t=!1),s8(function(i,n){var s=0;i.subscribe(s9(n,function(i){var r=e(i,s++);(r||t)&&n.next(i),r||n.complete()}))})}function rg(e,t){return rh(function(i,n){return t?t(i[e],n[e]):i[e]===n[e]})}function rv(e,t,i){return(void 0===i&&(i=1/0),sh(t))?rv(function(i,n){return rs(function(e,s){return t(i,e,n,s)})(s4(e(i,n)))},i):("number"==typeof t&&(i=t),s8(function(t,n){var s,r,a,o,l,c,d,u,p;return s=i,a=[],o=0,l=0,c=!1,d=function(){!c||a.length||o||n.complete()},u=function(e){return o<s?p(e):a.push(e)},p=function(t){o++;var i=!1;s4(e(t,l++)).subscribe(s9(n,function(e){r?u(e):n.next(e)},function(){i=!0},void 0,function(){if(i)try{for(o--;a.length&&o<s;)!function(){var e=a.shift();p(e)}();d()}catch(e){n.error(e)}}))},t.subscribe(s9(n,u,function(){c=!0,d()})),function(){}}))}var rb=["addListener","removeListener"],ry=["addEventListener","removeEventListener"],rx=["on","off"];function r_(e,t){return function(i){return function(n){return e[i](t,n)}}}var rw=function(e){function t(t,i){return e.call(this)||this}return(0,sp.ZT)(t,e),t.prototype.schedule=function(e,t){return void 0===t&&(t=0),this},t}(sv),rS={setInterval:function(e,t){for(var i=[],n=2;n<arguments.length;n++)i[n-2]=arguments[n];var s=rS.delegate;return(null==s?void 0:s.setInterval)?s.setInterval.apply(s,(0,sp.ev)([e,t],(0,sp.CR)(i))):setInterval.apply(void 0,(0,sp.ev)([e,t],(0,sp.CR)(i)))},clearInterval:function(e){var t=rS.delegate;return((null==t?void 0:t.clearInterval)||clearInterval)(e)},delegate:void 0},rk=function(e){function t(t,i){var n=e.call(this,t,i)||this;return n.scheduler=t,n.work=i,n.pending=!1,n}return(0,sp.ZT)(t,e),t.prototype.schedule=function(e,t){if(void 0===t&&(t=0),this.closed)return this;this.state=e;var i,n=this.id,s=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(s,n,t)),this.pending=!0,this.delay=t,this.id=null!==(i=this.id)&&void 0!==i?i:this.requestAsyncId(s,this.id,t),this},t.prototype.requestAsyncId=function(e,t,i){return void 0===i&&(i=0),rS.setInterval(e.flush.bind(e,this),i)},t.prototype.recycleAsyncId=function(e,t,i){if(void 0===i&&(i=0),null!=i&&this.delay===i&&!1===this.pending)return t;null!=t&&rS.clearInterval(t)},t.prototype.execute=function(e,t){if(this.closed)return Error("executing a cancelled action");this.pending=!1;var i=this._execute(e,t);if(i)return i;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},t.prototype._execute=function(e,t){var i,n=!1;try{this.work(e)}catch(e){n=!0,i=e||Error("Scheduled action threw falsy error")}if(n)return this.unsubscribe(),i},t.prototype.unsubscribe=function(){if(!this.closed){var t=this.id,i=this.scheduler,n=i.actions;this.work=this.state=this.scheduler=null,this.pending=!1,sg(n,this),null!=t&&(this.id=this.recycleAsyncId(i,t,null)),this.delay=null,e.prototype.unsubscribe.call(this)}},t}(rw),rE=function(){function e(t,i){void 0===i&&(i=e.now),this.schedulerActionCtor=t,this.now=i}return e.prototype.schedule=function(e,t,i){return void 0===t&&(t=0),new this.schedulerActionCtor(this,e).schedule(i,t)},e.now=sW.now,e}(),rT=new(function(e){function t(t,i){void 0===i&&(i=rE.now);var n=e.call(this,t,i)||this;return n.actions=[],n._active=!1,n}return(0,sp.ZT)(t,e),t.prototype.flush=function(e){var t,i=this.actions;if(this._active){i.push(e);return}this._active=!0;do if(t=e.execute(e.state,e.delay))break;while(e=i.shift());if(this._active=!1,t){for(;e=i.shift();)e.unsubscribe();throw t}},t}(rE))(rk);function rC(e){return void 0===e&&(e=1/0),rv(sU,e)}var rR=new sF(function(e){return e.complete()});function rO(){for(var e,t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];var n=rl(t),s=(e=1/0,"number"==typeof ro(t)?t.pop():e);return t.length?1===t.length?s4(t[0]):rC(s)(rn(t,n)):rR}function rP(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return rC(1)(rn(e,rl(e)))}function rj(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var i=rl(e);return s8(function(t,n){(i?rP(e,t,i):rP(e,t)).subscribe(n)})}function rI(e,t){return sh(t)?rv(e,t,1):rv(e,1)}function rN(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var i=rl(e);return rn(e,i)}var rD=i(25515),rA=i(73512),rL=i.n(rA),rM=i(714);let rU={DISABLED:"disabled",AUTO_ON:"auto-on"},rF={BLOCK_USERS:"block-users",CREATE_REACTION:"create-reaction",ENABLE_NOISE_CANCELLATION:"enable-noise-cancellation",JOIN_BACKSTAGE:"join-backstage",MUTE_USERS:"mute-users",PIN_FOR_EVERYONE:"pin-for-everyone",SCREENSHARE:"screenshare",SEND_AUDIO:"send-audio",SEND_VIDEO:"send-video",START_RECORD_CALL:"start-record-call",STOP_RECORD_CALL:"stop-record-call",UPDATE_CALL_PERMISSIONS:"update-call-permissions"};class rB extends Error{}!function(e){e[e.NULL_VALUE=0]="NULL_VALUE"}(E||(E={}));class r$ extends tk{constructor(){super("google.protobuf.Struct",[{no:1,name:"fields",kind:"map",K:9,V:{kind:"message",T:()=>rW}}])}internalJsonWrite(e,t){let i={};for(let[t,n]of Object.entries(e.fields))i[t]=rW.toJson(n);return i}internalJsonRead(e,t,i){if(!eX(e))throw new globalThis.Error("Unable to parse message "+this.typeName+" from JSON "+eQ(e)+".");for(let[t,n]of(i||(i=this.create()),globalThis.Object.entries(e)))i.fields[t]=rW.fromJson(n);return i}create(e){let t=globalThis.Object.create(this.messagePrototype);return t.fields={},void 0!==e&&tp(this,t,e),t}internalBinaryRead(e,t,i,n){let s=n??this.create(),r=e.pos+t;for(;e.pos<r;){let[t,n]=e.tag();if(1===t)this.binaryReadMap1(s.fields,e,i);else{let r=i.readUnknownField;if("throw"===r)throw new globalThis.Error(`Unknown field ${t} (wire type ${n}) for ${this.typeName}`);let a=e.skip(n);!1!==r&&(!0===r?_.onRead:r)(this.typeName,s,t,n,a)}}return s}binaryReadMap1(e,t,i){let n=t.uint32(),s=t.pos+n,r,a;for(;t.pos<s;){let[e,n]=t.tag();switch(e){case 1:r=t.string();break;case 2:a=rW.internalBinaryRead(t,t.uint32(),i);break;default:throw new globalThis.Error("unknown map entry field for field google.protobuf.Struct.fields")}}e[r??""]=a??rW.create()}internalBinaryWrite(e,t,i){for(let n of globalThis.Object.keys(e.fields))t.tag(1,w.LengthDelimited).fork().tag(1,w.LengthDelimited).string(n),t.tag(2,w.LengthDelimited).fork(),rW.internalBinaryWrite(e.fields[n],t,i),t.join().join();let n=i.writeUnknownFields;return!1!==n&&(!0==n?_.onWrite:n)(this.typeName,e,t),t}}let rq=new r$;class rV extends tk{constructor(){super("google.protobuf.Value",[{no:1,name:"null_value",kind:"enum",oneof:"kind",T:()=>["google.protobuf.NullValue",E]},{no:2,name:"number_value",kind:"scalar",oneof:"kind",T:1},{no:3,name:"string_value",kind:"scalar",oneof:"kind",T:9},{no:4,name:"bool_value",kind:"scalar",oneof:"kind",T:8},{no:5,name:"struct_value",kind:"message",oneof:"kind",T:()=>rq},{no:6,name:"list_value",kind:"message",oneof:"kind",T:()=>rH}])}internalJsonWrite(e,t){if(void 0===e.kind.oneofKind)throw new globalThis.Error;switch(e.kind.oneofKind){case void 0:throw new globalThis.Error;case"boolValue":return e.kind.boolValue;case"nullValue":return null;case"numberValue":let i=e.kind.numberValue;if("number"==typeof i&&!Number.isFinite(i))throw new globalThis.Error;return i;case"stringValue":return e.kind.stringValue;case"listValue":let n=this.fields.find(e=>6===e.no);if(n?.kind!=="message")throw new globalThis.Error;return n.T().toJson(e.kind.listValue);case"structValue":let s=this.fields.find(e=>5===e.no);if(s?.kind!=="message")throw new globalThis.Error;return s.T().toJson(e.kind.structValue)}}internalJsonRead(e,t,i){switch(i||(i=this.create()),typeof e){case"number":i.kind={oneofKind:"numberValue",numberValue:e};break;case"string":i.kind={oneofKind:"stringValue",stringValue:e};break;case"boolean":i.kind={oneofKind:"boolValue",boolValue:e};break;case"object":null===e?i.kind={oneofKind:"nullValue",nullValue:E.NULL_VALUE}:globalThis.Array.isArray(e)?i.kind={oneofKind:"listValue",listValue:rH.fromJson(e)}:i.kind={oneofKind:"structValue",structValue:rq.fromJson(e)};break;default:throw new globalThis.Error("Unable to parse "+this.typeName+" from JSON "+eQ(e))}return i}create(e){let t=globalThis.Object.create(this.messagePrototype);return t.kind={oneofKind:void 0},void 0!==e&&tp(this,t,e),t}internalBinaryRead(e,t,i,n){let s=n??this.create(),r=e.pos+t;for(;e.pos<r;){let[t,n]=e.tag();switch(t){case 1:s.kind={oneofKind:"nullValue",nullValue:e.int32()};break;case 2:s.kind={oneofKind:"numberValue",numberValue:e.double()};break;case 3:s.kind={oneofKind:"stringValue",stringValue:e.string()};break;case 4:s.kind={oneofKind:"boolValue",boolValue:e.bool()};break;case 5:s.kind={oneofKind:"structValue",structValue:rq.internalBinaryRead(e,e.uint32(),i,s.kind.structValue)};break;case 6:s.kind={oneofKind:"listValue",listValue:rH.internalBinaryRead(e,e.uint32(),i,s.kind.listValue)};break;default:let r=i.readUnknownField;if("throw"===r)throw new globalThis.Error(`Unknown field ${t} (wire type ${n}) for ${this.typeName}`);let a=e.skip(n);!1!==r&&(!0===r?_.onRead:r)(this.typeName,s,t,n,a)}}return s}internalBinaryWrite(e,t,i){"nullValue"===e.kind.oneofKind&&t.tag(1,w.Varint).int32(e.kind.nullValue),"numberValue"===e.kind.oneofKind&&t.tag(2,w.Bit64).double(e.kind.numberValue),"stringValue"===e.kind.oneofKind&&t.tag(3,w.LengthDelimited).string(e.kind.stringValue),"boolValue"===e.kind.oneofKind&&t.tag(4,w.Varint).bool(e.kind.boolValue),"structValue"===e.kind.oneofKind&&rq.internalBinaryWrite(e.kind.structValue,t.tag(5,w.LengthDelimited).fork(),i).join(),"listValue"===e.kind.oneofKind&&rH.internalBinaryWrite(e.kind.listValue,t.tag(6,w.LengthDelimited).fork(),i).join();let n=i.writeUnknownFields;return!1!==n&&(!0==n?_.onWrite:n)(this.typeName,e,t),t}}let rW=new rV;class rz extends tk{constructor(){super("google.protobuf.ListValue",[{no:1,name:"values",kind:"message",repeat:1,T:()=>rW}])}internalJsonWrite(e,t){return e.values.map(e=>rW.toJson(e))}internalJsonRead(e,t,i){if(!globalThis.Array.isArray(e))throw new globalThis.Error("Unable to parse "+this.typeName+" from JSON "+eQ(e));i||(i=this.create());let n=e.map(e=>rW.fromJson(e));return i.values.push(...n),i}create(e){let t=globalThis.Object.create(this.messagePrototype);return t.values=[],void 0!==e&&tp(this,t,e),t}internalBinaryRead(e,t,i,n){let s=n??this.create(),r=e.pos+t;for(;e.pos<r;){let[t,n]=e.tag();if(1===t)s.values.push(rW.internalBinaryRead(e,e.uint32(),i));else{let r=i.readUnknownField;if("throw"===r)throw new globalThis.Error(`Unknown field ${t} (wire type ${n}) for ${this.typeName}`);let a=e.skip(n);!1!==r&&(!0===r?_.onRead:r)(this.typeName,s,t,n,a)}}return s}internalBinaryWrite(e,t,i){for(let n=0;n<e.values.length;n++)rW.internalBinaryWrite(e.values[n],t.tag(1,w.LengthDelimited).fork(),i).join();let n=i.writeUnknownFields;return!1!==n&&(!0==n?_.onWrite:n)(this.typeName,e,t),t}}let rH=new rz;class rK extends tk{constructor(){super("google.protobuf.Timestamp",[{no:1,name:"seconds",kind:"scalar",T:3},{no:2,name:"nanos",kind:"scalar",T:5}])}now(){let e=this.create(),t=Date.now();return e.seconds=tt.from(Math.floor(t/1e3)).toString(),e.nanos=t%1e3*1e6,e}toDate(e){return new Date(1e3*tt.from(e.seconds).toNumber()+Math.ceil(e.nanos/1e6))}fromDate(e){let t=this.create(),i=e.getTime();return t.seconds=tt.from(Math.floor(i/1e3)).toString(),t.nanos=i%1e3*1e6,t}internalJsonWrite(e,t){let i=1e3*tt.from(e.seconds).toNumber();if(i<Date.parse("0001-01-01T00:00:00Z")||i>Date.parse("9999-12-31T23:59:59Z"))throw Error("Unable to encode Timestamp to JSON. Must be from 0001-01-01T00:00:00Z to 9999-12-31T23:59:59Z inclusive.");if(e.nanos<0)throw Error("Unable to encode invalid Timestamp to JSON. Nanos must not be negative.");let n="Z";if(e.nanos>0){let t=(e.nanos+1e9).toString().substring(1);n="000000"===t.substring(3)?"."+t.substring(0,3)+"Z":"000"===t.substring(6)?"."+t.substring(0,6)+"Z":"."+t+"Z"}return new Date(i).toISOString().replace(".000Z",n)}internalJsonRead(e,t,i){if("string"!=typeof e)throw Error("Unable to parse Timestamp from JSON "+eQ(e)+".");let n=e.match(/^([0-9]{4})-([0-9]{2})-([0-9]{2})T([0-9]{2}):([0-9]{2}):([0-9]{2})(?:Z|\.([0-9]{3,9})Z|([+-][0-9][0-9]:[0-9][0-9]))$/);if(!n)throw Error("Unable to parse Timestamp from JSON. Invalid format.");let s=Date.parse(n[1]+"-"+n[2]+"-"+n[3]+"T"+n[4]+":"+n[5]+":"+n[6]+(n[8]?n[8]:"Z"));if(Number.isNaN(s))throw Error("Unable to parse Timestamp from JSON. Invalid value.");if(s<Date.parse("0001-01-01T00:00:00Z")||s>Date.parse("9999-12-31T23:59:59Z"))throw new globalThis.Error("Unable to parse Timestamp from JSON. Must be from 0001-01-01T00:00:00Z to 9999-12-31T23:59:59Z inclusive.");return i||(i=this.create()),i.seconds=tt.from(s/1e3).toString(),i.nanos=0,n[7]&&(i.nanos=parseInt("1"+n[7]+"0".repeat(9-n[7].length))-1e9),i}create(e){let t=globalThis.Object.create(this.messagePrototype);return t.seconds="0",t.nanos=0,void 0!==e&&tp(this,t,e),t}internalBinaryRead(e,t,i,n){let s=n??this.create(),r=e.pos+t;for(;e.pos<r;){let[t,n]=e.tag();switch(t){case 1:s.seconds=e.int64().toString();break;case 2:s.nanos=e.int32();break;default:let r=i.readUnknownField;if("throw"===r)throw new globalThis.Error(`Unknown field ${t} (wire type ${n}) for ${this.typeName}`);let a=e.skip(n);!1!==r&&(!0===r?_.onRead:r)(this.typeName,s,t,n,a)}}return s}internalBinaryWrite(e,t,i){"0"!==e.seconds&&t.tag(1,w.Varint).int64(e.seconds),0!==e.nanos&&t.tag(2,w.Varint).int32(e.nanos);let n=i.writeUnknownFields;return!1!==n&&(!0==n?_.onWrite:n)(this.typeName,e,t),t}}let rG=new rK;(function(e){e[e.PUBLISHER_UNSPECIFIED=0]="PUBLISHER_UNSPECIFIED",e[e.SUBSCRIBER=1]="SUBSCRIBER"})(T||(T={})),function(e){e[e.UNSPECIFIED=0]="UNSPECIFIED",e[e.POOR=1]="POOR",e[e.GOOD=2]="GOOD",e[e.EXCELLENT=3]="EXCELLENT"}(C||(C={})),function(e){e[e.LOW_UNSPECIFIED=0]="LOW_UNSPECIFIED",e[e.MID=1]="MID",e[e.HIGH=2]="HIGH",e[e.OFF=3]="OFF"}(R||(R={})),function(e){e[e.UNSPECIFIED=0]="UNSPECIFIED",e[e.AUDIO=1]="AUDIO",e[e.VIDEO=2]="VIDEO",e[e.SCREEN_SHARE=3]="SCREEN_SHARE",e[e.SCREEN_SHARE_AUDIO=4]="SCREEN_SHARE_AUDIO"}(O||(O={})),function(e){e[e.UNSPECIFIED=0]="UNSPECIFIED",e[e.PUBLISH_TRACK_NOT_FOUND=100]="PUBLISH_TRACK_NOT_FOUND",e[e.PUBLISH_TRACKS_MISMATCH=101]="PUBLISH_TRACKS_MISMATCH",e[e.PUBLISH_TRACK_OUT_OF_ORDER=102]="PUBLISH_TRACK_OUT_OF_ORDER",e[e.PUBLISH_TRACK_VIDEO_LAYER_NOT_FOUND=103]="PUBLISH_TRACK_VIDEO_LAYER_NOT_FOUND",e[e.LIVE_ENDED=104]="LIVE_ENDED",e[e.PARTICIPANT_NOT_FOUND=200]="PARTICIPANT_NOT_FOUND",e[e.PARTICIPANT_MIGRATING_OUT=201]="PARTICIPANT_MIGRATING_OUT",e[e.PARTICIPANT_MIGRATION_FAILED=202]="PARTICIPANT_MIGRATION_FAILED",e[e.PARTICIPANT_MIGRATING=203]="PARTICIPANT_MIGRATING",e[e.PARTICIPANT_RECONNECT_FAILED=204]="PARTICIPANT_RECONNECT_FAILED",e[e.PARTICIPANT_MEDIA_TRANSPORT_FAILURE=205]="PARTICIPANT_MEDIA_TRANSPORT_FAILURE",e[e.CALL_NOT_FOUND=300]="CALL_NOT_FOUND",e[e.REQUEST_VALIDATION_FAILED=400]="REQUEST_VALIDATION_FAILED",e[e.UNAUTHENTICATED=401]="UNAUTHENTICATED",e[e.PERMISSION_DENIED=403]="PERMISSION_DENIED",e[e.TOO_MANY_REQUESTS=429]="TOO_MANY_REQUESTS",e[e.INTERNAL_SERVER_ERROR=500]="INTERNAL_SERVER_ERROR",e[e.SFU_SHUTTING_DOWN=600]="SFU_SHUTTING_DOWN",e[e.SFU_FULL=700]="SFU_FULL"}(P||(P={})),function(e){e[e.UNSPECIFIED=0]="UNSPECIFIED",e[e.REACT=1]="REACT",e[e.ANGULAR=2]="ANGULAR",e[e.ANDROID=3]="ANDROID",e[e.IOS=4]="IOS",e[e.FLUTTER=5]="FLUTTER",e[e.REACT_NATIVE=6]="REACT_NATIVE",e[e.UNITY=7]="UNITY",e[e.GO=8]="GO",e[e.PLAIN_JAVASCRIPT=9]="PLAIN_JAVASCRIPT"}(j||(j={})),function(e){e[e.UNSPECIFIED=0]="UNSPECIFIED",e[e.USER_MUTED=1]="USER_MUTED",e[e.PERMISSION_REVOKED=2]="PERMISSION_REVOKED",e[e.MODERATION=3]="MODERATION"}(I||(I={})),function(e){e[e.UNSPECIFIED=0]="UNSPECIFIED",e[e.SHUTTING_DOWN=1]="SHUTTING_DOWN",e[e.REBALANCE=2]="REBALANCE"}(N||(N={})),function(e){e[e.UNSPECIFIED=0]="UNSPECIFIED",e[e.ENDED=1]="ENDED",e[e.LIVE_ENDED=2]="LIVE_ENDED",e[e.KICKED=3]="KICKED",e[e.SESSION_ENDED=4]="SESSION_ENDED"}(D||(D={})),function(e){e[e.UNSPECIFIED=0]="UNSPECIFIED",e[e.DISCONNECT=1]="DISCONNECT",e[e.FAST=2]="FAST",e[e.REJOIN=3]="REJOIN",e[e.MIGRATE=4]="MIGRATE"}(A||(A={}));class rJ extends tk{constructor(){super("stream.video.sfu.models.CallState",[{no:1,name:"participants",kind:"message",repeat:1,T:()=>r2},{no:2,name:"started_at",kind:"message",T:()=>rG},{no:3,name:"participant_count",kind:"message",T:()=>rX},{no:4,name:"pins",kind:"message",repeat:1,T:()=>r0}])}create(e){let t=globalThis.Object.create(this.messagePrototype);return t.participants=[],t.pins=[],void 0!==e&&tp(this,t,e),t}internalBinaryRead(e,t,i,n){let s=n??this.create(),r=e.pos+t;for(;e.pos<r;){let[t,n]=e.tag();switch(t){case 1:s.participants.push(r2.internalBinaryRead(e,e.uint32(),i));break;case 2:s.startedAt=rG.internalBinaryRead(e,e.uint32(),i,s.startedAt);break;case 3:s.participantCount=rX.internalBinaryRead(e,e.uint32(),i,s.participantCount);break;case 4:s.pins.push(r0.internalBinaryRead(e,e.uint32(),i));break;default:let r=i.readUnknownField;if("throw"===r)throw new globalThis.Error(`Unknown field ${t} (wire type ${n}) for ${this.typeName}`);let a=e.skip(n);!1!==r&&(!0===r?_.onRead:r)(this.typeName,s,t,n,a)}}return s}internalBinaryWrite(e,t,i){for(let n=0;n<e.participants.length;n++)r2.internalBinaryWrite(e.participants[n],t.tag(1,w.LengthDelimited).fork(),i).join();e.startedAt&&rG.internalBinaryWrite(e.startedAt,t.tag(2,w.LengthDelimited).fork(),i).join(),e.participantCount&&rX.internalBinaryWrite(e.participantCount,t.tag(3,w.LengthDelimited).fork(),i).join();for(let n=0;n<e.pins.length;n++)r0.internalBinaryWrite(e.pins[n],t.tag(4,w.LengthDelimited).fork(),i).join();let n=i.writeUnknownFields;return!1!==n&&(!0==n?_.onWrite:n)(this.typeName,e,t),t}}let rY=new rJ;class rQ extends tk{constructor(){super("stream.video.sfu.models.ParticipantCount",[{no:1,name:"total",kind:"scalar",T:13},{no:2,name:"anonymous",kind:"scalar",T:13}])}create(e){let t=globalThis.Object.create(this.messagePrototype);return t.total=0,t.anonymous=0,void 0!==e&&tp(this,t,e),t}internalBinaryRead(e,t,i,n){let s=n??this.create(),r=e.pos+t;for(;e.pos<r;){let[t,n]=e.tag();switch(t){case 1:s.total=e.uint32();break;case 2:s.anonymous=e.uint32();break;default:let r=i.readUnknownField;if("throw"===r)throw new globalThis.Error(`Unknown field ${t} (wire type ${n}) for ${this.typeName}`);let a=e.skip(n);!1!==r&&(!0===r?_.onRead:r)(this.typeName,s,t,n,a)}}return s}internalBinaryWrite(e,t,i){0!==e.total&&t.tag(1,w.Varint).uint32(e.total),0!==e.anonymous&&t.tag(2,w.Varint).uint32(e.anonymous);let n=i.writeUnknownFields;return!1!==n&&(!0==n?_.onWrite:n)(this.typeName,e,t),t}}let rX=new rQ;class rZ extends tk{constructor(){super("stream.video.sfu.models.Pin",[{no:1,name:"user_id",kind:"scalar",T:9},{no:2,name:"session_id",kind:"scalar",T:9}])}create(e){let t=globalThis.Object.create(this.messagePrototype);return t.userId="",t.sessionId="",void 0!==e&&tp(this,t,e),t}internalBinaryRead(e,t,i,n){let s=n??this.create(),r=e.pos+t;for(;e.pos<r;){let[t,n]=e.tag();switch(t){case 1:s.userId=e.string();break;case 2:s.sessionId=e.string();break;default:let r=i.readUnknownField;if("throw"===r)throw new globalThis.Error(`Unknown field ${t} (wire type ${n}) for ${this.typeName}`);let a=e.skip(n);!1!==r&&(!0===r?_.onRead:r)(this.typeName,s,t,n,a)}}return s}internalBinaryWrite(e,t,i){""!==e.userId&&t.tag(1,w.LengthDelimited).string(e.userId),""!==e.sessionId&&t.tag(2,w.LengthDelimited).string(e.sessionId);let n=i.writeUnknownFields;return!1!==n&&(!0==n?_.onWrite:n)(this.typeName,e,t),t}}let r0=new rZ;class r1 extends tk{constructor(){super("stream.video.sfu.models.Participant",[{no:1,name:"user_id",kind:"scalar",T:9},{no:2,name:"session_id",kind:"scalar",T:9},{no:3,name:"published_tracks",kind:"enum",repeat:1,T:()=>["stream.video.sfu.models.TrackType",O,"TRACK_TYPE_"]},{no:4,name:"joined_at",kind:"message",T:()=>rG},{no:5,name:"track_lookup_prefix",kind:"scalar",T:9},{no:6,name:"connection_quality",kind:"enum",T:()=>["stream.video.sfu.models.ConnectionQuality",C,"CONNECTION_QUALITY_"]},{no:7,name:"is_speaking",kind:"scalar",T:8},{no:8,name:"is_dominant_speaker",kind:"scalar",T:8},{no:9,name:"audio_level",kind:"scalar",T:2},{no:10,name:"name",kind:"scalar",T:9},{no:11,name:"image",kind:"scalar",T:9},{no:12,name:"custom",kind:"message",T:()=>rq},{no:13,name:"roles",kind:"scalar",repeat:2,T:9}])}create(e){let t=globalThis.Object.create(this.messagePrototype);return t.userId="",t.sessionId="",t.publishedTracks=[],t.trackLookupPrefix="",t.connectionQuality=0,t.isSpeaking=!1,t.isDominantSpeaker=!1,t.audioLevel=0,t.name="",t.image="",t.roles=[],void 0!==e&&tp(this,t,e),t}internalBinaryRead(e,t,i,n){let s=n??this.create(),r=e.pos+t;for(;e.pos<r;){let[t,n]=e.tag();switch(t){case 1:s.userId=e.string();break;case 2:s.sessionId=e.string();break;case 3:if(n===w.LengthDelimited)for(let t=e.int32()+e.pos;e.pos<t;)s.publishedTracks.push(e.int32());else s.publishedTracks.push(e.int32());break;case 4:s.joinedAt=rG.internalBinaryRead(e,e.uint32(),i,s.joinedAt);break;case 5:s.trackLookupPrefix=e.string();break;case 6:s.connectionQuality=e.int32();break;case 7:s.isSpeaking=e.bool();break;case 8:s.isDominantSpeaker=e.bool();break;case 9:s.audioLevel=e.float();break;case 10:s.name=e.string();break;case 11:s.image=e.string();break;case 12:s.custom=rq.internalBinaryRead(e,e.uint32(),i,s.custom);break;case 13:s.roles.push(e.string());break;default:let r=i.readUnknownField;if("throw"===r)throw new globalThis.Error(`Unknown field ${t} (wire type ${n}) for ${this.typeName}`);let a=e.skip(n);!1!==r&&(!0===r?_.onRead:r)(this.typeName,s,t,n,a)}}return s}internalBinaryWrite(e,t,i){if(""!==e.userId&&t.tag(1,w.LengthDelimited).string(e.userId),""!==e.sessionId&&t.tag(2,w.LengthDelimited).string(e.sessionId),e.publishedTracks.length){t.tag(3,w.LengthDelimited).fork();for(let i=0;i<e.publishedTracks.length;i++)t.int32(e.publishedTracks[i]);t.join()}e.joinedAt&&rG.internalBinaryWrite(e.joinedAt,t.tag(4,w.LengthDelimited).fork(),i).join(),""!==e.trackLookupPrefix&&t.tag(5,w.LengthDelimited).string(e.trackLookupPrefix),0!==e.connectionQuality&&t.tag(6,w.Varint).int32(e.connectionQuality),!1!==e.isSpeaking&&t.tag(7,w.Varint).bool(e.isSpeaking),!1!==e.isDominantSpeaker&&t.tag(8,w.Varint).bool(e.isDominantSpeaker),0!==e.audioLevel&&t.tag(9,w.Bit32).float(e.audioLevel),""!==e.name&&t.tag(10,w.LengthDelimited).string(e.name),""!==e.image&&t.tag(11,w.LengthDelimited).string(e.image),e.custom&&rq.internalBinaryWrite(e.custom,t.tag(12,w.LengthDelimited).fork(),i).join();for(let i=0;i<e.roles.length;i++)t.tag(13,w.LengthDelimited).string(e.roles[i]);let n=i.writeUnknownFields;return!1!==n&&(!0==n?_.onWrite:n)(this.typeName,e,t),t}}let r2=new r1;class r3 extends tk{constructor(){super("stream.video.sfu.models.StreamQuality",[{no:1,name:"video_quality",kind:"enum",T:()=>["stream.video.sfu.models.VideoQuality",R,"VIDEO_QUALITY_"]},{no:2,name:"user_id",kind:"scalar",T:9}])}create(e){let t=globalThis.Object.create(this.messagePrototype);return t.videoQuality=0,t.userId="",void 0!==e&&tp(this,t,e),t}internalBinaryRead(e,t,i,n){let s=n??this.create(),r=e.pos+t;for(;e.pos<r;){let[t,n]=e.tag();switch(t){case 1:s.videoQuality=e.int32();break;case 2:s.userId=e.string();break;default:let r=i.readUnknownField;if("throw"===r)throw new globalThis.Error(`Unknown field ${t} (wire type ${n}) for ${this.typeName}`);let a=e.skip(n);!1!==r&&(!0===r?_.onRead:r)(this.typeName,s,t,n,a)}}return s}internalBinaryWrite(e,t,i){0!==e.videoQuality&&t.tag(1,w.Varint).int32(e.videoQuality),""!==e.userId&&t.tag(2,w.LengthDelimited).string(e.userId);let n=i.writeUnknownFields;return!1!==n&&(!0==n?_.onWrite:n)(this.typeName,e,t),t}}let r4=new r3;class r5 extends tk{constructor(){super("stream.video.sfu.models.VideoDimension",[{no:1,name:"width",kind:"scalar",T:13},{no:2,name:"height",kind:"scalar",T:13}])}create(e){let t=globalThis.Object.create(this.messagePrototype);return t.width=0,t.height=0,void 0!==e&&tp(this,t,e),t}internalBinaryRead(e,t,i,n){let s=n??this.create(),r=e.pos+t;for(;e.pos<r;){let[t,n]=e.tag();switch(t){case 1:s.width=e.uint32();break;case 2:s.height=e.uint32();break;default:let r=i.readUnknownField;if("throw"===r)throw new globalThis.Error(`Unknown field ${t} (wire type ${n}) for ${this.typeName}`);let a=e.skip(n);!1!==r&&(!0===r?_.onRead:r)(this.typeName,s,t,n,a)}}return s}internalBinaryWrite(e,t,i){0!==e.width&&t.tag(1,w.Varint).uint32(e.width),0!==e.height&&t.tag(2,w.Varint).uint32(e.height);let n=i.writeUnknownFields;return!1!==n&&(!0==n?_.onWrite:n)(this.typeName,e,t),t}}let r6=new r5;class r8 extends tk{constructor(){super("stream.video.sfu.models.VideoLayer",[{no:1,name:"rid",kind:"scalar",T:9},{no:2,name:"video_dimension",kind:"message",T:()=>r6},{no:4,name:"bitrate",kind:"scalar",T:13},{no:5,name:"fps",kind:"scalar",T:13},{no:6,name:"quality",kind:"enum",T:()=>["stream.video.sfu.models.VideoQuality",R,"VIDEO_QUALITY_"]}])}create(e){let t=globalThis.Object.create(this.messagePrototype);return t.rid="",t.bitrate=0,t.fps=0,t.quality=0,void 0!==e&&tp(this,t,e),t}internalBinaryRead(e,t,i,n){let s=n??this.create(),r=e.pos+t;for(;e.pos<r;){let[t,n]=e.tag();switch(t){case 1:s.rid=e.string();break;case 2:s.videoDimension=r6.internalBinaryRead(e,e.uint32(),i,s.videoDimension);break;case 4:s.bitrate=e.uint32();break;case 5:s.fps=e.uint32();break;case 6:s.quality=e.int32();break;default:let r=i.readUnknownField;if("throw"===r)throw new globalThis.Error(`Unknown field ${t} (wire type ${n}) for ${this.typeName}`);let a=e.skip(n);!1!==r&&(!0===r?_.onRead:r)(this.typeName,s,t,n,a)}}return s}internalBinaryWrite(e,t,i){""!==e.rid&&t.tag(1,w.LengthDelimited).string(e.rid),e.videoDimension&&r6.internalBinaryWrite(e.videoDimension,t.tag(2,w.LengthDelimited).fork(),i).join(),0!==e.bitrate&&t.tag(4,w.Varint).uint32(e.bitrate),0!==e.fps&&t.tag(5,w.Varint).uint32(e.fps),0!==e.quality&&t.tag(6,w.Varint).int32(e.quality);let n=i.writeUnknownFields;return!1!==n&&(!0==n?_.onWrite:n)(this.typeName,e,t),t}}let r9=new r8;class r7 extends tk{constructor(){super("stream.video.sfu.models.Codec",[{no:1,name:"payload_type",kind:"scalar",T:13},{no:2,name:"name",kind:"scalar",T:9},{no:3,name:"fmtp_line",kind:"scalar",T:9},{no:4,name:"clock_rate",kind:"scalar",T:13},{no:5,name:"encoding_parameters",kind:"scalar",T:9},{no:6,name:"feedbacks",kind:"scalar",repeat:2,T:9}])}create(e){let t=globalThis.Object.create(this.messagePrototype);return t.payloadType=0,t.name="",t.fmtpLine="",t.clockRate=0,t.encodingParameters="",t.feedbacks=[],void 0!==e&&tp(this,t,e),t}internalBinaryRead(e,t,i,n){let s=n??this.create(),r=e.pos+t;for(;e.pos<r;){let[t,n]=e.tag();switch(t){case 1:s.payloadType=e.uint32();break;case 2:s.name=e.string();break;case 3:s.fmtpLine=e.string();break;case 4:s.clockRate=e.uint32();break;case 5:s.encodingParameters=e.string();break;case 6:s.feedbacks.push(e.string());break;default:let r=i.readUnknownField;if("throw"===r)throw new globalThis.Error(`Unknown field ${t} (wire type ${n}) for ${this.typeName}`);let a=e.skip(n);!1!==r&&(!0===r?_.onRead:r)(this.typeName,s,t,n,a)}}return s}internalBinaryWrite(e,t,i){0!==e.payloadType&&t.tag(1,w.Varint).uint32(e.payloadType),""!==e.name&&t.tag(2,w.LengthDelimited).string(e.name),""!==e.fmtpLine&&t.tag(3,w.LengthDelimited).string(e.fmtpLine),0!==e.clockRate&&t.tag(4,w.Varint).uint32(e.clockRate),""!==e.encodingParameters&&t.tag(5,w.LengthDelimited).string(e.encodingParameters);for(let i=0;i<e.feedbacks.length;i++)t.tag(6,w.LengthDelimited).string(e.feedbacks[i]);let n=i.writeUnknownFields;return!1!==n&&(!0==n?_.onWrite:n)(this.typeName,e,t),t}}let ae=new r7,at=new class extends tk{constructor(){super("stream.video.sfu.models.ICETrickle",[{no:1,name:"peer_type",kind:"enum",T:()=>["stream.video.sfu.models.PeerType",T,"PEER_TYPE_"]},{no:2,name:"ice_candidate",kind:"scalar",T:9},{no:3,name:"session_id",kind:"scalar",T:9}])}create(e){let t=globalThis.Object.create(this.messagePrototype);return t.peerType=0,t.iceCandidate="",t.sessionId="",void 0!==e&&tp(this,t,e),t}internalBinaryRead(e,t,i,n){let s=n??this.create(),r=e.pos+t;for(;e.pos<r;){let[t,n]=e.tag();switch(t){case 1:s.peerType=e.int32();break;case 2:s.iceCandidate=e.string();break;case 3:s.sessionId=e.string();break;default:let r=i.readUnknownField;if("throw"===r)throw new globalThis.Error(`Unknown field ${t} (wire type ${n}) for ${this.typeName}`);let a=e.skip(n);!1!==r&&(!0===r?_.onRead:r)(this.typeName,s,t,n,a)}}return s}internalBinaryWrite(e,t,i){0!==e.peerType&&t.tag(1,w.Varint).int32(e.peerType),""!==e.iceCandidate&&t.tag(2,w.LengthDelimited).string(e.iceCandidate),""!==e.sessionId&&t.tag(3,w.LengthDelimited).string(e.sessionId);let n=i.writeUnknownFields;return!1!==n&&(!0==n?_.onWrite:n)(this.typeName,e,t),t}};class ai extends tk{constructor(){super("stream.video.sfu.models.TrackInfo",[{no:1,name:"track_id",kind:"scalar",T:9},{no:2,name:"track_type",kind:"enum",T:()=>["stream.video.sfu.models.TrackType",O,"TRACK_TYPE_"]},{no:5,name:"layers",kind:"message",repeat:1,T:()=>r9},{no:6,name:"mid",kind:"scalar",T:9},{no:7,name:"dtx",kind:"scalar",T:8},{no:8,name:"stereo",kind:"scalar",T:8},{no:9,name:"red",kind:"scalar",T:8},{no:10,name:"muted",kind:"scalar",T:8}])}create(e){let t=globalThis.Object.create(this.messagePrototype);return t.trackId="",t.trackType=0,t.layers=[],t.mid="",t.dtx=!1,t.stereo=!1,t.red=!1,t.muted=!1,void 0!==e&&tp(this,t,e),t}internalBinaryRead(e,t,i,n){let s=n??this.create(),r=e.pos+t;for(;e.pos<r;){let[t,n]=e.tag();switch(t){case 1:s.trackId=e.string();break;case 2:s.trackType=e.int32();break;case 5:s.layers.push(r9.internalBinaryRead(e,e.uint32(),i));break;case 6:s.mid=e.string();break;case 7:s.dtx=e.bool();break;case 8:s.stereo=e.bool();break;case 9:s.red=e.bool();break;case 10:s.muted=e.bool();break;default:let r=i.readUnknownField;if("throw"===r)throw new globalThis.Error(`Unknown field ${t} (wire type ${n}) for ${this.typeName}`);let a=e.skip(n);!1!==r&&(!0===r?_.onRead:r)(this.typeName,s,t,n,a)}}return s}internalBinaryWrite(e,t,i){""!==e.trackId&&t.tag(1,w.LengthDelimited).string(e.trackId),0!==e.trackType&&t.tag(2,w.Varint).int32(e.trackType);for(let n=0;n<e.layers.length;n++)r9.internalBinaryWrite(e.layers[n],t.tag(5,w.LengthDelimited).fork(),i).join();""!==e.mid&&t.tag(6,w.LengthDelimited).string(e.mid),!1!==e.dtx&&t.tag(7,w.Varint).bool(e.dtx),!1!==e.stereo&&t.tag(8,w.Varint).bool(e.stereo),!1!==e.red&&t.tag(9,w.Varint).bool(e.red),!1!==e.muted&&t.tag(10,w.Varint).bool(e.muted);let n=i.writeUnknownFields;return!1!==n&&(!0==n?_.onWrite:n)(this.typeName,e,t),t}}let an=new ai,as=new class extends tk{constructor(){super("stream.video.sfu.models.Error",[{no:1,name:"code",kind:"enum",T:()=>["stream.video.sfu.models.ErrorCode",P,"ERROR_CODE_"]},{no:2,name:"message",kind:"scalar",T:9},{no:3,name:"should_retry",kind:"scalar",T:8}])}create(e){let t=globalThis.Object.create(this.messagePrototype);return t.code=0,t.message="",t.shouldRetry=!1,void 0!==e&&tp(this,t,e),t}internalBinaryRead(e,t,i,n){let s=n??this.create(),r=e.pos+t;for(;e.pos<r;){let[t,n]=e.tag();switch(t){case 1:s.code=e.int32();break;case 2:s.message=e.string();break;case 3:s.shouldRetry=e.bool();break;default:let r=i.readUnknownField;if("throw"===r)throw new globalThis.Error(`Unknown field ${t} (wire type ${n}) for ${this.typeName}`);let a=e.skip(n);!1!==r&&(!0===r?_.onRead:r)(this.typeName,s,t,n,a)}}return s}internalBinaryWrite(e,t,i){0!==e.code&&t.tag(1,w.Varint).int32(e.code),""!==e.message&&t.tag(2,w.LengthDelimited).string(e.message),!1!==e.shouldRetry&&t.tag(3,w.Varint).bool(e.shouldRetry);let n=i.writeUnknownFields;return!1!==n&&(!0==n?_.onWrite:n)(this.typeName,e,t),t}};class ar extends tk{constructor(){super("stream.video.sfu.models.ClientDetails",[{no:1,name:"sdk",kind:"message",T:()=>al},{no:2,name:"os",kind:"message",T:()=>ad},{no:3,name:"browser",kind:"message",T:()=>ap},{no:4,name:"device",kind:"message",T:()=>am}])}create(e){let t=globalThis.Object.create(this.messagePrototype);return void 0!==e&&tp(this,t,e),t}internalBinaryRead(e,t,i,n){let s=n??this.create(),r=e.pos+t;for(;e.pos<r;){let[t,n]=e.tag();switch(t){case 1:s.sdk=al.internalBinaryRead(e,e.uint32(),i,s.sdk);break;case 2:s.os=ad.internalBinaryRead(e,e.uint32(),i,s.os);break;case 3:s.browser=ap.internalBinaryRead(e,e.uint32(),i,s.browser);break;case 4:s.device=am.internalBinaryRead(e,e.uint32(),i,s.device);break;default:let r=i.readUnknownField;if("throw"===r)throw new globalThis.Error(`Unknown field ${t} (wire type ${n}) for ${this.typeName}`);let a=e.skip(n);!1!==r&&(!0===r?_.onRead:r)(this.typeName,s,t,n,a)}}return s}internalBinaryWrite(e,t,i){e.sdk&&al.internalBinaryWrite(e.sdk,t.tag(1,w.LengthDelimited).fork(),i).join(),e.os&&ad.internalBinaryWrite(e.os,t.tag(2,w.LengthDelimited).fork(),i).join(),e.browser&&ap.internalBinaryWrite(e.browser,t.tag(3,w.LengthDelimited).fork(),i).join(),e.device&&am.internalBinaryWrite(e.device,t.tag(4,w.LengthDelimited).fork(),i).join();let n=i.writeUnknownFields;return!1!==n&&(!0==n?_.onWrite:n)(this.typeName,e,t),t}}let aa=new ar;class ao extends tk{constructor(){super("stream.video.sfu.models.Sdk",[{no:1,name:"type",kind:"enum",T:()=>["stream.video.sfu.models.SdkType",j,"SDK_TYPE_"]},{no:2,name:"major",kind:"scalar",T:9},{no:3,name:"minor",kind:"scalar",T:9},{no:4,name:"patch",kind:"scalar",T:9}])}create(e){let t=globalThis.Object.create(this.messagePrototype);return t.type=0,t.major="",t.minor="",t.patch="",void 0!==e&&tp(this,t,e),t}internalBinaryRead(e,t,i,n){let s=n??this.create(),r=e.pos+t;for(;e.pos<r;){let[t,n]=e.tag();switch(t){case 1:s.type=e.int32();break;case 2:s.major=e.string();break;case 3:s.minor=e.string();break;case 4:s.patch=e.string();break;default:let r=i.readUnknownField;if("throw"===r)throw new globalThis.Error(`Unknown field ${t} (wire type ${n}) for ${this.typeName}`);let a=e.skip(n);!1!==r&&(!0===r?_.onRead:r)(this.typeName,s,t,n,a)}}return s}internalBinaryWrite(e,t,i){0!==e.type&&t.tag(1,w.Varint).int32(e.type),""!==e.major&&t.tag(2,w.LengthDelimited).string(e.major),""!==e.minor&&t.tag(3,w.LengthDelimited).string(e.minor),""!==e.patch&&t.tag(4,w.LengthDelimited).string(e.patch);let n=i.writeUnknownFields;return!1!==n&&(!0==n?_.onWrite:n)(this.typeName,e,t),t}}let al=new ao;class ac extends tk{constructor(){super("stream.video.sfu.models.OS",[{no:1,name:"name",kind:"scalar",T:9},{no:2,name:"version",kind:"scalar",T:9},{no:3,name:"architecture",kind:"scalar",T:9}])}create(e){let t=globalThis.Object.create(this.messagePrototype);return t.name="",t.version="",t.architecture="",void 0!==e&&tp(this,t,e),t}internalBinaryRead(e,t,i,n){let s=n??this.create(),r=e.pos+t;for(;e.pos<r;){let[t,n]=e.tag();switch(t){case 1:s.name=e.string();break;case 2:s.version=e.string();break;case 3:s.architecture=e.string();break;default:let r=i.readUnknownField;if("throw"===r)throw new globalThis.Error(`Unknown field ${t} (wire type ${n}) for ${this.typeName}`);let a=e.skip(n);!1!==r&&(!0===r?_.onRead:r)(this.typeName,s,t,n,a)}}return s}internalBinaryWrite(e,t,i){""!==e.name&&t.tag(1,w.LengthDelimited).string(e.name),""!==e.version&&t.tag(2,w.LengthDelimited).string(e.version),""!==e.architecture&&t.tag(3,w.LengthDelimited).string(e.architecture);let n=i.writeUnknownFields;return!1!==n&&(!0==n?_.onWrite:n)(this.typeName,e,t),t}}let ad=new ac;class au extends tk{constructor(){super("stream.video.sfu.models.Browser",[{no:1,name:"name",kind:"scalar",T:9},{no:2,name:"version",kind:"scalar",T:9}])}create(e){let t=globalThis.Object.create(this.messagePrototype);return t.name="",t.version="",void 0!==e&&tp(this,t,e),t}internalBinaryRead(e,t,i,n){let s=n??this.create(),r=e.pos+t;for(;e.pos<r;){let[t,n]=e.tag();switch(t){case 1:s.name=e.string();break;case 2:s.version=e.string();break;default:let r=i.readUnknownField;if("throw"===r)throw new globalThis.Error(`Unknown field ${t} (wire type ${n}) for ${this.typeName}`);let a=e.skip(n);!1!==r&&(!0===r?_.onRead:r)(this.typeName,s,t,n,a)}}return s}internalBinaryWrite(e,t,i){""!==e.name&&t.tag(1,w.LengthDelimited).string(e.name),""!==e.version&&t.tag(2,w.LengthDelimited).string(e.version);let n=i.writeUnknownFields;return!1!==n&&(!0==n?_.onWrite:n)(this.typeName,e,t),t}}let ap=new au;class ah extends tk{constructor(){super("stream.video.sfu.models.Device",[{no:1,name:"name",kind:"scalar",T:9},{no:2,name:"version",kind:"scalar",T:9}])}create(e){let t=globalThis.Object.create(this.messagePrototype);return t.name="",t.version="",void 0!==e&&tp(this,t,e),t}internalBinaryRead(e,t,i,n){let s=n??this.create(),r=e.pos+t;for(;e.pos<r;){let[t,n]=e.tag();switch(t){case 1:s.name=e.string();break;case 2:s.version=e.string();break;default:let r=i.readUnknownField;if("throw"===r)throw new globalThis.Error(`Unknown field ${t} (wire type ${n}) for ${this.typeName}`);let a=e.skip(n);!1!==r&&(!0===r?_.onRead:r)(this.typeName,s,t,n,a)}}return s}internalBinaryWrite(e,t,i){""!==e.name&&t.tag(1,w.LengthDelimited).string(e.name),""!==e.version&&t.tag(2,w.LengthDelimited).string(e.version);let n=i.writeUnknownFields;return!1!==n&&(!0==n?_.onWrite:n)(this.typeName,e,t),t}}let am=new ah;class af extends tk{constructor(){super("stream.video.sfu.models.Call",[{no:1,name:"type",kind:"scalar",T:9},{no:2,name:"id",kind:"scalar",T:9},{no:3,name:"created_by_user_id",kind:"scalar",T:9},{no:4,name:"host_user_id",kind:"scalar",T:9},{no:5,name:"custom",kind:"message",T:()=>rq},{no:6,name:"created_at",kind:"message",T:()=>rG},{no:7,name:"updated_at",kind:"message",T:()=>rG}])}create(e){let t=globalThis.Object.create(this.messagePrototype);return t.type="",t.id="",t.createdByUserId="",t.hostUserId="",void 0!==e&&tp(this,t,e),t}internalBinaryRead(e,t,i,n){let s=n??this.create(),r=e.pos+t;for(;e.pos<r;){let[t,n]=e.tag();switch(t){case 1:s.type=e.string();break;case 2:s.id=e.string();break;case 3:s.createdByUserId=e.string();break;case 4:s.hostUserId=e.string();break;case 5:s.custom=rq.internalBinaryRead(e,e.uint32(),i,s.custom);break;case 6:s.createdAt=rG.internalBinaryRead(e,e.uint32(),i,s.createdAt);break;case 7:s.updatedAt=rG.internalBinaryRead(e,e.uint32(),i,s.updatedAt);break;default:let r=i.readUnknownField;if("throw"===r)throw new globalThis.Error(`Unknown field ${t} (wire type ${n}) for ${this.typeName}`);let a=e.skip(n);!1!==r&&(!0===r?_.onRead:r)(this.typeName,s,t,n,a)}}return s}internalBinaryWrite(e,t,i){""!==e.type&&t.tag(1,w.LengthDelimited).string(e.type),""!==e.id&&t.tag(2,w.LengthDelimited).string(e.id),""!==e.createdByUserId&&t.tag(3,w.LengthDelimited).string(e.createdByUserId),""!==e.hostUserId&&t.tag(4,w.LengthDelimited).string(e.hostUserId),e.custom&&rq.internalBinaryWrite(e.custom,t.tag(5,w.LengthDelimited).fork(),i).join(),e.createdAt&&rG.internalBinaryWrite(e.createdAt,t.tag(6,w.LengthDelimited).fork(),i).join(),e.updatedAt&&rG.internalBinaryWrite(e.updatedAt,t.tag(7,w.LengthDelimited).fork(),i).join();let n=i.writeUnknownFields;return!1!==n&&(!0==n?_.onWrite:n)(this.typeName,e,t),t}}let ag=new af;class av extends tk{constructor(){super("stream.video.sfu.models.CallGrants",[{no:1,name:"can_publish_audio",kind:"scalar",T:8},{no:2,name:"can_publish_video",kind:"scalar",T:8},{no:3,name:"can_screenshare",kind:"scalar",T:8}])}create(e){let t=globalThis.Object.create(this.messagePrototype);return t.canPublishAudio=!1,t.canPublishVideo=!1,t.canScreenshare=!1,void 0!==e&&tp(this,t,e),t}internalBinaryRead(e,t,i,n){let s=n??this.create(),r=e.pos+t;for(;e.pos<r;){let[t,n]=e.tag();switch(t){case 1:s.canPublishAudio=e.bool();break;case 2:s.canPublishVideo=e.bool();break;case 3:s.canScreenshare=e.bool();break;default:let r=i.readUnknownField;if("throw"===r)throw new globalThis.Error(`Unknown field ${t} (wire type ${n}) for ${this.typeName}`);let a=e.skip(n);!1!==r&&(!0===r?_.onRead:r)(this.typeName,s,t,n,a)}}return s}internalBinaryWrite(e,t,i){!1!==e.canPublishAudio&&t.tag(1,w.Varint).bool(e.canPublishAudio),!1!==e.canPublishVideo&&t.tag(2,w.Varint).bool(e.canPublishVideo),!1!==e.canScreenshare&&t.tag(3,w.Varint).bool(e.canScreenshare);let n=i.writeUnknownFields;return!1!==n&&(!0==n?_.onWrite:n)(this.typeName,e,t),t}}let ab=new av;var ay=Object.freeze({__proto__:null,Browser:ap,Call:ag,get CallEndedReason(){return D},CallGrants:ab,CallState:rY,ClientDetails:aa,Codec:ae,get ConnectionQuality(){return C},Device:am,Error:as,get ErrorCode(){return P},get GoAwayReason(){return N},ICETrickle:at,OS:ad,Participant:r2,ParticipantCount:rX,get PeerType(){return T},Pin:r0,Sdk:al,get SdkType(){return j},StreamQuality:r4,TrackInfo:an,get TrackType(){return O},get TrackUnpublishReason(){return I},VideoDimension:r6,VideoLayer:r9,get VideoQuality(){return R},get WebsocketReconnectStrategy(){return A}});class ax extends tk{constructor(){super("stream.video.sfu.signal.StartNoiseCancellationRequest",[{no:1,name:"session_id",kind:"scalar",T:9}])}create(e){let t=globalThis.Object.create(this.messagePrototype);return t.sessionId="",void 0!==e&&tp(this,t,e),t}internalBinaryRead(e,t,i,n){let s=n??this.create(),r=e.pos+t;for(;e.pos<r;){let[t,n]=e.tag();if(1===t)s.sessionId=e.string();else{let r=i.readUnknownField;if("throw"===r)throw new globalThis.Error(`Unknown field ${t} (wire type ${n}) for ${this.typeName}`);let a=e.skip(n);!1!==r&&(!0===r?_.onRead:r)(this.typeName,s,t,n,a)}}return s}internalBinaryWrite(e,t,i){""!==e.sessionId&&t.tag(1,w.LengthDelimited).string(e.sessionId);let n=i.writeUnknownFields;return!1!==n&&(!0==n?_.onWrite:n)(this.typeName,e,t),t}}let a_=new ax;class aw extends tk{constructor(){super("stream.video.sfu.signal.StartNoiseCancellationResponse",[{no:1,name:"error",kind:"message",T:()=>as}])}create(e){let t=globalThis.Object.create(this.messagePrototype);return void 0!==e&&tp(this,t,e),t}internalBinaryRead(e,t,i,n){let s=n??this.create(),r=e.pos+t;for(;e.pos<r;){let[t,n]=e.tag();if(1===t)s.error=as.internalBinaryRead(e,e.uint32(),i,s.error);else{let r=i.readUnknownField;if("throw"===r)throw new globalThis.Error(`Unknown field ${t} (wire type ${n}) for ${this.typeName}`);let a=e.skip(n);!1!==r&&(!0===r?_.onRead:r)(this.typeName,s,t,n,a)}}return s}internalBinaryWrite(e,t,i){e.error&&as.internalBinaryWrite(e.error,t.tag(1,w.LengthDelimited).fork(),i).join();let n=i.writeUnknownFields;return!1!==n&&(!0==n?_.onWrite:n)(this.typeName,e,t),t}}let aS=new aw;class ak extends tk{constructor(){super("stream.video.sfu.signal.StopNoiseCancellationRequest",[{no:1,name:"session_id",kind:"scalar",T:9}])}create(e){let t=globalThis.Object.create(this.messagePrototype);return t.sessionId="",void 0!==e&&tp(this,t,e),t}internalBinaryRead(e,t,i,n){let s=n??this.create(),r=e.pos+t;for(;e.pos<r;){let[t,n]=e.tag();if(1===t)s.sessionId=e.string();else{let r=i.readUnknownField;if("throw"===r)throw new globalThis.Error(`Unknown field ${t} (wire type ${n}) for ${this.typeName}`);let a=e.skip(n);!1!==r&&(!0===r?_.onRead:r)(this.typeName,s,t,n,a)}}return s}internalBinaryWrite(e,t,i){""!==e.sessionId&&t.tag(1,w.LengthDelimited).string(e.sessionId);let n=i.writeUnknownFields;return!1!==n&&(!0==n?_.onWrite:n)(this.typeName,e,t),t}}let aE=new ak;class aT extends tk{constructor(){super("stream.video.sfu.signal.StopNoiseCancellationResponse",[{no:1,name:"error",kind:"message",T:()=>as}])}create(e){let t=globalThis.Object.create(this.messagePrototype);return void 0!==e&&tp(this,t,e),t}internalBinaryRead(e,t,i,n){let s=n??this.create(),r=e.pos+t;for(;e.pos<r;){let[t,n]=e.tag();if(1===t)s.error=as.internalBinaryRead(e,e.uint32(),i,s.error);else{let r=i.readUnknownField;if("throw"===r)throw new globalThis.Error(`Unknown field ${t} (wire type ${n}) for ${this.typeName}`);let a=e.skip(n);!1!==r&&(!0===r?_.onRead:r)(this.typeName,s,t,n,a)}}return s}internalBinaryWrite(e,t,i){e.error&&as.internalBinaryWrite(e.error,t.tag(1,w.LengthDelimited).fork(),i).join();let n=i.writeUnknownFields;return!1!==n&&(!0==n?_.onWrite:n)(this.typeName,e,t),t}}let aC=new aT;class aR extends tk{constructor(){super("stream.video.sfu.signal.SendStatsRequest",[{no:1,name:"session_id",kind:"scalar",T:9},{no:2,name:"subscriber_stats",kind:"scalar",T:9},{no:3,name:"publisher_stats",kind:"scalar",T:9},{no:4,name:"webrtc_version",kind:"scalar",T:9},{no:5,name:"sdk",kind:"scalar",T:9},{no:6,name:"sdk_version",kind:"scalar",T:9}])}create(e){let t=globalThis.Object.create(this.messagePrototype);return t.sessionId="",t.subscriberStats="",t.publisherStats="",t.webrtcVersion="",t.sdk="",t.sdkVersion="",void 0!==e&&tp(this,t,e),t}internalBinaryRead(e,t,i,n){let s=n??this.create(),r=e.pos+t;for(;e.pos<r;){let[t,n]=e.tag();switch(t){case 1:s.sessionId=e.string();break;case 2:s.subscriberStats=e.string();break;case 3:s.publisherStats=e.string();break;case 4:s.webrtcVersion=e.string();break;case 5:s.sdk=e.string();break;case 6:s.sdkVersion=e.string();break;default:let r=i.readUnknownField;if("throw"===r)throw new globalThis.Error(`Unknown field ${t} (wire type ${n}) for ${this.typeName}`);let a=e.skip(n);!1!==r&&(!0===r?_.onRead:r)(this.typeName,s,t,n,a)}}return s}internalBinaryWrite(e,t,i){""!==e.sessionId&&t.tag(1,w.LengthDelimited).string(e.sessionId),""!==e.subscriberStats&&t.tag(2,w.LengthDelimited).string(e.subscriberStats),""!==e.publisherStats&&t.tag(3,w.LengthDelimited).string(e.publisherStats),""!==e.webrtcVersion&&t.tag(4,w.LengthDelimited).string(e.webrtcVersion),""!==e.sdk&&t.tag(5,w.LengthDelimited).string(e.sdk),""!==e.sdkVersion&&t.tag(6,w.LengthDelimited).string(e.sdkVersion);let n=i.writeUnknownFields;return!1!==n&&(!0==n?_.onWrite:n)(this.typeName,e,t),t}}let aO=new aR;class aP extends tk{constructor(){super("stream.video.sfu.signal.SendStatsResponse",[{no:1,name:"error",kind:"message",T:()=>as}])}create(e){let t=globalThis.Object.create(this.messagePrototype);return void 0!==e&&tp(this,t,e),t}internalBinaryRead(e,t,i,n){let s=n??this.create(),r=e.pos+t;for(;e.pos<r;){let[t,n]=e.tag();if(1===t)s.error=as.internalBinaryRead(e,e.uint32(),i,s.error);else{let r=i.readUnknownField;if("throw"===r)throw new globalThis.Error(`Unknown field ${t} (wire type ${n}) for ${this.typeName}`);let a=e.skip(n);!1!==r&&(!0===r?_.onRead:r)(this.typeName,s,t,n,a)}}return s}internalBinaryWrite(e,t,i){e.error&&as.internalBinaryWrite(e.error,t.tag(1,w.LengthDelimited).fork(),i).join();let n=i.writeUnknownFields;return!1!==n&&(!0==n?_.onWrite:n)(this.typeName,e,t),t}}let aj=new aP;class aI extends tk{constructor(){super("stream.video.sfu.signal.ICERestartRequest",[{no:1,name:"session_id",kind:"scalar",T:9},{no:2,name:"peer_type",kind:"enum",T:()=>["stream.video.sfu.models.PeerType",T,"PEER_TYPE_"]}])}create(e){let t=globalThis.Object.create(this.messagePrototype);return t.sessionId="",t.peerType=0,void 0!==e&&tp(this,t,e),t}internalBinaryRead(e,t,i,n){let s=n??this.create(),r=e.pos+t;for(;e.pos<r;){let[t,n]=e.tag();switch(t){case 1:s.sessionId=e.string();break;case 2:s.peerType=e.int32();break;default:let r=i.readUnknownField;if("throw"===r)throw new globalThis.Error(`Unknown field ${t} (wire type ${n}) for ${this.typeName}`);let a=e.skip(n);!1!==r&&(!0===r?_.onRead:r)(this.typeName,s,t,n,a)}}return s}internalBinaryWrite(e,t,i){""!==e.sessionId&&t.tag(1,w.LengthDelimited).string(e.sessionId),0!==e.peerType&&t.tag(2,w.Varint).int32(e.peerType);let n=i.writeUnknownFields;return!1!==n&&(!0==n?_.onWrite:n)(this.typeName,e,t),t}}let aN=new aI;class aD extends tk{constructor(){super("stream.video.sfu.signal.ICERestartResponse",[{no:1,name:"error",kind:"message",T:()=>as}])}create(e){let t=globalThis.Object.create(this.messagePrototype);return void 0!==e&&tp(this,t,e),t}internalBinaryRead(e,t,i,n){let s=n??this.create(),r=e.pos+t;for(;e.pos<r;){let[t,n]=e.tag();if(1===t)s.error=as.internalBinaryRead(e,e.uint32(),i,s.error);else{let r=i.readUnknownField;if("throw"===r)throw new globalThis.Error(`Unknown field ${t} (wire type ${n}) for ${this.typeName}`);let a=e.skip(n);!1!==r&&(!0===r?_.onRead:r)(this.typeName,s,t,n,a)}}return s}internalBinaryWrite(e,t,i){e.error&&as.internalBinaryWrite(e.error,t.tag(1,w.LengthDelimited).fork(),i).join();let n=i.writeUnknownFields;return!1!==n&&(!0==n?_.onWrite:n)(this.typeName,e,t),t}}let aA=new aD;class aL extends tk{constructor(){super("stream.video.sfu.signal.UpdateMuteStatesRequest",[{no:1,name:"session_id",kind:"scalar",T:9},{no:3,name:"mute_states",kind:"message",repeat:1,T:()=>a$}])}create(e){let t=globalThis.Object.create(this.messagePrototype);return t.sessionId="",t.muteStates=[],void 0!==e&&tp(this,t,e),t}internalBinaryRead(e,t,i,n){let s=n??this.create(),r=e.pos+t;for(;e.pos<r;){let[t,n]=e.tag();switch(t){case 1:s.sessionId=e.string();break;case 3:s.muteStates.push(a$.internalBinaryRead(e,e.uint32(),i));break;default:let r=i.readUnknownField;if("throw"===r)throw new globalThis.Error(`Unknown field ${t} (wire type ${n}) for ${this.typeName}`);let a=e.skip(n);!1!==r&&(!0===r?_.onRead:r)(this.typeName,s,t,n,a)}}return s}internalBinaryWrite(e,t,i){""!==e.sessionId&&t.tag(1,w.LengthDelimited).string(e.sessionId);for(let n=0;n<e.muteStates.length;n++)a$.internalBinaryWrite(e.muteStates[n],t.tag(3,w.LengthDelimited).fork(),i).join();let n=i.writeUnknownFields;return!1!==n&&(!0==n?_.onWrite:n)(this.typeName,e,t),t}}let aM=new aL;class aU extends tk{constructor(){super("stream.video.sfu.signal.UpdateMuteStatesResponse",[{no:4,name:"error",kind:"message",T:()=>as}])}create(e){let t=globalThis.Object.create(this.messagePrototype);return void 0!==e&&tp(this,t,e),t}internalBinaryRead(e,t,i,n){let s=n??this.create(),r=e.pos+t;for(;e.pos<r;){let[t,n]=e.tag();if(4===t)s.error=as.internalBinaryRead(e,e.uint32(),i,s.error);else{let r=i.readUnknownField;if("throw"===r)throw new globalThis.Error(`Unknown field ${t} (wire type ${n}) for ${this.typeName}`);let a=e.skip(n);!1!==r&&(!0===r?_.onRead:r)(this.typeName,s,t,n,a)}}return s}internalBinaryWrite(e,t,i){e.error&&as.internalBinaryWrite(e.error,t.tag(4,w.LengthDelimited).fork(),i).join();let n=i.writeUnknownFields;return!1!==n&&(!0==n?_.onWrite:n)(this.typeName,e,t),t}}let aF=new aU;class aB extends tk{constructor(){super("stream.video.sfu.signal.TrackMuteState",[{no:1,name:"track_type",kind:"enum",T:()=>["stream.video.sfu.models.TrackType",O,"TRACK_TYPE_"]},{no:2,name:"muted",kind:"scalar",T:8}])}create(e){let t=globalThis.Object.create(this.messagePrototype);return t.trackType=0,t.muted=!1,void 0!==e&&tp(this,t,e),t}internalBinaryRead(e,t,i,n){let s=n??this.create(),r=e.pos+t;for(;e.pos<r;){let[t,n]=e.tag();switch(t){case 1:s.trackType=e.int32();break;case 2:s.muted=e.bool();break;default:let r=i.readUnknownField;if("throw"===r)throw new globalThis.Error(`Unknown field ${t} (wire type ${n}) for ${this.typeName}`);let a=e.skip(n);!1!==r&&(!0===r?_.onRead:r)(this.typeName,s,t,n,a)}}return s}internalBinaryWrite(e,t,i){0!==e.trackType&&t.tag(1,w.Varint).int32(e.trackType),!1!==e.muted&&t.tag(2,w.Varint).bool(e.muted);let n=i.writeUnknownFields;return!1!==n&&(!0==n?_.onWrite:n)(this.typeName,e,t),t}}let a$=new aB;class aq extends tk{constructor(){super("stream.video.sfu.signal.AudioMuteChanged",[{no:1,name:"muted",kind:"scalar",T:8}])}create(e){let t=globalThis.Object.create(this.messagePrototype);return t.muted=!1,void 0!==e&&tp(this,t,e),t}internalBinaryRead(e,t,i,n){let s=n??this.create(),r=e.pos+t;for(;e.pos<r;){let[t,n]=e.tag();if(1===t)s.muted=e.bool();else{let r=i.readUnknownField;if("throw"===r)throw new globalThis.Error(`Unknown field ${t} (wire type ${n}) for ${this.typeName}`);let a=e.skip(n);!1!==r&&(!0===r?_.onRead:r)(this.typeName,s,t,n,a)}}return s}internalBinaryWrite(e,t,i){!1!==e.muted&&t.tag(1,w.Varint).bool(e.muted);let n=i.writeUnknownFields;return!1!==n&&(!0==n?_.onWrite:n)(this.typeName,e,t),t}}new aq;class aV extends tk{constructor(){super("stream.video.sfu.signal.VideoMuteChanged",[{no:2,name:"muted",kind:"scalar",T:8}])}create(e){let t=globalThis.Object.create(this.messagePrototype);return t.muted=!1,void 0!==e&&tp(this,t,e),t}internalBinaryRead(e,t,i,n){let s=n??this.create(),r=e.pos+t;for(;e.pos<r;){let[t,n]=e.tag();if(2===t)s.muted=e.bool();else{let r=i.readUnknownField;if("throw"===r)throw new globalThis.Error(`Unknown field ${t} (wire type ${n}) for ${this.typeName}`);let a=e.skip(n);!1!==r&&(!0===r?_.onRead:r)(this.typeName,s,t,n,a)}}return s}internalBinaryWrite(e,t,i){!1!==e.muted&&t.tag(2,w.Varint).bool(e.muted);let n=i.writeUnknownFields;return!1!==n&&(!0==n?_.onWrite:n)(this.typeName,e,t),t}}new aV;class aW extends tk{constructor(){super("stream.video.sfu.signal.UpdateSubscriptionsRequest",[{no:2,name:"session_id",kind:"scalar",T:9},{no:3,name:"tracks",kind:"message",repeat:1,T:()=>aJ}])}create(e){let t=globalThis.Object.create(this.messagePrototype);return t.sessionId="",t.tracks=[],void 0!==e&&tp(this,t,e),t}internalBinaryRead(e,t,i,n){let s=n??this.create(),r=e.pos+t;for(;e.pos<r;){let[t,n]=e.tag();switch(t){case 2:s.sessionId=e.string();break;case 3:s.tracks.push(aJ.internalBinaryRead(e,e.uint32(),i));break;default:let r=i.readUnknownField;if("throw"===r)throw new globalThis.Error(`Unknown field ${t} (wire type ${n}) for ${this.typeName}`);let a=e.skip(n);!1!==r&&(!0===r?_.onRead:r)(this.typeName,s,t,n,a)}}return s}internalBinaryWrite(e,t,i){""!==e.sessionId&&t.tag(2,w.LengthDelimited).string(e.sessionId);for(let n=0;n<e.tracks.length;n++)aJ.internalBinaryWrite(e.tracks[n],t.tag(3,w.LengthDelimited).fork(),i).join();let n=i.writeUnknownFields;return!1!==n&&(!0==n?_.onWrite:n)(this.typeName,e,t),t}}let az=new aW;class aH extends tk{constructor(){super("stream.video.sfu.signal.UpdateSubscriptionsResponse",[{no:4,name:"error",kind:"message",T:()=>as}])}create(e){let t=globalThis.Object.create(this.messagePrototype);return void 0!==e&&tp(this,t,e),t}internalBinaryRead(e,t,i,n){let s=n??this.create(),r=e.pos+t;for(;e.pos<r;){let[t,n]=e.tag();if(4===t)s.error=as.internalBinaryRead(e,e.uint32(),i,s.error);else{let r=i.readUnknownField;if("throw"===r)throw new globalThis.Error(`Unknown field ${t} (wire type ${n}) for ${this.typeName}`);let a=e.skip(n);!1!==r&&(!0===r?_.onRead:r)(this.typeName,s,t,n,a)}}return s}internalBinaryWrite(e,t,i){e.error&&as.internalBinaryWrite(e.error,t.tag(4,w.LengthDelimited).fork(),i).join();let n=i.writeUnknownFields;return!1!==n&&(!0==n?_.onWrite:n)(this.typeName,e,t),t}}let aK=new aH;class aG extends tk{constructor(){super("stream.video.sfu.signal.TrackSubscriptionDetails",[{no:1,name:"user_id",kind:"scalar",T:9},{no:2,name:"session_id",kind:"scalar",T:9},{no:3,name:"track_type",kind:"enum",T:()=>["stream.video.sfu.models.TrackType",O,"TRACK_TYPE_"]},{no:4,name:"dimension",kind:"message",T:()=>r6}])}create(e){let t=globalThis.Object.create(this.messagePrototype);return t.userId="",t.sessionId="",t.trackType=0,void 0!==e&&tp(this,t,e),t}internalBinaryRead(e,t,i,n){let s=n??this.create(),r=e.pos+t;for(;e.pos<r;){let[t,n]=e.tag();switch(t){case 1:s.userId=e.string();break;case 2:s.sessionId=e.string();break;case 3:s.trackType=e.int32();break;case 4:s.dimension=r6.internalBinaryRead(e,e.uint32(),i,s.dimension);break;default:let r=i.readUnknownField;if("throw"===r)throw new globalThis.Error(`Unknown field ${t} (wire type ${n}) for ${this.typeName}`);let a=e.skip(n);!1!==r&&(!0===r?_.onRead:r)(this.typeName,s,t,n,a)}}return s}internalBinaryWrite(e,t,i){""!==e.userId&&t.tag(1,w.LengthDelimited).string(e.userId),""!==e.sessionId&&t.tag(2,w.LengthDelimited).string(e.sessionId),0!==e.trackType&&t.tag(3,w.Varint).int32(e.trackType),e.dimension&&r6.internalBinaryWrite(e.dimension,t.tag(4,w.LengthDelimited).fork(),i).join();let n=i.writeUnknownFields;return!1!==n&&(!0==n?_.onWrite:n)(this.typeName,e,t),t}}let aJ=new aG;class aY extends tk{constructor(){super("stream.video.sfu.signal.SendAnswerRequest",[{no:1,name:"peer_type",kind:"enum",T:()=>["stream.video.sfu.models.PeerType",T,"PEER_TYPE_"]},{no:2,name:"sdp",kind:"scalar",T:9},{no:3,name:"session_id",kind:"scalar",T:9}])}create(e){let t=globalThis.Object.create(this.messagePrototype);return t.peerType=0,t.sdp="",t.sessionId="",void 0!==e&&tp(this,t,e),t}internalBinaryRead(e,t,i,n){let s=n??this.create(),r=e.pos+t;for(;e.pos<r;){let[t,n]=e.tag();switch(t){case 1:s.peerType=e.int32();break;case 2:s.sdp=e.string();break;case 3:s.sessionId=e.string();break;default:let r=i.readUnknownField;if("throw"===r)throw new globalThis.Error(`Unknown field ${t} (wire type ${n}) for ${this.typeName}`);let a=e.skip(n);!1!==r&&(!0===r?_.onRead:r)(this.typeName,s,t,n,a)}}return s}internalBinaryWrite(e,t,i){0!==e.peerType&&t.tag(1,w.Varint).int32(e.peerType),""!==e.sdp&&t.tag(2,w.LengthDelimited).string(e.sdp),""!==e.sessionId&&t.tag(3,w.LengthDelimited).string(e.sessionId);let n=i.writeUnknownFields;return!1!==n&&(!0==n?_.onWrite:n)(this.typeName,e,t),t}}let aQ=new aY;class aX extends tk{constructor(){super("stream.video.sfu.signal.SendAnswerResponse",[{no:4,name:"error",kind:"message",T:()=>as}])}create(e){let t=globalThis.Object.create(this.messagePrototype);return void 0!==e&&tp(this,t,e),t}internalBinaryRead(e,t,i,n){let s=n??this.create(),r=e.pos+t;for(;e.pos<r;){let[t,n]=e.tag();if(4===t)s.error=as.internalBinaryRead(e,e.uint32(),i,s.error);else{let r=i.readUnknownField;if("throw"===r)throw new globalThis.Error(`Unknown field ${t} (wire type ${n}) for ${this.typeName}`);let a=e.skip(n);!1!==r&&(!0===r?_.onRead:r)(this.typeName,s,t,n,a)}}return s}internalBinaryWrite(e,t,i){e.error&&as.internalBinaryWrite(e.error,t.tag(4,w.LengthDelimited).fork(),i).join();let n=i.writeUnknownFields;return!1!==n&&(!0==n?_.onWrite:n)(this.typeName,e,t),t}}let aZ=new aX;class a0 extends tk{constructor(){super("stream.video.sfu.signal.ICETrickleResponse",[{no:4,name:"error",kind:"message",T:()=>as}])}create(e){let t=globalThis.Object.create(this.messagePrototype);return void 0!==e&&tp(this,t,e),t}internalBinaryRead(e,t,i,n){let s=n??this.create(),r=e.pos+t;for(;e.pos<r;){let[t,n]=e.tag();if(4===t)s.error=as.internalBinaryRead(e,e.uint32(),i,s.error);else{let r=i.readUnknownField;if("throw"===r)throw new globalThis.Error(`Unknown field ${t} (wire type ${n}) for ${this.typeName}`);let a=e.skip(n);!1!==r&&(!0===r?_.onRead:r)(this.typeName,s,t,n,a)}}return s}internalBinaryWrite(e,t,i){e.error&&as.internalBinaryWrite(e.error,t.tag(4,w.LengthDelimited).fork(),i).join();let n=i.writeUnknownFields;return!1!==n&&(!0==n?_.onWrite:n)(this.typeName,e,t),t}}let a1=new a0;class a2 extends tk{constructor(){super("stream.video.sfu.signal.SetPublisherRequest",[{no:1,name:"sdp",kind:"scalar",T:9},{no:2,name:"session_id",kind:"scalar",T:9},{no:3,name:"tracks",kind:"message",repeat:1,T:()=>an}])}create(e){let t=globalThis.Object.create(this.messagePrototype);return t.sdp="",t.sessionId="",t.tracks=[],void 0!==e&&tp(this,t,e),t}internalBinaryRead(e,t,i,n){let s=n??this.create(),r=e.pos+t;for(;e.pos<r;){let[t,n]=e.tag();switch(t){case 1:s.sdp=e.string();break;case 2:s.sessionId=e.string();break;case 3:s.tracks.push(an.internalBinaryRead(e,e.uint32(),i));break;default:let r=i.readUnknownField;if("throw"===r)throw new globalThis.Error(`Unknown field ${t} (wire type ${n}) for ${this.typeName}`);let a=e.skip(n);!1!==r&&(!0===r?_.onRead:r)(this.typeName,s,t,n,a)}}return s}internalBinaryWrite(e,t,i){""!==e.sdp&&t.tag(1,w.LengthDelimited).string(e.sdp),""!==e.sessionId&&t.tag(2,w.LengthDelimited).string(e.sessionId);for(let n=0;n<e.tracks.length;n++)an.internalBinaryWrite(e.tracks[n],t.tag(3,w.LengthDelimited).fork(),i).join();let n=i.writeUnknownFields;return!1!==n&&(!0==n?_.onWrite:n)(this.typeName,e,t),t}}let a3=new a2;class a4 extends tk{constructor(){super("stream.video.sfu.signal.SetPublisherResponse",[{no:1,name:"sdp",kind:"scalar",T:9},{no:2,name:"session_id",kind:"scalar",T:9},{no:3,name:"ice_restart",kind:"scalar",T:8},{no:4,name:"error",kind:"message",T:()=>as}])}create(e){let t=globalThis.Object.create(this.messagePrototype);return t.sdp="",t.sessionId="",t.iceRestart=!1,void 0!==e&&tp(this,t,e),t}internalBinaryRead(e,t,i,n){let s=n??this.create(),r=e.pos+t;for(;e.pos<r;){let[t,n]=e.tag();switch(t){case 1:s.sdp=e.string();break;case 2:s.sessionId=e.string();break;case 3:s.iceRestart=e.bool();break;case 4:s.error=as.internalBinaryRead(e,e.uint32(),i,s.error);break;default:let r=i.readUnknownField;if("throw"===r)throw new globalThis.Error(`Unknown field ${t} (wire type ${n}) for ${this.typeName}`);let a=e.skip(n);!1!==r&&(!0===r?_.onRead:r)(this.typeName,s,t,n,a)}}return s}internalBinaryWrite(e,t,i){""!==e.sdp&&t.tag(1,w.LengthDelimited).string(e.sdp),""!==e.sessionId&&t.tag(2,w.LengthDelimited).string(e.sessionId),!1!==e.iceRestart&&t.tag(3,w.Varint).bool(e.iceRestart),e.error&&as.internalBinaryWrite(e.error,t.tag(4,w.LengthDelimited).fork(),i).join();let n=i.writeUnknownFields;return!1!==n&&(!0==n?_.onWrite:n)(this.typeName,e,t),t}}let a5=new tE("stream.video.sfu.signal.SignalServer",[{name:"SetPublisher",options:{},I:a3,O:new a4},{name:"SendAnswer",options:{},I:aQ,O:aZ},{name:"IceTrickle",options:{},I:at,O:a1},{name:"UpdateSubscriptions",options:{},I:az,O:aK},{name:"UpdateMuteStates",options:{},I:aM,O:aF},{name:"IceRestart",options:{},I:aN,O:aA},{name:"SendStats",options:{},I:aO,O:aj},{name:"StartNoiseCancellation",options:{},I:a_,O:aS},{name:"StopNoiseCancellation",options:{},I:aE,O:aC}]);!function(e){e[e.HIGH_UNSPECIFIED=0]="HIGH_UNSPECIFIED",e[e.LOW=1]="LOW",e[e.MEDIUM=2]="MEDIUM",e[e.VERY_LOW=3]="VERY_LOW"}(L||(L={}));class a6 extends tk{constructor(){super("stream.video.sfu.event.SfuEvent",[{no:1,name:"subscriber_offer",kind:"message",oneof:"eventPayload",T:()=>oD},{no:2,name:"publisher_answer",kind:"message",oneof:"eventPayload",T:()=>oL},{no:3,name:"connection_quality_changed",kind:"message",oneof:"eventPayload",T:()=>oU},{no:4,name:"audio_level_changed",kind:"message",oneof:"eventPayload",T:()=>oH},{no:5,name:"ice_trickle",kind:"message",oneof:"eventPayload",T:()=>at},{no:6,name:"change_publish_quality",kind:"message",oneof:"eventPayload",T:()=>o4},{no:10,name:"participant_joined",kind:"message",oneof:"eventPayload",T:()=>oR},{no:11,name:"participant_left",kind:"message",oneof:"eventPayload",T:()=>oP},{no:12,name:"dominant_speaker_changed",kind:"message",oneof:"eventPayload",T:()=>oq},{no:13,name:"join_response",kind:"message",oneof:"eventPayload",T:()=>oT},{no:14,name:"health_check_response",kind:"message",oneof:"eventPayload",T:()=>om},{no:16,name:"track_published",kind:"message",oneof:"eventPayload",T:()=>og},{no:17,name:"track_unpublished",kind:"message",oneof:"eventPayload",T:()=>ob},{no:18,name:"error",kind:"message",oneof:"eventPayload",T:()=>on},{no:19,name:"call_grants_updated",kind:"message",oneof:"eventPayload",T:()=>o6},{no:20,name:"go_away",kind:"message",oneof:"eventPayload",T:()=>o9},{no:21,name:"ice_restart",kind:"message",oneof:"eventPayload",T:()=>oa},{no:22,name:"pins_updated",kind:"message",oneof:"eventPayload",T:()=>ot},{no:23,name:"call_ended",kind:"message",oneof:"eventPayload",T:()=>le},{no:24,name:"participant_updated",kind:"message",oneof:"eventPayload",T:()=>oI},{no:25,name:"participant_migration_complete",kind:"message",oneof:"eventPayload",T:()=>a7}])}create(e){let t=globalThis.Object.create(this.messagePrototype);return t.eventPayload={oneofKind:void 0},void 0!==e&&tp(this,t,e),t}internalBinaryRead(e,t,i,n){let s=n??this.create(),r=e.pos+t;for(;e.pos<r;){let[t,n]=e.tag();switch(t){case 1:s.eventPayload={oneofKind:"subscriberOffer",subscriberOffer:oD.internalBinaryRead(e,e.uint32(),i,s.eventPayload.subscriberOffer)};break;case 2:s.eventPayload={oneofKind:"publisherAnswer",publisherAnswer:oL.internalBinaryRead(e,e.uint32(),i,s.eventPayload.publisherAnswer)};break;case 3:s.eventPayload={oneofKind:"connectionQualityChanged",connectionQualityChanged:oU.internalBinaryRead(e,e.uint32(),i,s.eventPayload.connectionQualityChanged)};break;case 4:s.eventPayload={oneofKind:"audioLevelChanged",audioLevelChanged:oH.internalBinaryRead(e,e.uint32(),i,s.eventPayload.audioLevelChanged)};break;case 5:s.eventPayload={oneofKind:"iceTrickle",iceTrickle:at.internalBinaryRead(e,e.uint32(),i,s.eventPayload.iceTrickle)};break;case 6:s.eventPayload={oneofKind:"changePublishQuality",changePublishQuality:o4.internalBinaryRead(e,e.uint32(),i,s.eventPayload.changePublishQuality)};break;case 10:s.eventPayload={oneofKind:"participantJoined",participantJoined:oR.internalBinaryRead(e,e.uint32(),i,s.eventPayload.participantJoined)};break;case 11:s.eventPayload={oneofKind:"participantLeft",participantLeft:oP.internalBinaryRead(e,e.uint32(),i,s.eventPayload.participantLeft)};break;case 12:s.eventPayload={oneofKind:"dominantSpeakerChanged",dominantSpeakerChanged:oq.internalBinaryRead(e,e.uint32(),i,s.eventPayload.dominantSpeakerChanged)};break;case 13:s.eventPayload={oneofKind:"joinResponse",joinResponse:oT.internalBinaryRead(e,e.uint32(),i,s.eventPayload.joinResponse)};break;case 14:s.eventPayload={oneofKind:"healthCheckResponse",healthCheckResponse:om.internalBinaryRead(e,e.uint32(),i,s.eventPayload.healthCheckResponse)};break;case 16:s.eventPayload={oneofKind:"trackPublished",trackPublished:og.internalBinaryRead(e,e.uint32(),i,s.eventPayload.trackPublished)};break;case 17:s.eventPayload={oneofKind:"trackUnpublished",trackUnpublished:ob.internalBinaryRead(e,e.uint32(),i,s.eventPayload.trackUnpublished)};break;case 18:s.eventPayload={oneofKind:"error",error:on.internalBinaryRead(e,e.uint32(),i,s.eventPayload.error)};break;case 19:s.eventPayload={oneofKind:"callGrantsUpdated",callGrantsUpdated:o6.internalBinaryRead(e,e.uint32(),i,s.eventPayload.callGrantsUpdated)};break;case 20:s.eventPayload={oneofKind:"goAway",goAway:o9.internalBinaryRead(e,e.uint32(),i,s.eventPayload.goAway)};break;case 21:s.eventPayload={oneofKind:"iceRestart",iceRestart:oa.internalBinaryRead(e,e.uint32(),i,s.eventPayload.iceRestart)};break;case 22:s.eventPayload={oneofKind:"pinsUpdated",pinsUpdated:ot.internalBinaryRead(e,e.uint32(),i,s.eventPayload.pinsUpdated)};break;case 23:s.eventPayload={oneofKind:"callEnded",callEnded:le.internalBinaryRead(e,e.uint32(),i,s.eventPayload.callEnded)};break;case 24:s.eventPayload={oneofKind:"participantUpdated",participantUpdated:oI.internalBinaryRead(e,e.uint32(),i,s.eventPayload.participantUpdated)};break;case 25:s.eventPayload={oneofKind:"participantMigrationComplete",participantMigrationComplete:a7.internalBinaryRead(e,e.uint32(),i,s.eventPayload.participantMigrationComplete)};break;default:let r=i.readUnknownField;if("throw"===r)throw new globalThis.Error(`Unknown field ${t} (wire type ${n}) for ${this.typeName}`);let a=e.skip(n);!1!==r&&(!0===r?_.onRead:r)(this.typeName,s,t,n,a)}}return s}internalBinaryWrite(e,t,i){"subscriberOffer"===e.eventPayload.oneofKind&&oD.internalBinaryWrite(e.eventPayload.subscriberOffer,t.tag(1,w.LengthDelimited).fork(),i).join(),"publisherAnswer"===e.eventPayload.oneofKind&&oL.internalBinaryWrite(e.eventPayload.publisherAnswer,t.tag(2,w.LengthDelimited).fork(),i).join(),"connectionQualityChanged"===e.eventPayload.oneofKind&&oU.internalBinaryWrite(e.eventPayload.connectionQualityChanged,t.tag(3,w.LengthDelimited).fork(),i).join(),"audioLevelChanged"===e.eventPayload.oneofKind&&oH.internalBinaryWrite(e.eventPayload.audioLevelChanged,t.tag(4,w.LengthDelimited).fork(),i).join(),"iceTrickle"===e.eventPayload.oneofKind&&at.internalBinaryWrite(e.eventPayload.iceTrickle,t.tag(5,w.LengthDelimited).fork(),i).join(),"changePublishQuality"===e.eventPayload.oneofKind&&o4.internalBinaryWrite(e.eventPayload.changePublishQuality,t.tag(6,w.LengthDelimited).fork(),i).join(),"participantJoined"===e.eventPayload.oneofKind&&oR.internalBinaryWrite(e.eventPayload.participantJoined,t.tag(10,w.LengthDelimited).fork(),i).join(),"participantLeft"===e.eventPayload.oneofKind&&oP.internalBinaryWrite(e.eventPayload.participantLeft,t.tag(11,w.LengthDelimited).fork(),i).join(),"dominantSpeakerChanged"===e.eventPayload.oneofKind&&oq.internalBinaryWrite(e.eventPayload.dominantSpeakerChanged,t.tag(12,w.LengthDelimited).fork(),i).join(),"joinResponse"===e.eventPayload.oneofKind&&oT.internalBinaryWrite(e.eventPayload.joinResponse,t.tag(13,w.LengthDelimited).fork(),i).join(),"healthCheckResponse"===e.eventPayload.oneofKind&&om.internalBinaryWrite(e.eventPayload.healthCheckResponse,t.tag(14,w.LengthDelimited).fork(),i).join(),"trackPublished"===e.eventPayload.oneofKind&&og.internalBinaryWrite(e.eventPayload.trackPublished,t.tag(16,w.LengthDelimited).fork(),i).join(),"trackUnpublished"===e.eventPayload.oneofKind&&ob.internalBinaryWrite(e.eventPayload.trackUnpublished,t.tag(17,w.LengthDelimited).fork(),i).join(),"error"===e.eventPayload.oneofKind&&on.internalBinaryWrite(e.eventPayload.error,t.tag(18,w.LengthDelimited).fork(),i).join(),"callGrantsUpdated"===e.eventPayload.oneofKind&&o6.internalBinaryWrite(e.eventPayload.callGrantsUpdated,t.tag(19,w.LengthDelimited).fork(),i).join(),"goAway"===e.eventPayload.oneofKind&&o9.internalBinaryWrite(e.eventPayload.goAway,t.tag(20,w.LengthDelimited).fork(),i).join(),"iceRestart"===e.eventPayload.oneofKind&&oa.internalBinaryWrite(e.eventPayload.iceRestart,t.tag(21,w.LengthDelimited).fork(),i).join(),"pinsUpdated"===e.eventPayload.oneofKind&&ot.internalBinaryWrite(e.eventPayload.pinsUpdated,t.tag(22,w.LengthDelimited).fork(),i).join(),"callEnded"===e.eventPayload.oneofKind&&le.internalBinaryWrite(e.eventPayload.callEnded,t.tag(23,w.LengthDelimited).fork(),i).join(),"participantUpdated"===e.eventPayload.oneofKind&&oI.internalBinaryWrite(e.eventPayload.participantUpdated,t.tag(24,w.LengthDelimited).fork(),i).join(),"participantMigrationComplete"===e.eventPayload.oneofKind&&a7.internalBinaryWrite(e.eventPayload.participantMigrationComplete,t.tag(25,w.LengthDelimited).fork(),i).join();let n=i.writeUnknownFields;return!1!==n&&(!0==n?_.onWrite:n)(this.typeName,e,t),t}}let a8=new a6;class a9 extends tk{constructor(){super("stream.video.sfu.event.ParticipantMigrationComplete",[])}create(e){let t=globalThis.Object.create(this.messagePrototype);return void 0!==e&&tp(this,t,e),t}internalBinaryRead(e,t,i,n){return n??this.create()}internalBinaryWrite(e,t,i){let n=i.writeUnknownFields;return!1!==n&&(!0==n?_.onWrite:n)(this.typeName,e,t),t}}let a7=new a9;class oe extends tk{constructor(){super("stream.video.sfu.event.PinsChanged",[{no:1,name:"pins",kind:"message",repeat:1,T:()=>r0}])}create(e){let t=globalThis.Object.create(this.messagePrototype);return t.pins=[],void 0!==e&&tp(this,t,e),t}internalBinaryRead(e,t,i,n){let s=n??this.create(),r=e.pos+t;for(;e.pos<r;){let[t,n]=e.tag();if(1===t)s.pins.push(r0.internalBinaryRead(e,e.uint32(),i));else{let r=i.readUnknownField;if("throw"===r)throw new globalThis.Error(`Unknown field ${t} (wire type ${n}) for ${this.typeName}`);let a=e.skip(n);!1!==r&&(!0===r?_.onRead:r)(this.typeName,s,t,n,a)}}return s}internalBinaryWrite(e,t,i){for(let n=0;n<e.pins.length;n++)r0.internalBinaryWrite(e.pins[n],t.tag(1,w.LengthDelimited).fork(),i).join();let n=i.writeUnknownFields;return!1!==n&&(!0==n?_.onWrite:n)(this.typeName,e,t),t}}let ot=new oe;class oi extends tk{constructor(){super("stream.video.sfu.event.Error",[{no:4,name:"error",kind:"message",T:()=>as},{no:5,name:"reconnect_strategy",kind:"enum",T:()=>["stream.video.sfu.models.WebsocketReconnectStrategy",A,"WEBSOCKET_RECONNECT_STRATEGY_"]}])}create(e){let t=globalThis.Object.create(this.messagePrototype);return t.reconnectStrategy=0,void 0!==e&&tp(this,t,e),t}internalBinaryRead(e,t,i,n){let s=n??this.create(),r=e.pos+t;for(;e.pos<r;){let[t,n]=e.tag();switch(t){case 4:s.error=as.internalBinaryRead(e,e.uint32(),i,s.error);break;case 5:s.reconnectStrategy=e.int32();break;default:let r=i.readUnknownField;if("throw"===r)throw new globalThis.Error(`Unknown field ${t} (wire type ${n}) for ${this.typeName}`);let a=e.skip(n);!1!==r&&(!0===r?_.onRead:r)(this.typeName,s,t,n,a)}}return s}internalBinaryWrite(e,t,i){e.error&&as.internalBinaryWrite(e.error,t.tag(4,w.LengthDelimited).fork(),i).join(),0!==e.reconnectStrategy&&t.tag(5,w.Varint).int32(e.reconnectStrategy);let n=i.writeUnknownFields;return!1!==n&&(!0==n?_.onWrite:n)(this.typeName,e,t),t}}let on=new oi;class os extends tk{constructor(){super("stream.video.sfu.event.ICETrickle",[{no:1,name:"peer_type",kind:"enum",T:()=>["stream.video.sfu.models.PeerType",T,"PEER_TYPE_"]},{no:2,name:"ice_candidate",kind:"scalar",T:9}])}create(e){let t=globalThis.Object.create(this.messagePrototype);return t.peerType=0,t.iceCandidate="",void 0!==e&&tp(this,t,e),t}internalBinaryRead(e,t,i,n){let s=n??this.create(),r=e.pos+t;for(;e.pos<r;){let[t,n]=e.tag();switch(t){case 1:s.peerType=e.int32();break;case 2:s.iceCandidate=e.string();break;default:let r=i.readUnknownField;if("throw"===r)throw new globalThis.Error(`Unknown field ${t} (wire type ${n}) for ${this.typeName}`);let a=e.skip(n);!1!==r&&(!0===r?_.onRead:r)(this.typeName,s,t,n,a)}}return s}internalBinaryWrite(e,t,i){0!==e.peerType&&t.tag(1,w.Varint).int32(e.peerType),""!==e.iceCandidate&&t.tag(2,w.LengthDelimited).string(e.iceCandidate);let n=i.writeUnknownFields;return!1!==n&&(!0==n?_.onWrite:n)(this.typeName,e,t),t}}new os;class or extends tk{constructor(){super("stream.video.sfu.event.ICERestart",[{no:1,name:"peer_type",kind:"enum",T:()=>["stream.video.sfu.models.PeerType",T,"PEER_TYPE_"]}])}create(e){let t=globalThis.Object.create(this.messagePrototype);return t.peerType=0,void 0!==e&&tp(this,t,e),t}internalBinaryRead(e,t,i,n){let s=n??this.create(),r=e.pos+t;for(;e.pos<r;){let[t,n]=e.tag();if(1===t)s.peerType=e.int32();else{let r=i.readUnknownField;if("throw"===r)throw new globalThis.Error(`Unknown field ${t} (wire type ${n}) for ${this.typeName}`);let a=e.skip(n);!1!==r&&(!0===r?_.onRead:r)(this.typeName,s,t,n,a)}}return s}internalBinaryWrite(e,t,i){0!==e.peerType&&t.tag(1,w.Varint).int32(e.peerType);let n=i.writeUnknownFields;return!1!==n&&(!0==n?_.onWrite:n)(this.typeName,e,t),t}}let oa=new or;class oo extends tk{constructor(){super("stream.video.sfu.event.SfuRequest",[{no:1,name:"join_request",kind:"message",oneof:"requestPayload",T:()=>ox},{no:2,name:"health_check_request",kind:"message",oneof:"requestPayload",T:()=>op},{no:3,name:"leave_call_request",kind:"message",oneof:"requestPayload",T:()=>od}])}create(e){let t=globalThis.Object.create(this.messagePrototype);return t.requestPayload={oneofKind:void 0},void 0!==e&&tp(this,t,e),t}internalBinaryRead(e,t,i,n){let s=n??this.create(),r=e.pos+t;for(;e.pos<r;){let[t,n]=e.tag();switch(t){case 1:s.requestPayload={oneofKind:"joinRequest",joinRequest:ox.internalBinaryRead(e,e.uint32(),i,s.requestPayload.joinRequest)};break;case 2:s.requestPayload={oneofKind:"healthCheckRequest",healthCheckRequest:op.internalBinaryRead(e,e.uint32(),i,s.requestPayload.healthCheckRequest)};break;case 3:s.requestPayload={oneofKind:"leaveCallRequest",leaveCallRequest:od.internalBinaryRead(e,e.uint32(),i,s.requestPayload.leaveCallRequest)};break;default:let r=i.readUnknownField;if("throw"===r)throw new globalThis.Error(`Unknown field ${t} (wire type ${n}) for ${this.typeName}`);let a=e.skip(n);!1!==r&&(!0===r?_.onRead:r)(this.typeName,s,t,n,a)}}return s}internalBinaryWrite(e,t,i){"joinRequest"===e.requestPayload.oneofKind&&ox.internalBinaryWrite(e.requestPayload.joinRequest,t.tag(1,w.LengthDelimited).fork(),i).join(),"healthCheckRequest"===e.requestPayload.oneofKind&&op.internalBinaryWrite(e.requestPayload.healthCheckRequest,t.tag(2,w.LengthDelimited).fork(),i).join(),"leaveCallRequest"===e.requestPayload.oneofKind&&od.internalBinaryWrite(e.requestPayload.leaveCallRequest,t.tag(3,w.LengthDelimited).fork(),i).join();let n=i.writeUnknownFields;return!1!==n&&(!0==n?_.onWrite:n)(this.typeName,e,t),t}}let ol=new oo;class oc extends tk{constructor(){super("stream.video.sfu.event.LeaveCallRequest",[{no:1,name:"session_id",kind:"scalar",T:9},{no:2,name:"reason",kind:"scalar",T:9}])}create(e){let t=globalThis.Object.create(this.messagePrototype);return t.sessionId="",t.reason="",void 0!==e&&tp(this,t,e),t}internalBinaryRead(e,t,i,n){let s=n??this.create(),r=e.pos+t;for(;e.pos<r;){let[t,n]=e.tag();switch(t){case 1:s.sessionId=e.string();break;case 2:s.reason=e.string();break;default:let r=i.readUnknownField;if("throw"===r)throw new globalThis.Error(`Unknown field ${t} (wire type ${n}) for ${this.typeName}`);let a=e.skip(n);!1!==r&&(!0===r?_.onRead:r)(this.typeName,s,t,n,a)}}return s}internalBinaryWrite(e,t,i){""!==e.sessionId&&t.tag(1,w.LengthDelimited).string(e.sessionId),""!==e.reason&&t.tag(2,w.LengthDelimited).string(e.reason);let n=i.writeUnknownFields;return!1!==n&&(!0==n?_.onWrite:n)(this.typeName,e,t),t}}let od=new oc;class ou extends tk{constructor(){super("stream.video.sfu.event.HealthCheckRequest",[])}create(e){let t=globalThis.Object.create(this.messagePrototype);return void 0!==e&&tp(this,t,e),t}internalBinaryRead(e,t,i,n){return n??this.create()}internalBinaryWrite(e,t,i){let n=i.writeUnknownFields;return!1!==n&&(!0==n?_.onWrite:n)(this.typeName,e,t),t}}let op=new ou;class oh extends tk{constructor(){super("stream.video.sfu.event.HealthCheckResponse",[{no:1,name:"participant_count",kind:"message",T:()=>rX}])}create(e){let t=globalThis.Object.create(this.messagePrototype);return void 0!==e&&tp(this,t,e),t}internalBinaryRead(e,t,i,n){let s=n??this.create(),r=e.pos+t;for(;e.pos<r;){let[t,n]=e.tag();if(1===t)s.participantCount=rX.internalBinaryRead(e,e.uint32(),i,s.participantCount);else{let r=i.readUnknownField;if("throw"===r)throw new globalThis.Error(`Unknown field ${t} (wire type ${n}) for ${this.typeName}`);let a=e.skip(n);!1!==r&&(!0===r?_.onRead:r)(this.typeName,s,t,n,a)}}return s}internalBinaryWrite(e,t,i){e.participantCount&&rX.internalBinaryWrite(e.participantCount,t.tag(1,w.LengthDelimited).fork(),i).join();let n=i.writeUnknownFields;return!1!==n&&(!0==n?_.onWrite:n)(this.typeName,e,t),t}}let om=new oh;class of extends tk{constructor(){super("stream.video.sfu.event.TrackPublished",[{no:1,name:"user_id",kind:"scalar",T:9},{no:2,name:"session_id",kind:"scalar",T:9},{no:3,name:"type",kind:"enum",T:()=>["stream.video.sfu.models.TrackType",O,"TRACK_TYPE_"]},{no:4,name:"participant",kind:"message",T:()=>r2}])}create(e){let t=globalThis.Object.create(this.messagePrototype);return t.userId="",t.sessionId="",t.type=0,void 0!==e&&tp(this,t,e),t}internalBinaryRead(e,t,i,n){let s=n??this.create(),r=e.pos+t;for(;e.pos<r;){let[t,n]=e.tag();switch(t){case 1:s.userId=e.string();break;case 2:s.sessionId=e.string();break;case 3:s.type=e.int32();break;case 4:s.participant=r2.internalBinaryRead(e,e.uint32(),i,s.participant);break;default:let r=i.readUnknownField;if("throw"===r)throw new globalThis.Error(`Unknown field ${t} (wire type ${n}) for ${this.typeName}`);let a=e.skip(n);!1!==r&&(!0===r?_.onRead:r)(this.typeName,s,t,n,a)}}return s}internalBinaryWrite(e,t,i){""!==e.userId&&t.tag(1,w.LengthDelimited).string(e.userId),""!==e.sessionId&&t.tag(2,w.LengthDelimited).string(e.sessionId),0!==e.type&&t.tag(3,w.Varint).int32(e.type),e.participant&&r2.internalBinaryWrite(e.participant,t.tag(4,w.LengthDelimited).fork(),i).join();let n=i.writeUnknownFields;return!1!==n&&(!0==n?_.onWrite:n)(this.typeName,e,t),t}}let og=new of;class ov extends tk{constructor(){super("stream.video.sfu.event.TrackUnpublished",[{no:1,name:"user_id",kind:"scalar",T:9},{no:2,name:"session_id",kind:"scalar",T:9},{no:3,name:"type",kind:"enum",T:()=>["stream.video.sfu.models.TrackType",O,"TRACK_TYPE_"]},{no:4,name:"cause",kind:"enum",T:()=>["stream.video.sfu.models.TrackUnpublishReason",I,"TRACK_UNPUBLISH_REASON_"]},{no:5,name:"participant",kind:"message",T:()=>r2}])}create(e){let t=globalThis.Object.create(this.messagePrototype);return t.userId="",t.sessionId="",t.type=0,t.cause=0,void 0!==e&&tp(this,t,e),t}internalBinaryRead(e,t,i,n){let s=n??this.create(),r=e.pos+t;for(;e.pos<r;){let[t,n]=e.tag();switch(t){case 1:s.userId=e.string();break;case 2:s.sessionId=e.string();break;case 3:s.type=e.int32();break;case 4:s.cause=e.int32();break;case 5:s.participant=r2.internalBinaryRead(e,e.uint32(),i,s.participant);break;default:let r=i.readUnknownField;if("throw"===r)throw new globalThis.Error(`Unknown field ${t} (wire type ${n}) for ${this.typeName}`);let a=e.skip(n);!1!==r&&(!0===r?_.onRead:r)(this.typeName,s,t,n,a)}}return s}internalBinaryWrite(e,t,i){""!==e.userId&&t.tag(1,w.LengthDelimited).string(e.userId),""!==e.sessionId&&t.tag(2,w.LengthDelimited).string(e.sessionId),0!==e.type&&t.tag(3,w.Varint).int32(e.type),0!==e.cause&&t.tag(4,w.Varint).int32(e.cause),e.participant&&r2.internalBinaryWrite(e.participant,t.tag(5,w.LengthDelimited).fork(),i).join();let n=i.writeUnknownFields;return!1!==n&&(!0==n?_.onWrite:n)(this.typeName,e,t),t}}let ob=new ov;class oy extends tk{constructor(){super("stream.video.sfu.event.JoinRequest",[{no:1,name:"token",kind:"scalar",T:9},{no:2,name:"session_id",kind:"scalar",T:9},{no:3,name:"subscriber_sdp",kind:"scalar",T:9},{no:4,name:"client_details",kind:"message",T:()=>aa},{no:5,name:"migration",kind:"message",T:()=>ok},{no:6,name:"fast_reconnect",kind:"scalar",T:8},{no:7,name:"reconnect_details",kind:"message",T:()=>ow}])}create(e){let t=globalThis.Object.create(this.messagePrototype);return t.token="",t.sessionId="",t.subscriberSdp="",t.fastReconnect=!1,void 0!==e&&tp(this,t,e),t}internalBinaryRead(e,t,i,n){let s=n??this.create(),r=e.pos+t;for(;e.pos<r;){let[t,n]=e.tag();switch(t){case 1:s.token=e.string();break;case 2:s.sessionId=e.string();break;case 3:s.subscriberSdp=e.string();break;case 4:s.clientDetails=aa.internalBinaryRead(e,e.uint32(),i,s.clientDetails);break;case 5:s.migration=ok.internalBinaryRead(e,e.uint32(),i,s.migration);break;case 6:s.fastReconnect=e.bool();break;case 7:s.reconnectDetails=ow.internalBinaryRead(e,e.uint32(),i,s.reconnectDetails);break;default:let r=i.readUnknownField;if("throw"===r)throw new globalThis.Error(`Unknown field ${t} (wire type ${n}) for ${this.typeName}`);let a=e.skip(n);!1!==r&&(!0===r?_.onRead:r)(this.typeName,s,t,n,a)}}return s}internalBinaryWrite(e,t,i){""!==e.token&&t.tag(1,w.LengthDelimited).string(e.token),""!==e.sessionId&&t.tag(2,w.LengthDelimited).string(e.sessionId),""!==e.subscriberSdp&&t.tag(3,w.LengthDelimited).string(e.subscriberSdp),e.clientDetails&&aa.internalBinaryWrite(e.clientDetails,t.tag(4,w.LengthDelimited).fork(),i).join(),e.migration&&ok.internalBinaryWrite(e.migration,t.tag(5,w.LengthDelimited).fork(),i).join(),!1!==e.fastReconnect&&t.tag(6,w.Varint).bool(e.fastReconnect),e.reconnectDetails&&ow.internalBinaryWrite(e.reconnectDetails,t.tag(7,w.LengthDelimited).fork(),i).join();let n=i.writeUnknownFields;return!1!==n&&(!0==n?_.onWrite:n)(this.typeName,e,t),t}}let ox=new oy;class o_ extends tk{constructor(){super("stream.video.sfu.event.ReconnectDetails",[{no:1,name:"strategy",kind:"enum",T:()=>["stream.video.sfu.models.WebsocketReconnectStrategy",A,"WEBSOCKET_RECONNECT_STRATEGY_"]},{no:3,name:"announced_tracks",kind:"message",repeat:1,T:()=>an},{no:4,name:"subscriptions",kind:"message",repeat:1,T:()=>aJ},{no:5,name:"reconnect_attempt",kind:"scalar",T:13},{no:6,name:"from_sfu_id",kind:"scalar",T:9},{no:7,name:"previous_session_id",kind:"scalar",T:9}])}create(e){let t=globalThis.Object.create(this.messagePrototype);return t.strategy=0,t.announcedTracks=[],t.subscriptions=[],t.reconnectAttempt=0,t.fromSfuId="",t.previousSessionId="",void 0!==e&&tp(this,t,e),t}internalBinaryRead(e,t,i,n){let s=n??this.create(),r=e.pos+t;for(;e.pos<r;){let[t,n]=e.tag();switch(t){case 1:s.strategy=e.int32();break;case 3:s.announcedTracks.push(an.internalBinaryRead(e,e.uint32(),i));break;case 4:s.subscriptions.push(aJ.internalBinaryRead(e,e.uint32(),i));break;case 5:s.reconnectAttempt=e.uint32();break;case 6:s.fromSfuId=e.string();break;case 7:s.previousSessionId=e.string();break;default:let r=i.readUnknownField;if("throw"===r)throw new globalThis.Error(`Unknown field ${t} (wire type ${n}) for ${this.typeName}`);let a=e.skip(n);!1!==r&&(!0===r?_.onRead:r)(this.typeName,s,t,n,a)}}return s}internalBinaryWrite(e,t,i){0!==e.strategy&&t.tag(1,w.Varint).int32(e.strategy);for(let n=0;n<e.announcedTracks.length;n++)an.internalBinaryWrite(e.announcedTracks[n],t.tag(3,w.LengthDelimited).fork(),i).join();for(let n=0;n<e.subscriptions.length;n++)aJ.internalBinaryWrite(e.subscriptions[n],t.tag(4,w.LengthDelimited).fork(),i).join();0!==e.reconnectAttempt&&t.tag(5,w.Varint).uint32(e.reconnectAttempt),""!==e.fromSfuId&&t.tag(6,w.LengthDelimited).string(e.fromSfuId),""!==e.previousSessionId&&t.tag(7,w.LengthDelimited).string(e.previousSessionId);let n=i.writeUnknownFields;return!1!==n&&(!0==n?_.onWrite:n)(this.typeName,e,t),t}}let ow=new o_;class oS extends tk{constructor(){super("stream.video.sfu.event.Migration",[{no:1,name:"from_sfu_id",kind:"scalar",T:9},{no:2,name:"announced_tracks",kind:"message",repeat:1,T:()=>an},{no:3,name:"subscriptions",kind:"message",repeat:1,T:()=>aJ}])}create(e){let t=globalThis.Object.create(this.messagePrototype);return t.fromSfuId="",t.announcedTracks=[],t.subscriptions=[],void 0!==e&&tp(this,t,e),t}internalBinaryRead(e,t,i,n){let s=n??this.create(),r=e.pos+t;for(;e.pos<r;){let[t,n]=e.tag();switch(t){case 1:s.fromSfuId=e.string();break;case 2:s.announcedTracks.push(an.internalBinaryRead(e,e.uint32(),i));break;case 3:s.subscriptions.push(aJ.internalBinaryRead(e,e.uint32(),i));break;default:let r=i.readUnknownField;if("throw"===r)throw new globalThis.Error(`Unknown field ${t} (wire type ${n}) for ${this.typeName}`);let a=e.skip(n);!1!==r&&(!0===r?_.onRead:r)(this.typeName,s,t,n,a)}}return s}internalBinaryWrite(e,t,i){""!==e.fromSfuId&&t.tag(1,w.LengthDelimited).string(e.fromSfuId);for(let n=0;n<e.announcedTracks.length;n++)an.internalBinaryWrite(e.announcedTracks[n],t.tag(2,w.LengthDelimited).fork(),i).join();for(let n=0;n<e.subscriptions.length;n++)aJ.internalBinaryWrite(e.subscriptions[n],t.tag(3,w.LengthDelimited).fork(),i).join();let n=i.writeUnknownFields;return!1!==n&&(!0==n?_.onWrite:n)(this.typeName,e,t),t}}let ok=new oS;class oE extends tk{constructor(){super("stream.video.sfu.event.JoinResponse",[{no:1,name:"call_state",kind:"message",T:()=>rY},{no:2,name:"reconnected",kind:"scalar",T:8},{no:3,name:"fast_reconnect_deadline_seconds",kind:"scalar",T:5}])}create(e){let t=globalThis.Object.create(this.messagePrototype);return t.reconnected=!1,t.fastReconnectDeadlineSeconds=0,void 0!==e&&tp(this,t,e),t}internalBinaryRead(e,t,i,n){let s=n??this.create(),r=e.pos+t;for(;e.pos<r;){let[t,n]=e.tag();switch(t){case 1:s.callState=rY.internalBinaryRead(e,e.uint32(),i,s.callState);break;case 2:s.reconnected=e.bool();break;case 3:s.fastReconnectDeadlineSeconds=e.int32();break;default:let r=i.readUnknownField;if("throw"===r)throw new globalThis.Error(`Unknown field ${t} (wire type ${n}) for ${this.typeName}`);let a=e.skip(n);!1!==r&&(!0===r?_.onRead:r)(this.typeName,s,t,n,a)}}return s}internalBinaryWrite(e,t,i){e.callState&&rY.internalBinaryWrite(e.callState,t.tag(1,w.LengthDelimited).fork(),i).join(),!1!==e.reconnected&&t.tag(2,w.Varint).bool(e.reconnected),0!==e.fastReconnectDeadlineSeconds&&t.tag(3,w.Varint).int32(e.fastReconnectDeadlineSeconds);let n=i.writeUnknownFields;return!1!==n&&(!0==n?_.onWrite:n)(this.typeName,e,t),t}}let oT=new oE;class oC extends tk{constructor(){super("stream.video.sfu.event.ParticipantJoined",[{no:1,name:"call_cid",kind:"scalar",T:9},{no:2,name:"participant",kind:"message",T:()=>r2}])}create(e){let t=globalThis.Object.create(this.messagePrototype);return t.callCid="",void 0!==e&&tp(this,t,e),t}internalBinaryRead(e,t,i,n){let s=n??this.create(),r=e.pos+t;for(;e.pos<r;){let[t,n]=e.tag();switch(t){case 1:s.callCid=e.string();break;case 2:s.participant=r2.internalBinaryRead(e,e.uint32(),i,s.participant);break;default:let r=i.readUnknownField;if("throw"===r)throw new globalThis.Error(`Unknown field ${t} (wire type ${n}) for ${this.typeName}`);let a=e.skip(n);!1!==r&&(!0===r?_.onRead:r)(this.typeName,s,t,n,a)}}return s}internalBinaryWrite(e,t,i){""!==e.callCid&&t.tag(1,w.LengthDelimited).string(e.callCid),e.participant&&r2.internalBinaryWrite(e.participant,t.tag(2,w.LengthDelimited).fork(),i).join();let n=i.writeUnknownFields;return!1!==n&&(!0==n?_.onWrite:n)(this.typeName,e,t),t}}let oR=new oC;class oO extends tk{constructor(){super("stream.video.sfu.event.ParticipantLeft",[{no:1,name:"call_cid",kind:"scalar",T:9},{no:2,name:"participant",kind:"message",T:()=>r2}])}create(e){let t=globalThis.Object.create(this.messagePrototype);return t.callCid="",void 0!==e&&tp(this,t,e),t}internalBinaryRead(e,t,i,n){let s=n??this.create(),r=e.pos+t;for(;e.pos<r;){let[t,n]=e.tag();switch(t){case 1:s.callCid=e.string();break;case 2:s.participant=r2.internalBinaryRead(e,e.uint32(),i,s.participant);break;default:let r=i.readUnknownField;if("throw"===r)throw new globalThis.Error(`Unknown field ${t} (wire type ${n}) for ${this.typeName}`);let a=e.skip(n);!1!==r&&(!0===r?_.onRead:r)(this.typeName,s,t,n,a)}}return s}internalBinaryWrite(e,t,i){""!==e.callCid&&t.tag(1,w.LengthDelimited).string(e.callCid),e.participant&&r2.internalBinaryWrite(e.participant,t.tag(2,w.LengthDelimited).fork(),i).join();let n=i.writeUnknownFields;return!1!==n&&(!0==n?_.onWrite:n)(this.typeName,e,t),t}}let oP=new oO;class oj extends tk{constructor(){super("stream.video.sfu.event.ParticipantUpdated",[{no:1,name:"call_cid",kind:"scalar",T:9},{no:2,name:"participant",kind:"message",T:()=>r2}])}create(e){let t=globalThis.Object.create(this.messagePrototype);return t.callCid="",void 0!==e&&tp(this,t,e),t}internalBinaryRead(e,t,i,n){let s=n??this.create(),r=e.pos+t;for(;e.pos<r;){let[t,n]=e.tag();switch(t){case 1:s.callCid=e.string();break;case 2:s.participant=r2.internalBinaryRead(e,e.uint32(),i,s.participant);break;default:let r=i.readUnknownField;if("throw"===r)throw new globalThis.Error(`Unknown field ${t} (wire type ${n}) for ${this.typeName}`);let a=e.skip(n);!1!==r&&(!0===r?_.onRead:r)(this.typeName,s,t,n,a)}}return s}internalBinaryWrite(e,t,i){""!==e.callCid&&t.tag(1,w.LengthDelimited).string(e.callCid),e.participant&&r2.internalBinaryWrite(e.participant,t.tag(2,w.LengthDelimited).fork(),i).join();let n=i.writeUnknownFields;return!1!==n&&(!0==n?_.onWrite:n)(this.typeName,e,t),t}}let oI=new oj;class oN extends tk{constructor(){super("stream.video.sfu.event.SubscriberOffer",[{no:1,name:"ice_restart",kind:"scalar",T:8},{no:2,name:"sdp",kind:"scalar",T:9}])}create(e){let t=globalThis.Object.create(this.messagePrototype);return t.iceRestart=!1,t.sdp="",void 0!==e&&tp(this,t,e),t}internalBinaryRead(e,t,i,n){let s=n??this.create(),r=e.pos+t;for(;e.pos<r;){let[t,n]=e.tag();switch(t){case 1:s.iceRestart=e.bool();break;case 2:s.sdp=e.string();break;default:let r=i.readUnknownField;if("throw"===r)throw new globalThis.Error(`Unknown field ${t} (wire type ${n}) for ${this.typeName}`);let a=e.skip(n);!1!==r&&(!0===r?_.onRead:r)(this.typeName,s,t,n,a)}}return s}internalBinaryWrite(e,t,i){!1!==e.iceRestart&&t.tag(1,w.Varint).bool(e.iceRestart),""!==e.sdp&&t.tag(2,w.LengthDelimited).string(e.sdp);let n=i.writeUnknownFields;return!1!==n&&(!0==n?_.onWrite:n)(this.typeName,e,t),t}}let oD=new oN;class oA extends tk{constructor(){super("stream.video.sfu.event.PublisherAnswer",[{no:1,name:"sdp",kind:"scalar",T:9}])}create(e){let t=globalThis.Object.create(this.messagePrototype);return t.sdp="",void 0!==e&&tp(this,t,e),t}internalBinaryRead(e,t,i,n){let s=n??this.create(),r=e.pos+t;for(;e.pos<r;){let[t,n]=e.tag();if(1===t)s.sdp=e.string();else{let r=i.readUnknownField;if("throw"===r)throw new globalThis.Error(`Unknown field ${t} (wire type ${n}) for ${this.typeName}`);let a=e.skip(n);!1!==r&&(!0===r?_.onRead:r)(this.typeName,s,t,n,a)}}return s}internalBinaryWrite(e,t,i){""!==e.sdp&&t.tag(1,w.LengthDelimited).string(e.sdp);let n=i.writeUnknownFields;return!1!==n&&(!0==n?_.onWrite:n)(this.typeName,e,t),t}}let oL=new oA;class oM extends tk{constructor(){super("stream.video.sfu.event.ConnectionQualityChanged",[{no:1,name:"connection_quality_updates",kind:"message",repeat:1,T:()=>oB}])}create(e){let t=globalThis.Object.create(this.messagePrototype);return t.connectionQualityUpdates=[],void 0!==e&&tp(this,t,e),t}internalBinaryRead(e,t,i,n){let s=n??this.create(),r=e.pos+t;for(;e.pos<r;){let[t,n]=e.tag();if(1===t)s.connectionQualityUpdates.push(oB.internalBinaryRead(e,e.uint32(),i));else{let r=i.readUnknownField;if("throw"===r)throw new globalThis.Error(`Unknown field ${t} (wire type ${n}) for ${this.typeName}`);let a=e.skip(n);!1!==r&&(!0===r?_.onRead:r)(this.typeName,s,t,n,a)}}return s}internalBinaryWrite(e,t,i){for(let n=0;n<e.connectionQualityUpdates.length;n++)oB.internalBinaryWrite(e.connectionQualityUpdates[n],t.tag(1,w.LengthDelimited).fork(),i).join();let n=i.writeUnknownFields;return!1!==n&&(!0==n?_.onWrite:n)(this.typeName,e,t),t}}let oU=new oM;class oF extends tk{constructor(){super("stream.video.sfu.event.ConnectionQualityInfo",[{no:1,name:"user_id",kind:"scalar",T:9},{no:2,name:"session_id",kind:"scalar",T:9},{no:3,name:"connection_quality",kind:"enum",T:()=>["stream.video.sfu.models.ConnectionQuality",C,"CONNECTION_QUALITY_"]}])}create(e){let t=globalThis.Object.create(this.messagePrototype);return t.userId="",t.sessionId="",t.connectionQuality=0,void 0!==e&&tp(this,t,e),t}internalBinaryRead(e,t,i,n){let s=n??this.create(),r=e.pos+t;for(;e.pos<r;){let[t,n]=e.tag();switch(t){case 1:s.userId=e.string();break;case 2:s.sessionId=e.string();break;case 3:s.connectionQuality=e.int32();break;default:let r=i.readUnknownField;if("throw"===r)throw new globalThis.Error(`Unknown field ${t} (wire type ${n}) for ${this.typeName}`);let a=e.skip(n);!1!==r&&(!0===r?_.onRead:r)(this.typeName,s,t,n,a)}}return s}internalBinaryWrite(e,t,i){""!==e.userId&&t.tag(1,w.LengthDelimited).string(e.userId),""!==e.sessionId&&t.tag(2,w.LengthDelimited).string(e.sessionId),0!==e.connectionQuality&&t.tag(3,w.Varint).int32(e.connectionQuality);let n=i.writeUnknownFields;return!1!==n&&(!0==n?_.onWrite:n)(this.typeName,e,t),t}}let oB=new oF;class o$ extends tk{constructor(){super("stream.video.sfu.event.DominantSpeakerChanged",[{no:1,name:"user_id",kind:"scalar",T:9},{no:2,name:"session_id",kind:"scalar",T:9}])}create(e){let t=globalThis.Object.create(this.messagePrototype);return t.userId="",t.sessionId="",void 0!==e&&tp(this,t,e),t}internalBinaryRead(e,t,i,n){let s=n??this.create(),r=e.pos+t;for(;e.pos<r;){let[t,n]=e.tag();switch(t){case 1:s.userId=e.string();break;case 2:s.sessionId=e.string();break;default:let r=i.readUnknownField;if("throw"===r)throw new globalThis.Error(`Unknown field ${t} (wire type ${n}) for ${this.typeName}`);let a=e.skip(n);!1!==r&&(!0===r?_.onRead:r)(this.typeName,s,t,n,a)}}return s}internalBinaryWrite(e,t,i){""!==e.userId&&t.tag(1,w.LengthDelimited).string(e.userId),""!==e.sessionId&&t.tag(2,w.LengthDelimited).string(e.sessionId);let n=i.writeUnknownFields;return!1!==n&&(!0==n?_.onWrite:n)(this.typeName,e,t),t}}let oq=new o$;class oV extends tk{constructor(){super("stream.video.sfu.event.AudioLevel",[{no:1,name:"user_id",kind:"scalar",T:9},{no:2,name:"session_id",kind:"scalar",T:9},{no:3,name:"level",kind:"scalar",T:2},{no:4,name:"is_speaking",kind:"scalar",T:8}])}create(e){let t=globalThis.Object.create(this.messagePrototype);return t.userId="",t.sessionId="",t.level=0,t.isSpeaking=!1,void 0!==e&&tp(this,t,e),t}internalBinaryRead(e,t,i,n){let s=n??this.create(),r=e.pos+t;for(;e.pos<r;){let[t,n]=e.tag();switch(t){case 1:s.userId=e.string();break;case 2:s.sessionId=e.string();break;case 3:s.level=e.float();break;case 4:s.isSpeaking=e.bool();break;default:let r=i.readUnknownField;if("throw"===r)throw new globalThis.Error(`Unknown field ${t} (wire type ${n}) for ${this.typeName}`);let a=e.skip(n);!1!==r&&(!0===r?_.onRead:r)(this.typeName,s,t,n,a)}}return s}internalBinaryWrite(e,t,i){""!==e.userId&&t.tag(1,w.LengthDelimited).string(e.userId),""!==e.sessionId&&t.tag(2,w.LengthDelimited).string(e.sessionId),0!==e.level&&t.tag(3,w.Bit32).float(e.level),!1!==e.isSpeaking&&t.tag(4,w.Varint).bool(e.isSpeaking);let n=i.writeUnknownFields;return!1!==n&&(!0==n?_.onWrite:n)(this.typeName,e,t),t}}let oW=new oV;class oz extends tk{constructor(){super("stream.video.sfu.event.AudioLevelChanged",[{no:1,name:"audio_levels",kind:"message",repeat:1,T:()=>oW}])}create(e){let t=globalThis.Object.create(this.messagePrototype);return t.audioLevels=[],void 0!==e&&tp(this,t,e),t}internalBinaryRead(e,t,i,n){let s=n??this.create(),r=e.pos+t;for(;e.pos<r;){let[t,n]=e.tag();if(1===t)s.audioLevels.push(oW.internalBinaryRead(e,e.uint32(),i));else{let r=i.readUnknownField;if("throw"===r)throw new globalThis.Error(`Unknown field ${t} (wire type ${n}) for ${this.typeName}`);let a=e.skip(n);!1!==r&&(!0===r?_.onRead:r)(this.typeName,s,t,n,a)}}return s}internalBinaryWrite(e,t,i){for(let n=0;n<e.audioLevels.length;n++)oW.internalBinaryWrite(e.audioLevels[n],t.tag(1,w.LengthDelimited).fork(),i).join();let n=i.writeUnknownFields;return!1!==n&&(!0==n?_.onWrite:n)(this.typeName,e,t),t}}let oH=new oz;class oK extends tk{constructor(){super("stream.video.sfu.event.AudioMediaRequest",[{no:1,name:"channel_count",kind:"scalar",T:5}])}create(e){let t=globalThis.Object.create(this.messagePrototype);return t.channelCount=0,void 0!==e&&tp(this,t,e),t}internalBinaryRead(e,t,i,n){let s=n??this.create(),r=e.pos+t;for(;e.pos<r;){let[t,n]=e.tag();if(1===t)s.channelCount=e.int32();else{let r=i.readUnknownField;if("throw"===r)throw new globalThis.Error(`Unknown field ${t} (wire type ${n}) for ${this.typeName}`);let a=e.skip(n);!1!==r&&(!0===r?_.onRead:r)(this.typeName,s,t,n,a)}}return s}internalBinaryWrite(e,t,i){0!==e.channelCount&&t.tag(1,w.Varint).int32(e.channelCount);let n=i.writeUnknownFields;return!1!==n&&(!0==n?_.onWrite:n)(this.typeName,e,t),t}}let oG=new oK;class oJ extends tk{constructor(){super("stream.video.sfu.event.AudioSender",[{no:1,name:"media_request",kind:"message",T:()=>oG},{no:2,name:"codec",kind:"message",T:()=>ae}])}create(e){let t=globalThis.Object.create(this.messagePrototype);return void 0!==e&&tp(this,t,e),t}internalBinaryRead(e,t,i,n){let s=n??this.create(),r=e.pos+t;for(;e.pos<r;){let[t,n]=e.tag();switch(t){case 1:s.mediaRequest=oG.internalBinaryRead(e,e.uint32(),i,s.mediaRequest);break;case 2:s.codec=ae.internalBinaryRead(e,e.uint32(),i,s.codec);break;default:let r=i.readUnknownField;if("throw"===r)throw new globalThis.Error(`Unknown field ${t} (wire type ${n}) for ${this.typeName}`);let a=e.skip(n);!1!==r&&(!0===r?_.onRead:r)(this.typeName,s,t,n,a)}}return s}internalBinaryWrite(e,t,i){e.mediaRequest&&oG.internalBinaryWrite(e.mediaRequest,t.tag(1,w.LengthDelimited).fork(),i).join(),e.codec&&ae.internalBinaryWrite(e.codec,t.tag(2,w.LengthDelimited).fork(),i).join();let n=i.writeUnknownFields;return!1!==n&&(!0==n?_.onWrite:n)(this.typeName,e,t),t}}let oY=new oJ;class oQ extends tk{constructor(){super("stream.video.sfu.event.VideoMediaRequest",[{no:1,name:"ideal_height",kind:"scalar",T:5},{no:2,name:"ideal_width",kind:"scalar",T:5},{no:3,name:"ideal_frame_rate",kind:"scalar",T:5}])}create(e){let t=globalThis.Object.create(this.messagePrototype);return t.idealHeight=0,t.idealWidth=0,t.idealFrameRate=0,void 0!==e&&tp(this,t,e),t}internalBinaryRead(e,t,i,n){let s=n??this.create(),r=e.pos+t;for(;e.pos<r;){let[t,n]=e.tag();switch(t){case 1:s.idealHeight=e.int32();break;case 2:s.idealWidth=e.int32();break;case 3:s.idealFrameRate=e.int32();break;default:let r=i.readUnknownField;if("throw"===r)throw new globalThis.Error(`Unknown field ${t} (wire type ${n}) for ${this.typeName}`);let a=e.skip(n);!1!==r&&(!0===r?_.onRead:r)(this.typeName,s,t,n,a)}}return s}internalBinaryWrite(e,t,i){0!==e.idealHeight&&t.tag(1,w.Varint).int32(e.idealHeight),0!==e.idealWidth&&t.tag(2,w.Varint).int32(e.idealWidth),0!==e.idealFrameRate&&t.tag(3,w.Varint).int32(e.idealFrameRate);let n=i.writeUnknownFields;return!1!==n&&(!0==n?_.onWrite:n)(this.typeName,e,t),t}}let oX=new oQ;class oZ extends tk{constructor(){super("stream.video.sfu.event.VideoLayerSetting",[{no:1,name:"name",kind:"scalar",T:9},{no:2,name:"active",kind:"scalar",T:8},{no:3,name:"max_bitrate",kind:"scalar",T:5},{no:4,name:"scale_resolution_down_by",kind:"scalar",T:2},{no:5,name:"priority",kind:"enum",T:()=>["stream.video.sfu.event.VideoLayerSetting.Priority",L,"PRIORITY_"]},{no:6,name:"codec",kind:"message",T:()=>ae},{no:7,name:"max_framerate",kind:"scalar",T:13}])}create(e){let t=globalThis.Object.create(this.messagePrototype);return t.name="",t.active=!1,t.maxBitrate=0,t.scaleResolutionDownBy=0,t.priority=0,t.maxFramerate=0,void 0!==e&&tp(this,t,e),t}internalBinaryRead(e,t,i,n){let s=n??this.create(),r=e.pos+t;for(;e.pos<r;){let[t,n]=e.tag();switch(t){case 1:s.name=e.string();break;case 2:s.active=e.bool();break;case 3:s.maxBitrate=e.int32();break;case 4:s.scaleResolutionDownBy=e.float();break;case 5:s.priority=e.int32();break;case 6:s.codec=ae.internalBinaryRead(e,e.uint32(),i,s.codec);break;case 7:s.maxFramerate=e.uint32();break;default:let r=i.readUnknownField;if("throw"===r)throw new globalThis.Error(`Unknown field ${t} (wire type ${n}) for ${this.typeName}`);let a=e.skip(n);!1!==r&&(!0===r?_.onRead:r)(this.typeName,s,t,n,a)}}return s}internalBinaryWrite(e,t,i){""!==e.name&&t.tag(1,w.LengthDelimited).string(e.name),!1!==e.active&&t.tag(2,w.Varint).bool(e.active),0!==e.maxBitrate&&t.tag(3,w.Varint).int32(e.maxBitrate),0!==e.scaleResolutionDownBy&&t.tag(4,w.Bit32).float(e.scaleResolutionDownBy),0!==e.priority&&t.tag(5,w.Varint).int32(e.priority),e.codec&&ae.internalBinaryWrite(e.codec,t.tag(6,w.LengthDelimited).fork(),i).join(),0!==e.maxFramerate&&t.tag(7,w.Varint).uint32(e.maxFramerate);let n=i.writeUnknownFields;return!1!==n&&(!0==n?_.onWrite:n)(this.typeName,e,t),t}}let o0=new oZ;class o1 extends tk{constructor(){super("stream.video.sfu.event.VideoSender",[{no:1,name:"media_request",kind:"message",T:()=>oX},{no:2,name:"codec",kind:"message",T:()=>ae},{no:3,name:"layers",kind:"message",repeat:1,T:()=>o0}])}create(e){let t=globalThis.Object.create(this.messagePrototype);return t.layers=[],void 0!==e&&tp(this,t,e),t}internalBinaryRead(e,t,i,n){let s=n??this.create(),r=e.pos+t;for(;e.pos<r;){let[t,n]=e.tag();switch(t){case 1:s.mediaRequest=oX.internalBinaryRead(e,e.uint32(),i,s.mediaRequest);break;case 2:s.codec=ae.internalBinaryRead(e,e.uint32(),i,s.codec);break;case 3:s.layers.push(o0.internalBinaryRead(e,e.uint32(),i));break;default:let r=i.readUnknownField;if("throw"===r)throw new globalThis.Error(`Unknown field ${t} (wire type ${n}) for ${this.typeName}`);let a=e.skip(n);!1!==r&&(!0===r?_.onRead:r)(this.typeName,s,t,n,a)}}return s}internalBinaryWrite(e,t,i){e.mediaRequest&&oX.internalBinaryWrite(e.mediaRequest,t.tag(1,w.LengthDelimited).fork(),i).join(),e.codec&&ae.internalBinaryWrite(e.codec,t.tag(2,w.LengthDelimited).fork(),i).join();for(let n=0;n<e.layers.length;n++)o0.internalBinaryWrite(e.layers[n],t.tag(3,w.LengthDelimited).fork(),i).join();let n=i.writeUnknownFields;return!1!==n&&(!0==n?_.onWrite:n)(this.typeName,e,t),t}}let o2=new o1;class o3 extends tk{constructor(){super("stream.video.sfu.event.ChangePublishQuality",[{no:1,name:"audio_senders",kind:"message",repeat:1,T:()=>oY},{no:2,name:"video_senders",kind:"message",repeat:1,T:()=>o2}])}create(e){let t=globalThis.Object.create(this.messagePrototype);return t.audioSenders=[],t.videoSenders=[],void 0!==e&&tp(this,t,e),t}internalBinaryRead(e,t,i,n){let s=n??this.create(),r=e.pos+t;for(;e.pos<r;){let[t,n]=e.tag();switch(t){case 1:s.audioSenders.push(oY.internalBinaryRead(e,e.uint32(),i));break;case 2:s.videoSenders.push(o2.internalBinaryRead(e,e.uint32(),i));break;default:let r=i.readUnknownField;if("throw"===r)throw new globalThis.Error(`Unknown field ${t} (wire type ${n}) for ${this.typeName}`);let a=e.skip(n);!1!==r&&(!0===r?_.onRead:r)(this.typeName,s,t,n,a)}}return s}internalBinaryWrite(e,t,i){for(let n=0;n<e.audioSenders.length;n++)oY.internalBinaryWrite(e.audioSenders[n],t.tag(1,w.LengthDelimited).fork(),i).join();for(let n=0;n<e.videoSenders.length;n++)o2.internalBinaryWrite(e.videoSenders[n],t.tag(2,w.LengthDelimited).fork(),i).join();let n=i.writeUnknownFields;return!1!==n&&(!0==n?_.onWrite:n)(this.typeName,e,t),t}}let o4=new o3;class o5 extends tk{constructor(){super("stream.video.sfu.event.CallGrantsUpdated",[{no:1,name:"current_grants",kind:"message",T:()=>ab},{no:2,name:"message",kind:"scalar",T:9}])}create(e){let t=globalThis.Object.create(this.messagePrototype);return t.message="",void 0!==e&&tp(this,t,e),t}internalBinaryRead(e,t,i,n){let s=n??this.create(),r=e.pos+t;for(;e.pos<r;){let[t,n]=e.tag();switch(t){case 1:s.currentGrants=ab.internalBinaryRead(e,e.uint32(),i,s.currentGrants);break;case 2:s.message=e.string();break;default:let r=i.readUnknownField;if("throw"===r)throw new globalThis.Error(`Unknown field ${t} (wire type ${n}) for ${this.typeName}`);let a=e.skip(n);!1!==r&&(!0===r?_.onRead:r)(this.typeName,s,t,n,a)}}return s}internalBinaryWrite(e,t,i){e.currentGrants&&ab.internalBinaryWrite(e.currentGrants,t.tag(1,w.LengthDelimited).fork(),i).join(),""!==e.message&&t.tag(2,w.LengthDelimited).string(e.message);let n=i.writeUnknownFields;return!1!==n&&(!0==n?_.onWrite:n)(this.typeName,e,t),t}}let o6=new o5;class o8 extends tk{constructor(){super("stream.video.sfu.event.GoAway",[{no:1,name:"reason",kind:"enum",T:()=>["stream.video.sfu.models.GoAwayReason",N,"GO_AWAY_REASON_"]}])}create(e){let t=globalThis.Object.create(this.messagePrototype);return t.reason=0,void 0!==e&&tp(this,t,e),t}internalBinaryRead(e,t,i,n){let s=n??this.create(),r=e.pos+t;for(;e.pos<r;){let[t,n]=e.tag();if(1===t)s.reason=e.int32();else{let r=i.readUnknownField;if("throw"===r)throw new globalThis.Error(`Unknown field ${t} (wire type ${n}) for ${this.typeName}`);let a=e.skip(n);!1!==r&&(!0===r?_.onRead:r)(this.typeName,s,t,n,a)}}return s}internalBinaryWrite(e,t,i){0!==e.reason&&t.tag(1,w.Varint).int32(e.reason);let n=i.writeUnknownFields;return!1!==n&&(!0==n?_.onWrite:n)(this.typeName,e,t),t}}let o9=new o8;class o7 extends tk{constructor(){super("stream.video.sfu.event.CallEnded",[{no:1,name:"reason",kind:"enum",T:()=>["stream.video.sfu.models.CallEndedReason",D,"CALL_ENDED_REASON_"]}])}create(e){let t=globalThis.Object.create(this.messagePrototype);return t.reason=0,void 0!==e&&tp(this,t,e),t}internalBinaryRead(e,t,i,n){let s=n??this.create(),r=e.pos+t;for(;e.pos<r;){let[t,n]=e.tag();if(1===t)s.reason=e.int32();else{let r=i.readUnknownField;if("throw"===r)throw new globalThis.Error(`Unknown field ${t} (wire type ${n}) for ${this.typeName}`);let a=e.skip(n);!1!==r&&(!0===r?_.onRead:r)(this.typeName,s,t,n,a)}}return s}internalBinaryWrite(e,t,i){0!==e.reason&&t.tag(1,w.Varint).int32(e.reason);let n=i.writeUnknownFields;return!1!==n&&(!0==n?_.onWrite:n)(this.typeName,e,t),t}}let le=new o7;(function(e){e.UNKNOWN="UNKNOWN",e.VISIBLE="VISIBLE",e.INVISIBLE="INVISIBLE"})(M||(M={})),function(e){e[e.IMMEDIATE=20]="IMMEDIATE",e[e.FAST=100]="FAST",e[e.MEDIUM=600]="MEDIUM",e[e.SLOW=1200]="SLOW"}(U||(U={}));class lt{constructor(e){this._transport=e,this.typeName=a5.typeName,this.methods=a5.methods,this.options=a5.options}setPublisher(e,t){let i=this.methods[0],n=this._transport.mergeOptions(t);return tT("unary",this._transport,i,n,e)}sendAnswer(e,t){let i=this.methods[1],n=this._transport.mergeOptions(t);return tT("unary",this._transport,i,n,e)}iceTrickle(e,t){let i=this.methods[2],n=this._transport.mergeOptions(t);return tT("unary",this._transport,i,n,e)}updateSubscriptions(e,t){let i=this.methods[3],n=this._transport.mergeOptions(t);return tT("unary",this._transport,i,n,e)}updateMuteStates(e,t){let i=this.methods[4],n=this._transport.mergeOptions(t);return tT("unary",this._transport,i,n,e)}iceRestart(e,t){let i=this.methods[5],n=this._transport.mergeOptions(t);return tT("unary",this._transport,i,n,e)}sendStats(e,t){let i=this.methods[6],n=this._transport.mergeOptions(t);return tT("unary",this._transport,i,n,e)}startNoiseCancellation(e,t){let i=this.methods[7],n=this._transport.mergeOptions(t);return tT("unary",this._transport,i,n,e)}stopNoiseCancellation(e,t){let i=this.methods[8],n=this._transport.mergeOptions(t);return tT("unary",this._transport,i,n,e)}}let li={baseUrl:"",sendJson:!0,timeout:5e3,jsonOptions:{ignoreUnknownFields:!0}},ln=e=>({interceptUnary:(t,i,n,s)=>(s.meta={...s.meta,...e},t(i,n,s))}),ls=(e,t)=>({interceptUnary:(i,n,s,r)=>(e(t,`Calling SFU RPC method ${n.name}`,{input:s,options:r}),i(n,s,r))}),lr=e=>new lt(new sd({...li,...e})),la=e=>new Promise(t=>setTimeout(t,e));function lo(e){return e&&("[object Function]"===Object.prototype.toString.call(e)||"function"==typeof e||e instanceof Function)}let ll={TOKEN_EXPIRED:40,WS_CLOSED_SUCCESS:1e3};function lc(e){let t=Math.min(500+2e3*e,5e3),i=Math.min(Math.max(250,(e-1)*2e3),5e3);return Math.floor(Math.random()*(t-i)+i)}function ld(e){let t="";for(let i=0;i<e.length;i++)t+=e[i].toString(16).padStart(2,"0");return t}function lu(){let e=function(e){let t=new Uint8Array(16);return lp(t),t}(0);return e[6]=15&e[6]|64,e[8]=191&e[8]|128,ld(e.subarray(0,4))+"-"+ld(e.subarray(4,6))+"-"+ld(e.subarray(6,8))+"-"+ld(e.subarray(8,10))+"-"+ld(e.subarray(10,16))}let lp="undefined"!=typeof crypto&&void 0!==crypto?.getRandomValues?crypto.getRandomValues.bind(crypto):"undefined"!=typeof msCrypto?msCrypto.getRandomValues.bind(msCrypto):function(e){let t=Math.pow(2,8*e.byteLength/e.length);for(let i=0;i<e.length;i++)e[i]=Math.random()*t},lh=()=>"undefined"!=typeof navigator&&navigator.product?.toLowerCase()==="reactnative",lm=Object.freeze({trace:0,debug:1,info:2,warn:3,error:4}),lf="info",lg=(e,t,...i)=>{let n;switch(e){case"error":if(lh()){t=`ERROR: ${t}`,n=console.info;break}n=console.error;break;case"warn":if(lh()){t=`WARN: ${t}`,n=console.info;break}n=console.warn;break;case"info":n=console.info;break;case"trace":n=console.trace;break;default:n=console.log}n(t,...i)},lv=(e,t)=>{s=e,t&&lb(t)},lb=e=>{lf=e},ly=()=>lf,lx=e=>{let t=s||lg,i=(e||[]).filter(Boolean).join(":");return(e,n,...s)=>{lm[e]>=lm[lf]&&t(e,`[${i}]: ${n}`,...s)}},l_=async(e,t)=>{let i,n=0;do{n>0&&await la(lc(n));try{i=await e()}catch(s){let e=s instanceof tC&&s.code===S[S.cancelled],i=t?.aborted??!1;if(e||i)throw s;lx(["sfu-client","rpc"])("debug",`rpc failed (${n})`,s),n++}}while(!i||i.response.error?.shouldRetry);return i},[lw,lS,lk]="1.6.4".split("."),lE={type:j.PLAIN_JAVASCRIPT,major:lw,minor:lS,patch:lk},lT=()=>lE,lC=()=>r,lR=()=>a,lO=()=>o,lP=()=>{if(lh())return{sdk:lT(),os:lC(),device:lR()};let{browser:e,os:t,device:i,cpu:n}=new su.UAParser(navigator.userAgent).getResult();return{sdk:lT(),browser:{name:e.name||navigator.userAgent,version:e.version||""},os:{name:t.name||"",version:t.version||"",architecture:n.architecture||""},device:{name:[i.vendor,i.model,i.type].filter(Boolean).join(" "),version:""}}},lj=(e,t,i)=>{if(!("getCapabilities"in RTCRtpReceiver))return;let n=RTCRtpReceiver.getCapabilities(e);if(!n)return;let s=[],r=[],a=[],o=`${e}/${t.toLowerCase()}`,l=i&&`${e}/${i.toLowerCase()}`;for(let e of n.codecs){let t=e.mimeType.toLowerCase();if(t===l)continue;if(t!==o){a.push(e);continue}if("video/h264"!==t){s.push(e);continue}let i=e.sdpFmtpLine;if(!i||!i.includes("profile-level-id=42e01f")){r.push(e);continue}i.includes("packetization-mode=0")||!i.includes("packetization-mode")?s.unshift(e):s.push(e)}return[...s,...r,...a]},lI=async e=>{let t=new RTCPeerConnection;t.addTransceiver("video",{direction:e}),t.addTransceiver("audio",{direction:e});let i=(await t.createOffer()).sdp??"";return t.getTransceivers().forEach(e=>{e.stop?.()}),t.close(),i},lN=()=>{let e=lC()?.name.toLowerCase();return"ipados"===e?"h264":"android"===e?"vp8":void 0},lD={subscriberOffer:void 0,publisherAnswer:void 0,connectionQualityChanged:void 0,audioLevelChanged:void 0,iceTrickle:void 0,changePublishQuality:void 0,participantJoined:void 0,participantLeft:void 0,dominantSpeakerChanged:void 0,joinResponse:void 0,healthCheckResponse:void 0,trackPublished:void 0,trackUnpublished:void 0,error:void 0,callGrantsUpdated:void 0,goAway:void 0,iceRestart:void 0,pinsUpdated:void 0,callEnded:void 0,participantUpdated:void 0,participantMigrationComplete:void 0},lA=e=>Object.prototype.hasOwnProperty.call(lD,e);class lL{constructor(){this.logger=lx(["Dispatcher"]),this.subscribers={},this.dispatch=(e,t="0")=>{let i=e.eventPayload.oneofKind;if(!i)return;let n=e.eventPayload[i];this.logger("debug",`Dispatching ${i}, tag=${t}`,n);let s=this.subscribers[i];if(s)for(let e of s)try{e(n)}catch(e){this.logger("warn","Listener failed with error",e)}},this.on=(e,t)=>{var i;return((i=this.subscribers)[e]??(i[e]=[])).push(t),()=>{this.off(e,t)}},this.off=(e,t)=>{this.subscribers[e]=(this.subscribers[e]||[]).filter(e=>e!==t)},this.offAll=e=>{e?this.subscribers[e]=[]:this.subscribers={}}}}class lM{constructor(){this.subscriberCandidates=new sz,this.publisherCandidates=new sz,this.push=e=>{e.peerType===T.SUBSCRIBER?this.subscriberCandidates.next(e):e.peerType===T.PUBLISHER_UNSPECIFIED?this.publisherCandidates.next(e):lx(["sfu-client"])("warn","ICETrickle, Unknown peer type",e)}}}function lU(e){if(e.usernameFragment)return JSON.stringify(e.toJSON());{let t=e.candidate.split(" "),i=t.findIndex(e=>"ufrag"===e)+1,n=t[i];return JSON.stringify({...e,usernameFragment:n})}}let lF={bitrate:125e4,width:1280,height:720},lB={q:3e5,h:75e4,f:125e4},l$=(e,t=lF,i)=>{let n=[],s=e.getSettings(),{width:r=0,height:a=0}=s,o=lq(t,r,a,i),l=1;return["f","h","q"].forEach(e=>{n.unshift({active:!0,rid:e,width:Math.round(r/l),height:Math.round(a/l),maxBitrate:Math.round(o/l)||lB[e],scaleResolutionDownBy:l,maxFramerate:30}),l*=2}),lV(s,n)},lq=(e,t,i,n)=>{let{width:s,height:r,bitrate:a}=e,o=n||a;return t<s||i<r?Math.round(t*i/(s*r)*o):o},lV=(e,t)=>{let i;let n=Math.max(e.width||0,e.height||0);i=n<=320?t.filter(e=>"f"===e.rid):n<=640?t.filter(e=>"h"!==e.rid):t;let s=["q","h","f"];return i.map((e,t)=>({...e,rid:s[t]}))},lW=(e,t,i=3e6)=>{let n=e.getSettings();return[{active:!0,rid:"q",width:n.width||0,height:n.height||0,scaleResolutionDownBy:1,maxBitrate:t?.maxBitrate??i,maxFramerate:t?.maxFramerate??30}]},lz=(e,t)=>{lx(["helpers"])("warn",t,e)},lH=e=>{switch(e){case O.SCREEN_SHARE:return"screenShareStream";case O.SCREEN_SHARE_AUDIO:return"screenShareAudioStream";case O.VIDEO:return"videoStream";case O.AUDIO:return"audioStream";case O.UNSPECIFIED:throw Error("Track type is unspecified");default:lz(e,"Unknown track type")}},lK=e=>{switch(e){case"audio":return O.AUDIO;case"video":return O.VIDEO;case"screenshare":return O.SCREEN_SHARE;case"screenshare_audio":return O.SCREEN_SHARE_AUDIO;default:lz(e,"Unknown mute type")}},lG=e=>{switch(e){case"TRACK_TYPE_AUDIO":return O.AUDIO;case"TRACK_TYPE_VIDEO":return O.VIDEO;case"TRACK_TYPE_SCREEN_SHARE":return O.SCREEN_SHARE;case"TRACK_TYPE_SCREEN_SHARE_AUDIO":return O.SCREEN_SHARE_AUDIO;default:return}},lJ=lZ(function(e,t){let i=!1;return{cb:()=>t().finally(()=>{i||lQ.delete(e)}),onContinued:()=>i=!0}}),lY=lZ(function(e,t){let i=new AbortController;return{cb:()=>i.signal.aborted?Promise.resolve("canceled"):t(i.signal).finally(()=>{i.signal.aborted||lQ.delete(e)}),onContinued:()=>i.abort()}}),lQ=new Map;async function lX(e){await lQ.get(e)?.promise}function lZ(e){return function(t,i){let{cb:n,onContinued:s}=e(t,i),r=lQ.get(t);r?.onContinued();let a=r?r.promise.then(n,n):n();return lQ.set(t,{promise:a,onContinued:s}),a}}let l0=e=>"function"==typeof e,l1=e=>{let t,i;if(rc([e]).subscribe({next:([e])=>{t=e},error:e=>{i=e}}).unsubscribe(),i)throw i;return t},l2=(e,t)=>{let i=l0(t)?t(l1(e)):t;return e.next(i),i},l3=(e,t)=>{let i=e.subscribe(t);return()=>{i.unsubscribe()}},l4=(e,t)=>{let i=Symbol(),n=e.subscribe(e=>{lJ(i,()=>t(e))});return()=>{n.unsubscribe()}};var l5=Object.freeze({__proto__:null,createSafeAsyncSubscription:l4,createSubscription:l3,getCurrentValue:l1,setCurrentValue:l2});!function(e){e.UNKNOWN="unknown",e.IDLE="idle",e.RINGING="ringing",e.JOINING="joining",e.JOINED="joined",e.LEFT="left",e.RECONNECTING="reconnecting",e.MIGRATING="migrating",e.RECONNECTING_FAILED="reconnecting-failed",e.OFFLINE="offline"}(F||(F={}));class l6{constructor(){this.connectedUserSubject=new rd(void 0),this.callsSubject=new rd([]),this.setConnectedUser=e=>l2(this.connectedUserSubject,e),this.setCalls=e=>l2(this.callsSubject,e),this.registerCall=e=>{this.calls.find(t=>t.cid===e.cid)||this.setCalls(t=>[...t,e])},this.unregisterCall=e=>this.setCalls(t=>t.filter(t=>t!==e)),this.findCall=(e,t)=>this.calls.find(i=>i.type===e&&i.id===t),this.connectedUserSubject.subscribe(async e=>{if(!e){let e=lx(["client-state"]);for(let t of this.calls)t.state.callingState!==F.LEFT&&(e("info",`User disconnected, leaving call: ${t.cid}`),await t.leave({reason:"client.disconnectUser() called"}).catch(i=>{e("error",`Error leaving call: ${t.cid}`,i)}))}})}get connectedUser(){return l1(this.connectedUserSubject)}get calls(){return l1(this.callsSubject)}}class l8{constructor(e){this.getCurrentValue=l1,this.connectedUser$=e.connectedUserSubject.asObservable(),this.calls$=e.callsSubject.asObservable()}get connectedUser(){return l1(this.connectedUser$)}get calls(){return l1(this.calls$)}}let l9=(...e)=>(t,i)=>{for(let n of e){let e=n(t,i);if(0!==e)return e}return 0},l7=e=>t=>(i,n)=>e(i,n)?t(i,n):0,ce=e=>e.publishedTracks.includes(O.VIDEO),ct=e=>e.publishedTracks.includes(O.AUDIO),ci=e=>e.publishedTracks.includes(O.SCREEN_SHARE),cn=e=>e.publishedTracks.includes(O.SCREEN_SHARE_AUDIO),cs=e=>!!e.pin&&(e.pin.isLocalPin||e.pin.pinnedAt>0),cr=(e,t)=>e.isDominantSpeaker&&!t.isDominantSpeaker?-1:!e.isDominantSpeaker&&t.isDominantSpeaker?1:0,ca=(e,t)=>e.isSpeaking&&!t.isSpeaking?-1:!e.isSpeaking&&t.isSpeaking?1:0,co=(e,t)=>ci(e)&&!ci(t)?-1:!ci(e)&&ci(t)?1:0,cl=(e,t)=>ce(e)&&!ce(t)?-1:!ce(e)&&ce(t)?1:0,cc=(e,t)=>ct(e)&&!ct(t)?-1:!ct(e)&&ct(t)?1:0,cd=(e,t)=>{if(e.pin&&t.pin){if(!e.pin.isLocalPin&&t.pin.isLocalPin)return -1;if(e.pin.isLocalPin&&!t.pin.isLocalPin)return 1;if(e.pin.pinnedAt>t.pin.pinnedAt)return -1;if(e.pin.pinnedAt<t.pin.pinnedAt)return 1}return e.pin&&!t.pin?-1:!e.pin&&t.pin?1:0},cu=e=>(t,i)=>t.reaction?.type===e&&i.reaction?.type!==e?-1:t.reaction?.type!==e&&i.reaction?.type===e?1:0,cp=(e,t)=>e.name<t.name?-1:e.name>t.name?1:0,ch=(e,t)=>(e.roles||[]).some(e=>t.includes(e)),cm=l7((e,t)=>e.viewportVisibilityState?.videoTrack===M.INVISIBLE||t.viewportVisibilityState?.videoTrack===M.INVISIBLE),cf=l7((e,t)=>e.viewportVisibilityState?.videoTrack===M.INVISIBLE||e.viewportVisibilityState?.videoTrack===M.UNKNOWN||t.viewportVisibilityState?.videoTrack===M.INVISIBLE||t.viewportVisibilityState?.videoTrack===M.UNKNOWN),cg=l9(cd,co,cm(l9(cr,ca,cu("raised-hand"),cl,cc))),cv=l9(cd,co,cr,cm(l9(ca,cu("raised-hand"),cl,cc))),cb=l9(cd,cf(l9(cr,ca,cu("raised-hand"),cl,cc))),cy=l9(cm(l9(cr,ca,cu("raised-hand"),cl,cc)),((...e)=>(t,i)=>ch(t,e)&&!ch(i,e)?-1:!ch(t,e)&&ch(i,e)?1:0)("admin","host","speaker")),cx={broadcasting:!1,hls:{playlist_url:""},rtmps:[]};class c_{constructor(){this.backstageSubject=new rd(!0),this.blockedUserIdsSubject=new rd([]),this.createdAtSubject=new rd(new Date),this.endedAtSubject=new rd(void 0),this.startsAtSubject=new rd(void 0),this.updatedAtSubject=new rd(new Date),this.createdBySubject=new rd(void 0),this.customSubject=new rd({}),this.egressSubject=new rd(void 0),this.ingressSubject=new rd(void 0),this.recordingSubject=new rd(!1),this.sessionSubject=new rd(void 0),this.settingsSubject=new rd(void 0),this.transcribingSubject=new rd(!1),this.endedBySubject=new rd(void 0),this.thumbnailsSubject=new rd(void 0),this.membersSubject=new rd([]),this.ownCapabilitiesSubject=new rd([]),this.callingStateSubject=new rd(F.UNKNOWN),this.startedAtSubject=new rd(void 0),this.participantCountSubject=new rd(0),this.anonymousParticipantCountSubject=new rd(0),this.participantsSubject=new rd([]),this.callStatsReportSubject=new rd(void 0),this.orphanedTracks=[],this.logger=lx(["CallState"]),this.sortParticipantsBy=cg,this.setSortParticipantsBy=e=>{this.sortParticipantsBy=e,this.setCurrentValue(this.participantsSubject,e=>e)},this.getCurrentValue=l1,this.setCurrentValue=l2,this.setParticipantCount=e=>this.setCurrentValue(this.participantCountSubject,e),this.setStartedAt=e=>this.setCurrentValue(this.startedAtSubject,e),this.setAnonymousParticipantCount=e=>this.setCurrentValue(this.anonymousParticipantCountSubject,e),this.setParticipants=e=>this.setCurrentValue(this.participantsSubject,e),this.setCallingState=e=>this.setCurrentValue(this.callingStateSubject,e),this.setCallStatsReport=e=>this.setCurrentValue(this.callStatsReportSubject,e),this.setMembers=e=>{this.setCurrentValue(this.membersSubject,e)},this.setOwnCapabilities=e=>this.setCurrentValue(this.ownCapabilitiesSubject,e),this.setEndedAt=e=>this.setCurrentValue(this.endedAtSubject,e),this.findParticipantBySessionId=e=>this.participants.find(t=>t.sessionId===e),this.getParticipantLookupBySessionId=()=>this.participants.reduce((e,t)=>(e[t.sessionId]=t,e),{}),this.updateParticipant=(e,t)=>{let i=this.findParticipantBySessionId(e);if(!i){this.logger("warn",`Participant with sessionId ${e} not found`);return}let n="function"==typeof t?t(i):t,s={...i,...n};return this.setParticipants(t=>t.map(t=>t.sessionId===e?s:t))},this.updateOrAddParticipant=(e,t)=>this.setParticipants(i=>{let n=!0,s=i.map(i=>i.sessionId===e?(n=!1,{...i,...t}):i);return n&&s.push(t),s}),this.updateParticipants=e=>0===Object.keys(e).length?this.participants:this.setParticipants(t=>t.map(t=>{let i=e[t.sessionId];return i?{...t,...i}:t})),this.updateFromEvent=e=>{let t=this.eventHandlers[e.type];t&&t(e)},this.setServerSidePins=e=>{let t=e.reduce((e,t)=>(e[t.sessionId]=Date.now(),e),{});return this.setParticipants(e=>e.map(e=>{let i=t[e.sessionId];return i?{...e,pin:{isLocalPin:!1,pinnedAt:i}}:e.pin&&!e.pin.isLocalPin?{...e,pin:void 0}:e}))},this.registerOrphanedTrack=e=>{this.orphanedTracks.push(e)},this.removeOrphanedTrack=e=>{this.orphanedTracks=this.orphanedTracks.filter(t=>t.id!==e)},this.takeOrphanedTracks=e=>{let t=this.orphanedTracks.filter(t=>t.trackLookupPrefix===e);return t.length>0&&(this.orphanedTracks=this.orphanedTracks.filter(t=>t.trackLookupPrefix!==e)),t},this.updateFromCallResponse=e=>{this.setCurrentValue(this.backstageSubject,e.backstage),this.setCurrentValue(this.blockedUserIdsSubject,e.blocked_user_ids),this.setCurrentValue(this.createdAtSubject,new Date(e.created_at)),this.setCurrentValue(this.updatedAtSubject,new Date(e.updated_at)),this.setCurrentValue(this.startsAtSubject,e.starts_at?new Date(e.starts_at):void 0),this.setEndedAt(e.ended_at?new Date(e.ended_at):void 0),this.setCurrentValue(this.createdBySubject,e.created_by),this.setCurrentValue(this.customSubject,e.custom),this.setCurrentValue(this.egressSubject,e.egress),this.setCurrentValue(this.ingressSubject,e.ingress),this.setCurrentValue(this.recordingSubject,e.recording);let t=this.setCurrentValue(this.sessionSubject,e.session);this.updateParticipantCountFromSession(t),this.setCurrentValue(this.settingsSubject,e.settings),this.setCurrentValue(this.transcribingSubject,e.transcribing),this.setCurrentValue(this.thumbnailsSubject,e.thumbnails)},this.updateFromSfuCallState=(e,t,i)=>{let{participants:n,participantCount:s,startedAt:r,pins:a}=e,o=i?.announcedTracks.map(e=>e.trackType)??[];this.setParticipants(()=>{let e=this.getParticipantLookupBySessionId();return n.map(i=>{let n=e[i.sessionId],s=i.sessionId===t;return Object.assign({},n,i,{isLocalParticipant:s,publishedTracks:s?o:i.publishedTracks,viewportVisibilityState:n?.viewportVisibilityState??{videoTrack:M.UNKNOWN,screenShareTrack:M.UNKNOWN}})})}),this.setParticipantCount(s?.total||0),this.setAnonymousParticipantCount(s?.anonymous||0),this.setStartedAt(r?rG.toDate(r):new Date),this.setServerSidePins(a)},this.updateFromMemberRemoved=e=>{this.updateFromCallResponse(e.call),this.setCurrentValue(this.membersSubject,t=>t.filter(t=>-1===e.members.indexOf(t.user_id)))},this.updateFromMemberAdded=e=>{this.updateFromCallResponse(e.call),this.setCurrentValue(this.membersSubject,t=>[...t,...e.members])},this.updateFromHLSBroadcastStopped=()=>{this.setCurrentValue(this.egressSubject,(e=cx)=>({...e,broadcasting:!1}))},this.updateFromHLSBroadcastingFailed=()=>{this.setCurrentValue(this.egressSubject,(e=cx)=>({...e,broadcasting:!1}))},this.updateFromHLSBroadcastStarted=e=>{this.setCurrentValue(this.egressSubject,(t=cx)=>({...t,broadcasting:!0,hls:{...t.hls,playlist_url:e.hls_playlist_url}}))},this.updateParticipantCountFromSession=e=>{if(!e||this.callingState===F.JOINED)return;let t=Math.max(Object.values(e.participants_count_by_role).reduce((e,t)=>e+t,0),e.participants.length);this.setParticipantCount(t),this.setAnonymousParticipantCount(e.anonymous_participant_count||0)},this.updateFromSessionParticipantCountUpdate=e=>{let t=this.setCurrentValue(this.sessionSubject,t=>t?{...t,anonymous_participant_count:e.anonymous_participant_count,participants_count_by_role:e.participants_count_by_role}:t);this.updateParticipantCountFromSession(t)},this.updateFromSessionParticipantLeft=e=>{let t=this.setCurrentValue(this.sessionSubject,t=>{if(!t)return t;let{participants:i,participants_count_by_role:n}=t,{user:s,user_session_id:r}=e.participant;return{...t,participants:i.filter(e=>e.user_session_id!==r),participants_count_by_role:{...n,[s.role]:Math.max(0,(n[s.role]||0)-1)}}});this.updateParticipantCountFromSession(t)},this.updateFromSessionParticipantJoined=e=>{let t=this.setCurrentValue(this.sessionSubject,t=>{if(!t)return t;let{participants:i,participants_count_by_role:n}=t,{user:s,user_session_id:r}=e.participant,a=!0,o=i.map(t=>t.user_session_id===r?(a=!1,e.participant):t);a&&o.push(e.participant);let l=a?1:0;return{...t,participants:o,participants_count_by_role:{...n,[s.role]:(n[s.role]||0)+l}}});this.updateParticipantCountFromSession(t)},this.updateMembers=e=>{this.updateFromCallResponse(e.call),this.setCurrentValue(this.membersSubject,t=>t.map(t=>e.members.find(e=>e.user_id===t.user_id)||t))},this.updateParticipantReaction=e=>{let{user:t,custom:i,type:n,emoji_code:s}=e.reaction;this.setParticipants(e=>e.map(e=>e.userId!==t.id?e:{...e,reaction:{type:n,emoji_code:s,custom:i}}))},this.unblockUser=e=>{this.setCurrentValue(this.blockedUserIdsSubject,t=>t?t.filter(t=>t!==e.user.id):t)},this.blockUser=e=>{this.setCurrentValue(this.blockedUserIdsSubject,t=>[...t||[],e.user.id])},this.updateOwnCapabilities=e=>{e.user.id===this.localParticipant?.userId&&this.setCurrentValue(this.ownCapabilitiesSubject,e.own_capabilities)},this.participants$=this.participantsSubject.asObservable().pipe(rs(e=>e.sort(this.sortParticipantsBy)),rp({bufferSize:1,refCount:!0})),this.localParticipant$=this.participants$.pipe(rs(e=>e.find(e=>e.isLocalParticipant)),rp({bufferSize:1,refCount:!0})),this.remoteParticipants$=this.participants$.pipe(rs(e=>e.filter(e=>!e.isLocalParticipant)),rp({bufferSize:1,refCount:!0})),this.pinnedParticipants$=this.participants$.pipe(rs(e=>e.filter(e=>!!e.pin)),rp({bufferSize:1,refCount:!0})),this.dominantSpeaker$=this.participants$.pipe(rs(e=>e.find(e=>e.isDominantSpeaker)),rp({bufferSize:1,refCount:!0})),this.hasOngoingScreenShare$=this.participants$.pipe(rs(e=>e.some(e=>ci(e))),rh(),rp({bufferSize:1,refCount:!0})),this.createdAt$=this.createdAtSubject.asObservable(),this.endedAt$=this.endedAtSubject.asObservable(),this.startsAt$=this.startsAtSubject.asObservable(),this.startedAt$=this.startedAtSubject.asObservable(),this.updatedAt$=this.updatedAtSubject.asObservable(),this.callStatsReport$=this.callStatsReportSubject.asObservable(),this.members$=this.membersSubject.asObservable(),this.createdBy$=this.createdBySubject.asObservable(),this.custom$=this.customSubject.asObservable(),this.egress$=this.egressSubject.asObservable(),this.ingress$=this.ingressSubject.asObservable(),this.session$=this.sessionSubject.asObservable(),this.settings$=this.settingsSubject.asObservable(),this.endedBy$=this.endedBySubject.asObservable(),this.thumbnails$=this.thumbnailsSubject.asObservable();let e=(e,t)=>{if(e.length!==t.length)return!1;for(let i of e)if(!t.includes(i))return!1;for(let i of t)if(!e.includes(i))return!1;return!0},t=(e,t)=>e.asObservable().pipe(rh(t));this.anonymousParticipantCount$=t(this.anonymousParticipantCountSubject),this.blockedUserIds$=t(this.blockedUserIdsSubject,e),this.backstage$=t(this.backstageSubject),this.callingState$=t(this.callingStateSubject),this.ownCapabilities$=t(this.ownCapabilitiesSubject,e),this.participantCount$=t(this.participantCountSubject),this.recording$=t(this.recordingSubject),this.transcribing$=t(this.transcribingSubject),this.eventHandlers={"call.closed_caption":void 0,"call.deleted":void 0,"call.permission_request":void 0,"call.recording_ready":void 0,"call.transcription_ready":void 0,"call.user_muted":void 0,"connection.error":void 0,"connection.ok":void 0,"health.check":void 0,"user.banned":void 0,"user.deactivated":void 0,"user.deleted":void 0,"user.muted":void 0,"user.presence.changed":void 0,"user.reactivated":void 0,"user.unbanned":void 0,"user.updated":void 0,custom:void 0,"call.accepted":e=>this.updateFromCallResponse(e.call),"call.blocked_user":this.blockUser,"call.created":e=>this.updateFromCallResponse(e.call),"call.ended":e=>{this.updateFromCallResponse(e.call),this.setCurrentValue(this.endedBySubject,e.user)},"call.hls_broadcasting_failed":this.updateFromHLSBroadcastingFailed,"call.hls_broadcasting_started":this.updateFromHLSBroadcastStarted,"call.hls_broadcasting_stopped":this.updateFromHLSBroadcastStopped,"call.live_started":e=>this.updateFromCallResponse(e.call),"call.member_added":this.updateFromMemberAdded,"call.member_removed":this.updateFromMemberRemoved,"call.member_updated_permission":this.updateMembers,"call.member_updated":this.updateMembers,"call.notification":e=>{this.updateFromCallResponse(e.call),this.setMembers(e.members)},"call.permissions_updated":this.updateOwnCapabilities,"call.reaction_new":this.updateParticipantReaction,"call.recording_started":()=>this.setCurrentValue(this.recordingSubject,!0),"call.recording_stopped":()=>this.setCurrentValue(this.recordingSubject,!1),"call.recording_failed":()=>this.setCurrentValue(this.recordingSubject,!1),"call.rejected":e=>this.updateFromCallResponse(e.call),"call.ring":e=>this.updateFromCallResponse(e.call),"call.missed":e=>this.updateFromCallResponse(e.call),"call.session_ended":e=>this.updateFromCallResponse(e.call),"call.session_participant_count_updated":this.updateFromSessionParticipantCountUpdate,"call.session_participant_joined":this.updateFromSessionParticipantJoined,"call.session_participant_left":this.updateFromSessionParticipantLeft,"call.session_started":e=>this.updateFromCallResponse(e.call),"call.transcription_started":()=>{this.setCurrentValue(this.transcribingSubject,!0)},"call.transcription_stopped":()=>{this.setCurrentValue(this.transcribingSubject,!1)},"call.transcription_failed":()=>{this.setCurrentValue(this.transcribingSubject,!1)},"call.unblocked_user":this.unblockUser,"call.updated":e=>this.updateFromCallResponse(e.call)}}get participantCount(){return this.getCurrentValue(this.participantCount$)}get startedAt(){return this.getCurrentValue(this.startedAt$)}get anonymousParticipantCount(){return this.getCurrentValue(this.anonymousParticipantCount$)}get participants(){return this.getCurrentValue(this.participants$)}get localParticipant(){return this.getCurrentValue(this.localParticipant$)}get remoteParticipants(){return this.getCurrentValue(this.remoteParticipants$)}get dominantSpeaker(){return this.getCurrentValue(this.dominantSpeaker$)}get pinnedParticipants(){return this.getCurrentValue(this.pinnedParticipants$)}get hasOngoingScreenShare(){return this.getCurrentValue(this.hasOngoingScreenShare$)}get callingState(){return this.getCurrentValue(this.callingState$)}get callStatsReport(){return this.getCurrentValue(this.callStatsReport$)}get members(){return this.getCurrentValue(this.members$)}get ownCapabilities(){return this.getCurrentValue(this.ownCapabilities$)}get backstage(){return this.getCurrentValue(this.backstage$)}get blockedUserIds(){return this.getCurrentValue(this.blockedUserIds$)}get createdAt(){return this.getCurrentValue(this.createdAt$)}get endedAt(){return this.getCurrentValue(this.endedAt$)}get startsAt(){return this.getCurrentValue(this.startsAt$)}get updatedAt(){return this.getCurrentValue(this.updatedAt$)}get createdBy(){return this.getCurrentValue(this.createdBy$)}get custom(){return this.getCurrentValue(this.custom$)}get egress(){return this.getCurrentValue(this.egress$)}get ingress(){return this.getCurrentValue(this.ingress$)}get recording(){return this.getCurrentValue(this.recording$)}get session(){return this.getCurrentValue(this.session$)}get settings(){return this.getCurrentValue(this.settings$)}get transcribing(){return this.getCurrentValue(this.transcribing$)}get endedBy(){return this.getCurrentValue(this.endedBy$)}get thumbnails(){return this.getCurrentValue(this.thumbnails$)}}let cw=e=>{let t=/^a=rtpmap:(\d*) ([\w\-.]*)(?:\s*\/(\d*)(?:\s*\/(\S*))?)?/.exec(e);if(t)return{original:t[0],payload:t[1],codec:t[2]}},cS=e=>{let t=/^a=fmtp:(\d*) (.*)/.exec(e);if(t)return{original:t[0],payload:t[1],config:t[2]}},ck=(e,t)=>{let i=RegExp(`(m=${t} \\d+ [\\w/]+) ([\\d\\s]+)`).exec(e);if(i)return{original:i[0],mediaWithPorts:i[1],codecOrder:i[2]}},cE=(e,t)=>{let i;let n=[],s=[],r=!1;if(e.split(/(\r\n|\r|\n)/).forEach(e=>{if(!/^([a-z])=(.*)/.test(e))return;let a=e[0];if("m"===a){let n=ck(e,t);r=!!n,n&&(i=n)}else if(r&&"a"===a){let t=cw(e),i=cS(e);t?n.push(t):i&&s.push(i)}}),i)return{media:i,rtpMap:n,fmtp:s}},cT=e=>{let t=cE(e,"audio"),i=t?.rtpMap.find(e=>"opus"===e.codec.toLowerCase()),n=i?.payload;if(n)return t?.fmtp.find(e=>e.payload===n)},cC=(e,t)=>{let i=cT(e);if(i){let n=/usedtx=(\d)/.exec(i.config),s=`usedtx=${t?"1":"0"}`;if(n){let t=i.original.replace(/usedtx=(\d)/,s);return e.replace(i.original,t)}{let t=`${i.original};${s}`;return e.replace(i.original,t)}}return e},cR=(e,t,i=51e4)=>{i=Math.max(Math.min(i,51e4),96e3);let n=rD.Qc(e),s=n.media.find(e=>"audio"===e.type&&String(e.mid)===t);if(!s)return e;let r=s.rtp.find(e=>"opus"===e.codec);if(!r)return e;let a=s.fmtp.find(e=>e.payload===r.payload);return a?(a.config.match(/stereo=(\d)/)?a.config=a.config.replace(/stereo=(\d)/,"stereo=1"):a.config=`${a.config};stereo=1`,a.config.match(/maxaveragebitrate=(\d*)/)?a.config=a.config.replace(/maxaveragebitrate=(\d*)/,`maxaveragebitrate=${i}`):a.config=`${a.config};maxaveragebitrate=${i}`,rD.cW(n)):e};class cO{constructor({connectionConfig:e,sfuClient:t,dispatcher:i,state:n,isDtxEnabled:s,isRedEnabled:r,onUnrecoverableError:a,logTag:o}){this.transceiverRegistry={[O.AUDIO]:void 0,[O.VIDEO]:void 0,[O.SCREEN_SHARE]:void 0,[O.SCREEN_SHARE_AUDIO]:void 0,[O.UNSPECIFIED]:void 0},this.publishOptionsPerTrackType=new Map,this.transceiverInitOrder=[],this.trackKindMapping={[O.AUDIO]:"audio",[O.VIDEO]:"video",[O.SCREEN_SHARE]:"video",[O.SCREEN_SHARE_AUDIO]:"audio",[O.UNSPECIFIED]:void 0},this.trackLayersCache={[O.AUDIO]:void 0,[O.VIDEO]:void 0,[O.SCREEN_SHARE]:void 0,[O.SCREEN_SHARE_AUDIO]:void 0,[O.UNSPECIFIED]:void 0},this.isIceRestarting=!1,this.createPeerConnection=e=>{let t=new RTCPeerConnection(e);return t.addEventListener("icecandidate",this.onIceCandidate),t.addEventListener("negotiationneeded",this.onNegotiationNeeded),t.addEventListener("icecandidateerror",this.onIceCandidateError),t.addEventListener("iceconnectionstatechange",this.onIceConnectionStateChange),t.addEventListener("icegatheringstatechange",this.onIceGatheringStateChange),t.addEventListener("signalingstatechange",this.onSignalingStateChange),t},this.close=({stopTracks:e})=>{e&&(this.stopPublishing(),Object.keys(this.transceiverRegistry).forEach(e=>{this.transceiverRegistry[e]=void 0}),Object.keys(this.trackLayersCache).forEach(e=>{this.trackLayersCache[e]=void 0})),this.detachEventHandlers(),this.pc.close()},this.detachEventHandlers=()=>{this.unsubscribeOnIceRestart(),this.pc.removeEventListener("icecandidate",this.onIceCandidate),this.pc.removeEventListener("negotiationneeded",this.onNegotiationNeeded),this.pc.removeEventListener("icecandidateerror",this.onIceCandidateError),this.pc.removeEventListener("iceconnectionstatechange",this.onIceConnectionStateChange),this.pc.removeEventListener("icegatheringstatechange",this.onIceGatheringStateChange),this.pc.removeEventListener("signalingstatechange",this.onSignalingStateChange)},this.publishStream=async(e,t,i,n={})=>{if("ended"===t.readyState)throw Error("Can't publish a track that has ended already.");let s=this.pc.getTransceivers().find(e=>e===this.transceiverRegistry[i]&&e.sender.track&&e.sender.track?.kind===this.trackKindMapping[i]),r=()=>{this.logger("info",`Track ${O[i]} has ended abruptly, notifying the SFU`),t.removeEventListener("ended",r),this.notifyTrackMuteStateChanged(e,i,!0).catch(e=>this.logger("warn","Couldn't notify track mute state",e))};if(s){let e=s.sender.track;e&&e!==t&&(e.stop(),e.removeEventListener("ended",r),t.addEventListener("ended",r)),t.enabled||(t.enabled=!0),await s.sender.replaceTrack(t)}else{let{settings:a}=this.state,o=a?.video.target_resolution,l=a?.screensharing.target_resolution?.bitrate,{preferredBitrate:c,preferredCodec:d,screenShareSettings:u}=n,p=i===O.VIDEO?l$(t,o,c):i===O.SCREEN_SHARE?lW(t,u,l):void 0;t.addEventListener("ended",r),t.enabled||(t.enabled=!0),s=this.pc.addTransceiver(t,{direction:"sendonly",streams:i===O.VIDEO||i===O.SCREEN_SHARE?[e]:void 0,sendEncodings:p}),this.logger("debug",`Added ${O[i]} transceiver`),this.transceiverInitOrder.push(i),this.transceiverRegistry[i]=s,this.publishOptionsPerTrackType.set(i,n);let h=lh()&&i===O.VIDEO&&!d?lN():d,m="setCodecPreferences"in s?this.getCodecPreferences(i,h):void 0;if(m){this.logger("info",`Setting ${O[i]} codec preferences`,m);try{s.setCodecPreferences(m)}catch(e){this.logger("warn","Couldn't set codec preferences",e)}}}await this.notifyTrackMuteStateChanged(e,i,!1)},this.unpublishStream=async(e,t)=>{let i=this.pc.getTransceivers().find(t=>t===this.transceiverRegistry[e]&&t.sender.track);i&&i.sender.track&&(t?"live"===i.sender.track.readyState:i.sender.track.enabled)&&(t?i.sender.track.stop():i.sender.track.enabled=!1,this.state.localParticipant?.publishedTracks.includes(e)&&await this.notifyTrackMuteStateChanged(void 0,e,!0))},this.isPublishing=e=>{let t=this.transceiverRegistry[e];if(!t||!t.sender)return!1;let i=t.sender.track;return!!i&&"live"===i.readyState&&i.enabled},this.notifyTrackMuteStateChanged=async(e,t,i)=>{await this.sfuClient.updateMuteState(t,i);let n=lH(t);n&&(i?this.state.updateParticipant(this.sfuClient.sessionId,e=>({publishedTracks:e.publishedTracks.filter(e=>e!==t),[n]:void 0})):this.state.updateParticipant(this.sfuClient.sessionId,i=>({publishedTracks:i.publishedTracks.includes(t)?i.publishedTracks:[...i.publishedTracks,t],[n]:e})))},this.stopPublishing=()=>{this.logger("debug","Stopping publishing all tracks"),this.pc.getSenders().forEach(e=>{e.track?.stop(),"closed"!==this.pc.signalingState&&this.pc.removeTrack(e)})},this.updateVideoPublishQuality=async e=>{this.logger("info","Update publish quality, requested layers by SFU:",e);let t=this.transceiverRegistry[O.VIDEO]?.sender;if(!t){this.logger("warn","Update publish quality, no video sender found.");return}let i=t.getParameters();if(0===i.encodings.length){this.logger("warn","Update publish quality, No suitable video encoding quality found");return}let n=!1,s=e.filter(e=>e.active).map(e=>e.name);i.encodings.forEach(t=>{let i=s.includes(t.rid);if(i!==t.active&&(t.active=i,n=!0),i){let i=e.find(e=>e.name===t.rid);void 0!==i&&(i.scaleResolutionDownBy>=1&&i.scaleResolutionDownBy!==t.scaleResolutionDownBy&&(this.logger("debug","[dynascale]: setting scaleResolutionDownBy from server","layer",i.name,"scale-resolution-down-by",i.scaleResolutionDownBy),t.scaleResolutionDownBy=i.scaleResolutionDownBy,n=!0),i.maxBitrate>0&&i.maxBitrate!==t.maxBitrate&&(this.logger("debug","[dynascale] setting max-bitrate from the server","layer",i.name,"max-bitrate",i.maxBitrate),t.maxBitrate=i.maxBitrate,n=!0),i.maxFramerate>0&&i.maxFramerate!==t.maxFramerate&&(this.logger("debug","[dynascale]: setting maxFramerate from server","layer",i.name,"max-framerate",i.maxFramerate),t.maxFramerate=i.maxFramerate,n=!0))}});let r=i.encodings.filter(e=>e.active);n?(await t.setParameters(i),this.logger("info","Update publish quality, enabled rids: ",r)):this.logger("info","Update publish quality, no change: ",r)},this.getStats=e=>this.pc.getStats(e),this.getCodecPreferences=(e,t)=>{if(e===O.VIDEO)return lj("video",t||"vp8");if(e===O.AUDIO){let e=this.isRedEnabled?"red":"opus";return lj("audio",t??e,this.isRedEnabled?void 0:"red")}},this.onIceCandidate=e=>{let{candidate:t}=e;if(!t){this.logger("debug","null ice candidate");return}this.sfuClient.iceTrickle({iceCandidate:lU(t),peerType:T.PUBLISHER_UNSPECIFIED}).catch(e=>{this.logger("warn","ICETrickle failed",e)})},this.setSfuClient=e=>{this.sfuClient=e},this.restartIce=async()=>{this.logger("debug","Restarting ICE connection");let e=this.pc.signalingState;if(this.isIceRestarting||"have-local-offer"===e){this.logger("debug","ICE restart is already in progress");return}await this.negotiate({iceRestart:!0})},this.onNegotiationNeeded=()=>{this.negotiate().catch(e=>{this.logger("error","Negotiation failed.",e),this.onUnrecoverableError?.()})},this.negotiate=async e=>{let t=await this.pc.createOffer(e),i=this.mungeCodecs(t.sdp);i&&this.isPublishing(O.SCREEN_SHARE_AUDIO)&&(i=this.enableHighQualityAudio(i)),t.sdp=i;let n=this.getAnnouncedTracks(t.sdp);if(0===n.length)throw Error("Can't negotiate without announcing any tracks");this.isIceRestarting=e?.iceRestart??!1,await this.pc.setLocalDescription(t);try{let{response:e}=await this.sfuClient.setPublisher({sdp:t.sdp||"",tracks:n});if(e.error)throw Error(e.error.message);await this.pc.setRemoteDescription({type:"answer",sdp:e.sdp})}finally{this.isIceRestarting=!1}this.sfuClient.iceTrickleBuffer.publisherCandidates.subscribe(async e=>{try{let t=JSON.parse(e.iceCandidate);await this.pc.addIceCandidate(t)}catch(t){this.logger("warn","ICE candidate error",t,e)}})},this.enableHighQualityAudio=e=>{let t=this.transceiverRegistry[O.SCREEN_SHARE_AUDIO];if(!t)return e;let i=this.extractMid(t,e,O.SCREEN_SHARE_AUDIO);return cR(e,i)},this.mungeCodecs=e=>(e&&(e=cC(e,this.isDtxEnabled)),e),this.extractMid=(e,t,i)=>{if(e.mid)return e.mid;if(!t)return this.logger("warn","No SDP found. Returning empty mid"),"";this.logger("debug","No 'mid' found for track. Trying to find it from the Offer SDP");let n=e.sender.track,s=rD.Qc(t).media.find(e=>e.type===n.kind&&(e.msid?.includes(n.id)??!0));if(void 0===s?.mid){this.logger("debug",`No mid found in SDP for track type ${n.kind} and id ${n.id}. Attempting to find it heuristically`);let e=this.transceiverInitOrder.indexOf(i);return -1!==e?String(e):(this.logger("debug","No heuristic mid found. Returning empty mid"),"")}return String(s.mid)},this.getAnnouncedTracks=e=>{e=e||this.pc.localDescription?.sdp;let{settings:t}=this.state,i=t?.video.target_resolution;return this.pc.getTransceivers().filter(e=>"sendonly"===e.direction&&e.sender.track).map(t=>{let n;let s=Number(Object.keys(this.transceiverRegistry).find(e=>this.transceiverRegistry[e]===t)),r=t.sender.track,a="live"===r.readyState;if(a){let e=this.publishOptionsPerTrackType.get(s);n=s===O.VIDEO?l$(r,i,e?.preferredBitrate):s===O.SCREEN_SHARE?lW(r,e?.screenShareSettings):[],this.trackLayersCache[s]=n}else n=this.trackLayersCache[s]||[],this.logger("debug",`Track ${O[s]} is ended. Announcing last known optimal layers`,n);let o=n.map(e=>({rid:e.rid||"",bitrate:e.maxBitrate||0,fps:e.maxFramerate||0,quality:this.ridToVideoQuality(e.rid||""),videoDimension:{width:e.width,height:e.height}})),l=[O.AUDIO,O.SCREEN_SHARE_AUDIO].includes(s),c=r.getSettings(),d=l&&2===c.channelCount;return{trackId:r.id,layers:o,trackType:s,mid:this.extractMid(t,e,s),stereo:d,dtx:l&&this.isDtxEnabled,red:l&&this.isRedEnabled,muted:!a}})},this.onIceCandidateError=e=>{let t=e instanceof RTCPeerConnectionIceErrorEvent&&`${e.errorCode}: ${e.errorText}`,i=this.pc.iceConnectionState;this.logger("connected"===i||"checking"===i?"debug":"warn","ICE Candidate error",t)},this.onIceConnectionStateChange=()=>{let e=this.pc.iceConnectionState;this.logger("debug","ICE Connection state changed to",e),this.state.callingState!==F.RECONNECTING&&("failed"===e||"disconnected"===e)&&(this.logger("debug","Attempting to restart ICE"),this.restartIce().catch(e=>{this.logger("error","ICE restart error",e),this.onUnrecoverableError?.()}))},this.onIceGatheringStateChange=()=>{this.logger("debug","ICE Gathering State",this.pc.iceGatheringState)},this.onSignalingStateChange=()=>{this.logger("debug","Signaling state changed",this.pc.signalingState)},this.ridToVideoQuality=e=>"q"===e?R.LOW_UNSPECIFIED:"h"===e?R.MID:R.HIGH,this.logger=lx(["Publisher",o]),this.pc=this.createPeerConnection(e),this.sfuClient=t,this.state=n,this.isDtxEnabled=s,this.isRedEnabled=r,this.onUnrecoverableError=a,this.unsubscribeOnIceRestart=i.on("iceRestart",e=>{e.peerType===T.PUBLISHER_UNSPECIFIED&&this.restartIce().catch(e=>{this.logger("warn","ICERestart failed",e),this.onUnrecoverableError?.()})})}}class cP{constructor({sfuClient:e,dispatcher:t,state:i,connectionConfig:n,onUnrecoverableError:s,logTag:r}){this.isIceRestarting=!1,this.createPeerConnection=e=>{let t=new RTCPeerConnection(e);return t.addEventListener("icecandidate",this.onIceCandidate),t.addEventListener("track",this.handleOnTrack),t.addEventListener("icecandidateerror",this.onIceCandidateError),t.addEventListener("iceconnectionstatechange",this.onIceConnectionStateChange),t.addEventListener("icegatheringstatechange",this.onIceGatheringStateChange),t},this.close=()=>{this.detachEventHandlers(),this.pc.close()},this.detachEventHandlers=()=>{this.unregisterOnSubscriberOffer(),this.unregisterOnIceRestart(),this.pc.removeEventListener("icecandidate",this.onIceCandidate),this.pc.removeEventListener("track",this.handleOnTrack),this.pc.removeEventListener("icecandidateerror",this.onIceCandidateError),this.pc.removeEventListener("iceconnectionstatechange",this.onIceConnectionStateChange),this.pc.removeEventListener("icegatheringstatechange",this.onIceGatheringStateChange)},this.getStats=e=>this.pc.getStats(e),this.setSfuClient=e=>{this.sfuClient=e},this.restartIce=async()=>{if(this.logger("debug","Restarting ICE connection"),"have-remote-offer"===this.pc.signalingState){this.logger("debug","ICE restart is already in progress");return}if("new"===this.pc.connectionState){this.logger("debug","ICE connection is not yet established, skipping restart.");return}let e=this.isIceRestarting;try{this.isIceRestarting=!0,await this.sfuClient.iceRestart({peerType:T.SUBSCRIBER})}catch(t){throw this.isIceRestarting=e,t}},this.handleOnTrack=e=>{let[t]=e.streams,[i,n]=t.id.split(":"),s=this.state.participants.find(e=>e.trackLookupPrefix===i);this.logger("debug",`[onTrack]: Got remote ${n} track for userId: ${s?.userId}`,e.track.id,e.track);let r=`${s?.userId} ${n}:${i}`;e.track.addEventListener("mute",()=>{this.logger("info",`[onTrack]: Track muted: ${r}`)}),e.track.addEventListener("unmute",()=>{this.logger("info",`[onTrack]: Track unmuted: ${r}`)}),e.track.addEventListener("ended",()=>{this.logger("info",`[onTrack]: Track ended: ${r}`),this.state.removeOrphanedTrack(t.id)});let a=lG(n);if(!a)return this.logger("error",`Unknown track type: ${n}`);if(!s){this.logger("warn",`[onTrack]: Received track for unknown participant: ${i}`,e),this.state.registerOrphanedTrack({id:t.id,trackLookupPrefix:i,track:t,trackType:a});return}let o=lH(a);if(!o){this.logger("error",`Unknown track type: ${n}`);return}let l=s[o];l&&(this.logger("info",`[onTrack]: Cleaning up previous remote ${e.track.kind} tracks for userId: ${s.userId}`),l.getTracks().forEach(e=>{e.stop(),l.removeTrack(e)})),this.state.updateParticipant(s.sessionId,{[o]:t})},this.onIceCandidate=e=>{let{candidate:t}=e;if(!t){this.logger("debug","null ice candidate");return}this.sfuClient.iceTrickle({iceCandidate:lU(t),peerType:T.SUBSCRIBER}).catch(e=>{this.logger("warn","ICETrickle failed",e)})},this.negotiate=async e=>{this.logger("info","Received subscriberOffer",e),await this.pc.setRemoteDescription({type:"offer",sdp:e.sdp}),this.sfuClient.iceTrickleBuffer.subscriberCandidates.subscribe(async e=>{try{let t=JSON.parse(e.iceCandidate);await this.pc.addIceCandidate(t)}catch(t){this.logger("warn","ICE candidate error",[t,e])}});let t=await this.pc.createAnswer();await this.pc.setLocalDescription(t),await this.sfuClient.sendAnswer({peerType:T.SUBSCRIBER,sdp:t.sdp||""}),this.isIceRestarting=!1},this.onIceConnectionStateChange=()=>{let e=this.pc.iceConnectionState;this.logger("debug","ICE connection state changed",e),this.state.callingState!==F.RECONNECTING&&(this.isIceRestarting||"failed"!==e&&"disconnected"!==e||(this.logger("debug","Attempting to restart ICE"),this.restartIce().catch(e=>{this.logger("error","ICE restart failed",e),this.onUnrecoverableError?.()})))},this.onIceGatheringStateChange=()=>{this.logger("debug","ICE gathering state changed",this.pc.iceGatheringState)},this.onIceCandidateError=e=>{let t=e instanceof RTCPeerConnectionIceErrorEvent&&`${e.errorCode}: ${e.errorText}`,i=this.pc.iceConnectionState;this.logger("connected"===i||"checking"===i?"debug":"warn","ICE Candidate error",t)},this.logger=lx(["Subscriber",r]),this.sfuClient=e,this.state=i,this.onUnrecoverableError=s,this.pc=this.createPeerConnection(n);let a=Symbol("subscriberOffer");this.unregisterOnSubscriberOffer=t.on("subscriberOffer",e=>{lJ(a,()=>this.negotiate(e)).catch(e=>{this.logger("error","Negotiation failed.",e)})});let o=Symbol("iceRestart");this.unregisterOnIceRestart=t.on("iceRestart",e=>{lJ(o,async()=>{e.peerType===T.SUBSCRIBER&&await this.restartIce()}).catch(e=>{this.logger("error","ICERestart failed",e),this.onUnrecoverableError?.()})})}}let cj=e=>{let{endpoint:t,onMessage:i,logTag:n}=e,s=lx(["SfuClientWS",n]),r=new WebSocket(t);return r.binaryType="arraybuffer",r.addEventListener("error",e=>{s("error","Signaling WS channel error",e)}),r.addEventListener("close",e=>{s("info","Signaling WS channel is closed",e)}),r.addEventListener("open",e=>{s("info","Signaling WS channel is open",e)}),r.addEventListener("message",e=>{try{let t=e.data instanceof ArrayBuffer?a8.fromBinary(new Uint8Array(e.data)):a8.fromJsonString(e.data.toString());i(t)}catch(t){s("error","Failed to decode a message. Check whether the Proto models match.",{event:e,error:t})}}),r},cI=()=>{let e,t;let i=new Promise((i,n)=>{e=i,t=n}),n=!1,s=!1;return{promise:i,resolve:t=>{e(t)},reject:e=>{t(e)},isResolved:!1,isRejected:!1}};class cN{constructor({dispatcher:e,credentials:t,sessionId:i,logTag:n,joinResponseTimeout:s=5e3,onSignalClose:r}){this.iceTrickleBuffer=new lM,this.isLeaving=!1,this.pingIntervalInMs=1e4,this.unhealthyTimeoutInMs=this.pingIntervalInMs+5e3,this.restoreWebSocketConcurrencyTag=Symbol("recoverWebSocket"),this.joinResponseTask=cI(),this.abortController=new AbortController,this.createWebSocket=()=>{this.signalWs=cj({logTag:this.logTag,endpoint:`${this.credentials.server.ws_endpoint}?tag=${this.logTag}`,onMessage:e=>{this.lastMessageTimestamp=new Date,this.scheduleConnectionCheck(),this.dispatcher.dispatch(e,this.logTag)}}),this.signalWs.addEventListener("close",this.handleWebSocketClose),this.signalWs.addEventListener("error",this.restoreWebSocket),this.signalReady=new Promise(e=>{let t=()=>{this.signalWs.removeEventListener("open",t),e(this.signalWs)};this.signalWs.addEventListener("open",t)})},this.cleanUpWebSocket=()=>{this.signalWs.removeEventListener("error",this.restoreWebSocket),this.signalWs.removeEventListener("close",this.handleWebSocketClose)},this.restoreWebSocket=()=>{lJ(this.restoreWebSocketConcurrencyTag,async()=>{this.logger("debug","Restoring SFU WS connection"),this.cleanUpWebSocket(),await la(500),this.createWebSocket()}).catch(e=>this.logger("debug","Can't restore WS connection",e))},this.handleWebSocketClose=()=>{this.signalWs.removeEventListener("close",this.handleWebSocketClose),clearInterval(this.keepAliveInterval),clearTimeout(this.connectionCheckTimeout),this.onSignalClose?.()},this.close=(e=cN.NORMAL_CLOSURE,t)=>{this.signalWs.readyState===WebSocket.OPEN&&(this.logger("debug",`Closing SFU WS connection: ${e} - ${t}`),this.signalWs.close(e,`js-client: ${t}`),this.cleanUpWebSocket()),this.dispose()},this.dispose=()=>{this.logger("debug","Disposing SFU client"),this.unsubscribeIceTrickle(),clearInterval(this.keepAliveInterval),clearTimeout(this.connectionCheckTimeout),clearTimeout(this.migrateAwayTimeout),this.abortController.abort(),this.migrationTask?.resolve()},this.leaveAndClose=async e=>{await this.joinTask;try{this.isLeaving=!0,await this.notifyLeave(e)}catch(e){this.logger("debug","Error notifying SFU about leaving call",e)}this.close(cN.NORMAL_CLOSURE,e.substring(0,115))},this.updateSubscriptions=async e=>(await this.joinTask,l_(()=>this.rpc.updateSubscriptions({sessionId:this.sessionId,tracks:e}),this.abortController.signal)),this.setPublisher=async e=>(await this.joinTask,l_(()=>this.rpc.setPublisher({...e,sessionId:this.sessionId}),this.abortController.signal)),this.sendAnswer=async e=>(await this.joinTask,l_(()=>this.rpc.sendAnswer({...e,sessionId:this.sessionId}),this.abortController.signal)),this.iceTrickle=async e=>(await this.joinTask,l_(()=>this.rpc.iceTrickle({...e,sessionId:this.sessionId}),this.abortController.signal)),this.iceRestart=async e=>(await this.joinTask,l_(()=>this.rpc.iceRestart({...e,sessionId:this.sessionId}),this.abortController.signal)),this.updateMuteState=async(e,t)=>(await this.joinTask,this.updateMuteStates({muteStates:[{trackType:e,muted:t}]})),this.updateMuteStates=async e=>(await this.joinTask,l_(()=>this.rpc.updateMuteStates({...e,sessionId:this.sessionId}),this.abortController.signal)),this.sendStats=async e=>(await this.joinTask,l_(()=>this.rpc.sendStats({...e,sessionId:this.sessionId}),this.abortController.signal)),this.startNoiseCancellation=async()=>(await this.joinTask,l_(()=>this.rpc.startNoiseCancellation({sessionId:this.sessionId}),this.abortController.signal)),this.stopNoiseCancellation=async()=>(await this.joinTask,l_(()=>this.rpc.stopNoiseCancellation({sessionId:this.sessionId}),this.abortController.signal)),this.enterMigration=async(e={})=>{this.isLeaving=!0;let{timeout:t=7e3}=e;this.migrationTask?.reject(Error("Cancelled previous migration"));let i=this.migrationTask=cI(),n=this.dispatcher.on("participantMigrationComplete",()=>{n(),clearTimeout(this.migrateAwayTimeout),i.resolve()});return this.migrateAwayTimeout=setTimeout(()=>{n(),i.reject(Error(`Migration (${this.logTag}) failed to complete in ${t}ms`))},t),i.promise},this.join=async e=>{let t;await this.signalReady,(this.joinResponseTask.isResolved||this.joinResponseTask.isRejected)&&(this.joinResponseTask=cI());let i=this.joinResponseTask,n=this.dispatcher.on("joinResponse",e=>{this.logger("debug","Received joinResponse",e),clearTimeout(t),n(),this.keepAlive(),i.resolve(e)});return t=setTimeout(()=>{n(),i.reject(Error('Waiting for "joinResponse" has timed out'))},this.joinResponseTimeout),await this.send(ol.create({requestPayload:{oneofKind:"joinRequest",joinRequest:ox.create({...e,sessionId:this.sessionId,token:this.credentials.token})}})),i.promise},this.ping=async()=>this.send(ol.create({requestPayload:{oneofKind:"healthCheckRequest",healthCheckRequest:{}}})),this.notifyLeave=async e=>this.send(ol.create({requestPayload:{oneofKind:"leaveCallRequest",leaveCallRequest:{sessionId:this.sessionId,reason:e}}})),this.send=async e=>{await this.signalReady;let t=ol.toJson(e);if(this.signalWs.readyState!==WebSocket.OPEN){this.logger("debug","Signal WS is not open. Skipping message",t);return}this.logger("debug",`Sending message to: ${this.edgeName}`,t),this.signalWs.send(ol.toBinary(e))},this.keepAlive=()=>{clearInterval(this.keepAliveInterval),this.keepAliveInterval=setInterval(()=>{this.ping().catch(e=>{this.logger("error","Error sending healthCheckRequest to SFU",e)})},this.pingIntervalInMs)},this.scheduleConnectionCheck=()=>{clearTimeout(this.connectionCheckTimeout),this.connectionCheckTimeout=setTimeout(()=>{this.lastMessageTimestamp&&new Date().getTime()-this.lastMessageTimestamp.getTime()>this.unhealthyTimeoutInMs&&this.close(cN.ERROR_CONNECTION_UNHEALTHY,`SFU connection unhealthy. Didn't receive any message for ${this.unhealthyTimeoutInMs}ms`)},this.unhealthyTimeoutInMs)},this.dispatcher=e,this.sessionId=i||lu(),this.onSignalClose=r,this.credentials=t;let{server:a,token:o}=t;this.edgeName=a.edge_name,this.joinResponseTimeout=s,this.logTag=n,this.logger=lx(["SfuClient",n]),this.rpc=lr({baseUrl:a.url,interceptors:[ln({Authorization:`Bearer ${o}`}),"trace"===ly()&&ls(this.logger,"trace")].filter(e=>!!e)}),this.unsubscribeIceTrickle=e.on("iceTrickle",e=>{this.iceTrickleBuffer.push(e)}),this.createWebSocket()}get isHealthy(){return this.signalWs.readyState===WebSocket.OPEN}get joinTask(){return this.joinResponseTask.promise}}cN.NORMAL_CLOSURE=1e3,cN.ERROR_CONNECTION_UNHEALTHY=4001,cN.DISPOSE_OLD_SOCKET=4002;let cD=e=>({iceServers:e.map(e=>({urls:e.urls,username:e.username,credential:e.password}))}),cA=e=>async function(t){if(t.user.id===e.currentUserId)return;let{state:i}=e;t.call.created_by.id===e.currentUserId&&i.callingState===F.RINGING&&await e.join()},cL=e=>async function(t){if(t.user.id===e.currentUserId)return;let{call:i}=t,{session:n}=i;if(!n){e.logger("warn","No call session provided. Ignoring call.rejected event.",t);return}let s=n.rejected_by,{members:r,callingState:a}=e.state;if(a!==F.RINGING){e.logger("info","Call is not in ringing mode (it is either accepted or rejected already). Ignoring call.rejected event.",t);return}e.isCreatedByMe?r.filter(t=>t.user_id!==e.currentUserId).every(e=>s[e.user_id])&&(e.logger("info","everyone rejected, leaving the call"),await e.leave({reason:"ring: everyone rejected"})):s[i.created_by.id]&&(e.logger("info","call creator rejected, leaving call"),await e.leave({reason:"ring: creator rejected"}))},cM=e=>function(){let{callingState:t}=e.state;(t===F.RINGING||t===F.JOINED||t===F.JOINING)&&e.leave({reason:"call.ended event received"}).catch(t=>{e.logger("error","Failed to leave call after call.ended ",t)})},cU=e=>e.on("callEnded",async t=>{if(e.state.callingState!==F.LEFT)try{e.state.setEndedAt(new Date);let i=D[t.reason];await e.leave({reason:`callEnded received: ${i}`})}catch(t){e.logger("error","Failed to leave call after being ended by the SFU",t)}}),cF=e=>function(t){let{currentGrants:i}=t;if(i){let{canPublishAudio:t,canPublishVideo:n,canScreenshare:s}=i,r={[rF.SEND_AUDIO]:t,[rF.SEND_VIDEO]:n,[rF.SCREENSHARE]:s},a=e.ownCapabilities.filter(e=>!1!==r[e]);Object.entries(r).forEach(([e,t])=>{t&&!a.includes(e)&&a.push(e)}),e.setOwnCapabilities(a)}},cB=(e,t)=>e.on("changePublishQuality",e=>{let{videoSenders:i}=e;i.forEach(e=>{let{layers:i}=e;t.updatePublishQuality(i.filter(e=>e.active))})}),c$=(e,t)=>e.on("connectionQualityChanged",e=>{let{connectionQualityUpdates:i}=e;i&&t.updateParticipants(i.reduce((e,t)=>{let{sessionId:i,connectionQuality:n}=t;return e[i]={connectionQuality:n},e},{}))}),cq=(e,t)=>e.on("healthCheckResponse",e=>{let{participantCount:i}=e;i&&(t.setParticipantCount(i.total),t.setAnonymousParticipantCount(i.anonymous))}),cV=(e,t)=>e.on("error",e=>{e.error&&e.error.code!==P.LIVE_ENDED||t.permissionsContext.hasPermission(rF.JOIN_BACKSTAGE)||t.leave({reason:"live ended"}).catch(e=>{t.logger("error","Failed to leave call after live ended",e)})}),cW=e=>e.on("error",e=>{if(!e.error)return;let t=lx(["SfuClient"]),{error:i,reconnectStrategy:n}=e;t("error","SFU reported error",{code:P[i.code],reconnectStrategy:A[n],message:i.message,shouldRetry:i.shouldRetry})}),cz=e=>function(t){let{pins:i}=t;e.setServerSidePins(i)},cH=e=>e.on("trackUnpublished",async t=>{let{cause:i,type:n,sessionId:s}=t,{localParticipant:r}=e.state;if(i===I.MODERATION&&s===r?.sessionId){let t=e.logger;t("info",`Local participant's ${O[n]} track is muted remotely`);try{n===O.VIDEO?await e.camera.disable():n===O.AUDIO?await e.microphone.disable():n===O.SCREEN_SHARE||n===O.SCREEN_SHARE_AUDIO?await e.screenShare.disable():t("warn","Unsupported track type to soft mute",O[n])}catch(e){t("error","Failed to stop publishing",e)}}}),cK=e=>function(t){let{participant:i}=t;if(!i)return;let n=cZ(e,i);e.updateOrAddParticipant(i.sessionId,Object.assign(i,n,{viewportVisibilityState:{videoTrack:M.UNKNOWN,screenShareTrack:M.UNKNOWN}}))},cG=e=>function(t){let{participant:i}=t;i&&e.setParticipants(e=>e.filter(e=>e.sessionId!==i.sessionId))},cJ=e=>function(t){let{participant:i}=t;i&&e.updateParticipant(i.sessionId,i)},cY=e=>function(t){let{type:i,sessionId:n}=t;if(t.participant){let i=cZ(e,t.participant),s=Object.assign(t.participant,i);e.updateOrAddParticipant(n,s)}else e.updateParticipant(n,e=>({publishedTracks:[...e.publishedTracks,i].filter(cX)}))},cQ=e=>function(t){let{type:i,sessionId:n}=t;if(t.participant){let i=cZ(e,t.participant),s=Object.assign(t.participant,i);e.updateOrAddParticipant(n,s)}else e.updateParticipant(n,e=>({publishedTracks:e.publishedTracks.filter(e=>e!==i)}))},cX=(e,t,i)=>i.indexOf(e)===t,cZ=(e,t)=>{let i=e.takeOrphanedTracks(t.trackLookupPrefix);if(!i.length)return;let n={};for(let e of i){let t=lH(e.trackType);t&&(n[t]=e.track)}return n},c0=(e,t)=>e.on("dominantSpeakerChanged",e=>{let{sessionId:i}=e;i!==t.dominantSpeaker?.sessionId&&t.setParticipants(e=>e.map(e=>e.sessionId===i?{...e,isDominantSpeaker:!0}:e.isDominantSpeaker?{...e,isDominantSpeaker:!1}:e))}),c1=(e,t)=>e.on("audioLevelChanged",e=>{let{audioLevels:i}=e;t.updateParticipants(i.reduce((e,t)=>(e[t.sessionId]={audioLevel:t.level,isSpeaking:t.isSpeaking},e),{}))}),c2=(e,t)=>{let i=e.state,n=[e.on("call.ended",cM(e)),cU(e),cV(t,e),cW(t),cB(t,e),c$(t,i),cq(t,i),e.on("participantJoined",cK(i)),e.on("participantLeft",cG(i)),e.on("participantUpdated",cJ(i)),e.on("trackPublished",cY(i)),e.on("trackUnpublished",cQ(i)),c1(t,i),c0(t,i),e.on("callGrantsUpdated",cF(i)),e.on("pinsUpdated",cz(i)),cH(e)];return e.ringing&&n.push(c3(e)),()=>{n.forEach(e=>e())}},c3=e=>{let t={"call.accepted":cA(e),"call.rejected":cL(e)},i=Object.keys(t).map(i=>e.on(i,t[i]));return()=>{i.forEach(e=>e())}},c4=e=>{let t=[];return e.forEach(e=>{t.push(e)}),t},c5=e=>{let{sdk:t,...i}=e;return{sdkName:c6(t),sdkVersion:c8(t),...i}},c6=e=>e&&e.type===j.REACT?"stream-react":e&&e.type===j.REACT_NATIVE?"stream-react-native":"stream-js",c8=e=>e?`${e.major}.${e.minor}.${e.patch}`:"0.0.0-development",c9=({subscriber:e,publisher:t,state:i,datacenter:n,pollingIntervalInMs:s=2e3})=>{let r;let a=lx(["stats"]),o=async(i,n)=>"subscriber"===i&&e?e.getStats(n):"publisher"===i&&t?t.getStats(n):void 0,l=async(i,n)=>{let s="subscriber"===i?e:t;if(!s)return[];let r=[];for(let e of n.getTracks()){let t=c7(await s.getStats(e),{trackKind:e.kind,kind:i});r.push(t)}return r},c=new Set,d=async()=>{let s={},r=new Set(c);if(r.size>0)for(let e of i.participants){if(!r.has(e.sessionId))continue;let t=e.isLocalParticipant?"publisher":"subscriber";try{let i=new MediaStream([...e.videoStream?.getVideoTracks()||[],...e.audioStream?.getAudioTracks()||[]]);s[e.sessionId]=await l(t,i),i.getTracks().forEach(e=>{i.removeTrack(e)})}catch(i){a("error",`Failed to collect stats for ${t} of ${e.userId}`,i)}}let[d,u]=await Promise.all([e.getStats().then(e=>c7(e,{kind:"subscriber",trackKind:"video"})).then(dt),t?t.getStats().then(e=>c7(e,{kind:"publisher",trackKind:"video"})).then(dt):de()]),[p,h]=await Promise.all([o("subscriber"),t?o("publisher"):void 0]);i.setCallStatsReport({datacenter:n,publisherStats:u,subscriberStats:d,subscriberRawStats:p,publisherRawStats:h,participants:s,timestamp:Date.now()})};if(s>0){let e=async()=>{await d().catch(e=>{a("debug","Failed to collect stats",e)}),r=setTimeout(e,s)};e()}return{getRawStatsForTrack:o,getStatsForStream:l,startReportingStatsFor:e=>{c.add(e),d()},stopReportingStatsFor:e=>{c.delete(e),d()},stop:()=>{r&&clearTimeout(r)}}},c7=(e,t)=>{let{trackKind:i,kind:n}=t,s="subscriber"===n?"inbound-rtp":"outbound-rtp",r=c4(e);return{rawStats:e,streams:r.filter(e=>e.type===s&&e.kind===i).map(e=>{let t;let i=r.find(t=>"codec"===t.type&&t.id===e.codecId),n=r.find(t=>"transport"===t.type&&t.id===e.transportId);if(n&&"connected"===n.dtlsState){let e=r.find(e=>"candidate-pair"===e.type&&e.id===n.selectedCandidatePairId);t=e?.currentRoundTripTime}return{bytesSent:e.bytesSent,bytesReceived:e.bytesReceived,codec:i?.mimeType,currentRoundTripTime:t,frameHeight:e.frameHeight,frameWidth:e.frameWidth,framesPerSecond:e.framesPerSecond,jitter:e.jitter,kind:e.kind,qualityLimitationReason:e.qualityLimitationReason,rid:e.rid,ssrc:e.ssrc}}),timestamp:Date.now()}},de=e=>({rawReport:e??{streams:[],timestamp:Date.now()},totalBytesSent:0,totalBytesReceived:0,averageJitterInMs:0,averageRoundTripTimeInMs:0,qualityLimitationReasons:"none",highestFrameWidth:0,highestFrameHeight:0,highestFramesPerSecond:0,timestamp:Date.now()}),dt=e=>{let t=de(e),i=-1,n=(e,t)=>e*t,s=new Set,r=e.streams,a=r.reduce((e,t)=>{e.totalBytesSent+=t.bytesSent||0,e.totalBytesReceived+=t.bytesReceived||0,e.averageJitterInMs+=t.jitter||0,e.averageRoundTripTimeInMs+=t.currentRoundTripTime||0;let r=n(t.frameWidth||0,t.frameHeight||0);return r>i&&(e.highestFrameWidth=t.frameWidth||0,e.highestFrameHeight=t.frameHeight||0,e.highestFramesPerSecond=t.framesPerSecond||0,i=r),s.add(t.qualityLimitationReason||""),e},t);r.length>0&&(a.averageJitterInMs=Math.round(a.averageJitterInMs/r.length*1e3),a.averageRoundTripTimeInMs=Math.round(a.averageRoundTripTimeInMs/r.length*1e3));let o=[s.has("cpu")&&"cpu",s.has("bandwidth")&&"bandwidth",s.has("other")&&"other"].filter(Boolean).join(", ");return o&&(a.qualityLimitationReasons=o),a};class di{constructor(e,{options:t,clientDetails:i,subscriber:n,publisher:s}){this.logger=lx(["SfuStatsReporter"]),this.run=async()=>{let[e,t]=await Promise.all([this.subscriber.getStats().then(c4).then(JSON.stringify),this.publisher?.getStats().then(c4).then(JSON.stringify)??"[]"]);await this.sfuClient.sendStats({sdk:this.sdkName,sdkVersion:this.sdkVersion,webrtcVersion:this.webRTCVersion,subscriberStats:e,publisherStats:t})},this.start=()=>{this.options.reporting_interval_ms<=0||(clearInterval(this.intervalId),this.intervalId=setInterval(()=>{this.run().catch(e=>{this.logger("warn","Failed to report stats",e)})},this.options.reporting_interval_ms))},this.stop=()=>{clearInterval(this.intervalId),this.intervalId=void 0},this.sfuClient=e,this.options=t,this.subscriber=n,this.publisher=s;let r=lO(),{sdk:a,browser:o}=i;this.sdkName=c6(a),this.sdkVersion=c8(a),this.webRTCVersion=r?.version||`${o?.name||""}-${o?.version||""}`||"N/A"}}class dn{constructor(){this.elementHandlerMap=new Map,this.observer=null,this.queueSet=new Set,this.setViewport=(e,t)=>(this.observer=new IntersectionObserver(e=>{e.forEach(e=>{let t=this.elementHandlerMap.get(e.target);t?.(e)})},{root:e,...t,threshold:t?.threshold??.35}),this.queueSet.size&&(this.queueSet.forEach(([t,i])=>{e.contains(t)&&(this.observer.observe(t),this.elementHandlerMap.set(t,i))}),this.queueSet.clear()),()=>{this.observer?.disconnect(),this.observer=null,this.elementHandlerMap.clear()}),this.observe=(e,t)=>{let i=[e,t];return this.elementHandlerMap.has(e)||(this.observer?this.observer.root.contains(e)&&(this.elementHandlerMap.set(e,t),this.observer.observe(e)):this.queueSet.add(i)),()=>{this.elementHandlerMap.delete(e),this.observer?.unobserve(e),this.queueSet.delete(i)}}}}let ds=()=>"undefined"!=typeof navigator&&/^((?!chrome|android).)*safari/i.test(navigator.userAgent||""),dr=()=>"undefined"!=typeof navigator&&navigator.userAgent?.includes("Firefox");var da=Object.freeze({__proto__:null,isChrome:()=>"undefined"!=typeof navigator&&navigator.userAgent?.includes("Chrome"),isFirefox:dr,isSafari:ds});let dl={videoTrack:M.UNKNOWN,screenShareTrack:M.UNKNOWN};class dc{constructor(e){this.viewportTracker=new dn,this.logger=lx(["DynascaleManager"]),this.trackElementVisibility=(e,t,i)=>{let n=this.viewportTracker.observe(e,n=>{this.call.state.updateParticipant(t,t=>{let s=t.viewportVisibilityState??dl,r=n.isIntersecting||document.fullscreenElement===e?M.VISIBLE:M.INVISIBLE;return{...t,viewportVisibilityState:{...s,[i]:r}}})});return()=>{n(),this.call.state.updateParticipant(t,e=>{let t=e.viewportVisibilityState??dl;return{...e,viewportVisibilityState:{...t,[i]:M.UNKNOWN}}})}},this.setViewport=e=>this.viewportTracker.setViewport(e),this.bindVideoElement=(e,t,i)=>{let n,s;let r=this.call.state.findParticipantBySessionId(t);if(!r)return;let a=(e,n)=>{n&&(0===n.width||0===n.height)&&(this.logger("debug","Ignoring 0x0 dimension",r),n=void 0),this.call.updateSubscriptionsPartial(i,{[t]:{dimension:n}},e)},o=this.call.state.participants$.pipe(rs(e=>e.find(e=>e.sessionId===t)),rf(e=>!!e),rh(),rp({bufferSize:1,refCount:!0})),l=r.isLocalParticipant?null:o.pipe(rs(e=>e.viewportVisibilityState?.[i]),rh()).subscribe(t=>{if(!n){n=t??M.UNKNOWN;return}if(n=t??M.UNKNOWN,t===M.INVISIBLE)return a(U.MEDIUM,void 0);a(U.MEDIUM,{width:e.clientWidth,height:e.clientHeight})}),c=r.isLocalParticipant?null:new ResizeObserver(()=>{let t=`${e.clientWidth},${e.clientHeight}`;if(!s){s=t;return}s!==t&&n!==M.INVISIBLE&&(a(U.SLOW,{width:e.clientWidth,height:e.clientHeight}),s=t)});c?.observe(e);let d=r.isLocalParticipant?null:o.pipe(rg("publishedTracks"),rs(e=>"videoTrack"===i?ce(e):ci(e)),rh()).subscribe(t=>{t?a(U.FAST,{width:e.clientWidth,height:e.clientHeight}):a(U.FAST,void 0)});e.autoplay=!0,e.playsInline=!0,e.muted=!0;let u=o.pipe(rg("videoTrack"===i?"videoStream":"screenShareStream")).subscribe(t=>{let n="videoTrack"===i?t.videoStream:t.screenShareStream;e.srcObject!==n&&(e.srcObject=n??null,(ds()||dr())&&setTimeout(()=>{e.srcObject=n??null,e.play().catch(e=>{this.logger("warn","Failed to play stream",e)})},25))});return()=>{a(U.FAST,void 0),l?.unsubscribe(),d?.unsubscribe(),u.unsubscribe(),c?.disconnect()}},this.bindAudioElement=(e,t,i)=>{let n=this.call.state.findParticipantBySessionId(t);if(!n||n.isLocalParticipant)return;let s=this.call.state.participants$.pipe(rs(e=>e.find(e=>e.sessionId===t)),rf(e=>!!e),rh(),rp({bufferSize:1,refCount:!0})),r=s.pipe(rg("screenShareAudioTrack"===i?"screenShareAudioStream":"audioStream")).subscribe(t=>{let n="screenShareAudioTrack"===i?t.screenShareAudioStream:t.audioStream;e.srcObject!==n&&setTimeout(()=>{if(e.srcObject=n??null,e.srcObject){e.play().catch(e=>{this.logger("warn","Failed to play stream",e)});let{selectedDevice:t}=this.call.speaker.state;t&&"setSinkId"in e&&e.setSinkId(t)}})}),a="setSinkId"in e?this.call.speaker.state.selectedDevice$.subscribe(t=>{t&&e.setSinkId(t)}):null,o=rc([this.call.speaker.state.volume$,s.pipe(rg("audioVolume"))]).subscribe(([t,i])=>{e.volume=i.audioVolume??t});return e.autoplay=!0,()=>{a?.unsubscribe(),o.unsubscribe(),r.unsubscribe()}},this.call=e}}class dd{constructor(){this.permissions=[],this.setPermissions=e=>{this.permissions=e||[]},this.setCallSettings=e=>{this.settings=e},this.hasPermission=e=>this.permissions.includes(e),this.canRequest=(e,t=this.settings)=>{if(!t)return!1;let{audio:i,video:n,screensharing:s}=t;switch(e){case rF.SEND_AUDIO:return i.access_request_enabled;case rF.SEND_VIDEO:return n.access_request_enabled;case rF.SCREENSHARE:return s.access_request_enabled;default:return!1}}}}class du{constructor(e,t={sortParticipantsBy:cg}){this.name=e,this.options=t}}class dp{constructor(e){this.register=e=>{this.callTypes[e.name]=e},this.unregister=e=>{delete this.callTypes[e]},this.get=e=>(this.callTypes[e]||this.register(new du(e)),this.callTypes[e]),this.callTypes=e.reduce((e,t)=>(e[t.name]=t,e),{})}}let dh=new dp([new du("default",{sortParticipantsBy:cg}),new du("development",{sortParticipantsBy:cg}),new du("livestream",{sortParticipantsBy:cy}),new du("audio_room",{sortParticipantsBy:cy})]);class dm{constructor(e){this.permission=e,this.disposeController=new AbortController,this.wasPrompted=!1,this.listeners=new Set,this.logger=lx(["permissions"]);let t=this.disposeController.signal;this.ready=(async()=>{let i=e=>{this.setState("granted")};if(!(!lh()&&"undefined"!=typeof navigator&&navigator.permissions?.query))return i();try{let i=await navigator.permissions.query({name:e.queryName});t.aborted||(this.setState(i.state),i.addEventListener("change",()=>this.setState(i.state),{signal:t}))}catch(e){i()}})()}dispose(){this.state=void 0,this.disposeController.abort()}async getState(){if(await this.ready,!this.state)throw Error("BrowserPermission instance possibly disposed");return this.state}async prompt({forcePrompt:e=!1,throwOnNotAllowed:t=!1}={}){await lJ(`permission-prompt-${this.permission.queryName}`,async()=>{if(await this.getState()!=="prompt"||this.wasPrompted&&!e){let e="granted"===this.state;if(!e&&t)throw new DOMException("Permission was not granted previously, and prompting again is not allowed","NotAllowedError");return e}try{this.wasPrompted=!0;let e=await navigator.mediaDevices.getUserMedia(this.permission.constraints);return dI(e),!0}catch(e){if(e instanceof DOMException&&"NotAllowedError"===e.name){if(this.logger("info","Browser permission was not granted",{permission:this.permission}),t)throw e;return!1}throw this.logger("error","Failed to getUserMedia",{error:e,permission:this.permission}),e}})}listen(e){return this.listeners.add(e),this.state&&e(this.state),()=>this.listeners.delete(e)}asObservable(){return(function e(t,i,n){return n?e(t,i).pipe(ra(n)):new sF(function(e){var n=function(){for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];return e.next(1===t.length?t[0]:t)},s=t(n);return sh(i)?function(){return i(n,s)}:void 0})})(e=>this.listen(e),(e,t)=>t()).pipe(rs(e=>"denied"!==e))}setState(e){this.state!==e&&(this.state=e,this.listeners.forEach(t=>t(e)))}}let df=Symbol("uninitialized");function dg(e){let t=df;return()=>(t===df&&(t=e()),t)}let dv=(e,t)=>rn((async()=>{let i=await navigator.mediaDevices.enumerateDevices();return i.some(e=>e.kind===t&&""===e.label)&&(await e.prompt({throwOnNotAllowed:!0}),i=await navigator.mediaDevices.enumerateDevices()),i.filter(e=>e.kind===t)})()),db=()=>"undefined"!=typeof document&&"setSinkId"in document.createElement("audio"),dy={audio:{autoGainControl:!0,noiseSuppression:!0,echoCancellation:!0}},dx={video:{width:1280,height:720}},d_=dg(()=>new dm({constraints:dy,queryName:"microphone"})),dw=dg(()=>new dm({constraints:dx,queryName:"camera"})),dS=dg(()=>navigator.mediaDevices.addEventListener?(function e(t,i,n,s){if(sh(n)&&(s=n,n=void 0),s)return e(t,i,n).pipe(ra(s));var r=(0,sp.CR)(sh(t.addEventListener)&&sh(t.removeEventListener)?ry.map(function(e){return function(s){return t[e](i,s,n)}}):sh(t.addListener)&&sh(t.removeListener)?rb.map(r_(t,i)):sh(t.on)&&sh(t.off)?rx.map(r_(t,i)):[],2),a=r[0],o=r[1];if(!a&&sY(t))return rv(function(t){return e(t,i,n)})(s4(t));if(!a)throw TypeError("Invalid event target");return new sF(function(e){var t=function(){for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];return e.next(1<t.length?t:t[0])};return a(t),function(){return o(t)}})})(navigator.mediaDevices,"devicechange").pipe(rs(()=>void 0),function(e,t){return void 0===t&&(t=rT),s8(function(e,i){var n=null,s=null,r=null,a=function(){if(n){n.unsubscribe(),n=null;var e=s;s=null,i.next(e)}};function o(){var e=r+500,s=t.now();if(s<e){n=this.schedule(void 0,e-s),i.add(n);return}a()}e.subscribe(s9(i,function(e){s=e,r=t.now(),n||(n=t.schedule(o,500),i.add(n))},function(){a(),i.complete()},void 0,function(){s=n=null}))})}(0)):rn([])),dk=dg(()=>rO(dS(),d_().asObservable()).pipe(rj(void 0),rI(()=>dv(d_(),"audioinput")),rp(1))),dE=()=>rO(dS(),dw().asObservable()).pipe(rj(void 0),rI(()=>dv(dw(),"videoinput")),rp(1)),dT=()=>rO(dS(),d_().asObservable()).pipe(rj(void 0),rI(()=>dv(d_(),"audiooutput")),rp(1)),dC=async e=>await navigator.mediaDevices.getUserMedia(e),dR=async e=>{let t={audio:{...dy.audio,...e}};try{return await d_().prompt({throwOnNotAllowed:!0,forcePrompt:!0}),dC(t)}catch(e){throw lx(["devices"])("error","Failed to get audio stream",{error:e,constraints:t}),e}},dO=async e=>{let t={video:{...dx.video,...e}};try{return await dw().prompt({throwOnNotAllowed:!0,forcePrompt:!0}),dC(t)}catch(e){throw lx(["devices"])("error","Failed to get video stream",{error:e,constraints:t}),e}},dP=async e=>{try{return await navigator.mediaDevices.getDisplayMedia({video:!0,audio:{channelCount:{ideal:2},echoCancellation:!1,autoGainControl:!1,noiseSuppression:!1},systemAudio:"include",...e})}catch(e){throw lx(["devices"])("error","Failed to get screen share stream",e),e}},dj="undefined"!=typeof navigator&&void 0!==navigator.mediaDevices?dS().pipe(rj(void 0),rI(()=>navigator.mediaDevices.enumerateDevices()),rp(1)):void 0,dI=e=>{e.active&&(e.getTracks().forEach(t=>{t.stop(),e.removeTrack(t)}),"function"==typeof e.release&&e.release())};class dN{constructor(e,t,i){this.call=e,this.state=t,this.trackType=i,this.stopOnLeave=!0,this.subscriptions=[],this.isTrackStoppedDueToTrackEnd=!1,this.filters=[],this.statusChangeConcurrencyTag=Symbol("statusChangeConcurrencyTag"),this.filterRegistrationConcurrencyTag=Symbol("filterRegistrationConcurrencyTag"),this.dispose=()=>{this.subscriptions.forEach(e=>e())},this.logger=lx([`${O[i].toLowerCase()} manager`]),dj&&!lh()&&(this.trackType===O.AUDIO||this.trackType===O.VIDEO)&&this.handleDisconnectedOrReplacedDevices()}listDevices(){return this.getDevices()}get enabled(){return"enabled"===this.state.status}async enable(){"enabled"!==this.state.optimisticStatus&&(this.state.setPendingStatus("enabled"),await lY(this.statusChangeConcurrencyTag,async e=>{try{await this.unmuteStream(),this.state.setStatus("enabled")}finally{e.aborted||this.state.setPendingStatus(this.state.status)}}))}async disable(e=!1){this.state.prevStatus=this.state.status,(e||"disabled"!==this.state.optimisticStatus)&&(this.state.setPendingStatus("disabled"),await lY(this.statusChangeConcurrencyTag,async t=>{try{let t=e||"stop-tracks"===this.state.disableMode;await this.muteStream(t),this.state.setStatus("disabled")}finally{t.aborted||this.state.setPendingStatus(this.state.status)}}))}async statusChangeSettled(){await lX(this.statusChangeConcurrencyTag)}async resume(){"enabled"===this.state.prevStatus&&"disabled"===this.state.status&&await this.enable()}async toggle(){return"enabled"===this.state.optimisticStatus?await this.disable():await this.enable()}registerFilter(e){let t={start:e,stop:void 0};return{registered:lJ(this.filterRegistrationConcurrencyTag,async()=>{this.filters.push(t),await this.applySettingsToStream()}),unregister:()=>lJ(this.filterRegistrationConcurrencyTag,async()=>{t.stop?.(),this.filters=this.filters.filter(e=>e!==t),await this.applySettingsToStream()})}}setDefaultConstraints(e){this.state.setDefaultConstraints(e)}async select(e){if(lh())throw Error("This method is not supported in React Native. Please visit https://getstream.io/video/docs/reactnative/core/camera-and-microphone/#speaker-management for reference.");e!==this.state.selectedDevice&&(this.state.setDevice(e),await this.applySettingsToStream())}async applySettingsToStream(){this.enabled&&(await this.muteStream(),await this.unmuteStream())}getTracks(){return this.state.mediaStream?.getTracks()??[]}async muteStream(e=!0){this.state.mediaStream&&(this.logger("debug",`${e?"Stopping":"Disabling"} stream`),this.call.state.callingState===F.JOINED&&await this.stopPublishStream(e),this.muteLocalStream(e),this.getTracks().every(e=>"ended"===e.readyState)&&(this.state.mediaStream&&"function"==typeof this.state.mediaStream.release&&this.state.mediaStream.release(),this.state.setMediaStream(void 0,void 0),this.filters.forEach(e=>e.stop?.())))}muteTracks(){this.getTracks().forEach(e=>{e.enabled&&(e.enabled=!1)})}unmuteTracks(){this.getTracks().forEach(e=>{e.enabled||(e.enabled=!0)})}stopTracks(){this.getTracks().forEach(e=>{"live"===e.readyState&&e.stop()})}muteLocalStream(e){this.state.mediaStream&&(e?this.stopTracks():this.muteTracks())}async unmuteStream(){let e,t;if(this.logger("debug","Starting stream"),this.state.mediaStream&&this.getTracks().every(e=>"live"===e.readyState))e=this.state.mediaStream,this.unmuteTracks();else{let i={...this.state.defaultConstraints,deviceId:this.state.selectedDevice},n=e=>async t=>{if(!e)return t;let i=await e;return t.getTracks().forEach(e=>{let t=e.stop;e.stop=function(){t.call(e),i.getTracks().forEach(t=>{t.kind===e.kind&&t.stop()})}}),i.getTracks().forEach(e=>{let i=()=>{t.getTracks().forEach(t=>{e.kind===t.kind&&(t.stop(),t.dispatchEvent(new Event("ended")))})};e.addEventListener("ended",i),this.subscriptions.push(()=>{e.removeEventListener("ended",i)})}),t};t=this.getStream(i),e=await this.filters.reduce((e,t)=>e.then(e=>{let{stop:i,output:n}=t.start(e);return t.stop=i,n}).then(n(e),t=>(this.logger("warn","Filter failed to start and will be ignored",t),e)),t)}this.call.state.callingState===F.JOINED&&await this.publishStream(e),this.state.mediaStream!==e&&(this.state.setMediaStream(e,await t),this.getTracks().forEach(e=>{e.addEventListener("ended",async()=>{await this.statusChangeSettled(),this.enabled&&(this.isTrackStoppedDueToTrackEnd=!0,setTimeout(()=>{this.isTrackStoppedDueToTrackEnd=!1},2e3),await this.disable())})}))}get mediaDeviceKind(){return this.trackType===O.AUDIO?"audioinput":this.trackType===O.VIDEO?"videoinput":""}handleDisconnectedOrReplacedDevices(){this.subscriptions.push(l3(rc([dj.pipe(s8(function(e,t){var i,n=!1;e.subscribe(s9(t,function(e){var s=i;i=e,n&&t.next([s,e]),n=!0}))})),this.state.selectedDevice$]),async([[e,t],i])=>{try{if(!i)return;await this.statusChangeSettled();let n=!1,s=!1,r=this.findDeviceInList(t,i),a=this.findDeviceInList(e,i);!r&&a?n=!0:r&&a&&r.deviceId===a.deviceId&&r.groupId!==a.groupId&&(s=!0),n&&(await this.disable(),await this.select(void 0)),s&&(this.isTrackStoppedDueToTrackEnd&&"disabled"===this.state.status?(await this.enable(),this.isTrackStoppedDueToTrackEnd=!1):await this.applySettingsToStream())}catch(e){this.logger("warn","Unexpected error while handling disconnected or replaced device",e)}}))}findDeviceInList(e,t){return e.find(e=>e.deviceId===t&&e.kind===this.mediaDeviceKind)}}class dD{constructor(e="stop-tracks",t){this.disableMode=e,this.statusSubject=new rd(void 0),this.optimisticStatusSubject=new rd(void 0),this.mediaStreamSubject=new rd(void 0),this.selectedDeviceSubject=new rd(void 0),this.defaultConstraintsSubject=new rd(void 0),this.mediaStream$=this.mediaStreamSubject.asObservable(),this.selectedDevice$=this.selectedDeviceSubject.asObservable().pipe(rh()),this.status$=this.statusSubject.asObservable().pipe(rh()),this.optimisticStatus$=this.optimisticStatusSubject.asObservable().pipe(rh()),this.defaultConstraints$=this.defaultConstraintsSubject.asObservable(),this.getCurrentValue=l1,this.setCurrentValue=l2,this.hasBrowserPermission$=t?t.asObservable().pipe(rp(1)):rN(!0)}get status(){return this.getCurrentValue(this.status$)}get optimisticStatus(){return this.getCurrentValue(this.optimisticStatus$)}get selectedDevice(){return this.getCurrentValue(this.selectedDevice$)}get mediaStream(){return this.getCurrentValue(this.mediaStream$)}setStatus(e){this.setCurrentValue(this.statusSubject,e)}setPendingStatus(e){this.setCurrentValue(this.optimisticStatusSubject,e)}setMediaStream(e,t){this.setCurrentValue(this.mediaStreamSubject,e),t&&this.setDevice(this.getDeviceIdFromStream(t))}setDevice(e){this.setCurrentValue(this.selectedDeviceSubject,e)}get defaultConstraints(){return this.getCurrentValue(this.defaultConstraints$)}setDefaultConstraints(e){this.setCurrentValue(this.defaultConstraintsSubject,e)}}class dA extends dD{constructor(){super("stop-tracks",dw()),this.directionSubject=new rd(void 0),this.direction$=this.directionSubject.asObservable().pipe(rh())}get direction(){return this.getCurrentValue(this.direction$)}setDirection(e){this.setCurrentValue(this.directionSubject,e)}setMediaStream(e,t){if(super.setMediaStream(e,t),e){let t=lh()?this.direction:e.getVideoTracks()[0]?.getSettings().facingMode==="environment"?"back":"front";this.setDirection(t)}}getDeviceIdFromStream(e){let[t]=e.getVideoTracks();return t?.getSettings().deviceId}}class dL extends dN{constructor(e){super(e,new dA,O.VIDEO),this.targetResolution={width:1280,height:720}}get publishOptions(){return{preferredCodec:this.preferredCodec,preferredBitrate:this.preferredBitrate}}async selectDirection(e){this.state.setDirection(e),this.state.setDevice(void 0),await this.applySettingsToStream()}async flip(){let e="front"===this.state.direction?"back":"front";await this.selectDirection(e)}async selectTargetResolution(e){if(this.targetResolution.height=e.height,this.targetResolution.width=e.width,"enabled"===this.state.optimisticStatus)try{await this.statusChangeSettled()}catch(e){this.logger("warn","could not apply target resolution",e)}if(this.enabled){let{width:e,height:t}=this.state.mediaStream.getVideoTracks()[0]?.getSettings();(e!==this.targetResolution.width||t!==this.targetResolution.height)&&(await this.applySettingsToStream(),this.logger("debug",`${e}x${t} target resolution applied to media stream`))}}setPreferredCodec(e){this.preferredCodec=e}setPreferredBitrate(e){this.preferredBitrate=e}getDevices(){return dE()}getStream(e){return e.width=this.targetResolution.width,e.height=this.targetResolution.height,!e.deviceId&&this.state.direction&&(e.facingMode="front"===this.state.direction?"user":"environment"),dO(e)}publishStream(e){return this.call.publishVideoStream(e,this.publishOptions)}stopPublishStream(e){return this.call.stopPublish(O.VIDEO,e)}}class dM extends dD{constructor(e){super(e,d_()),this.speakingWhileMutedSubject=new rd(!1),this.speakingWhileMuted$=this.speakingWhileMutedSubject.asObservable().pipe(rh())}get speakingWhileMuted(){return this.getCurrentValue(this.speakingWhileMuted$)}setSpeakingWhileMuted(e){this.setCurrentValue(this.speakingWhileMutedSubject,e)}getDeviceIdFromStream(e){let[t]=e.getAudioTracks();return t?.getSettings().deviceId}}let dU=(e,t,i={})=>{let{detectionFrequencyInMs:n=500,audioLevelThreshold:s=150,fftSize:r=128,destroyStreamOnStop:a=!0}=i,o=new AudioContext,l=o.createAnalyser();l.fftSize=r;let c=o.createMediaStreamSource(e);c.connect(l);let d=setInterval(()=>{let i=new Uint8Array(l.frequencyBinCount);l.getByteFrequencyData(i);let n=i.some(e=>e>=s),r=i.reduce((e,t)=>e+t,0)/i.length;e.getAudioTracks()[0]?.enabled?t({isSoundDetected:n,audioLevel:r>s?100:Math.round(r/s*100)}):t({isSoundDetected:!1,audioLevel:0})},n);return async function(){clearInterval(d),c.disconnect(),l.disconnect(),"closed"!==o.state&&await o.close(),a&&e.getTracks().forEach(t=>{t.stop(),e.removeTrack(t)})}};class dF{constructor(){this.pc1=new RTCPeerConnection({}),this.pc2=new RTCPeerConnection({})}async start(){try{let e=await navigator.mediaDevices.getUserMedia({audio:!0});this.pc1.addEventListener("icecandidate",async e=>{await this.pc2.addIceCandidate(e.candidate)}),this.pc2.addEventListener("icecandidate",async e=>{await this.pc1.addIceCandidate(e.candidate)}),e.getTracks().forEach(t=>this.pc1.addTrack(t,e));let t=await this.pc1.createOffer({});await this.pc2.setRemoteDescription(t),await this.pc1.setLocalDescription(t);let i=await this.pc2.createAnswer();await this.pc1.setRemoteDescription(i),await this.pc2.setLocalDescription(i),e.getAudioTracks().forEach(e=>e.enabled=!1)}catch(e){console.error("Error connecting and negotiating between PeerConnections:",e)}}stop(){this.pc1.close(),this.pc2.close(),this.intervalId&&clearInterval(this.intervalId)}onSpeakingDetectedStateChange(e){return this.intervalId=setInterval(async()=>{let t=c4(await this.pc1.getStats()).find(e=>"media-source"===e.type&&"audio"===e.kind);if(t){let{audioLevel:i}=t;i&&(i>=.2?e({isSoundDetected:!0,audioLevel:i}):e({isSoundDetected:!1,audioLevel:0}))}},1e3),()=>{clearInterval(this.intervalId)}}}class dB extends dN{constructor(e,t=lh()?"disable-tracks":"stop-tracks"){super(e,new dM(t),O.AUDIO),this.speakingWhileMutedNotificationEnabled=!0,this.soundDetectorConcurrencyTag=Symbol("soundDetectorConcurrencyTag"),this.subscriptions.push(l3(rc([this.call.state.callingState$,this.call.state.ownCapabilities$,this.state.selectedDevice$,this.state.status$]),async([e,t,i,n])=>{try{if(e===F.LEFT&&await this.stopSpeakingWhileMutedDetection(),e!==F.JOINED||!this.speakingWhileMutedNotificationEnabled)return;t.includes(rF.SEND_AUDIO)&&"disabled"===n?await this.startSpeakingWhileMutedDetection(i):await this.stopSpeakingWhileMutedDetection()}catch(e){this.logger("warn","Could not enable speaking while muted",e)}})),this.subscriptions.push(l3(this.call.state.callingState$,e=>{this.noiseCancellationRegistration&&this.noiseCancellation&&(this.call.state.settings?.audio.noise_cancellation?.mode===rU.AUTO_ON&&e===F.JOINED?this.noiseCancellationRegistration.then(()=>this.noiseCancellation?.enable()).catch(e=>(this.logger("warn","Failed to enable noise cancellation",e),this.call.notifyNoiseCancellationStopped())):e===F.LEFT&&this.noiseCancellationRegistration.then(()=>this.noiseCancellation?.disable()).catch(e=>{this.logger("warn","Failed to disable noise cancellation",e)}))}))}async enableNoiseCancellation(e){if(lh())throw Error("Noise cancellation is not supported in React Native");let{ownCapabilities:t,settings:i}=this.call.state;if(!t.includes(rF.ENABLE_NOISE_CANCELLATION))throw Error("Noise cancellation is not available.");let n=i?.audio.noise_cancellation;if(!n||n.mode===rU.DISABLED)throw Error("Noise cancellation is disabled for this call type.");try{this.noiseCancellation=e,this.noiseCancellationChangeUnsubscribe=this.noiseCancellation.on("change",e=>{e?this.call.notifyNoiseCancellationStarting().catch(e=>{this.logger("warn","notifyNoiseCancellationStart failed",e)}):this.call.notifyNoiseCancellationStopped().catch(e=>{this.logger("warn","notifyNoiseCancellationStop failed",e)})});let t=this.registerFilter(e.toFilter());this.noiseCancellationRegistration=t.registered,this.unregisterNoiseCancellation=t.unregister,await this.noiseCancellationRegistration,n.mode===rU.AUTO_ON&&this.call.state.callingState===F.JOINED&&e.enable()}catch(e){this.logger("warn","Failed to enable noise cancellation",e),await this.disableNoiseCancellation().catch(e=>{this.logger("warn","Failed to disable noise cancellation",e)})}}async disableNoiseCancellation(){if(lh())throw Error("Noise cancellation is not supported in React Native");await (this.unregisterNoiseCancellation?.()??Promise.resolve()).then(()=>this.noiseCancellation?.disable()).then(()=>this.noiseCancellationChangeUnsubscribe?.()).catch(e=>{this.logger("warn","Failed to unregister noise cancellation",e)}),await this.call.notifyNoiseCancellationStopped()}async enableSpeakingWhileMutedNotification(){this.speakingWhileMutedNotificationEnabled=!0,"disabled"===this.state.status&&await this.startSpeakingWhileMutedDetection(this.state.selectedDevice)}async disableSpeakingWhileMutedNotification(){this.speakingWhileMutedNotificationEnabled=!1,await this.stopSpeakingWhileMutedDetection()}getDevices(){return dk()}getStream(e){return dR(e)}publishStream(e){return this.call.publishAudioStream(e)}stopPublishStream(e){return this.call.stopPublish(O.AUDIO,e)}async startSpeakingWhileMutedDetection(e){await lJ(this.soundDetectorConcurrencyTag,async()=>{if(await this.stopSpeakingWhileMutedDetection(),lh()){this.rnSpeechDetector=new dF,await this.rnSpeechDetector.start();let e=this.rnSpeechDetector?.onSpeakingDetectedStateChange(e=>{this.state.setSpeakingWhileMuted(e.isSoundDetected)});this.soundDetectorCleanup=()=>{e(),this.rnSpeechDetector?.stop(),this.rnSpeechDetector=void 0}}else{let t=await this.getStream({deviceId:e});this.soundDetectorCleanup=dU(t,e=>{this.state.setSpeakingWhileMuted(e.isSoundDetected)})}})}async stopSpeakingWhileMutedDetection(){await lJ(this.soundDetectorConcurrencyTag,async()=>{if(!this.soundDetectorCleanup)return;let e=this.soundDetectorCleanup;this.soundDetectorCleanup=void 0,this.state.setSpeakingWhileMuted(!1),await e()})}}class d$ extends dD{constructor(){super(...arguments),this.audioEnabledSubject=new rd(!0),this.settingsSubject=new rd(void 0),this.audioEnabled$=this.audioEnabledSubject.asObservable().pipe(rh()),this.settings$=this.settingsSubject.asObservable(),this.getDeviceIdFromStream=e=>{let[t]=e.getTracks();return t?.getSettings().deviceId}}get audioEnabled(){return this.getCurrentValue(this.audioEnabled$)}setAudioEnabled(e){this.setCurrentValue(this.audioEnabledSubject,e)}get settings(){return this.getCurrentValue(this.settings$)}setSettings(e){this.setCurrentValue(this.settingsSubject,e)}}class dq extends dN{constructor(e){super(e,new d$,O.SCREEN_SHARE),this.subscriptions.push(l3(e.state.settings$,e=>{let t=e?.screensharing.target_resolution;t&&this.setDefaultConstraints({video:{width:t.width,height:t.height}})}))}enableScreenShareAudio(){this.state.setAudioEnabled(!0)}async disableScreenShareAudio(){this.state.setAudioEnabled(!1),this.call.publisher?.isPublishing(O.SCREEN_SHARE_AUDIO)&&await this.call.stopPublish(O.SCREEN_SHARE_AUDIO,!0)}getSettings(){return this.state.settings}setSettings(e){this.state.setSettings(e)}getDevices(){return rN([])}getStream(e){return this.state.audioEnabled||(e.audio=!1),dP(e)}publishStream(e){return this.call.publishScreenShareStream(e,{screenShareSettings:this.state.settings})}async stopPublishStream(e){await this.call.stopPublish(O.SCREEN_SHARE,e),await this.call.stopPublish(O.SCREEN_SHARE_AUDIO,e)}async select(e){throw Error("This method is not supported in for Screen Share")}}class dV{constructor(){this.selectedDeviceSubject=new rd(""),this.volumeSubject=new rd(1),this.isDeviceSelectionSupported=db(),this.getCurrentValue=l1,this.setCurrentValue=l2,this.selectedDevice$=this.selectedDeviceSubject.asObservable().pipe(rh()),this.volume$=this.volumeSubject.asObservable().pipe(rh())}get selectedDevice(){return this.getCurrentValue(this.selectedDevice$)}get volume(){return this.getCurrentValue(this.volume$)}setDevice(e){this.setCurrentValue(this.selectedDeviceSubject,e)}setVolume(e){this.setCurrentValue(this.volumeSubject,e)}}class dW{constructor(e){this.state=new dV,this.subscriptions=[],this.dispose=()=>{this.subscriptions.forEach(e=>e.unsubscribe())},this.call=e,dj&&!lh()&&this.subscriptions.push(rc([dj,this.state.selectedDevice$]).subscribe(([e,t])=>{t&&(e.find(e=>e.deviceId===t&&"audiooutput"===e.kind)||this.select(""))}))}listDevices(){if(lh())throw Error("This feature is not supported in React Native. Please visit https://getstream.io/video/docs/reactnative/core/camera-and-microphone/#speaker-management for more details");return dT()}select(e){if(lh())throw Error("This feature is not supported in React Native. Please visit https://getstream.io/video/docs/reactnative/core/camera-and-microphone/#speaker-management for more details");this.state.setDevice(e)}setVolume(e){if(lh())throw Error("This feature is not supported in React Native. Please visit https://getstream.io/video/docs/reactnative/core/camera-and-microphone/#speaker-management for more details");if(e&&(e<0||e>1))throw Error("Volume must be between 0 and 1");this.state.setVolume(e)}setParticipantVolume(e,t){if(lh())throw Error("This feature is not supported in React Native. Please visit https://getstream.io/video/docs/reactnative/core/camera-and-microphone/#speaker-management for more details");if(t&&(t<0||t>1))throw Error("Volume must be between 0 and 1, or undefined");this.call.state.updateParticipant(e,{audioVolume:t})}}class dz{constructor({type:e,id:t,streamClient:i,members:n,ownCapabilities:s,sortParticipantsBy:r,clientStore:a,ringing:o=!1,watching:l=!1}){this.state=new c_,this.dynascaleManager=new dc(this),this.permissionsContext=new dd,this.dispatcher=new lL,this.trackSubscriptionsSubject=new rd({type:U.MEDIUM,data:[]}),this.sfuClientTag=0,this.reconnectConcurrencyTag=Symbol("reconnectConcurrencyTag"),this.reconnectAttempts=0,this.reconnectStrategy=A.UNSPECIFIED,this.fastReconnectDeadlineSeconds=0,this.lastOfflineTimestamp=0,this.trackPublishOrder=[],this.hasJoinedOnce=!1,this.deviceSettingsAppliedOnce=!1,this.initialized=!1,this.joinLeaveConcurrencyTag=Symbol("joinLeaveConcurrencyTag"),this.leaveCallHooks=new Set,this.streamClientEventHandlers=new Map,this.handleOwnCapabilitiesUpdated=async e=>{if(this.permissionsContext.setPermissions(e),this.publisher){for(let[e,t]of Object.entries({[rF.SEND_AUDIO]:O.AUDIO,[rF.SEND_VIDEO]:O.VIDEO,[rF.SCREENSHARE]:O.SCREEN_SHARE}))if(!this.permissionsContext.hasPermission(e))try{switch(t){case O.AUDIO:this.microphone.enabled&&await this.microphone.disable();break;case O.VIDEO:this.camera.enabled&&await this.camera.disable();break;case O.SCREEN_SHARE:this.screenShare.enabled&&await this.screenShare.disable()}}catch(e){this.logger("error","Can't disable mic/camera/screenshare after revoked permissions",e)}}},this.on=(e,t)=>{if(lA(e))return this.dispatcher.on(e,t);let i=this.streamClient.on(e,e=>{e.call_cid&&e.call_cid===this.cid&&t(e)});return this.streamClientEventHandlers.set(t,i),()=>{this.off(e,t)}},this.off=(e,t)=>{if(lA(e))return this.dispatcher.off(e,t);let i=this.streamClientEventHandlers.get(t);i&&i()},this.leave=async({reject:e=!1,reason:t="user is leaving the call"}={})=>{await lJ(this.joinLeaveConcurrencyTag,async()=>{let i=this.state.callingState;if(i===F.LEFT)throw Error("Cannot leave call that has already been left.");if(i===F.JOINING&&await new Promise(e=>{this.state.callingState$.pipe(rf(e=>e!==F.JOINED,!0)).subscribe(()=>e())}),this.ringing){let t=this.state.remoteParticipants.length>0;this.isCreatedByMe&&!t&&i===F.RINGING?await this.reject():e&&i===F.RINGING&&await this.reject()}this.statsReporter?.stop(),this.statsReporter=void 0,this.sfuStatsReporter?.stop(),this.sfuStatsReporter=void 0,this.subscriber?.close(),this.subscriber=void 0,this.publisher?.close({stopTracks:!0}),this.publisher=void 0,await this.sfuClient?.leaveAndClose(t),this.sfuClient=void 0,this.state.setCallingState(F.LEFT),this.leaveCallHooks.forEach(e=>e()),this.initialized=!1,this.hasJoinedOnce=!1,this.clientStore.unregisterCall(this),this.camera.dispose(),this.microphone.dispose(),this.screenShare.dispose(),this.speaker.dispose();let n=[];this.camera.stopOnLeave&&n.push(this.camera.disable(!0)),this.microphone.stopOnLeave&&n.push(this.microphone.disable(!0)),this.screenShare.stopOnLeave&&n.push(this.screenShare.disable(!0)),await Promise.all(n)})},this.get=async e=>{await this.setup();let t=await this.streamClient.get(this.streamClientBasePath,e);return this.state.updateFromCallResponse(t.call),this.state.setMembers(t.members),this.state.setOwnCapabilities(t.own_capabilities),(e?.ring||this.ringing)&&this.ringingSubject.next(!0),this.streamClient._hasConnectionID()&&(this.watching=!0,this.clientStore.registerCall(this)),await this.applyDeviceConfig(!1),t},this.getOrCreate=async e=>{await this.setup();let t=await this.streamClient.post(this.streamClientBasePath,e);return this.state.updateFromCallResponse(t.call),this.state.setMembers(t.members),this.state.setOwnCapabilities(t.own_capabilities),(e?.ring||this.ringing)&&this.ringingSubject.next(!0),this.streamClient._hasConnectionID()&&(this.watching=!0,this.clientStore.registerCall(this)),await this.applyDeviceConfig(!1),t},this.create=async e=>this.getOrCreate(e),this.ring=async()=>await this.get({ring:!0}),this.notify=async()=>await this.get({notify:!0}),this.accept=async()=>this.streamClient.post(`${this.streamClientBasePath}/accept`),this.reject=async e=>this.streamClient.post(`${this.streamClientBasePath}/reject`,{reason:e}),this.join=async e=>{await this.setup();let t=this.state.callingState;if([F.JOINED,F.JOINING].includes(t))throw Error("Illegal State: call.join() shall be called only once");this.joinCallData=e,this.logger("debug","Starting join flow"),this.state.setCallingState(F.JOINING);let i=this.reconnectStrategy===A.MIGRATE,n=this.reconnectStrategy===A.REJOIN,s=this.reconnectStrategy===A.FAST,r=this.sfuStatsReporter?.options;if(!this.credentials||!r||n||i)try{let t=await this.doJoinRequest(e);this.credentials=t.credentials,r=t.stats_options}catch(e){throw this.state.setCallingState(t),e}let a=this.sfuClient,o=a?.sessionId,l=!!a?.isHealthy,c=n||i||!l?new cN({logTag:String(this.sfuClientTag++),dispatcher:this.dispatcher,credentials:this.credentials,sessionId:n?void 0:o,onSignalClose:()=>this.handleSfuSignalClose(c)}):a;this.sfuClient=c;let d=lP();if(a!==c){let t=await lI("recvonly"),i=this.reconnectStrategy!==A.UNSPECIFIED?this.getReconnectDetails(e?.migrating_from,o):void 0,{callState:n,fastReconnectDeadlineSeconds:r}=await c.join({subscriberSdp:t,clientDetails:d,fastReconnect:s,reconnectDetails:i});this.fastReconnectDeadlineSeconds=r,n&&this.state.updateFromSfuCallState(n,c.sessionId,i)}if(i||this.state.setCallingState(F.JOINED),this.hasJoinedOnce=!0,s)await this.restoreICE(c,{includeSubscriber:!1});else{let e=cD(this.credentials.ice_servers);this.initPublisherAndSubscriber({sfuClient:c,connectionConfig:e,clientDetails:d,statsOptions:r,closePreviousInstances:!i})}if(n){let e=A[this.reconnectStrategy];await a?.leaveAndClose(`Closing previous WS after reconnect with strategy: ${e}`)}else l||a?.close(cN.DISPOSE_OLD_SOCKET,"Closing unhealthy WS after reconnect");this.deviceSettingsAppliedOnce||(await this.applyDeviceConfig(!0),this.deviceSettingsAppliedOnce=!0),delete this.joinCallData?.ring,delete this.joinCallData?.notify,this.logger("info",`Joined call ${this.cid}`)},this.getReconnectDetails=(e,t)=>{let i=this.reconnectStrategy,n=i===A.REJOIN;return{strategy:i,announcedTracks:this.publisher?.getAnnouncedTracks()||[],subscriptions:l1(this.trackSubscriptionsSubject).data||[],reconnectAttempt:this.reconnectAttempts,fromSfuId:e||"",previousSessionId:n&&t||""}},this.restoreICE=async(e,t={})=>{let{includeSubscriber:i=!0,includePublisher:n=!0}=t;this.subscriber&&(this.subscriber.setSfuClient(e),i&&await this.subscriber.restartIce()),this.publisher&&(this.publisher.setSfuClient(e),n&&await this.publisher.restartIce())},this.initPublisherAndSubscriber=e=>{let{sfuClient:t,connectionConfig:i,clientDetails:n,statsOptions:s,closePreviousInstances:r}=e;if(r&&this.subscriber&&this.subscriber.close(),this.subscriber=new cP({sfuClient:t,dispatcher:this.dispatcher,state:this.state,connectionConfig:i,logTag:String(this.sfuClientTag),onUnrecoverableError:()=>{this.reconnect(A.REJOIN).catch(e=>{this.logger("warn","[Reconnect] Error reconnecting after a subscriber error",e)})}}),this.streamClient.user?.type!=="anonymous"){r&&this.publisher&&this.publisher.close({stopTracks:!1});let e=this.state.settings?.audio,n=!!e?.opus_dtx_enabled,s=!!e?.redundant_coding_enabled;this.publisher=new cO({sfuClient:t,dispatcher:this.dispatcher,state:this.state,connectionConfig:i,isDtxEnabled:n,isRedEnabled:s,logTag:String(this.sfuClientTag),onUnrecoverableError:()=>{this.reconnect(A.REJOIN).catch(e=>{this.logger("warn","[Reconnect] Error reconnecting after a publisher error",e)})}})}this.statsReporter?.stop(),this.statsReporter=c9({subscriber:this.subscriber,publisher:this.publisher,state:this.state,datacenter:t.edgeName}),this.sfuStatsReporter?.stop(),s?.reporting_interval_ms>0&&(this.sfuStatsReporter=new di(t,{clientDetails:n,options:s,subscriber:this.subscriber,publisher:this.publisher}),this.sfuStatsReporter.start())},this.doJoinRequest=async e=>{let t=await this.streamClient.getLocationHint(),i={...e,location:t},n=await this.streamClient.post(`${this.streamClientBasePath}/join`,i);return this.state.updateFromCallResponse(n.call),this.state.setMembers(n.members),this.state.setOwnCapabilities(n.own_capabilities),e?.ring&&!this.ringing&&this.ringingSubject.next(!0),this.ringing&&!this.isCreatedByMe&&await this.accept(),this.streamClient._hasConnectionID()&&(this.watching=!0,this.clientStore.registerCall(this)),n},this.handleSfuSignalClose=e=>{this.logger("debug","[Reconnect] SFU signal connection closed"),e.isLeaving||this.reconnect(A.REJOIN).catch(e=>{this.logger("warn","[Reconnect] Error reconnecting",e)})},this.reconnect=async e=>lJ(this.reconnectConcurrencyTag,async()=>{this.logger("info",`[Reconnect] Reconnecting with strategy ${A[e]}`),this.reconnectStrategy=e;do{this.reconnectStrategy!==A.FAST&&this.reconnectAttempts++;let e=A[this.reconnectStrategy];try{switch(await this.networkAvailableTask?.promise,this.reconnectStrategy){case A.UNSPECIFIED:case A.DISCONNECT:this.logger("debug",`[Reconnect] No-op strategy ${e}`);break;case A.FAST:await this.reconnectFast();break;case A.REJOIN:await this.reconnectRejoin();break;case A.MIGRATE:await this.reconnectMigrate();break;default:lz(this.reconnectStrategy,"Unknown reconnection strategy")}break}catch(t){if(t instanceof rB&&t.unrecoverable){this.logger("warn","[Reconnect] Can't reconnect due to coordinator unrecoverable error",t),this.state.setCallingState(F.RECONNECTING_FAILED);return}this.logger("warn",`[Reconnect] ${e} (${this.reconnectAttempts}) failed. Attempting with REJOIN`,t),await la(500),this.reconnectStrategy=A.REJOIN}}while(this.state.callingState!==F.JOINED&&this.state.callingState!==F.RECONNECTING_FAILED&&this.state.callingState!==F.LEFT)}),this.reconnectFast=async()=>(this.reconnectStrategy=A.FAST,this.state.setCallingState(F.RECONNECTING),this.join(this.joinCallData)),this.reconnectRejoin=async()=>{this.reconnectStrategy=A.REJOIN,this.state.setCallingState(F.RECONNECTING),await this.join(this.joinCallData),await this.restorePublishedTracks(),this.restoreSubscribedTracks()},this.reconnectMigrate=async()=>{let e=this.sfuClient;if(!e)throw Error("Cannot migrate without an active SFU client");this.reconnectStrategy=A.MIGRATE,this.state.setCallingState(F.MIGRATING);let t=this.subscriber,i=this.publisher;t?.detachEventHandlers(),i?.detachEventHandlers();let n=e.enterMigration();try{let t=e.edgeName;await this.join({...this.joinCallData,migrating_from:t})}finally{delete this.joinCallData?.migrating_from}await this.restorePublishedTracks(),this.restoreSubscribedTracks();try{await n,this.state.setCallingState(F.JOINED)}finally{t?.close(),i?.close({stopTracks:!1}),e.close()}},this.registerReconnectHandlers=()=>{let e=this.on("goAway",()=>{this.reconnect(A.MIGRATE).catch(e=>{this.logger("warn","[Reconnect] Error reconnecting",e)})}),t=this.on("error",e=>{let{reconnectStrategy:t}=e;t!==A.UNSPECIFIED&&(t===A.DISCONNECT?this.leave({reason:"SFU instructed to disconnect"}).catch(e=>{this.logger("warn","Can't leave call after disconnect request",e)}):this.reconnect(t).catch(e=>{this.logger("warn","[Reconnect] Error reconnecting",e)}))}),i=this.streamClient.on("network.changed",e=>{if(e.online)this.logger("debug","[Reconnect] Going online"),this.sfuClient?.close(cN.DISPOSE_OLD_SOCKET,"Closing WS to reconnect after going online"),this.networkAvailableTask?.resolve(),this.networkAvailableTask=void 0,this.sfuStatsReporter?.start();else{if(this.logger("debug","[Reconnect] Going offline"),!this.hasJoinedOnce)return;this.lastOfflineTimestamp=Date.now();let e=cI();e.promise.then(()=>{let e=A.FAST;this.lastOfflineTimestamp&&(Date.now()-this.lastOfflineTimestamp)/1e3>this.fastReconnectDeadlineSeconds&&(e=A.REJOIN),this.reconnect(e).catch(e=>{this.logger("warn","[Reconnect] Error reconnecting after going online",e)})}),this.networkAvailableTask=e,this.sfuStatsReporter?.stop(),this.state.setCallingState(F.OFFLINE)}});this.leaveCallHooks.add(e),this.leaveCallHooks.add(t),this.leaveCallHooks.add(i)},this.restorePublishedTracks=async()=>{for(let e of this.trackPublishOrder)switch(e){case O.AUDIO:let t=this.microphone.state.mediaStream;t&&await this.publishAudioStream(t);break;case O.VIDEO:let i=this.camera.state.mediaStream;i&&await this.publishVideoStream(i,this.camera.publishOptions);break;case O.SCREEN_SHARE:let n=this.screenShare.state.mediaStream;n&&await this.publishScreenShareStream(n,{screenShareSettings:this.screenShare.getSettings()});break;case O.SCREEN_SHARE_AUDIO:case O.UNSPECIFIED:break;default:lz(e,"Unknown track type")}},this.restoreSubscribedTracks=()=>{let{remoteParticipants:e}=this.state;e.length<=0||this.updateSubscriptions(e,U.FAST)},this.publishVideoStream=async(e,t={})=>{if(!this.sfuClient)throw Error("Call not joined yet.");if(await this.sfuClient.joinTask,!this.permissionsContext.hasPermission(rF.SEND_VIDEO))throw Error("No permission to publish video");if(!this.publisher)throw Error("Publisher is not initialized");let[i]=e.getVideoTracks();if(!i)throw Error("There is no video track in the stream");this.trackPublishOrder.includes(O.VIDEO)||this.trackPublishOrder.push(O.VIDEO),await this.publisher.publishStream(e,i,O.VIDEO,t)},this.publishAudioStream=async e=>{if(!this.sfuClient)throw Error("Call not joined yet.");if(await this.sfuClient.joinTask,!this.permissionsContext.hasPermission(rF.SEND_AUDIO))throw Error("No permission to publish audio");if(!this.publisher)throw Error("Publisher is not initialized");let[t]=e.getAudioTracks();if(!t)throw Error("There is no audio track in the stream");this.trackPublishOrder.includes(O.AUDIO)||this.trackPublishOrder.push(O.AUDIO),await this.publisher.publishStream(e,t,O.AUDIO)},this.publishScreenShareStream=async(e,t={})=>{if(!this.sfuClient)throw Error("Call not joined yet.");if(await this.sfuClient.joinTask,!this.permissionsContext.hasPermission(rF.SCREENSHARE))throw Error("No permission to publish screen share");if(!this.publisher)throw Error("Publisher is not initialized");let[i]=e.getVideoTracks();if(!i)throw Error("There is no screen share track in the stream");this.trackPublishOrder.includes(O.SCREEN_SHARE)||this.trackPublishOrder.push(O.SCREEN_SHARE),await this.publisher.publishStream(e,i,O.SCREEN_SHARE,t);let[n]=e.getAudioTracks();n&&(this.trackPublishOrder.includes(O.SCREEN_SHARE_AUDIO)||this.trackPublishOrder.push(O.SCREEN_SHARE_AUDIO),await this.publisher.publishStream(e,n,O.SCREEN_SHARE_AUDIO,t))},this.stopPublish=async(e,t=!0)=>{this.logger("info",`stopPublish ${O[e]}, stop tracks: ${t}`),await this.publisher?.unpublishStream(e,t)},this.notifyNoiseCancellationStarting=async()=>this.sfuClient?.startNoiseCancellation().catch(e=>{this.logger("warn","Failed to notify start of noise cancellation",e)}),this.notifyNoiseCancellationStopped=async()=>this.sfuClient?.stopNoiseCancellation().catch(e=>{this.logger("warn","Failed to notify stop of noise cancellation",e)}),this.updateSubscriptionsPartial=(e,t,i=U.SLOW)=>{let n=this.state.updateParticipants(Object.entries(t).reduce((t,[i,n])=>{n.dimension&&(n.dimension.height=Math.ceil(n.dimension.height),n.dimension.width=Math.ceil(n.dimension.width));let s="videoTrack"===e?"videoDimension":"screenShareTrack"===e?"screenShareDimension":void 0;return s&&(t[i]={[s]:n.dimension}),t},{}));this.updateSubscriptions(n,i)},this.updateSubscriptions=(e,t=U.SLOW)=>{let i=[];for(let t of e)!t.isLocalParticipant&&(t.videoDimension&&ce(t)&&i.push({userId:t.userId,sessionId:t.sessionId,trackType:O.VIDEO,dimension:t.videoDimension}),t.screenShareDimension&&ci(t)&&i.push({userId:t.userId,sessionId:t.sessionId,trackType:O.SCREEN_SHARE,dimension:t.screenShareDimension}),cn(t)&&i.push({userId:t.userId,sessionId:t.sessionId,trackType:O.SCREEN_SHARE_AUDIO}));this.trackSubscriptionsSubject.next({type:t,data:i})},this.startReportingStatsFor=e=>this.statsReporter?.startReportingStatsFor(e),this.stopReportingStatsFor=e=>this.statsReporter?.stopReportingStatsFor(e),this.resetReaction=e=>{this.state.updateParticipant(e,{reaction:void 0})},this.setSortParticipantsBy=e=>this.state.setSortParticipantsBy(e),this.updatePublishQuality=async e=>this.publisher?.updateVideoPublishQuality(e),this.sendReaction=async e=>this.streamClient.post(`${this.streamClientBasePath}/reaction`,e),this.blockUser=async e=>this.streamClient.post(`${this.streamClientBasePath}/block`,{user_id:e}),this.unblockUser=async e=>this.streamClient.post(`${this.streamClientBasePath}/unblock`,{user_id:e}),this.muteSelf=e=>{let t=this.currentUserId;if(t)return this.muteUser(t,e)},this.muteOthers=e=>{let t=lK(e);if(!t)return;let i=[];for(let e of this.state.remoteParticipants)e.publishedTracks.includes(t)&&i.push(e.userId);if(i.length>0)return this.muteUser(i,e)},this.muteUser=(e,t)=>this.streamClient.post(`${this.streamClientBasePath}/mute_users`,{user_ids:Array.isArray(e)?e:[e],[t]:!0}),this.muteAllUsers=e=>this.streamClient.post(`${this.streamClientBasePath}/mute_users`,{mute_all_users:!0,[e]:!0}),this.startRecording=async e=>this.streamClient.post(`${this.streamClientBasePath}/start_recording`,e||{}),this.stopRecording=async()=>this.streamClient.post(`${this.streamClientBasePath}/stop_recording`,{}),this.startTranscription=async e=>this.streamClient.post(`${this.streamClientBasePath}/start_transcription`,e),this.stopTranscription=async()=>this.streamClient.post(`${this.streamClientBasePath}/stop_transcription`),this.requestPermissions=async e=>{let{permissions:t}=e;if(!t.every(e=>this.permissionsContext.canRequest(e)))throw Error(`You are not allowed to request permissions: ${t.join(", ")}`);return this.streamClient.post(`${this.streamClientBasePath}/request_permission`,e)},this.grantPermissions=async(e,t)=>this.updateUserPermissions({user_id:e,grant_permissions:t}),this.revokePermissions=async(e,t)=>this.updateUserPermissions({user_id:e,revoke_permissions:t}),this.updateUserPermissions=async e=>this.streamClient.post(`${this.streamClientBasePath}/user_permissions`,e),this.goLive=async(e={},t)=>this.streamClient.post(`${this.streamClientBasePath}/go_live`,e,t),this.stopLive=async()=>this.streamClient.post(`${this.streamClientBasePath}/stop_live`,{}),this.startHLS=async()=>this.streamClient.post(`${this.streamClientBasePath}/start_broadcasting`,{}),this.stopHLS=async()=>this.streamClient.post(`${this.streamClientBasePath}/stop_broadcasting`,{}),this.update=async e=>{let t=await this.streamClient.patch(`${this.streamClientBasePath}`,e),{call:i,members:n,own_capabilities:s}=t;return this.state.updateFromCallResponse(i),this.state.setMembers(n),this.state.setOwnCapabilities(s),t},this.endCall=async()=>this.streamClient.post(`${this.streamClientBasePath}/mark_ended`),this.pin=e=>{this.state.updateParticipant(e,{pin:{isLocalPin:!0,pinnedAt:Date.now()}})},this.unpin=e=>{this.state.updateParticipant(e,{pin:void 0})},this.pinForEveryone=async e=>this.streamClient.post(`${this.streamClientBasePath}/pin`,e),this.unpinForEveryone=async e=>this.streamClient.post(`${this.streamClientBasePath}/unpin`,e),this.queryMembers=e=>this.streamClient.post("/call/members",{...e||{},id:this.id,type:this.type}),this.updateCallMembers=async e=>this.streamClient.post(`${this.streamClientBasePath}/members`,e),this.scheduleAutoDrop=()=>{clearTimeout(this.dropTimeout),this.leaveCallHooks.add(l3(this.state.settings$,e=>{if(!e||this.state.callingState!==F.RINGING)return;let t=e.ring.auto_cancel_timeout_ms;t<=0||(clearTimeout(this.dropTimeout),this.dropTimeout=setTimeout(()=>{this.leave({reason:"ring: timeout"}).catch(e=>{this.logger("error","Failed to drop call",e)})},t))}))},this.queryRecordings=async e=>{let t=this.streamClientBasePath;return e&&(t=`${t}/${e}`),this.streamClient.get(`${t}/recordings`)},this.queryTranscriptions=async()=>this.streamClient.get(`${this.streamClientBasePath}/transcriptions`),this.getCallStats=async e=>{let t=`${this.streamClientBasePath}/stats/${e}`;return this.streamClient.get(t)},this.submitFeedback=async(e,{reason:t,custom:i}={})=>{if(e<1||e>5)throw Error("Rating must be between 1 and 5");let n=this.state.session?.id;if(!n)throw Error("Feedback can be submitted only in the context of a call session");let{sdkName:s,sdkVersion:r,...a}=c5(lP()),o=this.sfuClient?.sessionId??"N/A",l=`${this.streamClientBasePath}/feedback/${n}`;return this.streamClient.post(l,{rating:e,reason:t,user_session_id:o,sdk:s,sdk_version:r,custom:{...i,"x-stream-platform-data":a}})},this.sendCustomEvent=async e=>this.streamClient.post(`${this.streamClientBasePath}/event`,{custom:e}),this.applyDeviceConfig=async e=>{await this.initCamera({setStatus:e}).catch(e=>{this.logger("warn","Camera init failed",e)}),await this.initMic({setStatus:e}).catch(e=>{this.logger("warn","Mic init failed",e)})},this.initCamera=async e=>{if(await this.camera.statusChangeSettled(),this.state.localParticipant?.videoStream||!this.permissionsContext.hasPermission("send-video"))return;if(!this.camera.state.direction&&!this.camera.state.selectedDevice){let e="front",t=this.state.settings?.video.camera_facing;t&&(e="front"===t?"front":"back"),this.camera.state.setDirection(e)}let t=this.state.settings?.video.target_resolution;t&&await this.camera.selectTargetResolution(t),e.setStatus&&(this.camera.enabled&&this.camera.state.mediaStream&&!this.publisher?.isPublishing(O.VIDEO)&&await this.publishVideoStream(this.camera.state.mediaStream,this.camera.publishOptions),void 0===this.camera.state.status&&this.state.settings?.video.camera_default_on&&await this.camera.enable())},this.initMic=async e=>{await this.microphone.statusChangeSettled(),!this.state.localParticipant?.audioStream&&this.permissionsContext.hasPermission("send-audio")&&e.setStatus&&(this.microphone.enabled&&this.microphone.state.mediaStream&&!this.publisher?.isPublishing(O.AUDIO)&&await this.publishAudioStream(this.microphone.state.mediaStream),void 0===this.microphone.state.status&&this.state.settings?.audio.mic_default_on&&await this.microphone.enable())},this.trackElementVisibility=(e,t,i)=>this.dynascaleManager.trackElementVisibility(e,t,i),this.setViewport=e=>this.dynascaleManager.setViewport(e),this.bindVideoElement=(e,t,i)=>{let n=this.dynascaleManager.bindVideoElement(e,t,i);if(n)return this.leaveCallHooks.add(n),()=>{this.leaveCallHooks.delete(n),n()}},this.bindAudioElement=(e,t,i="audioTrack")=>{let n=this.dynascaleManager.bindAudioElement(e,t,i);if(n)return this.leaveCallHooks.add(n),()=>{this.leaveCallHooks.delete(n),n()}},this.bindCallThumbnailElement=(e,t={})=>{let i=()=>{e.src=t.fallbackImageSource||"https://getstream.io/random_svg/?name=x&id=x"},n=l3(this.state.thumbnails$,t=>{if(!t)return;e.addEventListener("error",i);let n=new URL(t.image_url);n.searchParams.set("w",String(e.clientWidth)),n.searchParams.set("h",String(e.clientHeight)),e.src=n.toString()});return()=>{n(),e.removeEventListener("error",i)}},this.type=e,this.id=t,this.cid=`${e}:${t}`,this.ringingSubject=new rd(o),this.watching=l,this.streamClient=i,this.clientStore=a,this.streamClientBasePath=`/call/${this.type}/${this.id}`,this.logger=lx(["Call"]);let c=dh.get(e),d=r||c.options.sortParticipantsBy;d&&this.state.setSortParticipantsBy(d),this.state.setMembers(n||[]),this.state.setOwnCapabilities(s||[]),this.state.setCallingState(o?F.RINGING:F.IDLE),this.camera=new dL(this),this.microphone=new dB(this),this.speaker=new dW(this),this.screenShare=new dq(this)}async setup(){await lJ(this.joinLeaveConcurrencyTag,async()=>{if(!this.initialized){var e;this.leaveCallHooks.add(this.on("all",e=>{this.state.updateFromEvent(e)})),this.leaveCallHooks.add(c2(this,this.dispatcher)),this.registerEffects(),this.registerReconnectHandlers(),this.leaveCallHooks.add(l3(this.trackSubscriptionsSubject.pipe((e=e=>{var t,i;return void 0===(t=e.type)&&(t=0),void 0===i&&(i=rT),new sF(function(e){var n,s=(n=t)instanceof Date&&!isNaN(n)?+t-i.now():t;s<0&&(s=0);var r=0;return i.schedule(function(){e.closed||(e.next(r++),e.complete())},s)})},s8(function(t,i){var n=!1,s=null,r=null,a=function(){if(null==r||r.unsubscribe(),r=null,n){n=!1;var e=s;s=null,i.next(e)}};t.subscribe(s9(i,function(t){null==r||r.unsubscribe(),n=!0,s=t,r=s9(i,a,sk),s4(e(t)).subscribe(r)},function(){a(),i.complete()},void 0,function(){s=r=null}))})),rs(e=>e.data)),e=>this.sfuClient?.updateSubscriptions(e).catch(e=>{this.logger("debug","Failed to update track subscriptions",e)}))),this.state.callingState===F.LEFT&&this.state.setCallingState(F.IDLE),this.initialized=!0}})}registerEffects(){this.leaveCallHooks.add(l3(this.state.settings$,e=>{e&&this.permissionsContext.setCallSettings(e)})),this.leaveCallHooks.add(l4(this.state.ownCapabilities$,this.handleOwnCapabilitiesUpdated)),this.leaveCallHooks.add(l3(this.state.blockedUserIds$,async e=>{if(!e||0===e.length)return;let t=this.currentUserId;t&&e.includes(t)&&(this.logger("info","Leaving call because of being blocked"),await this.leave({reason:"user blocked"}).catch(e=>{this.logger("error","Error leaving call after being blocked",e)}))})),this.leaveCallHooks.add(l3(this.state.callingState$,e=>{this.ringing&&(e===F.JOINED||e===F.JOINING||e===F.LEFT)&&(clearTimeout(this.dropTimeout),this.dropTimeout=void 0)})),this.leaveCallHooks.add(l3(this.ringingSubject,e=>{if(!e)return;let t=this.state.session,i=this.clientStore.connectedUser?.id,n=t?.ended_at,s=this.state.createdBy?.id,r=t?.rejected_by,a=t?.accepted_by,o=!1;n?o=!0:s&&r?r[s]&&(o=!0):i&&r?r[i]&&(o=!0):i&&a&&a[i]&&(o=!0),o?this.state.callingState!==F.IDLE&&this.state.setCallingState(F.IDLE):(this.state.callingState===F.IDLE&&this.state.setCallingState(F.RINGING),this.scheduleAutoDrop(),this.leaveCallHooks.add(c3(this)))}))}get ringing(){return l1(this.ringingSubject)}get currentUserId(){return this.clientStore.connectedUser?.id}get isCreatedByMe(){return this.state.createdBy?.id===this.currentUserId}}class dH{constructor(){this.connectionStartTimestamp=null,this.wsTotalFailures=0,this.wsConsecutiveFailures=0,this.instanceClientId=lu()}}let dK=async(e,t)=>{for(let i=0;i<3;i++){try{await n0.post(`https://chat-insights.getstream.io/insights/${e}`,t)}catch(e){await la((i+1)*3e3);continue}break}};function dG(e){let{client:t}=e;return{ready_state:e.ws?.readyState,url:e._buildUrl(),api_key:t.key,start_ts:t.insightMetrics.connectionStartTimestamp,end_ts:new Date().getTime(),auth_type:t.getAuthType(),token:t.tokenManager.token,user_id:t.userID,user_details:t._user,device:"browser",client_id:e.connectionID,ws_details:e.ws,ws_consecutive_failures:t.insightMetrics.wsConsecutiveFailures,ws_total_failures:t.insightMetrics.wsTotalFailures,request_id:e.requestID,online:"undefined"!=typeof navigator?navigator?.onLine:null,user_agent:"undefined"!=typeof navigator?navigator?.userAgent:null,instance_client_id:t.insightMetrics.instanceClientId}}let dJ=e=>void 0!==e.code,dY=e=>void 0!==e.error;class dQ{constructor(e){this._log=(e,t={},i="info")=>{this.client.logger(i,"connection:"+e,{...t})},this.setClient=e=>{this.client=e},this._buildUrl=()=>{let e=new URLSearchParams;return e.set("api_key",this.client.key),e.set("stream-auth-type",this.client.getAuthType()),e.set("X-Stream-Client",this.client.getUserAgent()),`${this.client.wsBaseURL}/connect?${e.toString()}`},this.onlineStatusChanged=e=>{"offline"===e.type?(this._log("onlineStatusChanged() - Status changing to offline"),this._setHealth(!1,!0)):"online"!==e.type||(this._log(`onlineStatusChanged() - Status changing to online. isHealthy: ${this.isHealthy}`),this.isHealthy||this._reconnect({interval:10}))},this.onopen=e=>{if(this.wsID!==e)return;let t=this.client.user;if(!t){this.client.logger("error","User not set, can't connect to WS");return}let i=this.client._getToken();if(!i){this.client.logger("error","Token not set, can't connect authenticate");return}let n={token:i,user_details:{id:t.id,name:t.name,image:t.image,custom:t.custom}};this.authenticationSent=!0,this.ws?.send(JSON.stringify(n)),this._log("onopen() - onopen callback",{wsID:e})},this.onmessage=(e,t)=>{if(this.wsID!==e)return;this._log("onmessage() - onmessage callback",{event:t,wsID:e});let i="string"==typeof t.data?JSON.parse(t.data):null;if(!this.isResolved&&i&&"connection.error"===i.type&&(this.isResolved=!0,i.error)){this.rejectPromise?.(this._errorFromWSEvent(i,!1));return}if(this.lastEvent=new Date,i&&("health.check"===i.type||"connection.ok"===i.type)&&this.scheduleNextPing(),i&&"connection.ok"===i.type&&(this.resolvePromise?.(i),this._setHealth(!0)),i&&"connection.error"===i.type&&i.error){let{code:e}=i.error;this.isHealthy=!1,this.isConnecting=!1,this.consecutiveFailures+=1,e!==ll.TOKEN_EXPIRED||this.client.tokenManager.isStatic()||(clearTimeout(this.connectionCheckTimeoutRef),this._log("connect() - WS failure due to expired token, so going to try to reload token and reconnect"),this._reconnect({refreshToken:!0}))}i&&(i.received_at=new Date,this.client.dispatchEvent(i)),this.scheduleConnectionCheck()},this.onclose=(e,t)=>{if(this.wsID===e){if(this._log("onclose() - onclose callback - "+t.code,{event:t,wsID:e}),t.code===ll.WS_CLOSED_SUCCESS){let e=Error(`WS connection reject with error ${t.reason}`);e.reason=t.reason,e.code=t.code,e.wasClean=t.wasClean,e.target=t.target,this.rejectPromise?.(e),this._log(`onclose() - WS connection reject with error ${t.reason}`,{event:t})}else this.consecutiveFailures+=1,this.totalFailures+=1,this._setHealth(!1),this.isConnecting=!1,this.rejectPromise?.(this._errorFromWSEvent(t)),this._log("onclose() - WS connection closed. Calling reconnect ...",{event:t}),this._reconnect()}},this.onerror=(e,t)=>{this.wsID===e&&(this.consecutiveFailures+=1,this.totalFailures+=1,this._setHealth(!1),this.isConnecting=!1,this.rejectPromise?.(this._errorFromWSEvent(t)),this._log("onerror() - WS connection resulted into error",{event:t}),this._reconnect())},this._setHealth=(e,t=!1)=>{if(e!==this.isHealthy){if(this.isHealthy=e,this.isHealthy||t){this.client.dispatchEvent({type:"connection.changed",online:this.isHealthy});return}setTimeout(()=>{this.isHealthy||this.client.dispatchEvent({type:"connection.changed",online:this.isHealthy})},5e3)}},this._errorFromWSEvent=(e,t=!0)=>{let i,n,s;dJ(e)&&(i=e.code,n="unknown",s=e.reason),dY(e)&&(i=e.error.code,n=e.error.StatusCode,s=e.error.message),this._log(`_errorFromWSEvent() - WS failed with code ${i}`,{event:e},"warn");let r=Error(`WS failed with code ${i} and reason - ${s}`);return r.code=i,r.StatusCode=n,r.isWSFailure=t,r},this._setupConnectionPromise=()=>{this.isResolved=!1,this.connectionOpen=new Promise((e,t)=>{this.resolvePromise=e,this.rejectPromise=t})},this.scheduleNextPing=()=>{this.healthCheckTimeoutRef&&clearTimeout(this.healthCheckTimeoutRef),this.healthCheckTimeoutRef=setTimeout(()=>{let e=[{type:"health.check",client_id:this.client.clientID}];try{this.ws?.send(JSON.stringify(e))}catch(e){}},this.pingInterval)},this.scheduleConnectionCheck=()=>{this.connectionCheckTimeoutRef&&clearTimeout(this.connectionCheckTimeoutRef),this.connectionCheckTimeoutRef=setTimeout(()=>{let e=new Date;this.lastEvent&&e.getTime()-this.lastEvent.getTime()>this.connectionCheckTimeout&&(this._log("scheduleConnectionCheck - going to reconnect"),this._setHealth(!1),this._reconnect())},this.connectionCheckTimeout)},this.client=e,this.consecutiveFailures=0,this.totalFailures=0,this.isConnecting=!1,this.authenticationSent=!1,this.isDisconnected=!1,this.isResolved=!1,this.isHealthy=!1,this.wsID=1,this.lastEvent=null,this.pingInterval=25e3,this.connectionCheckTimeout=this.pingInterval+1e4,this.onlineStatusChanged}async connect(e=15e3){if(this.isConnecting)throw Error("You've called connect twice, can only attempt 1 connection at the time");this.isDisconnected=!1;try{let e=await this._connect();this.consecutiveFailures=0,this._log(`connect() - Established ws connection with healthcheck: ${e}`)}catch(e){if(this.isHealthy=!1,this.consecutiveFailures+=1,e.code!==ll.TOKEN_EXPIRED||this.client.tokenManager.isStatic()){if(!e.isWSFailure)throw Error(JSON.stringify({code:e.code,StatusCode:e.StatusCode,message:e.message,isWSFailure:e.isWSFailure}))}else this._log("connect() - WS failure due to expired token, so going to try to reload token and reconnect"),this._reconnect({refreshToken:!0})}return await this._waitForHealthy(e)}async _waitForHealthy(e=15e3){return Promise.race([(async()=>{for(let t=0;t<=e;t+=50)try{return await this.connectionOpen}catch(i){if(t===e)throw Error(JSON.stringify({code:i.code,StatusCode:i.StatusCode,message:i.message,isWSFailure:i.isWSFailure}));await la(50)}})(),(async()=>{throw await la(e),this.isConnecting=!1,Error(JSON.stringify({code:"",StatusCode:"",message:"initial WS connection could not be established",isWSFailure:!0}))})()])}disconnect(e){let t;this._log(`disconnect() - Closing the websocket connection for wsID ${this.wsID}`),this.wsID+=1,this.isConnecting=!1,this.isDisconnected=!0,this.healthCheckTimeoutRef&&clearInterval(this.healthCheckTimeoutRef),this.connectionCheckTimeoutRef&&clearInterval(this.connectionCheckTimeoutRef),this.onlineStatusChanged,this.isHealthy=!1,this.ws&&this.ws.removeAllListeners&&this.ws.removeAllListeners();let{ws:i}=this;return i&&i.close&&i.readyState===i.OPEN?(t=new Promise(t=>{let n=e=>{this._log(`disconnect() - resolving isClosedPromise ${e?"with":"without"} close frame`,{event:e}),t()};i.onclose=n,setTimeout(n,null!=e?e:1e3)}),this._log("disconnect() - Manually closed connection by calling client.disconnect()"),i.close(ll.WS_CLOSED_SUCCESS,"Manually closed connection by calling client.disconnect()")):(this._log("disconnect() - ws connection doesn't exist or it is already closed."),t=Promise.resolve()),delete this.ws,t}async _connect(){if(this.isConnecting||this.isDisconnected&&this.client.options.enableWSFallback)return;this.isConnecting=!0,this.requestID=lu(),this.client.insightMetrics.connectionStartTimestamp=new Date().getTime();let e=!1;try{this._log("_connect() - waiting for token"),await this.client.tokenManager.tokenReady(),e=!0}catch(e){}try{e||(this._log("_connect() - tokenProvider failed before, so going to retry"),await this.client.tokenManager.loadToken()),this._setupConnectionPromise();let t=this._buildUrl();this._log(`_connect() - Connecting to ${t}`,{wsURL:t,requestID:this.requestID}),this.ws=new(rL())(t),this.ws.onopen=this.onopen.bind(this,this.wsID),this.ws.onclose=this.onclose.bind(this,this.wsID),this.ws.onerror=this.onerror.bind(this,this.wsID),this.ws.onmessage=this.onmessage.bind(this,this.wsID);let i=await this.connectionOpen;if(this.isConnecting=!1,i)return this.connectionID=i.connection_id,this.client.resolveConnectionId?.(this.connectionID),this.client.insightMetrics.wsConsecutiveFailures>0&&this.client.options.enableInsights&&(dK("ws_success_after_failure",dG(this)),this.client.insightMetrics.wsConsecutiveFailures=0),i}catch(e){if(this.isConnecting=!1,this._log("_connect() - Error - ",e),this.client.options.enableInsights){this.client.insightMetrics.wsConsecutiveFailures++,this.client.insightMetrics.wsTotalFailures++;let t={...function(e){let t={};if(!e)return t;try{Object.getOwnPropertyNames(e).forEach(i=>{t[i]=Object.getOwnPropertyDescriptor(e,i)})}catch(e){return{error:"failed to serialize the error"}}return t}(e),...dG(this)};dK?.("ws_fatal",t)}throw this.client.rejectConnectionId?.(e),e}}async _reconnect(e={}){if(this._log("_reconnect() - Initiating the reconnect"),this.isConnecting||this.isHealthy){this._log("_reconnect() - Abort (1) since already connecting or healthy");return}let t=e.interval;if(t||(t=lc(this.consecutiveFailures)),await la(t),this.isConnecting||this.isHealthy){this._log("_reconnect() - Abort (2) since already connecting or healthy");return}if(this.isDisconnected&&this.client.options.enableWSFallback){this._log("_reconnect() - Abort (3) since disconnect() is called");return}this._log("_reconnect() - Destroying current WS connection"),this._destroyCurrentWSConnection(),e.refreshToken&&await this.client.tokenManager.loadToken();try{await this._connect(),this._log("_reconnect() - Waiting for recoverCallBack"),this._log("_reconnect() - Finished recoverCallBack"),this.consecutiveFailures=0}catch(e){if(this.isHealthy=!1,this.consecutiveFailures+=1,e.code===ll.TOKEN_EXPIRED&&!this.client.tokenManager.isStatic())return this._log("_reconnect() - WS failure due to expired token, so going to try to reload token and reconnect"),this._reconnect({refreshToken:!0});e.isWSFailure&&(this._log("_reconnect() - WS failure, so going to try to reconnect"),this._reconnect())}this._log("_reconnect() - == END ==")}_destroyCurrentWSConnection(){this.wsID+=1;try{this?.ws?.removeAllListeners(),this?.ws?.close()}catch(e){}}}function dX(e){return"string"==typeof e}let dZ=e=>(0,rM.JQ)(new Uint8Array(function(e,t){let i=[];if(dX(e)&&t&&dX(e)){for(let n=0,s=e.length;n<s;n++)if(e.charAt(n)){let s=t(e.charAt(n),n,e);i[n]=s}}else if(!dX(e)&&!(t&&dX(e))){for(let n=0,s=e.length;n<s;n++)if(n in e){let s=t(e[n],n,e);i[n]=s}}return i}(e,e=>e.charCodeAt(0)))),d0=e=>{let t={},i=String.fromCharCode,n=e.length,s,r=0,a,o=0,l,c="";for(s=0;s<64;s++)t["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(s)]=s;for(a=0;a<n;a++)for(r=(r<<6)+t[e.charAt(a)],o+=6;o>=8;)((l=r>>>(o-=8)&255)||a<n-2)&&(c+=i(l));return c};class d1{constructor(e){this.setTokenOrProvider=async(e,t,i)=>{this.validateToken(e,t,i),this.user=t,lo(e)&&(this.tokenProvider=e,this.type="provider"),"string"==typeof e&&(this.token=e,this.type="static"),await this.loadToken()},this.reset=()=>{this.token=void 0,this.user=void 0,this.loadTokenPromise=null},this.validateToken=(e,t,i)=>{if(!t||!i||e){if(!this.secret&&!e)throw Error("UserWithId token can not be empty");if(e&&"string"!=typeof e&&!lo(e))throw Error("user token should either be a string or a function");if("string"==typeof e){if(i&&""===e)return;let n=function(e){let t=e.split(".");return 3!==t.length?"":JSON.parse(d0(t[1])).user_id}(e);if(null!=e&&(null==n||""===n||!i&&n!==t.id))throw Error("userToken does not have a user_id or is not matching with user.id")}}},this.tokenReady=()=>this.loadTokenPromise,this.loadToken=()=>(this.loadTokenPromise=new Promise(async(e,t)=>{if("static"===this.type)return e(this.token);if(this.tokenProvider&&"string"!=typeof this.tokenProvider){try{this.token=await this.tokenProvider()}catch(e){return t(Error(`Call to tokenProvider failed with message: ${e}`))}e(this.token)}}),this.loadTokenPromise),this.getToken=()=>{if(this.token||this.user&&!this.token)return this.token;throw Error("User token is not set. Either client.connectUser wasn't called or client.disconnect was called")},this.isStatic=()=>"static"===this.type,this.loadTokenPromise=null,e&&(this.secret=e),this.type="static"}}let d2={"-1":{name:"InternalSystemError",retryable:!0},2:{name:"AccessKeyError",retryable:!1},3:{name:"AuthenticationFailedError",retryable:!0},4:{name:"InputError",retryable:!1},6:{name:"DuplicateUsernameError",retryable:!1},9:{name:"RateLimitError",retryable:!0},16:{name:"DoesNotExistError",retryable:!1},17:{name:"NotAllowedError",retryable:!1},18:{name:"EventNotSupportedError",retryable:!1},19:{name:"ChannelFeatureNotSupportedError",retryable:!1},20:{name:"MessageTooLongError",retryable:!1},21:{name:"MultipleNestingLevelError",retryable:!1},22:{name:"PayloadTooBigError",retryable:!1},23:{name:"RequestTimeoutError",retryable:!0},24:{name:"MaxHeaderSizeExceededError",retryable:!1},40:{name:"AuthErrorTokenExpired",retryable:!1},41:{name:"AuthErrorTokenNotValidYet",retryable:!1},42:{name:"AuthErrorTokenUsedBeforeIssuedAt",retryable:!1},43:{name:"AuthErrorTokenSignatureInvalid",retryable:!1},44:{name:"CustomCommandEndpointMissingError",retryable:!1},45:{name:"CustomCommandEndpointCallError",retryable:!0},46:{name:"ConnectionIDNotFoundError",retryable:!1},60:{name:"CoolDownError",retryable:!0},69:{name:"ErrWrongRegion",retryable:!1},70:{name:"ErrQueryChannelPermissions",retryable:!1},71:{name:"ErrTooManyConnections",retryable:!0},99:{name:"AppSuspendedError",retryable:!1}};function d3(e){if(!e.code)return!1;let t=d2[`${e.code}`];return!!t&&t.retryable}!function(e){e.Closed="CLOSED",e.Connected="CONNECTED",e.Connecting="CONNECTING",e.Disconnected="DISCONNECTED",e.Init="INIT"}(B||(B={}));class d4{constructor(e){this._onlineStatusChanged=e=>{if(this._log(`_onlineStatusChanged() - ${e.type}`),"offline"===e.type){this._setState(B.Closed),this.cancelToken?.cancel("disconnect() is called"),this.cancelToken=void 0;return}"online"===e.type&&this.state===B.Closed&&this.connect(!0)},this._req=async(e,t,i)=>{this.cancelToken||e.close||(this.cancelToken=n0.CancelToken.source());try{let i=await this.client.doAxiosRequest("get",this.client.baseURL.replace(":3030",":8900")+"/longpoll",void 0,{config:{...t,cancelToken:this.cancelToken?.token},params:e,publicEndpoint:!0});return this.consecutiveFailures=0,i}catch(n){if(this.consecutiveFailures+=1,i&&d3(n))return this._log("_req() - Retryable error, retrying request"),await la(lc(this.consecutiveFailures)),this._req(e,t,i);throw n}},this._poll=async()=>{for(;this.state===B.Connected;)try{let e=await this._req({},{timeout:3e4},!0);if(e.events?.length)for(let t=0;t<e.events.length;t++)this.client.dispatchEvent(e.events[t])}catch(e){if(n0.isCancel(e)){this._log("_poll() - axios canceled request");return}if(46===e.code){this._log("_poll() - ConnectionID error, connecting without ID..."),this._setState(B.Disconnected),this.connect(!0);return}if(void 0!==e.code&&!d3(e)){this._setState(B.Closed);return}await la(lc(this.consecutiveFailures))}},this.connect=async(e=!1)=>{if(this.state===B.Connecting){this._log("connect() - connecting already in progress",{reconnect:e},"warn");return}if(this.state===B.Connected){this._log("connect() - already connected and polling",{reconnect:e},"warn");return}this._setState(B.Connecting),this.connectionID=void 0;try{let{event:t}=await this._req({json:this.client._buildWSPayload()},{timeout:8e3},e);return this._setState(B.Connected),this.connectionID=t.connection_id,this.client.resolveConnectionId?.(),this.client.dispatchEvent(t),this._poll(),t}catch(e){throw this._setState(B.Closed),this.client.rejectConnectionId?.(),e}},this.isHealthy=()=>!!this.connectionID&&this.state===B.Connected,this.disconnect=async(e=2e3)=>{this._onlineStatusChanged,this._setState(B.Disconnected),this.cancelToken?.cancel("disconnect() is called"),this.cancelToken=void 0;let t=this.connectionID;this.connectionID=void 0;try{await this._req({close:!0,connection_id:t},{timeout:e},!1),this._log("disconnect() - Closed connectionID")}catch(e){this._log("disconnect() - Failed",{err:e},"error")}},this.client=e,this.state=B.Init,this.consecutiveFailures=0,this._onlineStatusChanged}_log(e,t={},i="info"){this.client.logger(i,"WSConnectionFallback:"+e,{...t})}_setState(e){this._log(`_setState() - ${e}`),this.state===B.Connecting&&e===B.Connected&&this.client.dispatchEvent({type:"connection.changed",online:!0}),(e===B.Closed||e===B.Disconnected)&&this.client.dispatchEvent({type:"connection.changed",online:!1}),this.state=e}}let d5=lx(["location"]),d6="https://hint.stream-io-video.com/",d8=async(e=d6,t=2e3)=>{let i=new AbortController,n=setTimeout(()=>i.abort(),t);try{let t=(await fetch(e,{method:"HEAD",signal:i.signal})).headers.get("x-amz-cf-pop")||"ERR";return d5("debug",`Location header: ${t}`),t.substring(0,3)}catch(t){return d5("warn",`Failed to get location hint from ${e}`,t),"ERR"}finally{clearTimeout(n)}};class d9{constructor(e,t){this.listeners={},this.devToken=e=>["eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9",dZ(JSON.stringify({user_id:e})),"devtoken"].join("."),this.getAuthType=()=>this.anonymous?"anonymous":"jwt",this.setBaseURL=e=>{this.baseURL=e,this.wsBaseURL=this.baseURL.replace("http","ws").replace(":3030",":8800")},this.getLocationHint=async(e,t)=>{let i=await this.locationHint;return i&&"ERR"!==i?i:(this.locationHint=d8(e??this.options.locationHintUrl,t??this.options.locationHintTimeout),this.locationHint)},this._getConnectionID=()=>this.wsConnection?.connectionID||this.wsFallback?.connectionID,this._hasConnectionID=()=>!!this._getConnectionID(),this.connectUser=async(e,t)=>{if(!e.id)throw Error('The "id" field on the user is missing');if(this.userID===e.id&&this.setUserPromise)return this.logger("warn","Consecutive calls to connectUser is detected, ideally you should only call this function once in your app."),this.setUserPromise;if(this.userID)throw Error("Use client.disconnect() before trying to connect as a different user. connectUser was called twice.");(this._isUsingServerAuth()||this.node)&&!this.options.allowServerSideConnect&&this.logger("warn",'Please do not use connectUser server side. connectUser impacts MAU and concurrent connection usage and thus your bill. If you have a valid use-case, add "allowServerSideConnect: true" to the client options to disable this warning.'),this.userID=e.id,this.anonymous=!1;let i=this._setToken(e,t,this.anonymous);this._setUser(e);let n=this.openConnection();this.setUserPromise=Promise.all([i,n]).then(e=>e[1]);try{return this.updateNetworkConnectionStatus,await this.setUserPromise}catch(e){throw this.persistUserOnConnectionFailure?this.closeConnection():this.disconnectUser(),e}},this._setToken=(e,t,i)=>this.tokenManager.setTokenOrProvider(t,e,i),this._setUser=e=>{this.user=e,this.userID=e.id,this._user={...e}},this.closeConnection=async e=>(null!=this.cleaningIntervalRef&&(clearInterval(this.cleaningIntervalRef),this.cleaningIntervalRef=void 0),await Promise.all([this.wsConnection?.disconnect(e),this.wsFallback?.disconnect(e)]),Promise.resolve()),this.openConnection=async()=>{if(!this.userID)throw Error("UserWithId is not set on client, use client.connectUser or client.connectAnonymousUser instead");return this.wsConnection?.isConnecting&&this.wsPromise?(this.logger("info","client:openConnection() - connection already in progress"),this.wsPromise):(this.wsConnection?.isHealthy||this.wsFallback?.isHealthy())&&this._hasConnectionID()?(this.logger("info","client:openConnection() - openConnection called twice, healthy connection already exists"),Promise.resolve()):(this.connectionIdPromise=new Promise((e,t)=>{this.resolveConnectionId=e,this.rejectConnectionId=t}),this.clientID=`${this.userID}--${lu()}`,this.wsPromise=this.connect(),this.wsPromise)},this.disconnectUser=async e=>{this.logger("info","client:disconnect() - Disconnecting the client"),delete this.user,delete this._user,delete this.userID,this.anonymous=!1,await this.closeConnection(e),this.updateNetworkConnectionStatus,this.tokenManager.reset(),this.connectionIdPromise=void 0,this.rejectConnectionId=void 0,this.resolveConnectionId=void 0},this.connectGuestUser=async e=>{this.guestUserCreatePromise=this.doAxiosRequest("post","/guest",{user:{...e}},{publicEndpoint:!0});let t=await this.guestUserCreatePromise;return this.guestUserCreatePromise.finally(()=>this.guestUserCreatePromise=void 0),this.connectUser(t.user,t.access_token)},this.connectAnonymousUser=async(e,t)=>{this.updateNetworkConnectionStatus,this.connectionIdPromise=new Promise((e,t)=>{this.resolveConnectionId=e,this.rejectConnectionId=t}),this.anonymous=!0,await this._setToken(e,t,this.anonymous),this._setUser(e),this.resolveConnectionId?.()},this.on=(e,t)=>(this.listeners[e]||(this.listeners[e]=[]),this.logger("debug",`Adding listener for ${e} event`),this.listeners[e]?.push(t),()=>{this.off(e,t)}),this.off=(e,t)=>{this.listeners[e]||(this.listeners[e]=[]),this.logger("debug",`Removing listener for ${e} event`),this.listeners[e]=this.listeners[e]?.filter(e=>e!==t)},this._logApiRequest=(e,t,i,n)=>{this.logger("trace",`client: ${e} - Request - ${t}`,{payload:i,config:n})},this._logApiResponse=(e,t,i)=>{this.logger("trace",`client:${e} - Response - url: ${t} > status ${i.status}`,{response:i})},this._logApiError=(e,t,i)=>{this.logger("error",`client:${e} - Error - url: ${t}`,{url:t,error:i})},this.doAxiosRequest=async(e,t,i,n={})=>{n.publicEndpoint||await Promise.all([this.tokenManager.tokenReady(),this.guestUserCreatePromise,this.connectionIdPromise]);let s=this._enrichAxiosOptions(n);try{let n;switch(this._logApiRequest(e,t,i,s),e){case"get":n=await this.axiosInstance.get(t,s);break;case"delete":n=await this.axiosInstance.delete(t,s);break;case"post":n=await this.axiosInstance.post(t,i,s);break;case"put":n=await this.axiosInstance.put(t,i,s);break;case"patch":n=await this.axiosInstance.patch(t,i,s);break;case"options":n=await this.axiosInstance.options(t,s);break;default:throw Error("Invalid request type")}return this._logApiResponse(e,t,n),this.consecutiveFailures=0,this.handleResponse(n)}catch(r){if(r.client_request_id=s.headers?.["x-client-request-id"],this.consecutiveFailures+=1,r.response){if(this._logApiError(e,t,r.response),r.response.data.code===ll.TOKEN_EXPIRED&&!this.tokenManager.isStatic())return this.consecutiveFailures>1&&await la(lc(this.consecutiveFailures)),await this.tokenManager.loadToken(),await this.doAxiosRequest(e,t,i,n);return this.handleResponse(r.response)}throw this._logApiError(e,t,r),r}},this.get=(e,t)=>this.doAxiosRequest("get",e,null,{params:t}),this.put=(e,t,i)=>this.doAxiosRequest("put",e,t,{params:i}),this.post=(e,t,i)=>this.doAxiosRequest("post",e,t,{params:i}),this.patch=(e,t,i)=>this.doAxiosRequest("patch",e,t,{params:i}),this.delete=(e,t)=>this.doAxiosRequest("delete",e,null,{params:t}),this.errorFromResponse=e=>{let{data:t,status:i}=e,n=new rB;return n.message=`Stream error code ${t.code}: ${t.message}`,n.code=t.code,n.unrecoverable=t.unrecoverable,n.response=e,n.status=i,n},this.handleResponse=e=>{let t=e.data;if(function(e){return!e.status||e.status<200||300<=e.status}(e))throw this.errorFromResponse(e);return t},this.dispatchEvent=e=>{if(this.logger("debug",`Dispatching event: ${e.type}`,e),this.listeners){for(let t of this.listeners.all||[])t(e);for(let t of this.listeners[e.type]||[])t(e)}},this.connect=async()=>{if(!this.userID||!this._user)throw Error("Call connectUser or connectAnonymousUser before starting the connection");if(!this.wsBaseURL)throw Error("Websocket base url not set");if(!this.clientID)throw Error("clientID is not set");!this.wsConnection&&(this.options.warmUp||this.options.enableInsights)&&this._sayHi(),this.options.wsConnection&&this.node?(this.options.wsConnection.setClient(this),this.wsConnection=this.options.wsConnection):this.wsConnection=new dQ(this);try{if(this.wsFallback)return await this.wsFallback.connect();return this.logger("info","StreamClient.connect: this.wsConnection.connect()"),await this.wsConnection.connect(this.options.enableWSFallback?this.defaultWSTimeoutWithFallback:this.defaultWSTimeout)}catch(e){if(this.options.enableWSFallback&&function(e){if("boolean"==typeof e.isWSFailure)return e.isWSFailure;try{return JSON.parse(e.message).isWSFailure}catch(e){return!1}}(e)&&function(e){let t="undefined"!=typeof navigator?navigator:void 0;return t?"boolean"!=typeof t.onLine||t.onLine:(e("warn","isOnline failed to access window.navigator and assume browser is online"),!0)}(this.logger))return this.logger("warn","client:connect() - WS failed, fallback to longpoll"),this.dispatchEvent({type:"transport.changed",mode:"longpoll"}),this.wsConnection._destroyCurrentWSConnection(),this.wsConnection.disconnect().then(),this.wsFallback=new d4(this),await this.wsFallback.connect();throw e}},this._sayHi=()=>{let e=lu(),t={headers:si.from({"x-client-request-id":e})};this.doAxiosRequest("get",this.baseURL+"/hi",null,t).catch(t=>{this.options.enableInsights&&dK("http_hi_failed",{api_key:this.key,err:t,client_request_id:e})})},this.getUserAgent=()=>this.userAgent||`stream-video-javascript-client-${this.node?"node":"browser"}-1.6.4`,this.setUserAgent=e=>{this.userAgent=e},this._isUsingServerAuth=()=>!!this.secret,this._enrichAxiosOptions=(e={params:{},headers:{},config:{}})=>{let t=e.publicEndpoint&&!this.user?void 0:this._getToken();return e.headers?.["x-client-request-id"]||(e.headers={...e.headers,"x-client-request-id":lu()}),{params:{user_id:this.userID,connection_id:this._getConnectionID(),api_key:this.key,...e.params},headers:{...t?{Authorization:t}:void 0,"stream-auth-type":e.publicEndpoint&&!this.user?"anonymous":this.getAuthType(),"X-Stream-Client":this.getUserAgent(),...e.headers},...e.config,...this.options.axiosRequestConfig}},this._getToken=()=>this.tokenManager?this.tokenManager.getToken():null,this._buildWSPayload=e=>JSON.stringify({user_id:this.userID,user_details:this._user,client_request_id:e}),this.updateNetworkConnectionStatus=e=>{"offline"===e.type?(this.logger("debug","device went offline"),this.dispatchEvent({type:"network.changed",online:!1})):"online"===e.type&&(this.logger("debug","device went online"),this.dispatchEvent({type:"network.changed",online:!0}))},this.key=e,this.secret=t?.secret;let i=t||{browser:!1};this.browser=i.browser||!1,this.node=!this.browser,this.browser&&(this.locationHint=d8(t?.locationHintUrl,t?.locationHintTimeout)),this.options={timeout:5e3,withCredentials:!1,warmUp:!1,...i},this.node&&!this.options.httpsAgent&&(this.options.httpsAgent=new(iH()).Agent({keepAlive:!0,keepAliveMsecs:3e3})),this.setBaseURL(this.options.baseURL||"https://video.stream-io-api.com/video"),"undefined"!=typeof process&&"env"in process&&process.env.STREAM_LOCAL_TEST_RUN&&this.setBaseURL("http://localhost:3030/video"),"undefined"!=typeof process&&"env"in process&&process.env.STREAM_LOCAL_TEST_HOST&&this.setBaseURL(`http://${process.env.STREAM_LOCAL_TEST_HOST}/video`),this.axiosInstance=n0.create({...this.options,baseURL:this.baseURL}),this.wsConnection=null,this.wsPromise=null,this.setUserPromise=null,this.anonymous=!1,this.persistUserOnConnectionFailure=this.options?.persistUserOnConnectionFailure,this.tokenManager=new d1(this.secret),this.consecutiveFailures=0,this.insightMetrics=new dH,this.defaultWSTimeoutWithFallback=6e3,this.defaultWSTimeout=15e3,this.logger=lo(i.logger)?i.logger:()=>null}}class d7{constructor(e,t){this.logLevel="warn",this.eventHandlersToUnregister=[],this.connectUser=async(e,t)=>{if("anonymous"===e.type)return e.id="!anon",this.connectAnonymousUser(e,t);let i=()=>this.streamClient.connectUser(e,t);"guest"===e.type&&(i=async()=>this.streamClient.connectGuestUser(e)),this.connectionPromise=this.disconnectionPromise?this.disconnectionPromise.then(()=>i()):i(),this.connectionPromise?.finally(()=>this.connectionPromise=void 0);let n=await this.connectionPromise;return n?.me&&this.writeableStateStore.setConnectedUser(n.me),this.eventHandlersToUnregister.push(this.on("connection.changed",e=>{if(e.online){let e=this.writeableStateStore.calls.filter(e=>e.watching).map(e=>e.cid);this.logger("info",`Rewatching calls after connection changed ${e.join(", ")}`),e.length>0&&this.queryCalls({watch:!0,filter_conditions:{cid:{$in:e}},sort:[{field:"cid",direction:1}]}).catch(e=>{this.logger("error","Failed to re-watch calls",e)})}})),this.eventHandlersToUnregister.push(this.on("call.created",t=>{let{call:i,members:n}=t;if(e.id===i.created_by.id){this.logger("warn","Received `call.created` sent by the current user");return}this.logger("info",`New call created and registered: ${i.cid}`);let s=new dz({streamClient:this.streamClient,type:i.type,id:i.id,members:n,clientStore:this.writeableStateStore});s.state.updateFromCallResponse(i),this.writeableStateStore.registerCall(s)})),this.eventHandlersToUnregister.push(this.on("call.ring",async t=>{let{call:i,members:n}=t;if(e.id===i.created_by.id){this.logger("debug","Received `call.ring` sent by the current user so ignoring the event");return}let s=this.writeableStateStore.findCall(i.type,i.id);await s?.leave({reason:"cleaning-up in call.ring"});let r=new dz({streamClient:this.streamClient,type:i.type,id:i.id,members:n,clientStore:this.writeableStateStore,ringing:!0});r.state.updateFromCallResponse(i),await r.get(),this.writeableStateStore.registerCall(r)})),n},this.disconnectUser=async e=>{if(!this.streamClient.user&&!this.connectionPromise)return;let t=this.streamClient.user?.id,i=this.streamClient.key,n=()=>this.streamClient.disconnectUser(e);this.disconnectionPromise=this.connectionPromise?this.connectionPromise.then(()=>n()):n(),this.disconnectionPromise.finally(()=>this.disconnectionPromise=void 0),await this.disconnectionPromise,t&&d7._instanceMap.delete(i+t),this.eventHandlersToUnregister.forEach(e=>e()),this.eventHandlersToUnregister=[],this.writeableStateStore.setConnectedUser(void 0)},this.on=(e,t)=>this.streamClient.on(e,t),this.off=(e,t)=>this.streamClient.off(e,t),this.call=(e,t)=>new dz({streamClient:this.streamClient,id:t,type:e,clientStore:this.writeableStateStore}),this.createGuestUser=async e=>this.streamClient.doAxiosRequest("post","/guest",e,{publicEndpoint:!0}),this.queryCalls=async(e={})=>{let t=await this.streamClient.post("/calls",e),i=[];for(let n of t.calls){let t=new dz({streamClient:this.streamClient,id:n.call.id,type:n.call.type,members:n.members,ownCapabilities:n.own_capabilities,watching:e.watch,clientStore:this.writeableStateStore});t.state.updateFromCallResponse(n.call),await t.applyDeviceConfig(!1),e.watch&&this.writeableStateStore.registerCall(t),i.push(t)}return{...t,calls:i}},this.queryCallStats=async(e={})=>this.streamClient.post("/call/stats",e),this.edges=async()=>this.streamClient.get("/edges"),this.addDevice=async(e,t,i,n,s)=>await this.streamClient.post("/devices",{id:e,push_provider:t,voip_token:s,...null!=n?{user_id:n}:{},...null!=i?{push_provider_name:i}:{}}),this.addVoipDevice=async(e,t,i,n)=>await this.addDevice(e,t,i,n,!0),this.getDevices=async e=>await this.streamClient.get("/devices",e?{user_id:e}:{}),this.removeDevice=async(e,t)=>await this.streamClient.delete("/devices",{id:e,...t?{user_id:t}:{}}),this.onRingingCall=async e=>{let t=this.state.calls.find(t=>t.cid===e&&t.ringing);if(!t){let[i,n]=e.split(":");t=new dz({streamClient:this.streamClient,type:i,id:n,clientStore:this.writeableStateStore,ringing:!0}),await t.get()}return t},this.connectAnonymousUser=async(e,t)=>{let i=()=>this.streamClient.connectAnonymousUser(e,t);return this.connectionPromise=this.disconnectionPromise?this.disconnectionPromise.then(()=>i()):i(),this.connectionPromise.finally(()=>this.connectionPromise=void 0),this.connectionPromise};let i=lg,n="warn";"string"==typeof e?(n=t?.logLevel||n,i=t?.logger||i):(n=e.options?.logLevel||n,i=e.options?.logger||i),lv(i,n),this.logger=lx(["client"]);let s=lx(["coordinator"]);if("string"==typeof e)this.streamClient=new d9(e,{persistUserOnConnectionFailure:!0,...t,logLevel:n,logger:s});else{this.streamClient=new d9(e.apiKey,{persistUserOnConnectionFailure:!0,...e.options,logLevel:n,logger:s});let t=lT();if(t){let e=j[t.type].toLowerCase(),i=`${t.major}.${t.minor}.${t.patch}`,n=this.streamClient.getUserAgent();this.streamClient.setUserAgent(`${n}-video-${e}-sdk-${i}`)}}if(this.writeableStateStore=new l6,this.readOnlyStateStore=new l8(this.writeableStateStore),"string"!=typeof e){let t=e.user,i=e.token||e.tokenProvider;if(t){let n=t.id;"anonymous"===t.type&&(n="!anon"),n&&(d7._instanceMap.has(e.apiKey+n)&&this.logger("warn",`A StreamVideoClient already exists for ${"anonymous"===t.type?"an anonymous user":n}; Prefer using getOrCreateInstance method`),t.id=n,d7._instanceMap.set(e.apiKey+n,this)),this.connectUser(t,i).catch(e=>{this.logger("error","Failed to connect",e)})}}}static getOrCreateInstance(e){let t=e.user;if(!t.id){if("anonymous"===e.user.type)t.id="!anon";else throw Error("User ID is required for a non-anonymous user")}if(!e.token&&!e.tokenProvider&&"anonymous"!==e.user.type&&"guest"!==e.user.type)throw Error("TokenProvider or token is required for a user that is not a guest or anonymous");let i=d7._instanceMap.get(e.apiKey+t.id);return i||(i=new d7({...e,user:t})),i}get state(){return this.readOnlyStateStore}}d7._instanceMap=new Map;var ue=i(10326),ut=i(17577);let ui={type:"logger",log(e){this.output("log",e)},warn(e){this.output("warn",e)},error(e){this.output("error",e)},output(e,t){console&&console[e]&&console[e].apply(console,t)}};class un{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.init(e,t)}init(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.prefix=t.prefix||"i18next:",this.logger=e||ui,this.options=t,this.debug=t.debug}log(){for(var e=arguments.length,t=Array(e),i=0;i<e;i++)t[i]=arguments[i];return this.forward(t,"log","",!0)}warn(){for(var e=arguments.length,t=Array(e),i=0;i<e;i++)t[i]=arguments[i];return this.forward(t,"warn","",!0)}error(){for(var e=arguments.length,t=Array(e),i=0;i<e;i++)t[i]=arguments[i];return this.forward(t,"error","")}deprecate(){for(var e=arguments.length,t=Array(e),i=0;i<e;i++)t[i]=arguments[i];return this.forward(t,"warn","WARNING DEPRECATED: ",!0)}forward(e,t,i,n){return n&&!this.debug?null:("string"==typeof e[0]&&(e[0]=`${i}${this.prefix} ${e[0]}`),this.logger[t](e))}create(e){return new un(this.logger,{prefix:`${this.prefix}:${e}:`,...this.options})}clone(e){return(e=e||this.options).prefix=e.prefix||this.prefix,new un(this.logger,e)}}var us=new un;class ur{constructor(){this.observers={}}on(e,t){return e.split(" ").forEach(e=>{this.observers[e]||(this.observers[e]=new Map);let i=this.observers[e].get(t)||0;this.observers[e].set(t,i+1)}),this}off(e,t){if(this.observers[e]){if(!t){delete this.observers[e];return}this.observers[e].delete(t)}}emit(e){for(var t=arguments.length,i=Array(t>1?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];this.observers[e]&&Array.from(this.observers[e].entries()).forEach(e=>{let[t,n]=e;for(let e=0;e<n;e++)t(...i)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(t=>{let[n,s]=t;for(let t=0;t<s;t++)n.apply(n,[e,...i])})}}let ua=()=>{let e,t;let i=new Promise((i,n)=>{e=i,t=n});return i.resolve=e,i.reject=t,i},uo=e=>null==e?"":""+e,ul=(e,t,i)=>{e.forEach(e=>{t[e]&&(i[e]=t[e])})},uc=/###/g,ud=e=>e&&e.indexOf("###")>-1?e.replace(uc,"."):e,uu=e=>!e||"string"==typeof e,up=(e,t,i)=>{let n="string"!=typeof t?t:t.split("."),s=0;for(;s<n.length-1;){if(uu(e))return{};let t=ud(n[s]);!e[t]&&i&&(e[t]=new i),e=Object.prototype.hasOwnProperty.call(e,t)?e[t]:{},++s}return uu(e)?{}:{obj:e,k:ud(n[s])}},uh=(e,t,i)=>{let{obj:n,k:s}=up(e,t,Object);if(void 0!==n||1===t.length){n[s]=i;return}let r=t[t.length-1],a=t.slice(0,t.length-1),o=up(e,a,Object);for(;void 0===o.obj&&a.length;)r=`${a[a.length-1]}.${r}`,(o=up(e,a=a.slice(0,a.length-1),Object))&&o.obj&&void 0!==o.obj[`${o.k}.${r}`]&&(o.obj=void 0);o.obj[`${o.k}.${r}`]=i},um=(e,t,i,n)=>{let{obj:s,k:r}=up(e,t,Object);s[r]=s[r]||[],s[r].push(i)},uf=(e,t)=>{let{obj:i,k:n}=up(e,t);if(i)return i[n]},ug=(e,t,i)=>{let n=uf(e,i);return void 0!==n?n:uf(t,i)},uv=(e,t,i)=>{for(let n in t)"__proto__"!==n&&"constructor"!==n&&(n in e?"string"==typeof e[n]||e[n]instanceof String||"string"==typeof t[n]||t[n]instanceof String?i&&(e[n]=t[n]):uv(e[n],t[n],i):e[n]=t[n]);return e},ub=e=>e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var uy={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};let ux=e=>"string"==typeof e?e.replace(/[&<>"'\/]/g,e=>uy[e]):e;class u_{constructor(e){this.capacity=e,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(e){let t=this.regExpMap.get(e);if(void 0!==t)return t;let i=new RegExp(e);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(e,i),this.regExpQueue.push(e),i}}let uw=[" ",",","?","!",";"],uS=new u_(20),uk=(e,t,i)=>{t=t||"",i=i||"";let n=uw.filter(e=>0>t.indexOf(e)&&0>i.indexOf(e));if(0===n.length)return!0;let s=uS.getRegExp(`(${n.map(e=>"?"===e?"\\?":e).join("|")})`),r=!s.test(e);if(!r){let t=e.indexOf(i);t>0&&!s.test(e.substring(0,t))&&(r=!0)}return r},uE=function(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:".";if(!e)return;if(e[t])return e[t];let n=t.split(i),s=e;for(let e=0;e<n.length;){let t;if(!s||"object"!=typeof s)return;let r="";for(let a=e;a<n.length;++a)if(a!==e&&(r+=i),r+=n[a],void 0!==(t=s[r])){if(["string","number","boolean"].indexOf(typeof t)>-1&&a<n.length-1)continue;e+=a-e+1;break}s=t}return s},uT=e=>e&&e.indexOf("_")>0?e.replace("_","-"):e;class uC extends ur{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{ns:["translation"],defaultNS:"translation"};super(),this.data=e||{},this.options=t,void 0===this.options.keySeparator&&(this.options.keySeparator="."),void 0===this.options.ignoreJSONStructure&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){0>this.options.ns.indexOf(e)&&this.options.ns.push(e)}removeNamespaces(e){let t=this.options.ns.indexOf(e);t>-1&&this.options.ns.splice(t,1)}getResource(e,t,i){let n,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},r=void 0!==s.keySeparator?s.keySeparator:this.options.keySeparator,a=void 0!==s.ignoreJSONStructure?s.ignoreJSONStructure:this.options.ignoreJSONStructure;e.indexOf(".")>-1?n=e.split("."):(n=[e,t],i&&(Array.isArray(i)?n.push(...i):"string"==typeof i&&r?n.push(...i.split(r)):n.push(i)));let o=uf(this.data,n);return(!o&&!t&&!i&&e.indexOf(".")>-1&&(e=n[0],t=n[1],i=n.slice(2).join(".")),o||!a||"string"!=typeof i)?o:uE(this.data&&this.data[e]&&this.data[e][t],i,r)}addResource(e,t,i,n){let s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{silent:!1},r=void 0!==s.keySeparator?s.keySeparator:this.options.keySeparator,a=[e,t];i&&(a=a.concat(r?i.split(r):i)),e.indexOf(".")>-1&&(a=e.split("."),n=t,t=a[1]),this.addNamespaces(t),uh(this.data,a,n),s.silent||this.emit("added",e,t,i,n)}addResources(e,t,i){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{silent:!1};for(let n in i)("string"==typeof i[n]||Array.isArray(i[n]))&&this.addResource(e,t,n,i[n],{silent:!0});n.silent||this.emit("added",e,t,i)}addResourceBundle(e,t,i,n,s){let r=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{silent:!1,skipCopy:!1},a=[e,t];e.indexOf(".")>-1&&(a=e.split("."),n=i,i=t,t=a[1]),this.addNamespaces(t);let o=uf(this.data,a)||{};r.skipCopy||(i=JSON.parse(JSON.stringify(i))),n?uv(o,i,s):o={...o,...i},uh(this.data,a,o),r.silent||this.emit("added",e,t,i)}removeResourceBundle(e,t){this.hasResourceBundle(e,t)&&delete this.data[e][t],this.removeNamespaces(t),this.emit("removed",e,t)}hasResourceBundle(e,t){return void 0!==this.getResource(e,t)}getResourceBundle(e,t){return(t||(t=this.options.defaultNS),"v1"===this.options.compatibilityAPI)?{...this.getResource(e,t)}:this.getResource(e,t)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){let t=this.getDataByLanguage(e);return!!(t&&Object.keys(t)||[]).find(e=>t[e]&&Object.keys(t[e]).length>0)}toJSON(){return this.data}}var uR={processors:{},addPostProcessor(e){this.processors[e.name]=e},handle(e,t,i,n,s){return e.forEach(e=>{this.processors[e]&&(t=this.processors[e].process(t,i,n,s))}),t}};let uO={};class uP extends ur{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};super(),ul(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,this),this.options=t,void 0===this.options.keySeparator&&(this.options.keySeparator="."),this.logger=us.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{interpolation:{}};if(null==e)return!1;let i=this.resolve(e,t);return i&&void 0!==i.res}extractFromKey(e,t){let i=void 0!==t.nsSeparator?t.nsSeparator:this.options.nsSeparator;void 0===i&&(i=":");let n=void 0!==t.keySeparator?t.keySeparator:this.options.keySeparator,s=t.ns||this.options.defaultNS||[],r=i&&e.indexOf(i)>-1,a=!this.options.userDefinedKeySeparator&&!t.keySeparator&&!this.options.userDefinedNsSeparator&&!t.nsSeparator&&!uk(e,i,n);if(r&&!a){let t=e.match(this.interpolator.nestingRegexp);if(t&&t.length>0)return{key:e,namespaces:s};let r=e.split(i);(i!==n||i===n&&this.options.ns.indexOf(r[0])>-1)&&(s=r.shift()),e=r.join(n)}return"string"==typeof s&&(s=[s]),{key:e,namespaces:s}}translate(e,t,i){if("object"!=typeof t&&this.options.overloadTranslationOptionHandler&&(t=this.options.overloadTranslationOptionHandler(arguments)),"object"==typeof t&&(t={...t}),t||(t={}),null==e)return"";Array.isArray(e)||(e=[String(e)]);let n=void 0!==t.returnDetails?t.returnDetails:this.options.returnDetails,s=void 0!==t.keySeparator?t.keySeparator:this.options.keySeparator,{key:r,namespaces:a}=this.extractFromKey(e[e.length-1],t),o=a[a.length-1],l=t.lng||this.language,c=t.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(l&&"cimode"===l.toLowerCase()){if(c){let e=t.nsSeparator||this.options.nsSeparator;return n?{res:`${o}${e}${r}`,usedKey:r,exactUsedKey:r,usedLng:l,usedNS:o,usedParams:this.getUsedParamsDetails(t)}:`${o}${e}${r}`}return n?{res:r,usedKey:r,exactUsedKey:r,usedLng:l,usedNS:o,usedParams:this.getUsedParamsDetails(t)}:r}let d=this.resolve(e,t),u=d&&d.res,p=d&&d.usedKey||r,h=d&&d.exactUsedKey||r,m=Object.prototype.toString.apply(u),f=void 0!==t.joinArrays?t.joinArrays:this.options.joinArrays,g=!this.i18nFormat||this.i18nFormat.handleAsObject,v="string"!=typeof u&&"boolean"!=typeof u&&"number"!=typeof u;if(g&&u&&v&&0>["[object Number]","[object Function]","[object RegExp]"].indexOf(m)&&!("string"==typeof f&&Array.isArray(u))){if(!t.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");let e=this.options.returnedObjectHandler?this.options.returnedObjectHandler(p,u,{...t,ns:a}):`key '${r} (${this.language})' returned an object instead of string.`;return n?(d.res=e,d.usedParams=this.getUsedParamsDetails(t),d):e}if(s){let e=Array.isArray(u),i=e?[]:{},n=e?h:p;for(let e in u)if(Object.prototype.hasOwnProperty.call(u,e)){let r=`${n}${s}${e}`;i[e]=this.translate(r,{...t,joinArrays:!1,ns:a}),i[e]===r&&(i[e]=u[e])}u=i}}else if(g&&"string"==typeof f&&Array.isArray(u))(u=u.join(f))&&(u=this.extendTranslation(u,e,t,i));else{let n=!1,a=!1,c=void 0!==t.count&&"string"!=typeof t.count,p=uP.hasDefaultValue(t),h=c?this.pluralResolver.getSuffix(l,t.count,t):"",m=t.ordinal&&c?this.pluralResolver.getSuffix(l,t.count,{ordinal:!1}):"",f=c&&!t.ordinal&&0===t.count&&this.pluralResolver.shouldUseIntlApi(),g=f&&t[`defaultValue${this.options.pluralSeparator}zero`]||t[`defaultValue${h}`]||t[`defaultValue${m}`]||t.defaultValue;!this.isValidLookup(u)&&p&&(n=!0,u=g),this.isValidLookup(u)||(a=!0,u=r);let v=(t.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&a?void 0:u,b=p&&g!==u&&this.options.updateMissing;if(a||n||b){if(this.logger.log(b?"updateKey":"missingKey",l,o,r,b?g:u),s){let e=this.resolve(r,{...t,keySeparator:!1});e&&e.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let e=[],i=this.languageUtils.getFallbackCodes(this.options.fallbackLng,t.lng||this.language);if("fallback"===this.options.saveMissingTo&&i&&i[0])for(let t=0;t<i.length;t++)e.push(i[t]);else"all"===this.options.saveMissingTo?e=this.languageUtils.toResolveHierarchy(t.lng||this.language):e.push(t.lng||this.language);let n=(e,i,n)=>{let s=p&&n!==u?n:v;this.options.missingKeyHandler?this.options.missingKeyHandler(e,o,i,s,b,t):this.backendConnector&&this.backendConnector.saveMissing&&this.backendConnector.saveMissing(e,o,i,s,b,t),this.emit("missingKey",e,o,i,u)};this.options.saveMissing&&(this.options.saveMissingPlurals&&c?e.forEach(e=>{let i=this.pluralResolver.getSuffixes(e,t);f&&t[`defaultValue${this.options.pluralSeparator}zero`]&&0>i.indexOf(`${this.options.pluralSeparator}zero`)&&i.push(`${this.options.pluralSeparator}zero`),i.forEach(i=>{n([e],r+i,t[`defaultValue${i}`]||g)})}):n(e,r,g))}u=this.extendTranslation(u,e,t,d,i),a&&u===r&&this.options.appendNamespaceToMissingKey&&(u=`${o}:${r}`),(a||n)&&this.options.parseMissingKeyHandler&&(u="v1"!==this.options.compatibilityAPI?this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${o}:${r}`:r,n?u:void 0):this.options.parseMissingKeyHandler(u))}return n?(d.res=u,d.usedParams=this.getUsedParamsDetails(t),d):u}extendTranslation(e,t,i,n,s){var r=this;if(this.i18nFormat&&this.i18nFormat.parse)e=this.i18nFormat.parse(e,{...this.options.interpolation.defaultVariables,...i},i.lng||this.language||n.usedLng,n.usedNS,n.usedKey,{resolved:n});else if(!i.skipInterpolation){let a;i.interpolation&&this.interpolator.init({...i,interpolation:{...this.options.interpolation,...i.interpolation}});let o="string"==typeof e&&(i&&i.interpolation&&void 0!==i.interpolation.skipOnVariables?i.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);if(o){let t=e.match(this.interpolator.nestingRegexp);a=t&&t.length}let l=i.replace&&"string"!=typeof i.replace?i.replace:i;if(this.options.interpolation.defaultVariables&&(l={...this.options.interpolation.defaultVariables,...l}),e=this.interpolator.interpolate(e,l,i.lng||this.language||n.usedLng,i),o){let t=e.match(this.interpolator.nestingRegexp);a<(t&&t.length)&&(i.nest=!1)}!i.lng&&"v1"!==this.options.compatibilityAPI&&n&&n.res&&(i.lng=this.language||n.usedLng),!1!==i.nest&&(e=this.interpolator.nest(e,function(){for(var e=arguments.length,n=Array(e),a=0;a<e;a++)n[a]=arguments[a];return s&&s[0]===n[0]&&!i.context?(r.logger.warn(`It seems you are nesting recursively key: ${n[0]} in key: ${t[0]}`),null):r.translate(...n,t)},i)),i.interpolation&&this.interpolator.reset()}let a=i.postProcess||this.options.postProcess,o="string"==typeof a?[a]:a;return null!=e&&o&&o.length&&!1!==i.applyPostProcessor&&(e=uR.handle(o,e,t,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...n,usedParams:this.getUsedParamsDetails(i)},...i}:i,this)),e}resolve(e){let t,i,n,s,r,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return"string"==typeof e&&(e=[e]),e.forEach(e=>{if(this.isValidLookup(t))return;let o=this.extractFromKey(e,a),l=o.key;i=l;let c=o.namespaces;this.options.fallbackNS&&(c=c.concat(this.options.fallbackNS));let d=void 0!==a.count&&"string"!=typeof a.count,u=d&&!a.ordinal&&0===a.count&&this.pluralResolver.shouldUseIntlApi(),p=void 0!==a.context&&("string"==typeof a.context||"number"==typeof a.context)&&""!==a.context,h=a.lngs?a.lngs:this.languageUtils.toResolveHierarchy(a.lng||this.language,a.fallbackLng);c.forEach(e=>{this.isValidLookup(t)||(r=e,!uO[`${h[0]}-${e}`]&&this.utils&&this.utils.hasLoadedNamespace&&!this.utils.hasLoadedNamespace(r)&&(uO[`${h[0]}-${e}`]=!0,this.logger.warn(`key "${i}" for languages "${h.join(", ")}" won't get resolved as namespace "${r}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),h.forEach(i=>{let r;if(this.isValidLookup(t))return;s=i;let o=[l];if(this.i18nFormat&&this.i18nFormat.addLookupKeys)this.i18nFormat.addLookupKeys(o,l,i,e,a);else{let e;d&&(e=this.pluralResolver.getSuffix(i,a.count,a));let t=`${this.options.pluralSeparator}zero`,n=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(d&&(o.push(l+e),a.ordinal&&0===e.indexOf(n)&&o.push(l+e.replace(n,this.options.pluralSeparator)),u&&o.push(l+t)),p){let i=`${l}${this.options.contextSeparator}${a.context}`;o.push(i),d&&(o.push(i+e),a.ordinal&&0===e.indexOf(n)&&o.push(i+e.replace(n,this.options.pluralSeparator)),u&&o.push(i+t))}}for(;r=o.pop();)this.isValidLookup(t)||(n=r,t=this.getResource(i,e,r,a))}))})}),{res:t,usedKey:i,exactUsedKey:n,usedLng:s,usedNS:r}}isValidLookup(e){return void 0!==e&&!(!this.options.returnNull&&null===e)&&!(!this.options.returnEmptyString&&""===e)}getResource(e,t,i){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(e,t,i,n):this.resourceStore.getResource(e,t,i,n)}getUsedParamsDetails(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.replace&&"string"!=typeof e.replace,i=t?e.replace:e;if(t&&void 0!==e.count&&(i.count=e.count),this.options.interpolation.defaultVariables&&(i={...this.options.interpolation.defaultVariables,...i}),!t)for(let e of(i={...i},["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"]))delete i[e];return i}static hasDefaultValue(e){let t="defaultValue";for(let i in e)if(Object.prototype.hasOwnProperty.call(e,i)&&t===i.substring(0,t.length)&&void 0!==e[i])return!0;return!1}}let uj=e=>e.charAt(0).toUpperCase()+e.slice(1);class uI{constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=us.create("languageUtils")}getScriptPartFromCode(e){if(!(e=uT(e))||0>e.indexOf("-"))return null;let t=e.split("-");return 2===t.length?null:(t.pop(),"x"===t[t.length-1].toLowerCase())?null:this.formatLanguageCode(t.join("-"))}getLanguagePartFromCode(e){if(!(e=uT(e))||0>e.indexOf("-"))return e;let t=e.split("-");return this.formatLanguageCode(t[0])}formatLanguageCode(e){if("string"==typeof e&&e.indexOf("-")>-1){let t=["hans","hant","latn","cyrl","cans","mong","arab"],i=e.split("-");return this.options.lowerCaseLng?i=i.map(e=>e.toLowerCase()):2===i.length?(i[0]=i[0].toLowerCase(),i[1]=i[1].toUpperCase(),t.indexOf(i[1].toLowerCase())>-1&&(i[1]=uj(i[1].toLowerCase()))):3===i.length&&(i[0]=i[0].toLowerCase(),2===i[1].length&&(i[1]=i[1].toUpperCase()),"sgn"!==i[0]&&2===i[2].length&&(i[2]=i[2].toUpperCase()),t.indexOf(i[1].toLowerCase())>-1&&(i[1]=uj(i[1].toLowerCase())),t.indexOf(i[2].toLowerCase())>-1&&(i[2]=uj(i[2].toLowerCase()))),i.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return("languageOnly"===this.options.load||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){let t;return e?(e.forEach(e=>{if(t)return;let i=this.formatLanguageCode(e);(!this.options.supportedLngs||this.isSupportedCode(i))&&(t=i)}),!t&&this.options.supportedLngs&&e.forEach(e=>{if(t)return;let i=this.getLanguagePartFromCode(e);if(this.isSupportedCode(i))return t=i;t=this.options.supportedLngs.find(e=>{if(e===i||!(0>e.indexOf("-")&&0>i.indexOf("-"))&&(e.indexOf("-")>0&&0>i.indexOf("-")&&e.substring(0,e.indexOf("-"))===i||0===e.indexOf(i)&&i.length>1))return e})}),t||(t=this.getFallbackCodes(this.options.fallbackLng)[0]),t):null}getFallbackCodes(e,t){if(!e)return[];if("function"==typeof e&&(e=e(t)),"string"==typeof e&&(e=[e]),Array.isArray(e))return e;if(!t)return e.default||[];let i=e[t];return i||(i=e[this.getScriptPartFromCode(t)]),i||(i=e[this.formatLanguageCode(t)]),i||(i=e[this.getLanguagePartFromCode(t)]),i||(i=e.default),i||[]}toResolveHierarchy(e,t){let i=this.getFallbackCodes(t||this.options.fallbackLng||[],e),n=[],s=e=>{e&&(this.isSupportedCode(e)?n.push(e):this.logger.warn(`rejecting language code not found in supportedLngs: ${e}`))};return"string"==typeof e&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?("languageOnly"!==this.options.load&&s(this.formatLanguageCode(e)),"languageOnly"!==this.options.load&&"currentOnly"!==this.options.load&&s(this.getScriptPartFromCode(e)),"currentOnly"!==this.options.load&&s(this.getLanguagePartFromCode(e))):"string"==typeof e&&s(this.formatLanguageCode(e)),i.forEach(e=>{0>n.indexOf(e)&&s(this.formatLanguageCode(e))}),n}}let uN=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kk","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],uD={1:e=>Number(e>1),2:e=>Number(1!=e),3:e=>0,4:e=>Number(e%10==1&&e%100!=11?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2),5:e=>Number(0==e?0:1==e?1:2==e?2:e%100>=3&&e%100<=10?3:e%100>=11?4:5),6:e=>Number(1==e?0:e>=2&&e<=4?1:2),7:e=>Number(1==e?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2),8:e=>Number(1==e?0:2==e?1:8!=e&&11!=e?2:3),9:e=>Number(e>=2),10:e=>Number(1==e?0:2==e?1:e<7?2:e<11?3:4),11:e=>Number(1==e||11==e?0:2==e||12==e?1:e>2&&e<20?2:3),12:e=>Number(e%10!=1||e%100==11),13:e=>Number(0!==e),14:e=>Number(1==e?0:2==e?1:3==e?2:3),15:e=>Number(e%10==1&&e%100!=11?0:e%10>=2&&(e%100<10||e%100>=20)?1:2),16:e=>Number(e%10==1&&e%100!=11?0:0!==e?1:2),17:e=>Number(1==e||e%10==1&&e%100!=11?0:1),18:e=>Number(0==e?0:1==e?1:2),19:e=>Number(1==e?0:0==e||e%100>1&&e%100<11?1:e%100>10&&e%100<20?2:3),20:e=>Number(1==e?0:0==e||e%100>0&&e%100<20?1:2),21:e=>Number(e%100==1?1:e%100==2?2:e%100==3||e%100==4?3:0),22:e=>Number(1==e?0:2==e?1:(e<0||e>10)&&e%10==0?2:3)},uA=["v1","v2","v3"],uL=["v4"],uM={zero:0,one:1,two:2,few:3,many:4,other:5},uU=()=>{let e={};return uN.forEach(t=>{t.lngs.forEach(i=>{e[i]={numbers:t.nr,plurals:uD[t.fc]}})}),e};class uF{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.languageUtils=e,this.options=t,this.logger=us.create("pluralResolver"),(!this.options.compatibilityJSON||uL.includes(this.options.compatibilityJSON))&&("undefined"==typeof Intl||!Intl.PluralRules)&&(this.options.compatibilityJSON="v3",this.logger.error("Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.")),this.rules=uU(),this.pluralRulesCache={}}addRule(e,t){this.rules[e]=t}clearCache(){this.pluralRulesCache={}}getRule(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this.shouldUseIntlApi())try{let i=uT("dev"===e?"en":e),n=t.ordinal?"ordinal":"cardinal",s=JSON.stringify({cleanedCode:i,type:n});if(s in this.pluralRulesCache)return this.pluralRulesCache[s];let r=new Intl.PluralRules(i,{type:n});return this.pluralRulesCache[s]=r,r}catch(e){return}return this.rules[e]||this.rules[this.languageUtils.getLanguagePartFromCode(e)]}needsPlural(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=this.getRule(e,t);return this.shouldUseIntlApi()?i&&i.resolvedOptions().pluralCategories.length>1:i&&i.numbers.length>1}getPluralFormsOfKey(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.getSuffixes(e,i).map(e=>`${t}${e}`)}getSuffixes(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=this.getRule(e,t);return i?this.shouldUseIntlApi()?i.resolvedOptions().pluralCategories.sort((e,t)=>uM[e]-uM[t]).map(e=>`${this.options.prepend}${t.ordinal?`ordinal${this.options.prepend}`:""}${e}`):i.numbers.map(i=>this.getSuffix(e,i,t)):[]}getSuffix(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=this.getRule(e,i);return n?this.shouldUseIntlApi()?`${this.options.prepend}${i.ordinal?`ordinal${this.options.prepend}`:""}${n.select(t)}`:this.getSuffixRetroCompatible(n,t):(this.logger.warn(`no plural rule found for: ${e}`),"")}getSuffixRetroCompatible(e,t){let i=e.noAbs?e.plurals(t):e.plurals(Math.abs(t)),n=e.numbers[i];this.options.simplifyPluralSuffix&&2===e.numbers.length&&1===e.numbers[0]&&(2===n?n="plural":1===n&&(n=""));let s=()=>this.options.prepend&&n.toString()?this.options.prepend+n.toString():n.toString();return"v1"===this.options.compatibilityJSON?1===n?"":"number"==typeof n?`_plural_${n.toString()}`:s():"v2"===this.options.compatibilityJSON||this.options.simplifyPluralSuffix&&2===e.numbers.length&&1===e.numbers[0]?s():this.options.prepend&&i.toString()?this.options.prepend+i.toString():i.toString()}shouldUseIntlApi(){return!uA.includes(this.options.compatibilityJSON)}}let uB=function(e,t,i){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:".",s=!(arguments.length>4)||void 0===arguments[4]||arguments[4],r=ug(e,t,i);return!r&&s&&"string"==typeof i&&void 0===(r=uE(e,i,n))&&(r=uE(t,i,n)),r},u$=e=>e.replace(/\$/g,"$$$$");class uq{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.logger=us.create("interpolator"),this.options=e,this.format=e.interpolation&&e.interpolation.format||(e=>e),this.init(e)}init(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.interpolation||(e.interpolation={escapeValue:!0});let{escape:t,escapeValue:i,useRawValueToEscape:n,prefix:s,prefixEscaped:r,suffix:a,suffixEscaped:o,formatSeparator:l,unescapeSuffix:c,unescapePrefix:d,nestingPrefix:u,nestingPrefixEscaped:p,nestingSuffix:h,nestingSuffixEscaped:m,nestingOptionsSeparator:f,maxReplaces:g,alwaysFormat:v}=e.interpolation;this.escape=void 0!==t?t:ux,this.escapeValue=void 0===i||i,this.useRawValueToEscape=void 0!==n&&n,this.prefix=s?ub(s):r||"{{",this.suffix=a?ub(a):o||"}}",this.formatSeparator=l||",",this.unescapePrefix=c?"":d||"-",this.unescapeSuffix=this.unescapePrefix?"":c||"",this.nestingPrefix=u?ub(u):p||ub("$t("),this.nestingSuffix=h?ub(h):m||ub(")"),this.nestingOptionsSeparator=f||",",this.maxReplaces=g||1e3,this.alwaysFormat=void 0!==v&&v,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){let e=(e,t)=>e&&e.source===t?(e.lastIndex=0,e):RegExp(t,"g");this.regexp=e(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=e(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=e(this.nestingRegexp,`${this.nestingPrefix}(.+?)${this.nestingSuffix}`)}interpolate(e,t,i,n){let s,r,a;let o=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},l=e=>{if(0>e.indexOf(this.formatSeparator)){let s=uB(t,o,e,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(s,void 0,i,{...n,...t,interpolationkey:e}):s}let s=e.split(this.formatSeparator),r=s.shift().trim(),a=s.join(this.formatSeparator).trim();return this.format(uB(t,o,r,this.options.keySeparator,this.options.ignoreJSONStructure),a,i,{...n,...t,interpolationkey:r})};this.resetRegExp();let c=n&&n.missingInterpolationHandler||this.options.missingInterpolationHandler,d=n&&n.interpolation&&void 0!==n.interpolation.skipOnVariables?n.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:e=>u$(e)},{regex:this.regexp,safeValue:e=>this.escapeValue?u$(this.escape(e)):u$(e)}].forEach(t=>{for(a=0;s=t.regex.exec(e);){let i=s[1].trim();if(void 0===(r=l(i))){if("function"==typeof c){let t=c(e,s,n);r="string"==typeof t?t:""}else if(n&&Object.prototype.hasOwnProperty.call(n,i))r="";else if(d){r=s[0];continue}else this.logger.warn(`missed to pass in variable ${i} for interpolating ${e}`),r=""}else"string"==typeof r||this.useRawValueToEscape||(r=uo(r));let o=t.safeValue(r);if(e=e.replace(s[0],o),d?(t.regex.lastIndex+=r.length,t.regex.lastIndex-=s[0].length):t.regex.lastIndex=0,++a>=this.maxReplaces)break}}),e}nest(e,t){let i,n,s,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=(e,t)=>{let i=this.nestingOptionsSeparator;if(0>e.indexOf(i))return e;let n=e.split(RegExp(`${i}[ ]*{`)),r=`{${n[1]}`;e=n[0];let a=(r=this.interpolate(r,s)).match(/'/g),o=r.match(/"/g);(a&&a.length%2==0&&!o||o.length%2!=0)&&(r=r.replace(/'/g,'"'));try{s=JSON.parse(r),t&&(s={...t,...s})}catch(t){return this.logger.warn(`failed parsing options string in nesting for key ${e}`,t),`${e}${i}${r}`}return s.defaultValue&&s.defaultValue.indexOf(this.prefix)>-1&&delete s.defaultValue,e};for(;i=this.nestingRegexp.exec(e);){let o=[];(s=(s={...r}).replace&&"string"!=typeof s.replace?s.replace:s).applyPostProcessor=!1,delete s.defaultValue;let l=!1;if(-1!==i[0].indexOf(this.formatSeparator)&&!/{.*}/.test(i[1])){let e=i[1].split(this.formatSeparator).map(e=>e.trim());i[1]=e.shift(),o=e,l=!0}if((n=t(a.call(this,i[1].trim(),s),s))&&i[0]===e&&"string"!=typeof n)return n;"string"!=typeof n&&(n=uo(n)),n||(this.logger.warn(`missed to resolve ${i[1]} for nesting ${e}`),n=""),l&&(n=o.reduce((e,t)=>this.format(e,t,r.lng,{...r,interpolationkey:i[1].trim()}),n.trim())),e=e.replace(i[0],n),this.regexp.lastIndex=0}return e}}let uV=e=>{let t=e.toLowerCase().trim(),i={};if(e.indexOf("(")>-1){let n=e.split("(");t=n[0].toLowerCase().trim();let s=n[1].substring(0,n[1].length-1);"currency"===t&&0>s.indexOf(":")?i.currency||(i.currency=s.trim()):"relativetime"===t&&0>s.indexOf(":")?i.range||(i.range=s.trim()):s.split(";").forEach(e=>{if(e){let[t,...n]=e.split(":"),s=n.join(":").trim().replace(/^'+|'+$/g,""),r=t.trim();i[r]||(i[r]=s),"false"===s&&(i[r]=!1),"true"===s&&(i[r]=!0),isNaN(s)||(i[r]=parseInt(s,10))}})}return{formatName:t,formatOptions:i}},uW=e=>{let t={};return(i,n,s)=>{let r=s;s&&s.interpolationkey&&s.formatParams&&s.formatParams[s.interpolationkey]&&s[s.interpolationkey]&&(r={...r,[s.interpolationkey]:void 0});let a=n+JSON.stringify(r),o=t[a];return o||(o=e(uT(n),s),t[a]=o),o(i)}};class uz{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.logger=us.create("formatter"),this.options=e,this.formats={number:uW((e,t)=>{let i=new Intl.NumberFormat(e,{...t});return e=>i.format(e)}),currency:uW((e,t)=>{let i=new Intl.NumberFormat(e,{...t,style:"currency"});return e=>i.format(e)}),datetime:uW((e,t)=>{let i=new Intl.DateTimeFormat(e,{...t});return e=>i.format(e)}),relativetime:uW((e,t)=>{let i=new Intl.RelativeTimeFormat(e,{...t});return e=>i.format(e,t.range||"day")}),list:uW((e,t)=>{let i=new Intl.ListFormat(e,{...t});return e=>i.format(e)})},this.init(e)}init(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{interpolation:{}},i=t.interpolation;this.formatSeparator=i.formatSeparator?i.formatSeparator:i.formatSeparator||","}add(e,t){this.formats[e.toLowerCase().trim()]=t}addCached(e,t){this.formats[e.toLowerCase().trim()]=uW(t)}format(e,t,i){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},s=t.split(this.formatSeparator);if(s.length>1&&s[0].indexOf("(")>1&&0>s[0].indexOf(")")&&s.find(e=>e.indexOf(")")>-1)){let e=s.findIndex(e=>e.indexOf(")")>-1);s[0]=[s[0],...s.splice(1,e)].join(this.formatSeparator)}return s.reduce((e,t)=>{let{formatName:s,formatOptions:r}=uV(t);if(this.formats[s]){let t=e;try{let a=n&&n.formatParams&&n.formatParams[n.interpolationkey]||{},o=a.locale||a.lng||n.locale||n.lng||i;t=this.formats[s](e,o,{...r,...n,...a})}catch(e){this.logger.warn(e)}return t}return this.logger.warn(`there was no format function for ${s}`),e},e)}}let uH=(e,t)=>{void 0!==e.pending[t]&&(delete e.pending[t],e.pendingCount--)};class uK extends ur{constructor(e,t,i){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};super(),this.backend=e,this.store=t,this.services=i,this.languageUtils=i.languageUtils,this.options=n,this.logger=us.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=n.maxParallelReads||10,this.readingCalls=0,this.maxRetries=n.maxRetries>=0?n.maxRetries:5,this.retryTimeout=n.retryTimeout>=1?n.retryTimeout:350,this.state={},this.queue=[],this.backend&&this.backend.init&&this.backend.init(i,n.backend,n)}queueLoad(e,t,i,n){let s={},r={},a={},o={};return e.forEach(e=>{let n=!0;t.forEach(t=>{let a=`${e}|${t}`;!i.reload&&this.store.hasResourceBundle(e,t)?this.state[a]=2:this.state[a]<0||(1===this.state[a]?void 0===r[a]&&(r[a]=!0):(this.state[a]=1,n=!1,void 0===r[a]&&(r[a]=!0),void 0===s[a]&&(s[a]=!0),void 0===o[t]&&(o[t]=!0)))}),n||(a[e]=!0)}),(Object.keys(s).length||Object.keys(r).length)&&this.queue.push({pending:r,pendingCount:Object.keys(r).length,loaded:{},errors:[],callback:n}),{toLoad:Object.keys(s),pending:Object.keys(r),toLoadLanguages:Object.keys(a),toLoadNamespaces:Object.keys(o)}}loaded(e,t,i){let n=e.split("|"),s=n[0],r=n[1];t&&this.emit("failedLoading",s,r,t),!t&&i&&this.store.addResourceBundle(s,r,i,void 0,void 0,{skipCopy:!0}),this.state[e]=t?-1:2,t&&i&&(this.state[e]=0);let a={};this.queue.forEach(i=>{um(i.loaded,[s],r),uH(i,e),t&&i.errors.push(t),0!==i.pendingCount||i.done||(Object.keys(i.loaded).forEach(e=>{a[e]||(a[e]={});let t=i.loaded[e];t.length&&t.forEach(t=>{void 0===a[e][t]&&(a[e][t]=!0)})}),i.done=!0,i.errors.length?i.callback(i.errors):i.callback())}),this.emit("loaded",a),this.queue=this.queue.filter(e=>!e.done)}read(e,t,i){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:this.retryTimeout,r=arguments.length>5?arguments[5]:void 0;if(!e.length)return r(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:e,ns:t,fcName:i,tried:n,wait:s,callback:r});return}this.readingCalls++;let a=(a,o)=>{if(this.readingCalls--,this.waitingReads.length>0){let e=this.waitingReads.shift();this.read(e.lng,e.ns,e.fcName,e.tried,e.wait,e.callback)}if(a&&o&&n<this.maxRetries){setTimeout(()=>{this.read.call(this,e,t,i,n+1,2*s,r)},s);return}r(a,o)},o=this.backend[i].bind(this.backend);if(2===o.length){try{let i=o(e,t);i&&"function"==typeof i.then?i.then(e=>a(null,e)).catch(a):a(null,i)}catch(e){a(e)}return}return o(e,t,a)}prepareLoading(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),n&&n();"string"==typeof e&&(e=this.languageUtils.toResolveHierarchy(e)),"string"==typeof t&&(t=[t]);let s=this.queueLoad(e,t,i,n);if(!s.toLoad.length)return s.pending.length||n(),null;s.toLoad.forEach(e=>{this.loadOne(e)})}load(e,t,i){this.prepareLoading(e,t,{},i)}reload(e,t,i){this.prepareLoading(e,t,{reload:!0},i)}loadOne(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",i=e.split("|"),n=i[0],s=i[1];this.read(n,s,"read",void 0,void 0,(i,r)=>{i&&this.logger.warn(`${t}loading namespace ${s} for language ${n} failed`,i),!i&&r&&this.logger.log(`${t}loaded namespace ${s} for language ${n}`,r),this.loaded(e,i,r)})}saveMissing(e,t,i,n,s){let r=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:()=>{};if(this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(t)){this.logger.warn(`did not save key "${i}" as the namespace "${t}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(null!=i&&""!==i){if(this.backend&&this.backend.create){let o={...r,isUpdate:s},l=this.backend.create.bind(this.backend);if(l.length<6)try{let s;(s=5===l.length?l(e,t,i,n,o):l(e,t,i,n))&&"function"==typeof s.then?s.then(e=>a(null,e)).catch(a):a(null,s)}catch(e){a(e)}else l(e,t,i,n,a,o)}e&&e[0]&&this.store.addResource(e[0],t,i,n)}}}let uG=()=>({debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:e=>{let t={};if("object"==typeof e[1]&&(t=e[1]),"string"==typeof e[1]&&(t.defaultValue=e[1]),"string"==typeof e[2]&&(t.tDescription=e[2]),"object"==typeof e[2]||"object"==typeof e[3]){let i=e[3]||e[2];Object.keys(i).forEach(e=>{t[e]=i[e]})}return t},interpolation:{escapeValue:!0,format:e=>e,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}),uJ=e=>("string"==typeof e.ns&&(e.ns=[e.ns]),"string"==typeof e.fallbackLng&&(e.fallbackLng=[e.fallbackLng]),"string"==typeof e.fallbackNS&&(e.fallbackNS=[e.fallbackNS]),e.supportedLngs&&0>e.supportedLngs.indexOf("cimode")&&(e.supportedLngs=e.supportedLngs.concat(["cimode"])),e),uY=()=>{},uQ=e=>{Object.getOwnPropertyNames(Object.getPrototypeOf(e)).forEach(t=>{"function"==typeof e[t]&&(e[t]=e[t].bind(e))})};class uX extends ur{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;if(super(),this.options=uJ(e),this.services={},this.logger=us,this.modules={external:[]},uQ(this),t&&!this.isInitialized&&!e.isClone){if(!this.options.initImmediate)return this.init(e,t),this;setTimeout(()=>{this.init(e,t)},0)}}init(){var e=this;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=arguments.length>1?arguments[1]:void 0;this.isInitializing=!0,"function"==typeof t&&(i=t,t={}),!t.defaultNS&&!1!==t.defaultNS&&t.ns&&("string"==typeof t.ns?t.defaultNS=t.ns:0>t.ns.indexOf("translation")&&(t.defaultNS=t.ns[0]));let n=uG();this.options={...n,...this.options,...uJ(t)},"v1"!==this.options.compatibilityAPI&&(this.options.interpolation={...n.interpolation,...this.options.interpolation}),void 0!==t.keySeparator&&(this.options.userDefinedKeySeparator=t.keySeparator),void 0!==t.nsSeparator&&(this.options.userDefinedNsSeparator=t.nsSeparator);let s=e=>e?"function"==typeof e?new e:e:null;if(!this.options.isClone){let t;this.modules.logger?us.init(s(this.modules.logger),this.options):us.init(null,this.options),this.modules.formatter?t=this.modules.formatter:"undefined"!=typeof Intl&&(t=uz);let i=new uI(this.options);this.store=new uC(this.options.resources,this.options);let r=this.services;r.logger=us,r.resourceStore=this.store,r.languageUtils=i,r.pluralResolver=new uF(i,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),t&&(!this.options.interpolation.format||this.options.interpolation.format===n.interpolation.format)&&(r.formatter=s(t),r.formatter.init(r,this.options),this.options.interpolation.format=r.formatter.format.bind(r.formatter)),r.interpolator=new uq(this.options),r.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},r.backendConnector=new uK(s(this.modules.backend),r.resourceStore,r,this.options),r.backendConnector.on("*",function(t){for(var i=arguments.length,n=Array(i>1?i-1:0),s=1;s<i;s++)n[s-1]=arguments[s];e.emit(t,...n)}),this.modules.languageDetector&&(r.languageDetector=s(this.modules.languageDetector),r.languageDetector.init&&r.languageDetector.init(r,this.options.detection,this.options)),this.modules.i18nFormat&&(r.i18nFormat=s(this.modules.i18nFormat),r.i18nFormat.init&&r.i18nFormat.init(this)),this.translator=new uP(this.services,this.options),this.translator.on("*",function(t){for(var i=arguments.length,n=Array(i>1?i-1:0),s=1;s<i;s++)n[s-1]=arguments[s];e.emit(t,...n)}),this.modules.external.forEach(e=>{e.init&&e.init(this)})}if(this.format=this.options.interpolation.format,i||(i=uY),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){let e=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);e.length>0&&"dev"!==e[0]&&(this.options.lng=e[0])}this.services.languageDetector||this.options.lng||this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(t=>{this[t]=function(){return e.store[t](...arguments)}}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(t=>{this[t]=function(){return e.store[t](...arguments),e}});let r=ua(),a=()=>{let e=(e,t)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),r.resolve(t),i(e,t)};if(this.languages&&"v1"!==this.options.compatibilityAPI&&!this.isInitialized)return e(null,this.t.bind(this));this.changeLanguage(this.options.lng,e)};return this.options.resources||!this.options.initImmediate?a():setTimeout(a,0),r}loadResources(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:uY,i=t,n="string"==typeof e?e:this.language;if("function"==typeof e&&(i=e),!this.options.resources||this.options.partialBundledLanguages){if(n&&"cimode"===n.toLowerCase()&&(!this.options.preload||0===this.options.preload.length))return i();let e=[],t=t=>{t&&"cimode"!==t&&this.services.languageUtils.toResolveHierarchy(t).forEach(t=>{"cimode"!==t&&0>e.indexOf(t)&&e.push(t)})};n?t(n):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(e=>t(e)),this.options.preload&&this.options.preload.forEach(e=>t(e)),this.services.backendConnector.load(e,this.options.ns,e=>{e||this.resolvedLanguage||!this.language||this.setResolvedLanguage(this.language),i(e)})}else i(null)}reloadResources(e,t,i){let n=ua();return"function"==typeof e&&(i=e,e=void 0),"function"==typeof t&&(i=t,t=void 0),e||(e=this.languages),t||(t=this.options.ns),i||(i=uY),this.services.backendConnector.reload(e,t,e=>{n.resolve(),i(e)}),n}use(e){if(!e)throw Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return"backend"===e.type&&(this.modules.backend=e),("logger"===e.type||e.log&&e.warn&&e.error)&&(this.modules.logger=e),"languageDetector"===e.type&&(this.modules.languageDetector=e),"i18nFormat"===e.type&&(this.modules.i18nFormat=e),"postProcessor"===e.type&&uR.addPostProcessor(e),"formatter"===e.type&&(this.modules.formatter=e),"3rdParty"===e.type&&this.modules.external.push(e),this}setResolvedLanguage(e){if(e&&this.languages&&!(["cimode","dev"].indexOf(e)>-1))for(let e=0;e<this.languages.length;e++){let t=this.languages[e];if(!(["cimode","dev"].indexOf(t)>-1)&&this.store.hasLanguageSomeTranslations(t)){this.resolvedLanguage=t;break}}}changeLanguage(e,t){var i=this;this.isLanguageChangingTo=e;let n=ua();this.emit("languageChanging",e);let s=e=>{this.language=e,this.languages=this.services.languageUtils.toResolveHierarchy(e),this.resolvedLanguage=void 0,this.setResolvedLanguage(e)},r=(e,r)=>{r?(s(r),this.translator.changeLanguage(r),this.isLanguageChangingTo=void 0,this.emit("languageChanged",r),this.logger.log("languageChanged",r)):this.isLanguageChangingTo=void 0,n.resolve(function(){return i.t(...arguments)}),t&&t(e,function(){return i.t(...arguments)})},a=t=>{e||t||!this.services.languageDetector||(t=[]);let i="string"==typeof t?t:this.services.languageUtils.getBestMatchFromCodes(t);i&&(this.language||s(i),this.translator.language||this.translator.changeLanguage(i),this.services.languageDetector&&this.services.languageDetector.cacheUserLanguage&&this.services.languageDetector.cacheUserLanguage(i)),this.loadResources(i,e=>{r(e,i)})};return e||!this.services.languageDetector||this.services.languageDetector.async?!e&&this.services.languageDetector&&this.services.languageDetector.async?0===this.services.languageDetector.detect.length?this.services.languageDetector.detect().then(a):this.services.languageDetector.detect(a):a(e):a(this.services.languageDetector.detect()),n}getFixedT(e,t,i){var n=this;let s=function(e,t){let r,a;if("object"!=typeof t){for(var o=arguments.length,l=Array(o>2?o-2:0),c=2;c<o;c++)l[c-2]=arguments[c];r=n.options.overloadTranslationOptionHandler([e,t].concat(l))}else r={...t};r.lng=r.lng||s.lng,r.lngs=r.lngs||s.lngs,r.ns=r.ns||s.ns,""!==r.keyPrefix&&(r.keyPrefix=r.keyPrefix||i||s.keyPrefix);let d=n.options.keySeparator||".";return a=r.keyPrefix&&Array.isArray(e)?e.map(e=>`${r.keyPrefix}${d}${e}`):r.keyPrefix?`${r.keyPrefix}${d}${e}`:e,n.t(a,r)};return"string"==typeof e?s.lng=e:s.lngs=e,s.ns=t,s.keyPrefix=i,s}t(){return this.translator&&this.translator.translate(...arguments)}exists(){return this.translator&&this.translator.exists(...arguments)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;let i=t.lng||this.resolvedLanguage||this.languages[0],n=!!this.options&&this.options.fallbackLng,s=this.languages[this.languages.length-1];if("cimode"===i.toLowerCase())return!0;let r=(e,t)=>{let i=this.services.backendConnector.state[`${e}|${t}`];return -1===i||0===i||2===i};if(t.precheck){let e=t.precheck(this,r);if(void 0!==e)return e}return!!(this.hasResourceBundle(i,e)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||r(i,e)&&(!n||r(s,e)))}loadNamespaces(e,t){let i=ua();return this.options.ns?("string"==typeof e&&(e=[e]),e.forEach(e=>{0>this.options.ns.indexOf(e)&&this.options.ns.push(e)}),this.loadResources(e=>{i.resolve(),t&&t(e)}),i):(t&&t(),Promise.resolve())}loadLanguages(e,t){let i=ua();"string"==typeof e&&(e=[e]);let n=this.options.preload||[],s=e.filter(e=>0>n.indexOf(e)&&this.services.languageUtils.isSupportedCode(e));return s.length?(this.options.preload=n.concat(s),this.loadResources(e=>{i.resolve(),t&&t(e)}),i):(t&&t(),Promise.resolve())}dir(e){return(e||(e=this.resolvedLanguage||(this.languages&&this.languages.length>0?this.languages[0]:this.language)),e)?["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"].indexOf((this.services&&this.services.languageUtils||new uI(uG())).getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr":"rtl"}static createInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return new uX(e,t)}cloneInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:uY,i=e.forkResourceStore;i&&delete e.forkResourceStore;let n={...this.options,...e,isClone:!0},s=new uX(n);return(void 0!==e.debug||void 0!==e.prefix)&&(s.logger=s.logger.clone(e)),["store","services","language"].forEach(e=>{s[e]=this[e]}),s.services={...this.services},s.services.utils={hasLoadedNamespace:s.hasLoadedNamespace.bind(s)},i&&(s.store=new uC(this.store.data,n),s.services.resourceStore=s.store),s.translator=new uP(s.services,n),s.translator.on("*",function(e){for(var t=arguments.length,i=Array(t>1?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];s.emit(e,...i)}),s.init(n,t),s.translator.options=n,s.translator.backendConnector.services.utils={hasLoadedNamespace:s.hasLoadedNamespace.bind(s)},s}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}let uZ=uX.createInstance();uZ.createInstance=uX.createInstance,uZ.createInstance,uZ.dir,uZ.init,uZ.loadResources,uZ.reloadResources,uZ.use,uZ.changeLanguage,uZ.getFixedT,uZ.t,uZ.exists,uZ.setDefaultNamespace,uZ.hasLoadedNamespace,uZ.loadNamespaces,uZ.loadLanguages;let u0=(0,ut.createContext)(void 0),u1=()=>(0,ut.useContext)(u0),u2="stream-video",u3={debug:!1,currentLanguage:"en",fallbackLanguage:!1},u4=Object.entries({}).reduce((e,[t,i])=>(e[t]={[u2]:i},e),{}),u5=e=>e;class u6{constructor(e={}){this.t=u5,this.init=async()=>{try{this.t=await this.i18nInstance.init()}catch(e){console.error(`Failed to initialize translations: ${JSON.stringify(e)}`)}return this},this.changeLanguage=async(e,t)=>{if(!this._checkIsInitialized())return;let i="undefined"!=typeof window&&window.navigator?window.navigator.language:void 0;await this.i18nInstance.changeLanguage(e||i),t?.(this.currentLanguage)},this.registerTranslationsForLanguage=({lng:e,translations:t})=>{this._checkIsInitialized()&&this.i18nInstance.addResourceBundle(e,u2,t,!0,!0)},this._checkIsInitialized=()=>(this.i18nInstance.isInitialized||console.warn("I18n instance is not initialized. Call yourStreamI18nInstance.init()."),this.i18nInstance.isInitialized);let{debug:t=u3.debug,currentLanguage:i=u3.currentLanguage,fallbackLanguage:n=u3.fallbackLanguage,translationsOverrides:s}=e;this.i18nInstance=uZ.createInstance({debug:t,defaultNS:u2,fallbackLng:n,interpolation:{escapeValue:!1},keySeparator:!1,lng:i,nsSeparator:!1,parseMissingKeyHandler:e=>e,resources:u4}),s&&this.i18nInstance.on("initialized",()=>{Object.entries(s).forEach(([e,t])=>{this.registerTranslationsForLanguage({lng:e,translations:t})})})}get currentLanguage(){return this._checkIsInitialized(),this.i18nInstance.language}get isInitialized(){return this.i18nInstance.isInitialized}}let u8=(0,ut.createContext)({t:u5}),u9=({children:e,...t})=>{let{i18n:i,t:n}=u7(t);return(0,ue.jsx)(u8.Provider,{value:{t:n,i18n:i},children:e})},u7=({i18nInstance:e,language:t,fallbackLanguage:i,translationsOverrides:n})=>{let[s]=(0,ut.useState)(()=>e||new u6({currentLanguage:t,fallbackLanguage:i,translationsOverrides:n})),[r,a]=(0,ut.useState)(()=>u5);return(0,ut.useEffect)(()=>{let{isInitialized:e}=s;if(!e){s.init().then(e=>a(()=>e.i18nInstance.t));return}t&&s?.currentLanguage!==t&&s.changeLanguage(t).catch(e=>{console.log("Error while changing language",e)})},[s,e,t,n]),{i18n:s,t:r}},pe=()=>(0,ut.useContext)(u8),pt=(0,ut.createContext)(void 0),pi=({children:e,client:t,i18nInstance:i,language:n,translationsOverrides:s})=>(0,ue.jsx)(pt.Provider,{value:t,children:(0,ue.jsx)(u9,{i18nInstance:i,language:n,translationsOverrides:s,children:e})}),pn=()=>(0,ut.useContext)(pt),ps=(e,t)=>{let[i,n]=(0,ut.useState)(()=>{try{return l5.getCurrentValue(e)}catch(e){if(void 0===t)throw e;return t}});return(0,ut.useEffect)(()=>{let i=e.subscribe({next:n,error:e=>{console.log("An error occurred while reading an observable",e),t&&n(t)}});return()=>{i.unsubscribe()}},[t,e]),i},pr=()=>"undefined"!=typeof navigator&&navigator.product?.toLowerCase()==="reactnative",pa=Object.freeze([]),po=()=>{let e=u1();return e?e.state:(console.warn('You are using useCallState() outside a Call context. Please wrap your component in <StreamCall /> and provide a "call" instance.'),new c_)},pl=()=>{let{ownCapabilities$:e}=po();return ps(e)};var pc=Object.freeze({__proto__:null,useAnonymousParticipantCount:()=>{let{anonymousParticipantCount$:e}=po();return ps(e)},useCallBlockedUserIds:()=>{let{blockedUserIds$:e}=po();return ps(e)},useCallCallingState:()=>{let{callingState$:e}=po();return ps(e)},useCallCreatedAt:()=>{let{createdAt$:e}=po();return ps(e)},useCallCreatedBy:()=>{let{createdBy$:e}=po();return ps(e)},useCallCustomData:()=>{let{custom$:e}=po();return ps(e)},useCallEgress:()=>{let{egress$:e}=po();return ps(e)},useCallEndedAt:()=>{let{endedAt$:e}=po();return ps(e)},useCallEndedBy:()=>{let{endedBy$:e}=po();return ps(e)},useCallIngress:()=>{let{ingress$:e}=po();return ps(e)},useCallMembers:()=>{let{members$:e}=po();return ps(e)},useCallSession:()=>{let{session$:e}=po();return ps(e)},useCallSettings:()=>{let{settings$:e}=po();return ps(e)},useCallStartedAt:()=>{let{startedAt$:e}=po();return ps(e)},useCallStartsAt:()=>{let{startsAt$:e}=po();return ps(e)},useCallState:po,useCallStatsReport:()=>{let{callStatsReport$:e}=po();return ps(e)},useCallThumbnail:()=>{let{thumbnails$:e}=po();return ps(e)},useCallUpdatedAt:()=>{let{updatedAt$:e}=po();return ps(e)},useCameraState:()=>{let{camera:e}=u1(),t=(0,ut.useMemo)(()=>e.listDevices(),[e]),{state:i}=e,n=ps(i.status$),s=ps(i.optimisticStatus$),r=ps(i.direction$),a=ps(i.mediaStream$),o=ps(i.selectedDevice$);return{camera:e,status:n,optimisticStatus:s,isEnabled:"enabled"===n,direction:r,mediaStream:a,devices:ps(t,pa),hasBrowserPermission:ps(i.hasBrowserPermission$),selectedDevice:o,isMute:"enabled"!==n,optimisticIsMute:"enabled"!==s}},useDominantSpeaker:()=>{let{dominantSpeaker$:e}=po();return ps(e)},useHasOngoingScreenShare:()=>{let{hasOngoingScreenShare$:e}=po();return ps(e)},useHasPermissions:(...e)=>{let t=pl();return e.every(e=>t?.includes(e))},useIsCallHLSBroadcastingInProgress:()=>{let{egress$:e}=po(),t=ps(e);return!!t&&t.broadcasting},useIsCallLive:()=>{let{backstage$:e}=po();return!ps(e)},useIsCallRecordingInProgress:()=>{let{recording$:e}=po();return ps(e)},useIsCallTranscribingInProgress:()=>{let{transcribing$:e}=po();return ps(e)},useLocalParticipant:()=>{let{localParticipant$:e}=po();return ps(e)},useMicrophoneState:()=>{let{microphone:e}=u1(),t=(0,ut.useMemo)(()=>e.listDevices(),[e]),{state:i}=e,n=ps(i.status$),s=ps(i.optimisticStatus$),r=ps(i.mediaStream$),a=ps(i.selectedDevice$),o=ps(t,pa);return{microphone:e,status:n,optimisticStatus:s,isEnabled:"enabled"===n,mediaStream:r,devices:o,selectedDevice:a,hasBrowserPermission:ps(i.hasBrowserPermission$),isSpeakingWhileMuted:ps(i.speakingWhileMuted$),isMute:"enabled"!==n,optimisticIsMute:"enabled"!==s}},useOwnCapabilities:pl,useParticipantCount:()=>{let{participantCount$:e}=po();return ps(e)},useParticipants:({sortBy:e}={})=>{let{participants$:t}=po(),i=ps(t);return(0,ut.useMemo)(()=>e?[...i].sort(e):i,[i,e])},useRemoteParticipants:()=>{let{remoteParticipants$:e}=po();return ps(e)},useScreenShareState:()=>{let{screenShare:e}=u1(),t=ps(e.state.status$),i=ps(e.state.optimisticStatus$),n=ps(e.state.mediaStream$),s=i??t;return{screenShare:e,mediaStream:n,status:t,optimisticStatus:s,isMute:"enabled"!==t,optimisticIsMute:"enabled"!==s}},useSpeakerState:()=>{if(pr())throw Error("This feature is not supported in React Native. Please visit https://getstream.io/video/docs/reactnative/core/camera-and-microphone/#speaker-management for more details");let{speaker:e}=u1(),t=ps((0,ut.useMemo)(()=>e.listDevices(),[e]),pa),i=ps(e.state.selectedDevice$);return{speaker:e,devices:t,selectedDevice:i,isDeviceSelectionSupported:e.state.isDeviceSelectionSupported}}});let pd=()=>{let e=pn();if(!e)throw Error("StreamVideoClient isn't initialized or this hook is called outside of <StreamVideo> context.");return e.state},pu=()=>{let{connectedUser$:e}=pd();return ps(e)},pp=()=>pc,ph=({canRequestOnly:e,hasPermissionsOnly:t,requiredGrants:i,requireAll:n=!0,children:s})=>{let r=u1(),{useCallSettings:a,useOwnCapabilities:o}=pp(),l=o(),c=a(),d=i[n?"every":"some"](e=>l?.includes(e));if(t)return d?(0,ue.jsx)(ue.Fragment,{children:s}):null;let u=i.some(e=>r?.permissionsContext.canRequest(e,c));return e?u?(0,ue.jsx)(ue.Fragment,{children:s}):null:d||u?(0,ue.jsx)(ue.Fragment,{children:s}):null};var pm=i(41135);i(60962),String.raw;!function(e){e.LOW="low",e.HIGH="high"}($||($={}));var pf=i(23964),pg=i(77192),pv=i(77777);function pb(e){return e+.5|0}let py=(e,t,i)=>Math.max(Math.min(e,i),t);function px(e){return py(pb(2.55*e),0,255)}function p_(e){return py(pb(255*e),0,255)}function pw(e){return py(pb(e/2.55)/100,0,1)}function pS(e){return py(pb(100*e),0,100)}let pk={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},pE=[..."0123456789ABCDEF"],pT=e=>pE[15&e],pC=e=>pE[(240&e)>>4]+pE[15&e],pR=e=>(240&e)>>4==(15&e),pO=e=>pR(e.r)&&pR(e.g)&&pR(e.b)&&pR(e.a),pP=(e,t)=>e<255?t(e):"",pj=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function pI(e,t,i){let n=t*Math.min(i,1-i),s=(t,s=(t+e/30)%12)=>i-n*Math.max(Math.min(s-3,9-s,1),-1);return[s(0),s(8),s(4)]}function pN(e,t,i){let n=(n,s=(n+e/60)%6)=>i-i*t*Math.max(Math.min(s,4-s,1),0);return[n(5),n(3),n(1)]}function pD(e,t,i){let n;let s=pI(e,1,.5);for(t+i>1&&(n=1/(t+i),t*=n,i*=n),n=0;n<3;n++)s[n]*=1-t-i,s[n]+=t;return s}function pA(e){let t,i,n;let s=e.r/255,r=e.g/255,a=e.b/255,o=Math.max(s,r,a),l=Math.min(s,r,a),c=(o+l)/2;return o!==l&&(n=o-l,i=c>.5?n/(2-o-l):n/(o+l),t=60*(t=s===o?(r-a)/n+(r<a?6:0):r===o?(a-s)/n+2:(s-r)/n+4)+.5),[0|t,i||0,c]}function pL(e,t,i,n){return(Array.isArray(t)?e(t[0],t[1],t[2]):e(t,i,n)).map(p_)}function pM(e){return(e%360+360)%360}let pU={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},pF={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"},pB=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/,p$=e=>e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055,pq=e=>e<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4);function pV(e,t,i){if(e){let n=pA(e);n[t]=Math.max(0,Math.min(n[t]+n[t]*i,0===t?360:1)),n=pL(pI,n,void 0,void 0),e.r=n[0],e.g=n[1],e.b=n[2]}}function pW(e,t){return e?Object.assign(t||{},e):e}function pz(e){var t={r:0,g:0,b:0,a:255};return Array.isArray(e)?e.length>=3&&(t={r:e[0],g:e[1],b:e[2],a:255},e.length>3&&(t.a=p_(e[3]))):(t=pW(e,{r:0,g:0,b:0,a:1})).a=p_(t.a),t}class pH{constructor(e){let t;if(e instanceof pH)return e;let i=typeof e;"object"===i?t=pz(e):"string"===i&&(t=function(e){var t,i=e.length;return"#"===e[0]&&(4===i||5===i?t={r:255&17*pk[e[1]],g:255&17*pk[e[2]],b:255&17*pk[e[3]],a:5===i?17*pk[e[4]]:255}:(7===i||9===i)&&(t={r:pk[e[1]]<<4|pk[e[2]],g:pk[e[3]]<<4|pk[e[4]],b:pk[e[5]]<<4|pk[e[6]],a:9===i?pk[e[7]]<<4|pk[e[8]]:255})),t}(e)||function(e){l||((l=function(){let e,t,i,n,s;let r={},a=Object.keys(pF),o=Object.keys(pU);for(e=0;e<a.length;e++){for(t=0,n=s=a[e];t<o.length;t++)i=o[t],s=s.replace(i,pU[i]);i=parseInt(pF[n],16),r[s]=[i>>16&255,i>>8&255,255&i]}return r}()).transparent=[0,0,0,0]);let t=l[e.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:4===t.length?t[3]:255}}(e)||function(e){return"r"===e.charAt(0)?function(e){let t,i,n;let s=pB.exec(e),r=255;if(s){if(s[7]!==t){let e=+s[7];r=s[8]?px(e):py(255*e,0,255)}return t=+s[1],i=+s[3],n=+s[5],{r:t=255&(s[2]?px(t):py(t,0,255)),g:i=255&(s[4]?px(i):py(i,0,255)),b:n=255&(s[6]?px(n):py(n,0,255)),a:r}}}(e):function(e){let t;let i=pj.exec(e),n=255;if(!i)return;i[5]!==t&&(n=i[6]?px(+i[5]):p_(+i[5]));let s=pM(+i[2]),r=+i[3]/100,a=+i[4]/100;return{r:(t="hwb"===i[1]?pL(pD,s,r,a):"hsv"===i[1]?pL(pN,s,r,a):pL(pI,s,r,a))[0],g:t[1],b:t[2],a:n}}(e)}(e)),this._rgb=t,this._valid=!!t}get valid(){return this._valid}get rgb(){var e=pW(this._rgb);return e&&(e.a=pw(e.a)),e}set rgb(e){this._rgb=pz(e)}rgbString(){var e;return this._valid?(e=this._rgb)&&(e.a<255?`rgba(${e.r}, ${e.g}, ${e.b}, ${pw(e.a)})`:`rgb(${e.r}, ${e.g}, ${e.b})`):void 0}hexString(){var e,t;return this._valid?(t=pO(e=this._rgb)?pT:pC,e?"#"+t(e.r)+t(e.g)+t(e.b)+pP(e.a,t):void 0):void 0}hslString(){return this._valid?function(e){if(!e)return;let t=pA(e),i=t[0],n=pS(t[1]),s=pS(t[2]);return e.a<255?`hsla(${i}, ${n}%, ${s}%, ${pw(e.a)})`:`hsl(${i}, ${n}%, ${s}%)`}(this._rgb):void 0}mix(e,t){if(e){let i;let n=this.rgb,s=e.rgb,r=t===i?.5:t,a=2*r-1,o=n.a-s.a,l=((a*o==-1?a:(a+o)/(1+a*o))+1)/2;i=1-l,n.r=255&l*n.r+i*s.r+.5,n.g=255&l*n.g+i*s.g+.5,n.b=255&l*n.b+i*s.b+.5,n.a=r*n.a+(1-r)*s.a,this.rgb=n}return this}interpolate(e,t){return e&&(this._rgb=function(e,t,i){let n=pq(pw(e.r)),s=pq(pw(e.g)),r=pq(pw(e.b));return{r:p_(p$(n+i*(pq(pw(t.r))-n))),g:p_(p$(s+i*(pq(pw(t.g))-s))),b:p_(p$(r+i*(pq(pw(t.b))-r))),a:e.a+i*(t.a-e.a)}}(this._rgb,e._rgb,t)),this}clone(){return new pH(this.rgb)}alpha(e){return this._rgb.a=p_(e),this}clearer(e){let t=this._rgb;return t.a*=1-e,this}greyscale(){let e=this._rgb,t=pb(.3*e.r+.59*e.g+.11*e.b);return e.r=e.g=e.b=t,this}opaquer(e){let t=this._rgb;return t.a*=1+e,this}negate(){let e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return pV(this._rgb,2,e),this}darken(e){return pV(this._rgb,2,-e),this}saturate(e){return pV(this._rgb,1,e),this}desaturate(e){return pV(this._rgb,1,-e),this}rotate(e){var t,i;return(i=pA(t=this._rgb))[0]=pM(i[0]+e),i=pL(pI,i,void 0,void 0),t.r=i[0],t.g=i[1],t.b=i[2],this}}function pK(){}let pG=(()=>{let e=0;return()=>e++})();function pJ(e){return null==e}function pY(e){if(Array.isArray&&Array.isArray(e))return!0;let t=Object.prototype.toString.call(e);return"[object"===t.slice(0,7)&&"Array]"===t.slice(-6)}function pQ(e){return null!==e&&"[object Object]"===Object.prototype.toString.call(e)}function pX(e){return("number"==typeof e||e instanceof Number)&&isFinite(+e)}function pZ(e,t){return pX(e)?e:t}function p0(e,t){return void 0===e?t:e}let p1=(e,t)=>"string"==typeof e&&e.endsWith("%")?parseFloat(e)/100:+e/t,p2=(e,t)=>"string"==typeof e&&e.endsWith("%")?parseFloat(e)/100*t:+e;function p3(e,t,i){if(e&&"function"==typeof e.call)return e.apply(i,t)}function p4(e,t,i,n){let s,r,a;if(pY(e)){if(r=e.length,n)for(s=r-1;s>=0;s--)t.call(i,e[s],s);else for(s=0;s<r;s++)t.call(i,e[s],s)}else if(pQ(e))for(s=0,r=(a=Object.keys(e)).length;s<r;s++)t.call(i,e[a[s]],a[s])}function p5(e,t){let i,n,s,r;if(!e||!t||e.length!==t.length)return!1;for(i=0,n=e.length;i<n;++i)if(s=e[i],r=t[i],s.datasetIndex!==r.datasetIndex||s.index!==r.index)return!1;return!0}function p6(e){if(pY(e))return e.map(p6);if(pQ(e)){let t=Object.create(null),i=Object.keys(e),n=i.length,s=0;for(;s<n;++s)t[i[s]]=p6(e[i[s]]);return t}return e}function p8(e){return -1===["__proto__","prototype","constructor"].indexOf(e)}function p9(e,t,i,n){if(!p8(e))return;let s=t[e],r=i[e];pQ(s)&&pQ(r)?p7(s,r,n):t[e]=p6(r)}function p7(e,t,i){let n;let s=pY(t)?t:[t],r=s.length;if(!pQ(e))return e;let a=(i=i||{}).merger||p9;for(let t=0;t<r;++t){if(!pQ(n=s[t]))continue;let r=Object.keys(n);for(let t=0,s=r.length;t<s;++t)a(r[t],e,n,i)}return e}function he(e,t){return p7(e,t,{merger:ht})}function ht(e,t,i){if(!p8(e))return;let n=t[e],s=i[e];pQ(n)&&pQ(s)?he(n,s):Object.prototype.hasOwnProperty.call(t,e)||(t[e]=p6(s))}let hi={"":e=>e,x:e=>e.x,y:e=>e.y};function hn(e,t){return(hi[t]||(hi[t]=function(e){let t=function(e){let t=e.split("."),i=[],n="";for(let e of t)(n+=e).endsWith("\\")?n=n.slice(0,-1)+".":(i.push(n),n="");return i}(e);return e=>{for(let i of t){if(""===i)break;e=e&&e[i]}return e}}(t)))(e)}function hs(e){return e.charAt(0).toUpperCase()+e.slice(1)}let hr=e=>void 0!==e,ha=e=>"function"==typeof e,ho=(e,t)=>{if(e.size!==t.size)return!1;for(let i of e)if(!t.has(i))return!1;return!0},hl=Math.PI,hc=2*hl,hd=hc+hl,hu=Number.POSITIVE_INFINITY,hp=hl/180,hh=hl/2,hm=hl/4,hf=2*hl/3,hg=Math.log10,hv=Math.sign;function hb(e,t,i){return Math.abs(e-t)<i}function hy(e){let t=Math.round(e),i=Math.pow(10,Math.floor(hg(e=hb(e,t,e/1e3)?t:e))),n=e/i;return(n<=1?1:n<=2?2:n<=5?5:10)*i}function hx(e){return!isNaN(parseFloat(e))&&isFinite(e)}function h_(e,t,i){let n,s,r;for(n=0,s=e.length;n<s;n++)isNaN(r=e[n][i])||(t.min=Math.min(t.min,r),t.max=Math.max(t.max,r))}function hw(e){return hl/180*e}function hS(e){if(!pX(e))return;let t=1,i=0;for(;Math.round(e*t)/t!==e;)t*=10,i++;return i}function hk(e,t){let i=t.x-e.x,n=t.y-e.y,s=Math.sqrt(i*i+n*n),r=Math.atan2(n,i);return r<-.5*hl&&(r+=hc),{angle:r,distance:s}}function hE(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function hT(e,t){return(e-t+hd)%hc-hl}function hC(e){return(e%hc+hc)%hc}function hR(e,t,i,n){let s=hC(e),r=hC(t),a=hC(i),o=hC(r-s),l=hC(a-s),c=hC(s-r),d=hC(s-a);return s===r||s===a||n&&r===a||o>l&&c<d}function hO(e,t,i){return Math.max(t,Math.min(i,e))}function hP(e,t,i,n=1e-6){return e>=Math.min(t,i)-n&&e<=Math.max(t,i)+n}function hj(e,t,i){let n;i=i||(i=>e[i]<t);let s=e.length-1,r=0;for(;s-r>1;)i(n=r+s>>1)?r=n:s=n;return{lo:r,hi:s}}let hI=(e,t,i,n)=>hj(e,i,n?n=>{let s=e[n][t];return s<i||s===i&&e[n+1][t]===i}:n=>e[n][t]<i),hN=(e,t,i)=>hj(e,i,n=>e[n][t]>=i),hD=["push","pop","shift","splice","unshift"];function hA(e,t){let i=e._chartjs;if(!i)return;let n=i.listeners,s=n.indexOf(t);-1!==s&&n.splice(s,1),n.length>0||(hD.forEach(t=>{delete e[t]}),delete e._chartjs)}function hL(e){let t=new Set(e);return t.size===e.length?e:Array.from(t)}let hM="undefined"==typeof window?function(e){return e()}:window.requestAnimationFrame;function hU(e,t){let i=[],n=!1;return function(...s){i=s,n||(n=!0,hM.call(window,()=>{n=!1,e.apply(t,i)}))}}let hF=e=>"start"===e?"left":"end"===e?"right":"center",hB=(e,t,i)=>"start"===e?t:"end"===e?i:(t+i)/2;function h$(e,t,i){let n=t.length,s=0,r=n;if(e._sorted){let{iScale:a,_parsed:o}=e,l=a.axis,{min:c,max:d,minDefined:u,maxDefined:p}=a.getUserBounds();u&&(s=hO(Math.min(hI(o,l,c).lo,i?n:hI(t,l,a.getPixelForValue(c)).lo),0,n-1)),r=p?hO(Math.max(hI(o,a.axis,d,!0).hi+1,i?0:hI(t,l,a.getPixelForValue(d),!0).hi+1),s,n)-s:n-s}return{start:s,count:r}}function hq(e){let{xScale:t,yScale:i,_scaleRanges:n}=e,s={xmin:t.min,xmax:t.max,ymin:i.min,ymax:i.max};if(!n)return e._scaleRanges=s,!0;let r=n.xmin!==t.min||n.xmax!==t.max||n.ymin!==i.min||n.ymax!==i.max;return Object.assign(n,s),r}let hV=e=>0===e||1===e,hW=(e,t,i)=>-(Math.pow(2,10*(e-=1))*Math.sin((e-t)*hc/i)),hz=(e,t,i)=>Math.pow(2,-10*e)*Math.sin((e-t)*hc/i)+1,hH={linear:e=>e,easeInQuad:e=>e*e,easeOutQuad:e=>-e*(e-2),easeInOutQuad:e=>(e/=.5)<1?.5*e*e:-.5*(--e*(e-2)-1),easeInCubic:e=>e*e*e,easeOutCubic:e=>(e-=1)*e*e+1,easeInOutCubic:e=>(e/=.5)<1?.5*e*e*e:.5*((e-=2)*e*e+2),easeInQuart:e=>e*e*e*e,easeOutQuart:e=>-((e-=1)*e*e*e-1),easeInOutQuart:e=>(e/=.5)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2),easeInQuint:e=>e*e*e*e*e,easeOutQuint:e=>(e-=1)*e*e*e*e+1,easeInOutQuint:e=>(e/=.5)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2),easeInSine:e=>-Math.cos(e*hh)+1,easeOutSine:e=>Math.sin(e*hh),easeInOutSine:e=>-.5*(Math.cos(hl*e)-1),easeInExpo:e=>0===e?0:Math.pow(2,10*(e-1)),easeOutExpo:e=>1===e?1:-Math.pow(2,-10*e)+1,easeInOutExpo:e=>hV(e)?e:e<.5?.5*Math.pow(2,10*(2*e-1)):.5*(-Math.pow(2,-10*(2*e-1))+2),easeInCirc:e=>e>=1?e:-(Math.sqrt(1-e*e)-1),easeOutCirc:e=>Math.sqrt(1-(e-=1)*e),easeInOutCirc:e=>(e/=.5)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1),easeInElastic:e=>hV(e)?e:hW(e,.075,.3),easeOutElastic:e=>hV(e)?e:hz(e,.075,.3),easeInOutElastic:e=>hV(e)?e:e<.5?.5*hW(2*e,.1125,.45):.5+.5*hz(2*e-1,.1125,.45),easeInBack:e=>e*e*(2.70158*e-1.70158),easeOutBack:e=>(e-=1)*e*(2.70158*e+1.70158)+1,easeInOutBack(e){let t=1.70158;return(e/=.5)<1?e*e*(((t*=1.525)+1)*e-t)*.5:.5*((e-=2)*e*(((t*=1.525)+1)*e+t)+2)},easeInBounce:e=>1-hH.easeOutBounce(1-e),easeOutBounce:e=>e<.36363636363636365?7.5625*e*e:e<.7272727272727273?7.5625*(e-=.5454545454545454)*e+.75:e<.9090909090909091?7.5625*(e-=.8181818181818182)*e+.9375:7.5625*(e-=.9545454545454546)*e+.984375,easeInOutBounce:e=>e<.5?.5*hH.easeInBounce(2*e):.5*hH.easeOutBounce(2*e-1)+.5};function hK(e){if(e&&"object"==typeof e){let t=e.toString();return"[object CanvasPattern]"===t||"[object CanvasGradient]"===t}return!1}function hG(e){return hK(e)?e:new pH(e)}function hJ(e){return hK(e)?e:new pH(e).saturate(.5).darken(.1).hexString()}let hY=["x","y","borderWidth","radius","tension"],hQ=["color","borderColor","backgroundColor"],hX=new Map;function hZ(e,t,i){return(function(e,t){let i=e+JSON.stringify(t=t||{}),n=hX.get(i);return n||(n=new Intl.NumberFormat(e,t),hX.set(i,n)),n})(t,i).format(e)}let h0={values:e=>pY(e)?e:""+e,numeric(e,t,i){let n;if(0===e)return"0";let s=this.chart.options.locale,r=e;if(i.length>1){let t;let s=Math.max(Math.abs(i[0].value),Math.abs(i[i.length-1].value));(s<1e-4||s>1e15)&&(n="scientific"),Math.abs(t=i.length>3?i[2].value-i[1].value:i[1].value-i[0].value)>=1&&e!==Math.floor(e)&&(t=e-Math.floor(e)),r=t}let a=hg(Math.abs(r)),o=isNaN(a)?1:Math.max(Math.min(-1*Math.floor(a),20),0),l={notation:n,minimumFractionDigits:o,maximumFractionDigits:o};return Object.assign(l,this.options.ticks.format),hZ(e,s,l)},logarithmic(e,t,i){return 0===e?"0":[1,2,3,5,10,15].includes(i[t].significand||e/Math.pow(10,Math.floor(hg(e))))||t>.8*i.length?h0.numeric.call(this,e,t,i):""}};var h1={formatters:h0};let h2=Object.create(null),h3=Object.create(null);function h4(e,t){if(!t)return e;let i=t.split(".");for(let t=0,n=i.length;t<n;++t){let n=i[t];e=e[n]||(e[n]=Object.create(null))}return e}function h5(e,t,i){return"string"==typeof t?p7(h4(e,t),i):p7(h4(e,""),t)}class h6{constructor(e,t){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=e=>e.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(e,t)=>hJ(t.backgroundColor),this.hoverBorderColor=(e,t)=>hJ(t.borderColor),this.hoverColor=(e,t)=>hJ(t.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(t)}set(e,t){return h5(this,e,t)}get(e){return h4(this,e)}describe(e,t){return h5(h3,e,t)}override(e,t){return h5(h2,e,t)}route(e,t,i,n){let s=h4(this,e),r=h4(this,i),a="_"+t;Object.defineProperties(s,{[a]:{value:s[t],writable:!0},[t]:{enumerable:!0,get(){let e=this[a],t=r[n];return pQ(e)?Object.assign({},t,e):p0(e,t)},set(e){this[a]=e}}})}apply(e){e.forEach(e=>e(this))}}var h8=new h6({_scriptable:e=>!e.startsWith("on"),_indexable:e=>"events"!==e,hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[function(e){e.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),e.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>"onProgress"!==e&&"onComplete"!==e&&"fn"!==e}),e.set("animations",{colors:{type:"color",properties:hQ},numbers:{type:"number",properties:hY}}),e.describe("animations",{_fallback:"animation"}),e.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>0|e}}}})},function(e){e.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})},function(e){e.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,t)=>t.lineWidth,tickColor:(e,t)=>t.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:h1.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),e.route("scale.ticks","color","","color"),e.route("scale.grid","color","","borderColor"),e.route("scale.border","color","","borderColor"),e.route("scale.title","color","","color"),e.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&"callback"!==e&&"parser"!==e,_indexable:e=>"borderDash"!==e&&"tickBorderDash"!==e&&"dash"!==e}),e.describe("scales",{_fallback:"scale"}),e.describe("scale.ticks",{_scriptable:e=>"backdropPadding"!==e&&"callback"!==e,_indexable:e=>"backdropPadding"!==e})}]);function h9(e,t,i,n,s){let r=t[s];return r||(r=t[s]=e.measureText(s).width,i.push(s)),r>n&&(n=r),n}function h7(e,t,i){let n=e.currentDevicePixelRatio,s=0!==i?Math.max(i/2,.5):0;return Math.round((t-s)*n)/n+s}function me(e,t){(t||e)&&((t=t||e.getContext("2d")).save(),t.resetTransform(),t.clearRect(0,0,e.width,e.height),t.restore())}function mt(e,t,i,n){(function(e,t,i,n,s){let r,a,o,l,c,d,u,p;let h=t.pointStyle,m=t.rotation,f=t.radius,g=(m||0)*hp;if(h&&"object"==typeof h&&("[object HTMLImageElement]"===(r=h.toString())||"[object HTMLCanvasElement]"===r)){e.save(),e.translate(i,n),e.rotate(g),e.drawImage(h,-h.width/2,-h.height/2,h.width,h.height),e.restore();return}if(!isNaN(f)&&!(f<=0)){switch(e.beginPath(),h){default:s?e.ellipse(i,n,s/2,f,0,0,hc):e.arc(i,n,f,0,hc),e.closePath();break;case"triangle":d=s?s/2:f,e.moveTo(i+Math.sin(g)*d,n-Math.cos(g)*f),g+=hf,e.lineTo(i+Math.sin(g)*d,n-Math.cos(g)*f),g+=hf,e.lineTo(i+Math.sin(g)*d,n-Math.cos(g)*f),e.closePath();break;case"rectRounded":c=.516*f,a=Math.cos(g+hm)*(l=f-c),u=Math.cos(g+hm)*(s?s/2-c:l),o=Math.sin(g+hm)*l,p=Math.sin(g+hm)*(s?s/2-c:l),e.arc(i-u,n-o,c,g-hl,g-hh),e.arc(i+p,n-a,c,g-hh,g),e.arc(i+u,n+o,c,g,g+hh),e.arc(i-p,n+a,c,g+hh,g+hl),e.closePath();break;case"rect":if(!m){l=Math.SQRT1_2*f,d=s?s/2:l,e.rect(i-d,n-l,2*d,2*l);break}g+=hm;case"rectRot":u=Math.cos(g)*(s?s/2:f),a=Math.cos(g)*f,o=Math.sin(g)*f,p=Math.sin(g)*(s?s/2:f),e.moveTo(i-u,n-o),e.lineTo(i+p,n-a),e.lineTo(i+u,n+o),e.lineTo(i-p,n+a),e.closePath();break;case"crossRot":g+=hm;case"cross":u=Math.cos(g)*(s?s/2:f),a=Math.cos(g)*f,o=Math.sin(g)*f,p=Math.sin(g)*(s?s/2:f),e.moveTo(i-u,n-o),e.lineTo(i+u,n+o),e.moveTo(i+p,n-a),e.lineTo(i-p,n+a);break;case"star":u=Math.cos(g)*(s?s/2:f),a=Math.cos(g)*f,o=Math.sin(g)*f,p=Math.sin(g)*(s?s/2:f),e.moveTo(i-u,n-o),e.lineTo(i+u,n+o),e.moveTo(i+p,n-a),e.lineTo(i-p,n+a),g+=hm,u=Math.cos(g)*(s?s/2:f),a=Math.cos(g)*f,o=Math.sin(g)*f,p=Math.sin(g)*(s?s/2:f),e.moveTo(i-u,n-o),e.lineTo(i+u,n+o),e.moveTo(i+p,n-a),e.lineTo(i-p,n+a);break;case"line":a=s?s/2:Math.cos(g)*f,o=Math.sin(g)*f,e.moveTo(i-a,n-o),e.lineTo(i+a,n+o);break;case"dash":e.moveTo(i,n),e.lineTo(i+Math.cos(g)*(s?s/2:f),n+Math.sin(g)*f);break;case!1:e.closePath()}e.fill(),t.borderWidth>0&&e.stroke()}})(e,t,i,n,null)}function mi(e,t,i){return i=i||.5,!t||e&&e.x>t.left-i&&e.x<t.right+i&&e.y>t.top-i&&e.y<t.bottom+i}function mn(e,t){e.save(),e.beginPath(),e.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),e.clip()}function ms(e){e.restore()}function mr(e,t,i,n,s){if(!t)return e.lineTo(i.x,i.y);if("middle"===s){let n=(t.x+i.x)/2;e.lineTo(n,t.y),e.lineTo(n,i.y)}else"after"===s!=!!n?e.lineTo(t.x,i.y):e.lineTo(i.x,t.y);e.lineTo(i.x,i.y)}function ma(e,t,i,n){if(!t)return e.lineTo(i.x,i.y);e.bezierCurveTo(n?t.cp1x:t.cp2x,n?t.cp1y:t.cp2y,n?i.cp2x:i.cp1x,n?i.cp2y:i.cp1y,i.x,i.y)}function mo(e,t,i,n,s,r={}){let a,o;let l=pY(t)?t:[t],c=r.strokeWidth>0&&""!==r.strokeColor;for(e.save(),e.font=s.string,r.translation&&e.translate(r.translation[0],r.translation[1]),pJ(r.rotation)||e.rotate(r.rotation),r.color&&(e.fillStyle=r.color),r.textAlign&&(e.textAlign=r.textAlign),r.textBaseline&&(e.textBaseline=r.textBaseline),a=0;a<l.length;++a)o=l[a],r.backdrop&&function(e,t){let i=e.fillStyle;e.fillStyle=t.color,e.fillRect(t.left,t.top,t.width,t.height),e.fillStyle=i}(e,r.backdrop),c&&(r.strokeColor&&(e.strokeStyle=r.strokeColor),pJ(r.strokeWidth)||(e.lineWidth=r.strokeWidth),e.strokeText(o,i,n,r.maxWidth)),e.fillText(o,i,n,r.maxWidth),function(e,t,i,n,s){if(s.strikethrough||s.underline){let r=e.measureText(n),a=t-r.actualBoundingBoxLeft,o=t+r.actualBoundingBoxRight,l=i-r.actualBoundingBoxAscent,c=i+r.actualBoundingBoxDescent,d=s.strikethrough?(l+c)/2:c;e.strokeStyle=e.fillStyle,e.beginPath(),e.lineWidth=s.decorationWidth||2,e.moveTo(a,d),e.lineTo(o,d),e.stroke()}}(e,i,n,o,r),n+=Number(s.lineHeight);e.restore()}function ml(e,t){let{x:i,y:n,w:s,h:r,radius:a}=t;e.arc(i+a.topLeft,n+a.topLeft,a.topLeft,1.5*hl,hl,!0),e.lineTo(i,n+r-a.bottomLeft),e.arc(i+a.bottomLeft,n+r-a.bottomLeft,a.bottomLeft,hl,hh,!0),e.lineTo(i+s-a.bottomRight,n+r),e.arc(i+s-a.bottomRight,n+r-a.bottomRight,a.bottomRight,hh,0,!0),e.lineTo(i+s,n+a.topRight),e.arc(i+s-a.topRight,n+a.topRight,a.topRight,0,-hh,!0),e.lineTo(i+a.topLeft,n)}let mc=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,md=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/,mu=e=>+e||0;function mp(e,t){let i={},n=pQ(t),s=n?Object.keys(t):t,r=pQ(e)?n?i=>p0(e[i],e[t[i]]):t=>e[t]:()=>e;for(let e of s)i[e]=mu(r(e));return i}function mh(e){return mp(e,{top:"y",right:"x",bottom:"y",left:"x"})}function mm(e){return mp(e,["topLeft","topRight","bottomLeft","bottomRight"])}function mf(e){let t=mh(e);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function mg(e,t){e=e||{},t=t||h8.font;let i=p0(e.size,t.size);"string"==typeof i&&(i=parseInt(i,10));let n=p0(e.style,t.style);n&&!(""+n).match(md)&&(console.warn('Invalid font style specified: "'+n+'"'),n=void 0);let s={family:p0(e.family,t.family),lineHeight:function(e,t){let i=(""+e).match(mc);if(!i||"normal"===i[1])return 1.2*t;switch(e=+i[2],i[3]){case"px":return e;case"%":e/=100}return t*e}(p0(e.lineHeight,t.lineHeight),i),size:i,style:n,weight:p0(e.weight,t.weight),string:""};return s.string=!s||pJ(s.size)||pJ(s.family)?null:(s.style?s.style+" ":"")+(s.weight?s.weight+" ":"")+s.size+"px "+s.family,s}function mv(e,t,i,n){let s,r,a,o=!0;for(s=0,r=e.length;s<r;++s)if(void 0!==(a=e[s])&&(void 0!==t&&"function"==typeof a&&(a=a(t),o=!1),void 0!==i&&pY(a)&&(a=a[i%a.length],o=!1),void 0!==a))return n&&!o&&(n.cacheable=!1),a}function mb(e,t){return Object.assign(Object.create(e),t)}function my(e,t=[""],i,n,s=()=>e[0]){let r=i||e;return void 0===n&&(n=mR("_fallback",e)),new Proxy({[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:e,_rootScopes:r,_fallback:n,_getTarget:s,override:i=>my([i,...e],t,r,n)},{deleteProperty:(t,i)=>(delete t[i],delete t._keys,delete e[0][i],!0),get:(i,n)=>mk(i,n,()=>(function(e,t,i,n){let s;for(let r of t)if(void 0!==(s=mR(mw(r,e),i)))return mS(e,s)?mT(i,n,e,s):s})(n,t,e,i)),getOwnPropertyDescriptor:(e,t)=>Reflect.getOwnPropertyDescriptor(e._scopes[0],t),getPrototypeOf:()=>Reflect.getPrototypeOf(e[0]),has:(e,t)=>mO(e).includes(t),ownKeys:e=>mO(e),set(e,t,i){let n=e._storage||(e._storage=s());return e[t]=n[t]=i,delete e._keys,!0}})}function mx(e,t,i,n){return new Proxy({_cacheable:!1,_proxy:e,_context:t,_subProxy:i,_stack:new Set,_descriptors:m_(e,n),setContext:t=>mx(e,t,i,n),override:s=>mx(e.override(s),t,i,n)},{deleteProperty:(t,i)=>(delete t[i],delete e[i],!0),get:(e,t,i)=>mk(e,t,()=>(function(e,t,i){let{_proxy:n,_context:s,_subProxy:r,_descriptors:a}=e,o=n[t];return ha(o)&&a.isScriptable(t)&&(o=function(e,t,i,n){let{_proxy:s,_context:r,_subProxy:a,_stack:o}=i;if(o.has(e))throw Error("Recursion detected: "+Array.from(o).join("->")+"->"+e);o.add(e);let l=t(r,a||n);return o.delete(e),mS(e,l)&&(l=mT(s._scopes,s,e,l)),l}(t,o,e,i)),pY(o)&&o.length&&(o=function(e,t,i,n){let{_proxy:s,_context:r,_subProxy:a,_descriptors:o}=i;if(void 0!==r.index&&n(e))return t[r.index%t.length];if(pQ(t[0])){let i=t,n=s._scopes.filter(e=>e!==i);for(let l of(t=[],i)){let i=mT(n,s,e,l);t.push(mx(i,r,a&&a[e],o))}}return t}(t,o,e,a.isIndexable)),mS(t,o)&&(o=mx(o,s,r&&r[t],a)),o})(e,t,i)),getOwnPropertyDescriptor:(t,i)=>t._descriptors.allKeys?Reflect.has(e,i)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(e,i),getPrototypeOf:()=>Reflect.getPrototypeOf(e),has:(t,i)=>Reflect.has(e,i),ownKeys:()=>Reflect.ownKeys(e),set:(t,i,n)=>(e[i]=n,delete t[i],!0)})}function m_(e,t={scriptable:!0,indexable:!0}){let{_scriptable:i=t.scriptable,_indexable:n=t.indexable,_allKeys:s=t.allKeys}=e;return{allKeys:s,scriptable:i,indexable:n,isScriptable:ha(i)?i:()=>i,isIndexable:ha(n)?n:()=>n}}let mw=(e,t)=>e?e+hs(t):t,mS=(e,t)=>pQ(t)&&"adapters"!==e&&(null===Object.getPrototypeOf(t)||t.constructor===Object);function mk(e,t,i){if(Object.prototype.hasOwnProperty.call(e,t)||"constructor"===t)return e[t];let n=i();return e[t]=n,n}let mE=(e,t)=>!0===e?t:"string"==typeof e?hn(t,e):void 0;function mT(e,t,i,n){var s;let r=t._rootScopes,a=ha(s=t._fallback)?s(i,n):s,o=[...e,...r],l=new Set;l.add(n);let c=mC(l,o,i,a||i,n);return null!==c&&(void 0===a||a===i||null!==(c=mC(l,o,a,c,n)))&&my(Array.from(l),[""],r,a,()=>(function(e,t,i){let n=e._getTarget();t in n||(n[t]={});let s=n[t];return pY(s)&&pQ(i)?i:s||{}})(t,i,n))}function mC(e,t,i,n,s){for(;i;)i=function(e,t,i,n,s){for(let a of t){let t=mE(i,a);if(t){var r;e.add(t);let a=ha(r=t._fallback)?r(i,s):r;if(void 0!==a&&a!==i&&a!==n)return a}else if(!1===t&&void 0!==n&&i!==n)return null}return!1}(e,t,i,n,s);return i}function mR(e,t){for(let i of t){if(!i)continue;let t=i[e];if(void 0!==t)return t}}function mO(e){let t=e._keys;return t||(t=e._keys=function(e){let t=new Set;for(let i of e)for(let e of Object.keys(i).filter(e=>!e.startsWith("_")))t.add(e);return Array.from(t)}(e._scopes)),t}function mP(e,t,i,n){let s,r,a;let{iScale:o}=e,{key:l="r"}=this._parsing,c=Array(n);for(s=0;s<n;++s)a=t[r=s+i],c[s]={r:o.parse(hn(a,l),r)};return c}let mj=Number.EPSILON||1e-14,mI=(e,t)=>t<e.length&&!e[t].skip&&e[t],mN=e=>"x"===e?"y":"x";function mD(e,t,i){return Math.max(Math.min(e,i),t)}function mA(){return"undefined"!=typeof window&&"undefined"!=typeof document}function mL(e){let t=e.parentNode;return t&&"[object ShadowRoot]"===t.toString()&&(t=t.host),t}function mM(e,t,i){let n;return"string"==typeof e?(n=parseInt(e,10),-1!==e.indexOf("%")&&(n=n/100*t.parentNode[i])):n=e,n}let mU=e=>e.ownerDocument.defaultView.getComputedStyle(e,null),mF=["top","right","bottom","left"];function mB(e,t,i){let n={};i=i?"-"+i:"";for(let s=0;s<4;s++){let r=mF[s];n[r]=parseFloat(e[t+"-"+r+i])||0}return n.width=n.left+n.right,n.height=n.top+n.bottom,n}let m$=(e,t,i)=>(e>0||t>0)&&(!i||!i.shadowRoot);function mq(e,t){if("native"in e)return e;let{canvas:i,currentDevicePixelRatio:n}=t,s=mU(i),r="border-box"===s.boxSizing,a=mB(s,"padding"),o=mB(s,"border","width"),{x:l,y:c,box:d}=function(e,t){let i,n;let s=e.touches,r=s&&s.length?s[0]:e,{offsetX:a,offsetY:o}=r,l=!1;if(m$(a,o,e.target))i=a,n=o;else{let e=t.getBoundingClientRect();i=r.clientX-e.left,n=r.clientY-e.top,l=!0}return{x:i,y:n,box:l}}(e,i),u=a.left+(d&&o.left),p=a.top+(d&&o.top),{width:h,height:m}=t;return r&&(h-=a.width+o.width,m-=a.height+o.height),{x:Math.round((l-u)/h*i.width/n),y:Math.round((c-p)/m*i.height/n)}}let mV=e=>Math.round(10*e)/10;function mW(e,t,i){let n=t||1,s=Math.floor(e.height*n),r=Math.floor(e.width*n);e.height=Math.floor(e.height),e.width=Math.floor(e.width);let a=e.canvas;return a.style&&(i||!a.style.height&&!a.style.width)&&(a.style.height=`${e.height}px`,a.style.width=`${e.width}px`),(e.currentDevicePixelRatio!==n||a.height!==s||a.width!==r)&&(e.currentDevicePixelRatio=n,a.height=s,a.width=r,e.ctx.setTransform(n,0,0,n,0,0),!0)}let mz=function(){let e=!1;try{let t={get passive(){return e=!0,!1}};mA()&&(window.addEventListener("test",null,t),window.removeEventListener("test",null,t))}catch(e){}return e}();function mH(e,t){let i=mU(e).getPropertyValue(t),n=i&&i.match(/^(\d+)(\.\d+)?px$/);return n?+n[1]:void 0}function mK(e,t,i,n){return{x:e.x+i*(t.x-e.x),y:e.y+i*(t.y-e.y)}}function mG(e,t,i,n){return{x:e.x+i*(t.x-e.x),y:"middle"===n?i<.5?e.y:t.y:"after"===n?i<1?e.y:t.y:i>0?t.y:e.y}}function mJ(e,t,i,n){let s={x:e.cp2x,y:e.cp2y},r={x:t.cp1x,y:t.cp1y},a=mK(e,s,i),o=mK(s,r,i),l=mK(r,t,i),c=mK(a,o,i),d=mK(o,l,i);return mK(c,d,i)}function mY(e,t,i){var n;return e?(n=i,{x:e=>t+t+n-e,setWidth(e){n=e},textAlign:e=>"center"===e?e:"right"===e?"left":"right",xPlus:(e,t)=>e-t,leftForLtr:(e,t)=>e-t}):{x:e=>e,setWidth(e){},textAlign:e=>e,xPlus:(e,t)=>e+t,leftForLtr:(e,t)=>e}}function mQ(e){return"angle"===e?{between:hR,compare:hT,normalize:hC}:{between:hP,compare:(e,t)=>e-t,normalize:e=>e}}function mX({start:e,end:t,count:i,loop:n,style:s}){return{start:e%i,end:t%i,loop:n&&(t-e+1)%i==0,style:s}}function mZ(e,t,i){let n,s,r;if(!i)return[e];let{property:a,start:o,end:l}=i,c=t.length,{compare:d,between:u,normalize:p}=mQ(a),{start:h,end:m,loop:f,style:g}=function(e,t,i){let n;let{property:s,start:r,end:a}=i,{between:o,normalize:l}=mQ(s),c=t.length,{start:d,end:u,loop:p}=e;if(p){for(d+=c,u+=c,n=0;n<c&&o(l(t[d%c][s]),r,a);++n)d--,u--;d%=c,u%=c}return u<d&&(u+=c),{start:d,end:u,loop:p,style:e.style}}(e,t,i),v=[],b=!1,y=null,x=()=>u(o,r,n)&&0!==d(o,r),_=()=>0===d(l,n)||u(l,r,n),w=()=>b||x(),S=()=>!b||_();for(let e=h,i=h;e<=m;++e)(s=t[e%c]).skip||(n=p(s[a]))===r||(b=u(n,o,l),null===y&&w()&&(y=0===d(n,o)?e:i),null!==y&&S()&&(v.push(mX({start:y,end:e,loop:f,count:c,style:g})),y=null),i=e,r=n);return null!==y&&v.push(mX({start:y,end:m,loop:f,count:c,style:g})),v}function m0(e,t){let i=[],n=e.segments;for(let s=0;s<n.length;s++){let r=mZ(n[s],e.points,t);r.length&&i.push(...r)}return i}function m1(e,t,i,n){return n&&n.setContext&&i?function(e,t,i,n){let s=e._chart.getContext(),r=m2(e.options),{_datasetIndex:a,options:{spanGaps:o}}=e,l=i.length,c=[],d=r,u=t[0].start,p=u;function h(e,t,n,s){let r=o?-1:1;if(e!==t){for(e+=l;i[e%l].skip;)e-=r;for(;i[t%l].skip;)t+=r;e%l!=t%l&&(c.push({start:e%l,end:t%l,loop:n,style:s}),d=s,u=t%l)}}for(let e of t){let t;let r=i[(u=o?u:e.start)%l];for(p=u+1;p<=e.end;p++){let o=i[p%l];(function(e,t){if(!t)return!1;let i=[],n=function(e,t){return hK(t)?(i.includes(t)||i.push(t),i.indexOf(t)):t};return JSON.stringify(e,n)!==JSON.stringify(t,n)})(t=m2(n.setContext(mb(s,{type:"segment",p0:r,p1:o,p0DataIndex:(p-1)%l,p1DataIndex:p%l,datasetIndex:a}))),d)&&h(u,p-1,e.loop,d),r=o,d=t}u<p-1&&h(u,p-1,e.loop,d)}return c}(e,t,i,n):t}function m2(e){return{backgroundColor:e.backgroundColor,borderCapStyle:e.borderCapStyle,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderJoinStyle:e.borderJoinStyle,borderWidth:e.borderWidth,borderColor:e.borderColor}}class m3{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,t,i,n){let s=t.listeners[n],r=t.duration;s.forEach(n=>n({chart:e,initial:t.initial,numSteps:r,currentStep:Math.min(i-t.start,r)}))}_refresh(){this._request||(this._running=!0,this._request=hM.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let t=0;this._charts.forEach((i,n)=>{let s;if(!i.running||!i.items.length)return;let r=i.items,a=r.length-1,o=!1;for(;a>=0;--a)(s=r[a])._active?(s._total>i.duration&&(i.duration=s._total),s.tick(e),o=!0):(r[a]=r[r.length-1],r.pop());o&&(n.draw(),this._notify(n,i,e,"progress")),r.length||(i.running=!1,this._notify(n,i,e,"complete"),i.initial=!1),t+=r.length}),this._lastDate=e,0===t&&(this._running=!1)}_getAnims(e){let t=this._charts,i=t.get(e);return i||(i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},t.set(e,i)),i}listen(e,t,i){this._getAnims(e).listeners[t].push(i)}add(e,t){t&&t.length&&this._getAnims(e).items.push(...t)}has(e){return this._getAnims(e).items.length>0}start(e){let t=this._charts.get(e);t&&(t.running=!0,t.start=Date.now(),t.duration=t.items.reduce((e,t)=>Math.max(e,t._duration),0),this._refresh())}running(e){if(!this._running)return!1;let t=this._charts.get(e);return!!t&&!!t.running&&!!t.items.length}stop(e){let t=this._charts.get(e);if(!t||!t.items.length)return;let i=t.items,n=i.length-1;for(;n>=0;--n)i[n].cancel();t.items=[],this._notify(e,t,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var m4=new m3;let m5="transparent",m6={boolean:(e,t,i)=>i>.5?t:e,color(e,t,i){let n=hG(e||m5),s=n.valid&&hG(t||m5);return s&&s.valid?s.mix(n,i).hexString():t},number:(e,t,i)=>e+(t-e)*i};class m8{constructor(e,t,i,n){let s=t[i];n=mv([e.to,n,s,e.from]);let r=mv([e.from,s,n]);this._active=!0,this._fn=e.fn||m6[e.type||typeof r],this._easing=hH[e.easing]||hH.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=t,this._prop=i,this._from=r,this._to=n,this._promises=void 0}active(){return this._active}update(e,t,i){if(this._active){this._notify(!1);let n=this._target[this._prop],s=i-this._start,r=this._duration-s;this._start=i,this._duration=Math.floor(Math.max(r,e.duration)),this._total+=s,this._loop=!!e.loop,this._to=mv([e.to,t,n,e.from]),this._from=mv([e.from,n,t])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){let t;let i=e-this._start,n=this._duration,s=this._prop,r=this._from,a=this._loop,o=this._to;if(this._active=r!==o&&(a||i<n),!this._active){this._target[s]=o,this._notify(!0);return}if(i<0){this._target[s]=r;return}t=i/n%2,t=a&&t>1?2-t:t,t=this._easing(Math.min(1,Math.max(0,t))),this._target[s]=this._fn(r,o,t)}wait(){let e=this._promises||(this._promises=[]);return new Promise((t,i)=>{e.push({res:t,rej:i})})}_notify(e){let t=e?"res":"rej",i=this._promises||[];for(let e=0;e<i.length;e++)i[e][t]()}}class m9{constructor(e,t){this._chart=e,this._properties=new Map,this.configure(t)}configure(e){if(!pQ(e))return;let t=Object.keys(h8.animation),i=this._properties;Object.getOwnPropertyNames(e).forEach(n=>{let s=e[n];if(!pQ(s))return;let r={};for(let e of t)r[e]=s[e];(pY(s.properties)&&s.properties||[n]).forEach(e=>{e!==n&&i.has(e)||i.set(e,r)})})}_animateOptions(e,t){let i=t.options,n=function(e,t){if(!t)return;let i=e.options;if(!i){e.options=t;return}return i.$shared&&(e.options=i=Object.assign({},i,{$shared:!1,$animations:{}})),i}(e,i);if(!n)return[];let s=this._createAnimations(n,i);return i.$shared&&(function(e,t){let i=[],n=Object.keys(t);for(let t=0;t<n.length;t++){let s=e[n[t]];s&&s.active()&&i.push(s.wait())}return Promise.all(i)})(e.options.$animations,i).then(()=>{e.options=i},()=>{}),s}_createAnimations(e,t){let i;let n=this._properties,s=[],r=e.$animations||(e.$animations={}),a=Object.keys(t),o=Date.now();for(i=a.length-1;i>=0;--i){let l=a[i];if("$"===l.charAt(0))continue;if("options"===l){s.push(...this._animateOptions(e,t));continue}let c=t[l],d=r[l],u=n.get(l);if(d){if(u&&d.active()){d.update(u,c,o);continue}d.cancel()}if(!u||!u.duration){e[l]=c;continue}r[l]=d=new m8(u,e,l,c),s.push(d)}return s}update(e,t){if(0===this._properties.size){Object.assign(e,t);return}let i=this._createAnimations(e,t);if(i.length)return m4.add(this._chart,i),!0}}function m7(e,t){let i=e&&e.options||{},n=i.reverse,s=void 0===i.min?t:0,r=void 0===i.max?t:0;return{start:n?r:s,end:n?s:r}}function fe(e,t){let i,n;let s=[],r=e._getSortedDatasetMetas(t);for(i=0,n=r.length;i<n;++i)s.push(r[i].index);return s}function ft(e,t,i,n={}){let s,r,a,o;let l=e.keys,c="single"===n.mode;if(null!==t){for(s=0,r=l.length;s<r;++s){if((a=+l[s])===i){if(n.all)continue;break}pX(o=e.values[a])&&(c||0===t||hv(t)===hv(o))&&(t+=o)}return t}}function fi(e,t){let i=e&&e.options.stacked;return i||void 0===i&&void 0!==t.stack}function fn(e,t,i,n){for(let s of t.getMatchingVisibleMetas(n).reverse()){let t=e[s.index];if(i&&t>0||!i&&t<0)return s.index}return null}function fs(e,t){let i;let{chart:n,_cachedMeta:s}=e,r=n._stacks||(n._stacks={}),{iScale:a,vScale:o,index:l}=s,c=a.axis,d=o.axis,u=`${a.id}.${o.id}.${s.stack||s.type}`,p=t.length;for(let e=0;e<p;++e){let n=t[e],{[c]:a,[d]:p}=n;(i=(n._stacks||(n._stacks={}))[d]=function(e,t,i){let n=e[t]||(e[t]={});return n[i]||(n[i]={})}(r,u,a))[l]=p,i._top=fn(i,o,!0,s.type),i._bottom=fn(i,o,!1,s.type),(i._visualValues||(i._visualValues={}))[l]=p}}function fr(e,t){let i=e.scales;return Object.keys(i).filter(e=>i[e].axis===t).shift()}function fa(e,t){let i=e.controller.index,n=e.vScale&&e.vScale.axis;if(n)for(let s of t=t||e._parsed){let e=s._stacks;if(!e||void 0===e[n]||void 0===e[n][i])return;delete e[n][i],void 0!==e[n]._visualValues&&void 0!==e[n]._visualValues[i]&&delete e[n]._visualValues[i]}}let fo=e=>"reset"===e||"none"===e,fl=(e,t)=>t?e:Object.assign({},e),fc=(e,t,i)=>e&&!t.hidden&&t._stacked&&{keys:fe(i,!0),values:null};class fd{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(e,t){this.chart=e,this._ctx=e.ctx,this.index=t,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){let e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=fi(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&fa(this._cachedMeta),this.index=e}linkScales(){let e=this.chart,t=this._cachedMeta,i=this.getDataset(),n=(e,t,i,n)=>"x"===e?t:"r"===e?n:i,s=t.xAxisID=p0(i.xAxisID,fr(e,"x")),r=t.yAxisID=p0(i.yAxisID,fr(e,"y")),a=t.rAxisID=p0(i.rAxisID,fr(e,"r")),o=t.indexAxis,l=t.iAxisID=n(o,s,r,a),c=t.vAxisID=n(o,r,s,a);t.xScale=this.getScaleForId(s),t.yScale=this.getScaleForId(r),t.rScale=this.getScaleForId(a),t.iScale=this.getScaleForId(l),t.vScale=this.getScaleForId(c)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){let t=this._cachedMeta;return e===t.iScale?t.vScale:t.iScale}reset(){this._update("reset")}_destroy(){let e=this._cachedMeta;this._data&&hA(this._data,this),e._stacked&&fa(e)}_dataCheck(){let e=this.getDataset(),t=e.data||(e.data=[]),i=this._data;if(pQ(t)){let e=this._cachedMeta;this._data=function(e,t){let i,n,s;let{iScale:r,vScale:a}=t,o="x"===r.axis?"x":"y",l="x"===a.axis?"x":"y",c=Object.keys(e),d=Array(c.length);for(i=0,n=c.length;i<n;++i)s=c[i],d[i]={[o]:s,[l]:e[s]};return d}(t,e)}else if(i!==t){if(i){hA(i,this);let e=this._cachedMeta;fa(e),e._parsed=[]}t&&Object.isExtensible(t)&&function(e,t){if(e._chartjs){e._chartjs.listeners.push(t);return}Object.defineProperty(e,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),hD.forEach(t=>{let i="_onData"+hs(t),n=e[t];Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value(...t){let s=n.apply(this,t);return e._chartjs.listeners.forEach(e=>{"function"==typeof e[i]&&e[i](...t)}),s}})})}(t,this),this._syncList=[],this._data=t}}addElements(){let e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){let t=this._cachedMeta,i=this.getDataset(),n=!1;this._dataCheck();let s=t._stacked;t._stacked=fi(t.vScale,t),t.stack!==i.stack&&(n=!0,fa(t),t.stack=i.stack),this._resyncElements(e),(n||s!==t._stacked)&&fs(this,t._parsed)}configure(){let e=this.chart.config,t=e.datasetScopeKeys(this._type),i=e.getOptionScopes(this.getDataset(),t,!0);this.options=e.createResolver(i,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,t){let i,n,s;let{_cachedMeta:r,_data:a}=this,{iScale:o,_stacked:l}=r,c=o.axis,d=0===e&&t===a.length||r._sorted,u=e>0&&r._parsed[e-1];if(!1===this._parsing)r._parsed=a,r._sorted=!0,s=a;else{s=pY(a[e])?this.parseArrayData(r,a,e,t):pQ(a[e])?this.parseObjectData(r,a,e,t):this.parsePrimitiveData(r,a,e,t);let o=()=>null===n[c]||u&&n[c]<u[c];for(i=0;i<t;++i)r._parsed[i+e]=n=s[i],d&&(o()&&(d=!1),u=n);r._sorted=d}l&&fs(this,s)}parsePrimitiveData(e,t,i,n){let s,r;let{iScale:a,vScale:o}=e,l=a.axis,c=o.axis,d=a.getLabels(),u=a===o,p=Array(n);for(s=0;s<n;++s)r=s+i,p[s]={[l]:u||a.parse(d[r],r),[c]:o.parse(t[r],r)};return p}parseArrayData(e,t,i,n){let s,r,a;let{xScale:o,yScale:l}=e,c=Array(n);for(s=0;s<n;++s)a=t[r=s+i],c[s]={x:o.parse(a[0],r),y:l.parse(a[1],r)};return c}parseObjectData(e,t,i,n){let s,r,a;let{xScale:o,yScale:l}=e,{xAxisKey:c="x",yAxisKey:d="y"}=this._parsing,u=Array(n);for(s=0;s<n;++s)a=t[r=s+i],u[s]={x:o.parse(hn(a,c),r),y:l.parse(hn(a,d),r)};return u}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,t,i){let n=this.chart,s=this._cachedMeta,r=t[e.axis];return ft({keys:fe(n,!0),values:t._stacks[e.axis]._visualValues},r,s.index,{mode:i})}updateRangeFromParsed(e,t,i,n){let s=i[t.axis],r=null===s?NaN:s,a=n&&i._stacks[t.axis];n&&a&&(n.values=a,r=ft(n,s,this._cachedMeta.index)),e.min=Math.min(e.min,r),e.max=Math.max(e.max,r)}getMinMax(e,t){let i,n;let s=this._cachedMeta,r=s._parsed,a=s._sorted&&e===s.iScale,o=r.length,l=this._getOtherScale(e),c=fc(t,s,this.chart),d={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:u,max:p}=function(e){let{min:t,max:i,minDefined:n,maxDefined:s}=e.getUserBounds();return{min:n?t:Number.NEGATIVE_INFINITY,max:s?i:Number.POSITIVE_INFINITY}}(l);function h(){let t=(n=r[i])[l.axis];return!pX(n[e.axis])||u>t||p<t}for(i=0;i<o&&(h()||(this.updateRangeFromParsed(d,e,n,c),!a));++i);if(a){for(i=o-1;i>=0;--i)if(!h()){this.updateRangeFromParsed(d,e,n,c);break}}return d}getAllParsedValues(e){let t,i,n;let s=this._cachedMeta._parsed,r=[];for(t=0,i=s.length;t<i;++t)pX(n=s[t][e.axis])&&r.push(n);return r}getMaxOverflow(){return!1}getLabelAndValue(e){let t=this._cachedMeta,i=t.iScale,n=t.vScale,s=this.getParsed(e);return{label:i?""+i.getLabelForValue(s[i.axis]):"",value:n?""+n.getLabelForValue(s[n.axis]):""}}_update(e){var t;let i,n,s,r;let a=this._cachedMeta;this.update(e||"default"),a._clip=(pQ(t=p0(this.options.clip,function(e,t,i){if(!1===i)return!1;let n=m7(e,i),s=m7(t,i);return{top:s.end,right:n.end,bottom:s.start,left:n.start}}(a.xScale,a.yScale,this.getMaxOverflow())))?(i=t.top,n=t.right,s=t.bottom,r=t.left):i=n=s=r=t,{top:i,right:n,bottom:s,left:r,disabled:!1===t})}update(e){}draw(){let e;let t=this._ctx,i=this.chart,n=this._cachedMeta,s=n.data||[],r=i.chartArea,a=[],o=this._drawStart||0,l=this._drawCount||s.length-o,c=this.options.drawActiveElementsOnTop;for(n.dataset&&n.dataset.draw(t,r,o,l),e=o;e<o+l;++e){let i=s[e];i.hidden||(i.active&&c?a.push(i):i.draw(t,r))}for(e=0;e<a.length;++e)a[e].draw(t,r)}getStyle(e,t){let i=t?"active":"default";return void 0===e&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(i):this.resolveDataElementOptions(e||0,i)}getContext(e,t,i){var n;let s;let r=this.getDataset();if(e>=0&&e<this._cachedMeta.data.length){let t=this._cachedMeta.data[e];(s=t.$context||(t.$context=mb(this.getContext(),{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:t,index:e,mode:"default",type:"data"}))).parsed=this.getParsed(e),s.raw=r.data[e],s.index=s.dataIndex=e}else(s=this.$context||(this.$context=mb(this.chart.getContext(),{active:!1,dataset:void 0,datasetIndex:n=this.index,index:n,mode:"default",type:"dataset"}))).dataset=r,s.index=s.datasetIndex=this.index;return s.active=!!t,s.mode=i,s}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,t){return this._resolveElementOptions(this.dataElementType.id,t,e)}_resolveElementOptions(e,t="default",i){let n="active"===t,s=this._cachedDataOpts,r=e+"-"+t,a=s[r],o=this.enableOptionSharing&&hr(i);if(a)return fl(a,o);let l=this.chart.config,c=l.datasetElementScopeKeys(this._type,e),d=n?[`${e}Hover`,"hover",e,""]:[e,""],u=l.getOptionScopes(this.getDataset(),c),p=Object.keys(h8.elements[e]),h=l.resolveNamedOptions(u,p,()=>this.getContext(i,n,t),d);return h.$shared&&(h.$shared=o,s[r]=Object.freeze(fl(h,o))),h}_resolveAnimations(e,t,i){let n;let s=this.chart,r=this._cachedDataOpts,a=`animation-${t}`,o=r[a];if(o)return o;if(!1!==s.options.animation){let s=this.chart.config,r=s.datasetAnimationScopeKeys(this._type,t),a=s.getOptionScopes(this.getDataset(),r);n=s.createResolver(a,this.getContext(e,i,t))}let l=new m9(s,n&&n.animations);return n&&n._cacheable&&(r[a]=Object.freeze(l)),l}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,t){return!t||fo(e)||this.chart._animationsDisabled}_getSharedOptions(e,t){let i=this.resolveDataElementOptions(e,t),n=this._sharedOptions,s=this.getSharedOptions(i),r=this.includeOptions(t,s)||s!==n;return this.updateSharedOptions(s,t,i),{sharedOptions:s,includeOptions:r}}updateElement(e,t,i,n){fo(n)?Object.assign(e,i):this._resolveAnimations(t,n).update(e,i)}updateSharedOptions(e,t,i){e&&!fo(t)&&this._resolveAnimations(void 0,t).update(e,i)}_setStyle(e,t,i,n){e.active=n;let s=this.getStyle(t,n);this._resolveAnimations(t,i,n).update(e,{options:!n&&this.getSharedOptions(s)||s})}removeHoverStyle(e,t,i){this._setStyle(e,i,"active",!1)}setHoverStyle(e,t,i){this._setStyle(e,i,"active",!0)}_removeDatasetHoverStyle(){let e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){let e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){let t=this._data,i=this._cachedMeta.data;for(let[e,t,i]of this._syncList)this[e](t,i);this._syncList=[];let n=i.length,s=t.length,r=Math.min(s,n);r&&this.parse(0,r),s>n?this._insertElements(n,s-n,e):s<n&&this._removeElements(s,n-s)}_insertElements(e,t,i=!0){let n;let s=this._cachedMeta,r=s.data,a=e+t,o=e=>{for(e.length+=t,n=e.length-1;n>=a;n--)e[n]=e[n-t]};for(o(r),n=e;n<a;++n)r[n]=new this.dataElementType;this._parsing&&o(s._parsed),this.parse(e,t),i&&this.updateElements(r,e,t,"reset")}updateElements(e,t,i,n){}_removeElements(e,t){let i=this._cachedMeta;if(this._parsing){let n=i._parsed.splice(e,t);i._stacked&&fa(i,n)}i.data.splice(e,t)}_sync(e){if(this._parsing)this._syncList.push(e);else{let[t,i,n]=e;this[t](i,n)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){let e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,t){t&&this._sync(["_removeElements",e,t]);let i=arguments.length-2;i&&this._sync(["_insertElements",e,i])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}function fu(e,t,i,n){return pY(e)?function(e,t,i,n){let s=i.parse(e[0],n),r=i.parse(e[1],n),a=Math.min(s,r),o=Math.max(s,r),l=a,c=o;Math.abs(a)>Math.abs(o)&&(l=o,c=a),t[i.axis]=c,t._custom={barStart:l,barEnd:c,start:s,end:r,min:a,max:o}}(e,t,i,n):t[i.axis]=i.parse(e,n),t}function fp(e,t,i,n){let s,r,a,o;let l=e.iScale,c=e.vScale,d=l.getLabels(),u=l===c,p=[];for(s=i,r=i+n;s<r;++s)o=t[s],(a={})[l.axis]=u||l.parse(d[s],s),p.push(fu(o,a,c,s));return p}function fh(e){return e&&void 0!==e.barStart&&void 0!==e.barEnd}function fm(e,t,i,n){var s;return e=n?ff(e=(s=e)===t?i:s===i?t:s,i,t):ff(e,t,i)}function ff(e,t,i){return"start"===e?t:"end"===e?i:e}class fg extends fd{static id="bar";static defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}};static overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};parsePrimitiveData(e,t,i,n){return fp(e,t,i,n)}parseArrayData(e,t,i,n){return fp(e,t,i,n)}parseObjectData(e,t,i,n){let s,r,a,o;let{iScale:l,vScale:c}=e,{xAxisKey:d="x",yAxisKey:u="y"}=this._parsing,p="x"===l.axis?d:u,h="x"===c.axis?d:u,m=[];for(s=i,r=i+n;s<r;++s)o=t[s],(a={})[l.axis]=l.parse(hn(o,p),s),m.push(fu(hn(o,h),a,c,s));return m}updateRangeFromParsed(e,t,i,n){super.updateRangeFromParsed(e,t,i,n);let s=i._custom;s&&t===this._cachedMeta.vScale&&(e.min=Math.min(e.min,s.min),e.max=Math.max(e.max,s.max))}getMaxOverflow(){return 0}getLabelAndValue(e){let{iScale:t,vScale:i}=this._cachedMeta,n=this.getParsed(e),s=n._custom,r=fh(s)?"["+s.start+", "+s.end+"]":""+i.getLabelForValue(n[i.axis]);return{label:""+t.getLabelForValue(n[t.axis]),value:r}}initialize(){this.enableOptionSharing=!0,super.initialize(),this._cachedMeta.stack=this.getDataset().stack}update(e){let t=this._cachedMeta;this.updateElements(t.data,0,t.data.length,e)}updateElements(e,t,i,n){let s="reset"===n,{index:r,_cachedMeta:{vScale:a}}=this,o=a.getBasePixel(),l=a.isHorizontal(),c=this._getRuler(),{sharedOptions:d,includeOptions:u}=this._getSharedOptions(t,n);for(let p=t;p<t+i;p++){let t=this.getParsed(p),i=s||pJ(t[a.axis])?{base:o,head:o}:this._calculateBarValuePixels(p),h=this._calculateBarIndexPixels(p,c),m=(t._stacks||{})[a.axis],f={horizontal:l,base:i.base,enableBorderRadius:!m||fh(t._custom)||r===m._top||r===m._bottom,x:l?i.head:h.center,y:l?h.center:i.head,height:l?h.size:Math.abs(i.size),width:l?Math.abs(i.size):h.size};u&&(f.options=d||this.resolveDataElementOptions(p,e[p].active?"active":n));let g=f.options||e[p].options;(function(e,t,i,n){let s,r,a,o,l,c=t.borderSkipped,d={};if(!c){e.borderSkipped=d;return}if(!0===c){e.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}let{start:u,end:p,reverse:h,top:m,bottom:f}=(e.horizontal?(s=e.base>e.x,r="left",a="right"):(s=e.base<e.y,r="bottom",a="top"),s?(o="end",l="start"):(o="start",l="end"),{start:r,end:a,reverse:s,top:o,bottom:l});"middle"===c&&i&&(e.enableBorderRadius=!0,(i._top||0)===n?c=m:(i._bottom||0)===n?c=f:(d[fm(f,u,p,h)]=!0,c=m)),d[fm(c,u,p,h)]=!0,e.borderSkipped=d})(f,g,m,r),function(e,{inflateAmount:t},i){e.inflateAmount="auto"===t?1===i?.33:0:t}(f,g,c.ratio),this.updateElement(e[p],p,f,n)}}_getStacks(e,t){let{iScale:i}=this._cachedMeta,n=i.getMatchingVisibleMetas(this._type).filter(e=>e.controller.options.grouped),s=i.options.stacked,r=[],a=this._cachedMeta.controller.getParsed(t),o=a&&a[i.axis],l=e=>{let t=e._parsed.find(e=>e[i.axis]===o),n=t&&t[e.vScale.axis];if(pJ(n)||isNaN(n))return!0};for(let i of n)if(!(void 0!==t&&l(i))&&((!1===s||-1===r.indexOf(i.stack)||void 0===s&&void 0===i.stack)&&r.push(i.stack),i.index===e))break;return r.length||r.push(void 0),r}_getStackCount(e){return this._getStacks(void 0,e).length}_getStackIndex(e,t,i){let n=this._getStacks(e,i),s=void 0!==t?n.indexOf(t):-1;return -1===s?n.length-1:s}_getRuler(){let e,t;let i=this.options,n=this._cachedMeta,s=n.iScale,r=[];for(e=0,t=n.data.length;e<t;++e)r.push(s.getPixelForValue(this.getParsed(e)[s.axis],e));let a=i.barThickness;return{min:a||function(e){let t,i,n,s;let r=e.iScale,a=function(e,t){if(!e._cache.$bar){let i=e.getMatchingVisibleMetas(t),n=[];for(let t=0,s=i.length;t<s;t++)n=n.concat(i[t].controller.getAllParsedValues(e));e._cache.$bar=hL(n.sort((e,t)=>e-t))}return e._cache.$bar}(r,e.type),o=r._length,l=()=>{32767!==n&&-32768!==n&&(hr(s)&&(o=Math.min(o,Math.abs(n-s)||o)),s=n)};for(t=0,i=a.length;t<i;++t)n=r.getPixelForValue(a[t]),l();for(t=0,s=void 0,i=r.ticks.length;t<i;++t)n=r.getPixelForTick(t),l();return o}(n),pixels:r,start:s._startPixel,end:s._endPixel,stackCount:this._getStackCount(),scale:s,grouped:i.grouped,ratio:a?1:i.categoryPercentage*i.barPercentage}}_calculateBarValuePixels(e){let t,i;let{_cachedMeta:{vScale:n,_stacked:s,index:r},options:{base:a,minBarLength:o}}=this,l=a||0,c=this.getParsed(e),d=c._custom,u=fh(d),p=c[n.axis],h=0,m=s?this.applyStack(n,c,s):p;m!==p&&(h=m-p,m=p),u&&(p=d.barStart,m=d.barEnd-d.barStart,0!==p&&hv(p)!==hv(d.barEnd)&&(h=0),h+=p);let f=pJ(a)||u?h:a,g=n.getPixelForValue(f);if(Math.abs(i=(t=this.chart.getDataVisibility(e)?n.getPixelForValue(h+m):g)-g)<o){var v;i=(0!==(v=i)?hv(v):(n.isHorizontal()?1:-1)*(n.min>=l?1:-1))*o,p===l&&(g-=i/2);let e=n.getPixelForDecimal(0),a=n.getPixelForDecimal(1);t=(g=Math.max(Math.min(g,Math.max(e,a)),Math.min(e,a)))+i,s&&!u&&(c._stacks[n.axis]._visualValues[r]=n.getValueForPixel(t)-n.getValueForPixel(g))}if(g===n.getPixelForValue(l)){let e=hv(i)*n.getLineWidthForValue(l)/2;g+=e,i-=e}return{size:i,base:g,head:t,center:t+i/2}}_calculateBarIndexPixels(e,t){let i,n;let s=t.scale,r=this.options,a=r.skipNull,o=p0(r.maxBarThickness,1/0);if(t.grouped){let s=a?this._getStackCount(e):t.stackCount,l="flex"===r.barThickness?function(e,t,i,n){let s=t.pixels,r=s[e],a=e>0?s[e-1]:null,o=e<s.length-1?s[e+1]:null,l=i.categoryPercentage;null===a&&(a=r-(null===o?t.end-t.start:o-r)),null===o&&(o=r+r-a);let c=r-(r-Math.min(a,o))/2*l;return{chunk:Math.abs(o-a)/2*l/n,ratio:i.barPercentage,start:c}}(e,t,r,s):function(e,t,i,n){let s,r;let a=i.barThickness;return pJ(a)?(s=t.min*i.categoryPercentage,r=i.barPercentage):(s=a*n,r=1),{chunk:s/n,ratio:r,start:t.pixels[e]-s/2}}(e,t,r,s),c=this._getStackIndex(this.index,this._cachedMeta.stack,a?e:void 0);i=l.start+l.chunk*c+l.chunk/2,n=Math.min(o,l.chunk*l.ratio)}else i=s.getPixelForValue(this.getParsed(e)[s.axis],e),n=Math.min(o,t.min*t.ratio);return{base:i-n/2,head:i+n/2,center:i,size:n}}draw(){let e=this._cachedMeta,t=e.vScale,i=e.data,n=i.length,s=0;for(;s<n;++s)null===this.getParsed(s)[t.axis]||i[s].hidden||i[s].draw(this._ctx)}}class fv extends fd{static id="bubble";static defaults={datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}};static overrides={scales:{x:{type:"linear"},y:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(e,t,i,n){let s=super.parsePrimitiveData(e,t,i,n);for(let e=0;e<s.length;e++)s[e]._custom=this.resolveDataElementOptions(e+i).radius;return s}parseArrayData(e,t,i,n){let s=super.parseArrayData(e,t,i,n);for(let e=0;e<s.length;e++){let n=t[i+e];s[e]._custom=p0(n[2],this.resolveDataElementOptions(e+i).radius)}return s}parseObjectData(e,t,i,n){let s=super.parseObjectData(e,t,i,n);for(let e=0;e<s.length;e++){let n=t[i+e];s[e]._custom=p0(n&&n.r&&+n.r,this.resolveDataElementOptions(e+i).radius)}return s}getMaxOverflow(){let e=this._cachedMeta.data,t=0;for(let i=e.length-1;i>=0;--i)t=Math.max(t,e[i].size(this.resolveDataElementOptions(i))/2);return t>0&&t}getLabelAndValue(e){let t=this._cachedMeta,i=this.chart.data.labels||[],{xScale:n,yScale:s}=t,r=this.getParsed(e),a=n.getLabelForValue(r.x),o=s.getLabelForValue(r.y),l=r._custom;return{label:i[e]||"",value:"("+a+", "+o+(l?", "+l:"")+")"}}update(e){let t=this._cachedMeta.data;this.updateElements(t,0,t.length,e)}updateElements(e,t,i,n){let s="reset"===n,{iScale:r,vScale:a}=this._cachedMeta,{sharedOptions:o,includeOptions:l}=this._getSharedOptions(t,n),c=r.axis,d=a.axis;for(let u=t;u<t+i;u++){let t=e[u],i=!s&&this.getParsed(u),p={},h=p[c]=s?r.getPixelForDecimal(.5):r.getPixelForValue(i[c]),m=p[d]=s?a.getBasePixel():a.getPixelForValue(i[d]);p.skip=isNaN(h)||isNaN(m),l&&(p.options=o||this.resolveDataElementOptions(u,t.active?"active":n),s&&(p.options.radius=0)),this.updateElement(t,u,p,n)}}resolveDataElementOptions(e,t){let i=this.getParsed(e),n=super.resolveDataElementOptions(e,t);n.$shared&&(n=Object.assign({},n,{$shared:!1}));let s=n.radius;return"active"!==t&&(n.radius=0),n.radius+=p0(i&&i._custom,s),n}}class fb extends fd{static id="doughnut";static defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"};static descriptors={_scriptable:e=>"spacing"!==e,_indexable:e=>"spacing"!==e&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){let t=e.data;if(t.labels.length&&t.datasets.length){let{labels:{pointStyle:i,color:n}}=e.legend.options;return t.labels.map((t,s)=>{let r=e.getDatasetMeta(0).controller.getStyle(s);return{text:t,fillStyle:r.backgroundColor,strokeStyle:r.borderColor,fontColor:n,lineWidth:r.borderWidth,pointStyle:i,hidden:!e.getDataVisibility(s),index:s}})}return[]}},onClick(e,t,i){i.chart.toggleDataVisibility(t.index),i.chart.update()}}}};constructor(e,t){super(e,t),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,t){let i=this.getDataset().data,n=this._cachedMeta;if(!1===this._parsing)n._parsed=i;else{let s,r,a=e=>+i[e];if(pQ(i[e])){let{key:e="value"}=this._parsing;a=t=>+hn(i[t],e)}for(s=e,r=e+t;s<r;++s)n._parsed[s]=a(s)}}_getRotation(){return hw(this.options.rotation-90)}_getCircumference(){return hw(this.options.circumference)}_getRotationExtents(){let e=hc,t=-hc;for(let i=0;i<this.chart.data.datasets.length;++i)if(this.chart.isDatasetVisible(i)&&this.chart.getDatasetMeta(i).type===this._type){let n=this.chart.getDatasetMeta(i).controller,s=n._getRotation(),r=n._getCircumference();e=Math.min(e,s),t=Math.max(t,s+r)}return{rotation:e,circumference:t-e}}update(e){let{chartArea:t}=this.chart,i=this._cachedMeta,n=i.data,s=this.getMaxBorderWidth()+this.getMaxOffset(n)+this.options.spacing,r=Math.max((Math.min(t.width,t.height)-s)/2,0),a=Math.min(p1(this.options.cutout,r),1),o=this._getRingWeight(this.index),{circumference:l,rotation:c}=this._getRotationExtents(),{ratioX:d,ratioY:u,offsetX:p,offsetY:h}=function(e,t,i){let n=1,s=1,r=0,a=0;if(t<hc){let o=e+t,l=Math.cos(e),c=Math.sin(e),d=Math.cos(o),u=Math.sin(o),p=(t,n,s)=>hR(t,e,o,!0)?1:Math.max(n,n*i,s,s*i),h=(t,n,s)=>hR(t,e,o,!0)?-1:Math.min(n,n*i,s,s*i),m=p(0,l,d),f=p(hh,c,u),g=h(hl,l,d),v=h(hl+hh,c,u);n=(m-g)/2,s=(f-v)/2,r=-(m+g)/2,a=-(f+v)/2}return{ratioX:n,ratioY:s,offsetX:r,offsetY:a}}(c,l,a),m=(t.width-s)/d,f=(t.height-s)/u,g=p2(this.options.radius,Math.max(Math.min(m,f)/2,0)),v=Math.max(g*a,0),b=(g-v)/this._getVisibleDatasetWeightTotal();this.offsetX=p*g,this.offsetY=h*g,i.total=this.calculateTotal(),this.outerRadius=g-b*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-b*o,0),this.updateElements(n,0,n.length,e)}_circumference(e,t){let i=this.options,n=this._cachedMeta,s=this._getCircumference();return t&&i.animation.animateRotate||!this.chart.getDataVisibility(e)||null===n._parsed[e]||n.data[e].hidden?0:this.calculateCircumference(n._parsed[e]*s/hc)}updateElements(e,t,i,n){let s;let r="reset"===n,a=this.chart,o=a.chartArea,l=a.options.animation,c=(o.left+o.right)/2,d=(o.top+o.bottom)/2,u=r&&l.animateScale,p=u?0:this.innerRadius,h=u?0:this.outerRadius,{sharedOptions:m,includeOptions:f}=this._getSharedOptions(t,n),g=this._getRotation();for(s=0;s<t;++s)g+=this._circumference(s,r);for(s=t;s<t+i;++s){let t=this._circumference(s,r),i=e[s],a={x:c+this.offsetX,y:d+this.offsetY,startAngle:g,endAngle:g+t,circumference:t,outerRadius:h,innerRadius:p};f&&(a.options=m||this.resolveDataElementOptions(s,i.active?"active":n)),g+=t,this.updateElement(i,s,a,n)}}calculateTotal(){let e;let t=this._cachedMeta,i=t.data,n=0;for(e=0;e<i.length;e++){let s=t._parsed[e];null!==s&&!isNaN(s)&&this.chart.getDataVisibility(e)&&!i[e].hidden&&(n+=Math.abs(s))}return n}calculateCircumference(e){let t=this._cachedMeta.total;return t>0&&!isNaN(e)?Math.abs(e)/t*hc:0}getLabelAndValue(e){let t=this._cachedMeta,i=this.chart,n=i.data.labels||[],s=hZ(t._parsed[e],i.options.locale);return{label:n[e]||"",value:s}}getMaxBorderWidth(e){let t,i,n,s,r,a=0,o=this.chart;if(!e){for(t=0,i=o.data.datasets.length;t<i;++t)if(o.isDatasetVisible(t)){e=(n=o.getDatasetMeta(t)).data,s=n.controller;break}}if(!e)return 0;for(t=0,i=e.length;t<i;++t)"inner"!==(r=s.resolveDataElementOptions(t)).borderAlign&&(a=Math.max(a,r.borderWidth||0,r.hoverBorderWidth||0));return a}getMaxOffset(e){let t=0;for(let i=0,n=e.length;i<n;++i){let e=this.resolveDataElementOptions(i);t=Math.max(t,e.offset||0,e.hoverOffset||0)}return t}_getRingWeightOffset(e){let t=0;for(let i=0;i<e;++i)this.chart.isDatasetVisible(i)&&(t+=this._getRingWeight(i));return t}_getRingWeight(e){return Math.max(p0(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}class fy extends fd{static id="line";static defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1};static overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){let t=this._cachedMeta,{dataset:i,data:n=[],_dataset:s}=t,r=this.chart._animationsDisabled,{start:a,count:o}=h$(t,n,r);this._drawStart=a,this._drawCount=o,hq(t)&&(a=0,o=n.length),i._chart=this.chart,i._datasetIndex=this.index,i._decimated=!!s._decimated,i.points=n;let l=this.resolveDatasetElementOptions(e);this.options.showLine||(l.borderWidth=0),l.segment=this.options.segment,this.updateElement(i,void 0,{animated:!r,options:l},e),this.updateElements(n,a,o,e)}updateElements(e,t,i,n){let s="reset"===n,{iScale:r,vScale:a,_stacked:o,_dataset:l}=this._cachedMeta,{sharedOptions:c,includeOptions:d}=this._getSharedOptions(t,n),u=r.axis,p=a.axis,{spanGaps:h,segment:m}=this.options,f=hx(h)?h:Number.POSITIVE_INFINITY,g=this.chart._animationsDisabled||s||"none"===n,v=t+i,b=e.length,y=t>0&&this.getParsed(t-1);for(let i=0;i<b;++i){let h=e[i],b=g?h:{};if(i<t||i>=v){b.skip=!0;continue}let x=this.getParsed(i),_=pJ(x[p]),w=b[u]=r.getPixelForValue(x[u],i),S=b[p]=s||_?a.getBasePixel():a.getPixelForValue(o?this.applyStack(a,x,o):x[p],i);b.skip=isNaN(w)||isNaN(S)||_,b.stop=i>0&&Math.abs(x[u]-y[u])>f,m&&(b.parsed=x,b.raw=l.data[i]),d&&(b.options=c||this.resolveDataElementOptions(i,h.active?"active":n)),g||this.updateElement(h,i,b,n),y=x}}getMaxOverflow(){let e=this._cachedMeta,t=e.dataset,i=t.options&&t.options.borderWidth||0,n=e.data||[];return n.length?Math.max(i,n[0].size(this.resolveDataElementOptions(0)),n[n.length-1].size(this.resolveDataElementOptions(n.length-1)))/2:i}draw(){let e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}class fx extends fd{static id="polarArea";static defaults={dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){let t=e.data;if(t.labels.length&&t.datasets.length){let{labels:{pointStyle:i,color:n}}=e.legend.options;return t.labels.map((t,s)=>{let r=e.getDatasetMeta(0).controller.getStyle(s);return{text:t,fillStyle:r.backgroundColor,strokeStyle:r.borderColor,fontColor:n,lineWidth:r.borderWidth,pointStyle:i,hidden:!e.getDataVisibility(s),index:s}})}return[]}},onClick(e,t,i){i.chart.toggleDataVisibility(t.index),i.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}};constructor(e,t){super(e,t),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(e){let t=this._cachedMeta,i=this.chart,n=i.data.labels||[],s=hZ(t._parsed[e].r,i.options.locale);return{label:n[e]||"",value:s}}parseObjectData(e,t,i,n){return mP.bind(this)(e,t,i,n)}update(e){let t=this._cachedMeta.data;this._updateRadius(),this.updateElements(t,0,t.length,e)}getMinMax(){let e=this._cachedMeta,t={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return e.data.forEach((e,i)=>{let n=this.getParsed(i).r;!isNaN(n)&&this.chart.getDataVisibility(i)&&(n<t.min&&(t.min=n),n>t.max&&(t.max=n))}),t}_updateRadius(){let e=this.chart,t=e.chartArea,i=e.options,n=Math.max(Math.min(t.right-t.left,t.bottom-t.top)/2,0),s=Math.max(i.cutoutPercentage?n/100*i.cutoutPercentage:1,0),r=(n-s)/e.getVisibleDatasetCount();this.outerRadius=n-r*this.index,this.innerRadius=this.outerRadius-r}updateElements(e,t,i,n){let s;let r="reset"===n,a=this.chart,o=a.options.animation,l=this._cachedMeta.rScale,c=l.xCenter,d=l.yCenter,u=l.getIndexAngle(0)-.5*hl,p=u,h=360/this.countVisibleElements();for(s=0;s<t;++s)p+=this._computeAngle(s,n,h);for(s=t;s<t+i;s++){let t=e[s],i=p,m=p+this._computeAngle(s,n,h),f=a.getDataVisibility(s)?l.getDistanceFromCenterForValue(this.getParsed(s).r):0;p=m,r&&(o.animateScale&&(f=0),o.animateRotate&&(i=m=u));let g={x:c,y:d,innerRadius:0,outerRadius:f,startAngle:i,endAngle:m,options:this.resolveDataElementOptions(s,t.active?"active":n)};this.updateElement(t,s,g,n)}}countVisibleElements(){let e=this._cachedMeta,t=0;return e.data.forEach((e,i)=>{!isNaN(this.getParsed(i).r)&&this.chart.getDataVisibility(i)&&t++}),t}_computeAngle(e,t,i){return this.chart.getDataVisibility(e)?hw(this.resolveDataElementOptions(e,t).angle||i):0}}class f_ extends fb{static id="pie";static defaults={cutout:0,rotation:0,circumference:360,radius:"100%"}}class fw extends fd{static id="radar";static defaults={datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}};static overrides={aspectRatio:1,scales:{r:{type:"radialLinear"}}};getLabelAndValue(e){let t=this._cachedMeta.vScale,i=this.getParsed(e);return{label:t.getLabels()[e],value:""+t.getLabelForValue(i[t.axis])}}parseObjectData(e,t,i,n){return mP.bind(this)(e,t,i,n)}update(e){let t=this._cachedMeta,i=t.dataset,n=t.data||[],s=t.iScale.getLabels();if(i.points=n,"resize"!==e){let t=this.resolveDatasetElementOptions(e);this.options.showLine||(t.borderWidth=0);let r={_loop:!0,_fullLoop:s.length===n.length,options:t};this.updateElement(i,void 0,r,e)}this.updateElements(n,0,n.length,e)}updateElements(e,t,i,n){let s=this._cachedMeta.rScale,r="reset"===n;for(let a=t;a<t+i;a++){let t=e[a],i=this.resolveDataElementOptions(a,t.active?"active":n),o=s.getPointPositionForValue(a,this.getParsed(a).r),l=r?s.xCenter:o.x,c=r?s.yCenter:o.y,d={x:l,y:c,angle:o.angle,skip:isNaN(l)||isNaN(c),options:i};this.updateElement(t,a,d,n)}}}class fS extends fd{static id="scatter";static defaults={datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1};static overrides={interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}};getLabelAndValue(e){let t=this._cachedMeta,i=this.chart.data.labels||[],{xScale:n,yScale:s}=t,r=this.getParsed(e),a=n.getLabelForValue(r.x),o=s.getLabelForValue(r.y);return{label:i[e]||"",value:"("+a+", "+o+")"}}update(e){let t=this._cachedMeta,{data:i=[]}=t,n=this.chart._animationsDisabled,{start:s,count:r}=h$(t,i,n);if(this._drawStart=s,this._drawCount=r,hq(t)&&(s=0,r=i.length),this.options.showLine){this.datasetElementType||this.addElements();let{dataset:s,_dataset:r}=t;s._chart=this.chart,s._datasetIndex=this.index,s._decimated=!!r._decimated,s.points=i;let a=this.resolveDatasetElementOptions(e);a.segment=this.options.segment,this.updateElement(s,void 0,{animated:!n,options:a},e)}else this.datasetElementType&&(delete t.dataset,this.datasetElementType=!1);this.updateElements(i,s,r,e)}addElements(){let{showLine:e}=this.options;!this.datasetElementType&&e&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(e,t,i,n){let s="reset"===n,{iScale:r,vScale:a,_stacked:o,_dataset:l}=this._cachedMeta,c=this.resolveDataElementOptions(t,n),d=this.getSharedOptions(c),u=this.includeOptions(n,d),p=r.axis,h=a.axis,{spanGaps:m,segment:f}=this.options,g=hx(m)?m:Number.POSITIVE_INFINITY,v=this.chart._animationsDisabled||s||"none"===n,b=t>0&&this.getParsed(t-1);for(let c=t;c<t+i;++c){let t=e[c],i=this.getParsed(c),m=v?t:{},y=pJ(i[h]),x=m[p]=r.getPixelForValue(i[p],c),_=m[h]=s||y?a.getBasePixel():a.getPixelForValue(o?this.applyStack(a,i,o):i[h],c);m.skip=isNaN(x)||isNaN(_)||y,m.stop=c>0&&Math.abs(i[p]-b[p])>g,f&&(m.parsed=i,m.raw=l.data[c]),u&&(m.options=d||this.resolveDataElementOptions(c,t.active?"active":n)),v||this.updateElement(t,c,m,n),b=i}this.updateSharedOptions(d,n,c)}getMaxOverflow(){let e=this._cachedMeta,t=e.data||[];if(!this.options.showLine){let e=0;for(let i=t.length-1;i>=0;--i)e=Math.max(e,t[i].size(this.resolveDataElementOptions(i))/2);return e>0&&e}let i=e.dataset,n=i.options&&i.options.borderWidth||0;return t.length?Math.max(n,t[0].size(this.resolveDataElementOptions(0)),t[t.length-1].size(this.resolveDataElementOptions(t.length-1)))/2:n}}function fk(){throw Error("This method is not implemented: Check that a complete date adapter is provided.")}class fE{static override(e){Object.assign(fE.prototype,e)}options;constructor(e){this.options=e||{}}init(){}formats(){return fk()}parse(){return fk()}format(){return fk()}add(){return fk()}diff(){return fk()}startOf(){return fk()}endOf(){return fk()}}var fT={_date:fE};function fC(e,t,i,n,s){let r=e.getSortedVisibleDatasetMetas(),a=i[t];for(let e=0,i=r.length;e<i;++e){let{index:i,data:o}=r[e],{lo:l,hi:c}=function(e,t,i,n){let{controller:s,data:r,_sorted:a}=e,o=s._cachedMeta.iScale;if(o&&t===o.axis&&"r"!==t&&a&&r.length){let e=o._reversePixels?hN:hI;if(!n)return e(r,t,i);if(s._sharedOptions){let n=r[0],s="function"==typeof n.getRange&&n.getRange(t);if(s){let n=e(r,t,i-s),a=e(r,t,i+s);return{lo:n.lo,hi:a.hi}}}}return{lo:0,hi:r.length-1}}(r[e],t,a,s);for(let e=l;e<=c;++e){let t=o[e];t.skip||n(t,i,e)}}}function fR(e,t,i,n,s){let r=[];return(s||e.isPointInArea(t))&&fC(e,i,t,function(i,a,o){(s||mi(i,e.chartArea,0))&&i.inRange(t.x,t.y,n)&&r.push({element:i,datasetIndex:a,index:o})},!0),r}function fO(e,t,i,n,s,r){let a;return r||e.isPointInArea(t)?"r"!==i||n?function(e,t,i,n,s,r){let a=[],o=function(e){let t=-1!==e.indexOf("x"),i=-1!==e.indexOf("y");return function(e,n){return Math.sqrt(Math.pow(t?Math.abs(e.x-n.x):0,2)+Math.pow(i?Math.abs(e.y-n.y):0,2))}}(i),l=Number.POSITIVE_INFINITY;return fC(e,i,t,function(i,c,d){let u=i.inRange(t.x,t.y,s);if(n&&!u)return;let p=i.getCenterPoint(s);if(!(r||e.isPointInArea(p))&&!u)return;let h=o(t,p);h<l?(a=[{element:i,datasetIndex:c,index:d}],l=h):h===l&&a.push({element:i,datasetIndex:c,index:d})}),a}(e,t,i,n,s,r):(a=[],fC(e,i,t,function(e,i,n){let{startAngle:r,endAngle:o}=e.getProps(["startAngle","endAngle"],s),{angle:l}=hk(e,{x:t.x,y:t.y});hR(l,r,o)&&a.push({element:e,datasetIndex:i,index:n})}),a):[]}function fP(e,t,i,n,s){let r=[],a="x"===i?"inXRange":"inYRange",o=!1;return(fC(e,i,t,(e,n,l)=>{e[a]&&e[a](t[i],s)&&(r.push({element:e,datasetIndex:n,index:l}),o=o||e.inRange(t.x,t.y,s))}),n&&!o)?[]:r}var fj={modes:{index(e,t,i,n){let s=mq(t,e),r=i.axis||"x",a=i.includeInvisible||!1,o=i.intersect?fR(e,s,r,n,a):fO(e,s,r,!1,n,a),l=[];return o.length?(e.getSortedVisibleDatasetMetas().forEach(e=>{let t=o[0].index,i=e.data[t];i&&!i.skip&&l.push({element:i,datasetIndex:e.index,index:t})}),l):[]},dataset(e,t,i,n){let s=mq(t,e),r=i.axis||"xy",a=i.includeInvisible||!1,o=i.intersect?fR(e,s,r,n,a):fO(e,s,r,!1,n,a);if(o.length>0){let t=o[0].datasetIndex,i=e.getDatasetMeta(t).data;o=[];for(let e=0;e<i.length;++e)o.push({element:i[e],datasetIndex:t,index:e})}return o},point(e,t,i,n){let s=mq(t,e);return fR(e,s,i.axis||"xy",n,i.includeInvisible||!1)},nearest(e,t,i,n){let s=mq(t,e),r=i.axis||"xy",a=i.includeInvisible||!1;return fO(e,s,r,i.intersect,n,a)},x(e,t,i,n){let s=mq(t,e);return fP(e,s,"x",i.intersect,n)},y(e,t,i,n){let s=mq(t,e);return fP(e,s,"y",i.intersect,n)}}};let fI=["left","top","right","bottom"];function fN(e,t){return e.filter(e=>e.pos===t)}function fD(e,t){return e.filter(e=>-1===fI.indexOf(e.pos)&&e.box.axis===t)}function fA(e,t){return e.sort((e,i)=>{let n=t?i:e,s=t?e:i;return n.weight===s.weight?n.index-s.index:n.weight-s.weight})}function fL(e,t,i,n){return Math.max(e[i],t[i])+Math.max(e[n],t[n])}function fM(e,t){e.top=Math.max(e.top,t.top),e.left=Math.max(e.left,t.left),e.bottom=Math.max(e.bottom,t.bottom),e.right=Math.max(e.right,t.right)}function fU(e,t,i,n){let s,r,a,o,l,c;let d=[];for(s=0,r=e.length,l=0;s<r;++s){(o=(a=e[s]).box).update(a.width||t.w,a.height||t.h,function(e,t){let i=t.maxPadding;return function(e){let n={left:0,top:0,right:0,bottom:0};return e.forEach(e=>{n[e]=Math.max(t[e],i[e])}),n}(e?["left","right"]:["top","bottom"])}(a.horizontal,t));let{same:r,other:u}=function(e,t,i,n){let{pos:s,box:r}=i,a=e.maxPadding;if(!pQ(s)){i.size&&(e[s]-=i.size);let t=n[i.stack]||{size:0,count:1};t.size=Math.max(t.size,i.horizontal?r.height:r.width),i.size=t.size/t.count,e[s]+=i.size}r.getPadding&&fM(a,r.getPadding());let o=Math.max(0,t.outerWidth-fL(a,e,"left","right")),l=Math.max(0,t.outerHeight-fL(a,e,"top","bottom")),c=o!==e.w,d=l!==e.h;return e.w=o,e.h=l,i.horizontal?{same:c,other:d}:{same:d,other:c}}(t,i,a,n);l|=r&&d.length,c=c||u,o.fullSize||d.push(a)}return l&&fU(d,t,i,n)||c}function fF(e,t,i,n,s){e.top=i,e.left=t,e.right=t+n,e.bottom=i+s,e.width=n,e.height=s}function fB(e,t,i,n){let s=i.padding,{x:r,y:a}=t;for(let o of e){let e=o.box,l=n[o.stack]||{count:1,placed:0,weight:1},c=o.stackWeight/l.weight||1;if(o.horizontal){let n=t.w*c,r=l.size||e.height;hr(l.start)&&(a=l.start),e.fullSize?fF(e,s.left,a,i.outerWidth-s.right-s.left,r):fF(e,t.left+l.placed,a,n,r),l.start=a,l.placed+=n,a=e.bottom}else{let n=t.h*c,a=l.size||e.width;hr(l.start)&&(r=l.start),e.fullSize?fF(e,r,s.top,a,i.outerHeight-s.bottom-s.top):fF(e,r,t.top+l.placed,a,n),l.start=r,l.placed+=n,r=e.right}}t.x=r,t.y=a}var f$={addBox(e,t){e.boxes||(e.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(e){t.draw(e)}}]},e.boxes.push(t)},removeBox(e,t){let i=e.boxes?e.boxes.indexOf(t):-1;-1!==i&&e.boxes.splice(i,1)},configure(e,t,i){t.fullSize=i.fullSize,t.position=i.position,t.weight=i.weight},update(e,t,i,n){if(!e)return;let s=mf(e.options.layout.padding),r=Math.max(t-s.width,0),a=Math.max(i-s.height,0),o=function(e){let t=function(e){let t,i,n,s,r,a;let o=[];for(t=0,i=(e||[]).length;t<i;++t)n=e[t],({position:s,options:{stack:r,stackWeight:a=1}}=n),o.push({index:t,box:n,pos:s,horizontal:n.isHorizontal(),weight:n.weight,stack:r&&s+r,stackWeight:a});return o}(e),i=fA(t.filter(e=>e.box.fullSize),!0),n=fA(fN(t,"left"),!0),s=fA(fN(t,"right")),r=fA(fN(t,"top"),!0),a=fA(fN(t,"bottom")),o=fD(t,"x"),l=fD(t,"y");return{fullSize:i,leftAndTop:n.concat(r),rightAndBottom:s.concat(l).concat(a).concat(o),chartArea:fN(t,"chartArea"),vertical:n.concat(s).concat(l),horizontal:r.concat(a).concat(o)}}(e.boxes),l=o.vertical,c=o.horizontal;p4(e.boxes,e=>{"function"==typeof e.beforeLayout&&e.beforeLayout()});let d=Object.freeze({outerWidth:t,outerHeight:i,padding:s,availableWidth:r,availableHeight:a,vBoxMaxWidth:r/2/(l.reduce((e,t)=>t.box.options&&!1===t.box.options.display?e:e+1,0)||1),hBoxMaxHeight:a/2}),u=Object.assign({},s);fM(u,mf(n));let p=Object.assign({maxPadding:u,w:r,h:a,x:s.left,y:s.top},s),h=function(e,t){let i,n,s;let r=function(e){let t={};for(let i of e){let{stack:e,pos:n,stackWeight:s}=i;if(!e||!fI.includes(n))continue;let r=t[e]||(t[e]={count:0,placed:0,weight:0,size:0});r.count++,r.weight+=s}return t}(e),{vBoxMaxWidth:a,hBoxMaxHeight:o}=t;for(i=0,n=e.length;i<n;++i){let{fullSize:n}=(s=e[i]).box,l=r[s.stack],c=l&&s.stackWeight/l.weight;s.horizontal?(s.width=c?c*a:n&&t.availableWidth,s.height=o):(s.width=a,s.height=c?c*o:n&&t.availableHeight)}return r}(l.concat(c),d);fU(o.fullSize,p,d,h),fU(l,p,d,h),fU(c,p,d,h)&&fU(l,p,d,h),function(e){let t=e.maxPadding;function i(i){let n=Math.max(t[i]-e[i],0);return e[i]+=n,n}e.y+=i("top"),e.x+=i("left"),i("right"),i("bottom")}(p),fB(o.leftAndTop,p,d,h),p.x+=p.w,p.y+=p.h,fB(o.rightAndBottom,p,d,h),e.chartArea={left:p.left,top:p.top,right:p.left+p.w,bottom:p.top+p.h,height:p.h,width:p.w},p4(o.chartArea,t=>{let i=t.box;Object.assign(i,e.chartArea),i.update(p.w,p.h,{left:0,top:0,right:0,bottom:0})})}};class fq{acquireContext(e,t){}releaseContext(e){return!1}addEventListener(e,t,i){}removeEventListener(e,t,i){}getDevicePixelRatio(){return 1}getMaximumSize(e,t,i,n){return t=Math.max(0,t||e.width),i=i||e.height,{width:t,height:Math.max(0,n?Math.floor(t/n):i)}}isAttached(e){return!0}updateConfig(e){}}class fV extends fq{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}let fW="$chartjs",fz={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},fH=e=>null===e||""===e,fK=!!mz&&{passive:!0};function fG(e,t){for(let i of e)if(i===t||i.contains(t))return!0}function fJ(e,t,i){let n=e.canvas,s=new MutationObserver(e=>{let t=!1;for(let i of e)t=(t=t||fG(i.addedNodes,n))&&!fG(i.removedNodes,n);t&&i()});return s.observe(document,{childList:!0,subtree:!0}),s}function fY(e,t,i){let n=e.canvas,s=new MutationObserver(e=>{let t=!1;for(let i of e)t=(t=t||fG(i.removedNodes,n))&&!fG(i.addedNodes,n);t&&i()});return s.observe(document,{childList:!0,subtree:!0}),s}let fQ=new Map,fX=0;function fZ(){let e=window.devicePixelRatio;e!==fX&&(fX=e,fQ.forEach((t,i)=>{i.currentDevicePixelRatio!==e&&t()}))}function f0(e,t,i){let n=e.canvas,s=n&&mL(n);if(!s)return;let r=hU((e,t)=>{let n=s.clientWidth;i(e,t),n<s.clientWidth&&i()},window),a=new ResizeObserver(e=>{let t=e[0],i=t.contentRect.width,n=t.contentRect.height;(0!==i||0!==n)&&r(i,n)});return a.observe(s),fQ.size||window.addEventListener("resize",fZ),fQ.set(e,r),a}function f1(e,t,i){i&&i.disconnect(),"resize"===t&&(fQ.delete(e),fQ.size||window.removeEventListener("resize",fZ))}function f2(e,t,i){let n=e.canvas,s=hU(t=>{null!==e.ctx&&i(function(e,t){let i=fz[e.type]||e.type,{x:n,y:s}=mq(e,t);return{type:i,chart:t,native:e,x:void 0!==n?n:null,y:void 0!==s?s:null}}(t,e))},e);return n&&n.addEventListener(t,s,fK),s}class f3 extends fq{acquireContext(e,t){let i=e&&e.getContext&&e.getContext("2d");return i&&i.canvas===e?(function(e,t){let i=e.style,n=e.getAttribute("height"),s=e.getAttribute("width");if(e[fW]={initial:{height:n,width:s,style:{display:i.display,height:i.height,width:i.width}}},i.display=i.display||"block",i.boxSizing=i.boxSizing||"border-box",fH(s)){let t=mH(e,"width");void 0!==t&&(e.width=t)}if(fH(n)){if(""===e.style.height)e.height=e.width/(t||2);else{let t=mH(e,"height");void 0!==t&&(e.height=t)}}}(e,t),i):null}releaseContext(e){let t=e.canvas;if(!t[fW])return!1;let i=t[fW].initial;["height","width"].forEach(e=>{let n=i[e];pJ(n)?t.removeAttribute(e):t.setAttribute(e,n)});let n=i.style||{};return Object.keys(n).forEach(e=>{t.style[e]=n[e]}),t.width=t.width,delete t[fW],!0}addEventListener(e,t,i){this.removeEventListener(e,t);let n=e.$proxies||(e.$proxies={}),s={attach:fJ,detach:fY,resize:f0}[t]||f2;n[t]=s(e,t,i)}removeEventListener(e,t){let i=e.$proxies||(e.$proxies={}),n=i[t];n&&((({attach:f1,detach:f1,resize:f1})[t]||function(e,t,i){e&&e.canvas&&e.canvas.removeEventListener(t,i,fK)})(e,t,n),i[t]=void 0)}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,t,i,n){return function(e,t,i,n){let s=mU(e),r=mB(s,"margin"),a=mM(s.maxWidth,e,"clientWidth")||hu,o=mM(s.maxHeight,e,"clientHeight")||hu,l=function(e,t,i){let n,s;if(void 0===t||void 0===i){let r=e&&mL(e);if(r){let e=r.getBoundingClientRect(),a=mU(r),o=mB(a,"border","width"),l=mB(a,"padding");t=e.width-l.width-o.width,i=e.height-l.height-o.height,n=mM(a.maxWidth,r,"clientWidth"),s=mM(a.maxHeight,r,"clientHeight")}else t=e.clientWidth,i=e.clientHeight}return{width:t,height:i,maxWidth:n||hu,maxHeight:s||hu}}(e,t,i),{width:c,height:d}=l;if("content-box"===s.boxSizing){let e=mB(s,"border","width"),t=mB(s,"padding");c-=t.width+e.width,d-=t.height+e.height}return c=Math.max(0,c-r.width),d=Math.max(0,n?c/n:d-r.height),c=mV(Math.min(c,a,l.maxWidth)),d=mV(Math.min(d,o,l.maxHeight)),c&&!d&&(d=mV(c/2)),(void 0!==t||void 0!==i)&&n&&l.height&&d>l.height&&(c=mV(Math.floor((d=l.height)*n))),{width:c,height:d}}(e,t,i,n)}isAttached(e){let t=e&&mL(e);return!!(t&&t.isConnected)}}class f4{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(e){let{x:t,y:i}=this.getProps(["x","y"],e);return{x:t,y:i}}hasValue(){return hx(this.x)&&hx(this.y)}getProps(e,t){let i=this.$animations;if(!t||!i)return this;let n={};return e.forEach(e=>{n[e]=i[e]&&i[e].active()?i[e]._to:this[e]}),n}}function f5(e,t,i,n,s){let r,a,o;let l=p0(n,0),c=Math.min(p0(s,e.length),e.length),d=0;for(i=Math.ceil(i),s&&(i=(r=s-n)/Math.floor(r/i)),o=l;o<0;)o=Math.round(l+ ++d*i);for(a=Math.max(l,0);a<c;a++)a===o&&(t.push(e[a]),o=Math.round(l+ ++d*i))}let f6=e=>"left"===e?"right":"right"===e?"left":e,f8=(e,t,i)=>"top"===t||"left"===t?e[t]+i:e[t]-i,f9=(e,t)=>Math.min(t||e,e);function f7(e,t){let i=[],n=e.length/t,s=e.length,r=0;for(;r<s;r+=n)i.push(e[Math.floor(r)]);return i}function ge(e){return e.drawTicks?e.tickLength:0}function gt(e,t){if(!e.display)return 0;let i=mg(e.font,t),n=mf(e.padding);return(pY(e.text)?e.text.length:1)*i.lineHeight+n.height}class gi extends f4{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,t){return e}getUserBounds(){let{_userMin:e,_userMax:t,_suggestedMin:i,_suggestedMax:n}=this;return e=pZ(e,Number.POSITIVE_INFINITY),t=pZ(t,Number.NEGATIVE_INFINITY),i=pZ(i,Number.POSITIVE_INFINITY),n=pZ(n,Number.NEGATIVE_INFINITY),{min:pZ(e,i),max:pZ(t,n),minDefined:pX(e),maxDefined:pX(t)}}getMinMax(e){let t,{min:i,max:n,minDefined:s,maxDefined:r}=this.getUserBounds();if(s&&r)return{min:i,max:n};let a=this.getMatchingVisibleMetas();for(let o=0,l=a.length;o<l;++o)t=a[o].controller.getMinMax(this,e),s||(i=Math.min(i,t.min)),r||(n=Math.max(n,t.max));return i=r&&i>n?n:i,n=s&&i>n?i:n,{min:pZ(i,pZ(n,i)),max:pZ(n,pZ(i,n))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){let e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){p3(this.options.beforeUpdate,[this])}update(e,t,i){let{beginAtZero:n,grace:s,ticks:r}=this.options,a=r.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=t,this._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+i.left+i.right:this.height+i.top+i.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=function(e,t,i){let{min:n,max:s}=e,r=p2(t,(s-n)/2),a=(e,t)=>i&&0===e?0:e+t;return{min:a(n,-Math.abs(r)),max:a(s,r)}}(this,s,n),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();let o=a<this.ticks.length;this._convertTicksToLabels(o?f7(this.ticks,a):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),r.display&&(r.autoSkip||"auto"===r.source)&&(this.ticks=function(e,t){let i=e.options.ticks,n=function(e){let t=e.options.offset,i=e._tickSize();return Math.floor(Math.min(e._length/i+(t?0:1),e._maxLength/i))}(e),s=Math.min(i.maxTicksLimit||n,n),r=i.major.enabled?function(e){let t,i;let n=[];for(t=0,i=e.length;t<i;t++)e[t].major&&n.push(t);return n}(t):[],a=r.length,o=r[0],l=r[a-1],c=[];if(a>s)return function(e,t,i,n){let s,r=0,a=i[0];for(s=0,n=Math.ceil(n);s<e.length;s++)s===a&&(t.push(e[s]),a=i[++r*n])}(t,c,r,a/s),c;let d=function(e,t,i){let n=function(e){let t,i;let n=e.length;if(n<2)return!1;for(i=e[0],t=1;t<n;++t)if(e[t]-e[t-1]!==i)return!1;return i}(e),s=t.length/i;if(!n)return Math.max(s,1);let r=function(e){let t;let i=[],n=Math.sqrt(e);for(t=1;t<n;t++)e%t==0&&(i.push(t),i.push(e/t));return n===(0|n)&&i.push(n),i.sort((e,t)=>e-t).pop(),i}(n);for(let e=0,t=r.length-1;e<t;e++){let t=r[e];if(t>s)return t}return Math.max(s,1)}(r,t,s);if(a>0){let e,i;let n=a>1?Math.round((l-o)/(a-1)):null;for(f5(t,c,d,pJ(n)?0:o-n,o),e=0,i=a-1;e<i;e++)f5(t,c,d,r[e],r[e+1]);return f5(t,c,d,l,pJ(n)?t.length:l+n),c}return f5(t,c,d),c}(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),o&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e,t,i=this.options.reverse;this.isHorizontal()?(e=this.left,t=this.right):(e=this.top,t=this.bottom,i=!i),this._startPixel=e,this._endPixel=t,this._reversePixels=i,this._length=t-e,this._alignToPixels=this.options.alignToPixels}afterUpdate(){p3(this.options.afterUpdate,[this])}beforeSetDimensions(){p3(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){p3(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),p3(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){p3(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){let t,i,n;let s=this.options.ticks;for(t=0,i=e.length;t<i;t++)(n=e[t]).label=p3(s.callback,[n.value,t,e],this)}afterTickToLabelConversion(){p3(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){p3(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){let e,t,i;let n=this.options,s=n.ticks,r=f9(this.ticks.length,n.ticks.maxTicksLimit),a=s.minRotation||0,o=s.maxRotation,l=a;if(!this._isVisible()||!s.display||a>=o||r<=1||!this.isHorizontal()){this.labelRotation=a;return}let c=this._getLabelSizes(),d=c.widest.width,u=c.highest.height,p=hO(this.chart.width-d,0,this.maxWidth);d+6>(e=n.offset?this.maxWidth/r:p/(r-1))&&(e=p/(r-(n.offset?.5:1)),t=this.maxHeight-ge(n.grid)-s.padding-gt(n.title,this.chart.options.font),i=Math.sqrt(d*d+u*u),l=Math.max(a,Math.min(o,l=180/hl*Math.min(Math.asin(hO((c.highest.height+6)/e,-1,1)),Math.asin(hO(t/i,-1,1))-Math.asin(hO(u/i,-1,1)))))),this.labelRotation=l}afterCalculateLabelRotation(){p3(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){p3(this.options.beforeFit,[this])}fit(){let e={width:0,height:0},{chart:t,options:{ticks:i,title:n,grid:s}}=this,r=this._isVisible(),a=this.isHorizontal();if(r){let r=gt(n,t.options.font);if(a?(e.width=this.maxWidth,e.height=ge(s)+r):(e.height=this.maxHeight,e.width=ge(s)+r),i.display&&this.ticks.length){let{first:t,last:n,widest:s,highest:r}=this._getLabelSizes(),o=2*i.padding,l=hw(this.labelRotation),c=Math.cos(l),d=Math.sin(l);if(a){let t=i.mirror?0:d*s.width+c*r.height;e.height=Math.min(this.maxHeight,e.height+t+o)}else{let t=i.mirror?0:c*s.width+d*r.height;e.width=Math.min(this.maxWidth,e.width+t+o)}this._calculatePadding(t,n,d,c)}}this._handleMargins(),a?(this.width=this._length=t.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=t.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,t,i,n){let{ticks:{align:s,padding:r},position:a}=this.options,o=0!==this.labelRotation,l="top"!==a&&"x"===this.axis;if(this.isHorizontal()){let a=this.getPixelForTick(0)-this.left,c=this.right-this.getPixelForTick(this.ticks.length-1),d=0,u=0;o?l?(d=n*e.width,u=i*t.height):(d=i*e.height,u=n*t.width):"start"===s?u=t.width:"end"===s?d=e.width:"inner"!==s&&(d=e.width/2,u=t.width/2),this.paddingLeft=Math.max((d-a+r)*this.width/(this.width-a),0),this.paddingRight=Math.max((u-c+r)*this.width/(this.width-c),0)}else{let i=t.height/2,n=e.height/2;"start"===s?(i=0,n=e.height):"end"===s&&(i=t.height,n=0),this.paddingTop=i+r,this.paddingBottom=n+r}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){p3(this.options.afterFit,[this])}isHorizontal(){let{axis:e,position:t}=this.options;return"top"===t||"bottom"===t||"x"===e}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){let t,i;for(this.beforeTickToLabelConversion(),this.generateTickLabels(e),t=0,i=e.length;t<i;t++)pJ(e[t].label)&&(e.splice(t,1),i--,t--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){let t=this.options.ticks.sampleSize,i=this.ticks;t<i.length&&(i=f7(i,t)),this._labelSizes=e=this._computeLabelSizes(i,i.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,t,i){let n,s,r,a,o,l,c,d,u,p,h;let{ctx:m,_longestTextCache:f}=this,g=[],v=[],b=Math.floor(t/f9(t,i)),y=0,x=0;for(n=0;n<t;n+=b){if(a=e[n].label,o=this._resolveTickFontOptions(n),m.font=l=o.string,c=f[l]=f[l]||{data:{},gc:[]},d=o.lineHeight,u=p=0,pJ(a)||pY(a)){if(pY(a))for(s=0,r=a.length;s<r;++s)pJ(h=a[s])||pY(h)||(u=h9(m,c.data,c.gc,u,h),p+=d)}else u=h9(m,c.data,c.gc,u,a),p=d;g.push(u),v.push(p),y=Math.max(u,y),x=Math.max(p,x)}p4(f,e=>{let i;let n=e.gc,s=n.length/2;if(s>t){for(i=0;i<s;++i)delete e.data[n[i]];n.splice(0,s)}});let _=g.indexOf(y),w=v.indexOf(x),S=e=>({width:g[e]||0,height:v[e]||0});return{first:S(0),last:S(t-1),widest:S(_),highest:S(w),widths:g,heights:v}}getLabelForValue(e){return e}getPixelForValue(e,t){return NaN}getValueForPixel(e){}getPixelForTick(e){let t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);let t=this._startPixel+e*this._length;return hO(this._alignToPixels?h7(this.chart,t,0):t,-32768,32767)}getDecimalForPixel(e){let t=(e-this._startPixel)/this._length;return this._reversePixels?1-t:t}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){let{min:e,max:t}=this;return e<0&&t<0?t:e>0&&t>0?e:0}getContext(e){let t=this.ticks||[];if(e>=0&&e<t.length){let i=t[e];return i.$context||(i.$context=mb(this.getContext(),{tick:i,index:e,type:"tick"}))}return this.$context||(this.$context=mb(this.chart.getContext(),{scale:this,type:"scale"}))}_tickSize(){let e=this.options.ticks,t=hw(this.labelRotation),i=Math.abs(Math.cos(t)),n=Math.abs(Math.sin(t)),s=this._getLabelSizes(),r=e.autoSkipPadding||0,a=s?s.widest.width+r:0,o=s?s.highest.height+r:0;return this.isHorizontal()?o*i>a*n?a/i:o/n:o*n<a*i?o/i:a/n}_isVisible(){let e=this.options.display;return"auto"!==e?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){let t,i,n,s,r,a,o,l,c,d,u,p;let h=this.axis,m=this.chart,f=this.options,{grid:g,position:v,border:b}=f,y=g.offset,x=this.isHorizontal(),_=this.ticks.length+(y?1:0),w=ge(g),S=[],k=b.setContext(this.getContext()),E=k.display?k.width:0,T=E/2,C=function(e){return h7(m,e,E)};if("top"===v)t=C(this.bottom),a=this.bottom-w,l=t-T,d=C(e.top)+T,p=e.bottom;else if("bottom"===v)t=C(this.top),d=e.top,p=C(e.bottom)-T,a=t+T,l=this.top+w;else if("left"===v)t=C(this.right),r=this.right-w,o=t-T,c=C(e.left)+T,u=e.right;else if("right"===v)t=C(this.left),c=e.left,u=C(e.right)-T,r=t+T,o=this.left+w;else if("x"===h){if("center"===v)t=C((e.top+e.bottom)/2+.5);else if(pQ(v)){let e=Object.keys(v)[0],i=v[e];t=C(this.chart.scales[e].getPixelForValue(i))}d=e.top,p=e.bottom,l=(a=t+T)+w}else if("y"===h){if("center"===v)t=C((e.left+e.right)/2);else if(pQ(v)){let e=Object.keys(v)[0],i=v[e];t=C(this.chart.scales[e].getPixelForValue(i))}o=(r=t-T)-w,c=e.left,u=e.right}let R=p0(f.ticks.maxTicksLimit,_),O=Math.max(1,Math.ceil(_/R));for(i=0;i<_;i+=O){let e=this.getContext(i),t=g.setContext(e),h=b.setContext(e),f=t.lineWidth,v=t.color,_=h.dash||[],w=h.dashOffset,k=t.tickWidth,E=t.tickColor,T=t.tickBorderDash||[],C=t.tickBorderDashOffset;void 0!==(n=function(e,t,i){let n;let s=e.ticks.length,r=Math.min(t,s-1),a=e._startPixel,o=e._endPixel,l=e.getPixelForTick(r);if(!i||(n=1===s?Math.max(l-a,o-l):0===t?(e.getPixelForTick(1)-l)/2:(l-e.getPixelForTick(r-1))/2,!((l+=r<t?n:-n)<a-1e-6)&&!(l>o+1e-6)))return l}(this,i,y))&&(s=h7(m,n,f),x?r=o=c=u=s:a=l=d=p=s,S.push({tx1:r,ty1:a,tx2:o,ty2:l,x1:c,y1:d,x2:u,y2:p,width:f,color:v,borderDash:_,borderDashOffset:w,tickWidth:k,tickColor:E,tickBorderDash:T,tickBorderDashOffset:C}))}return this._ticksLength=_,this._borderValue=t,S}_computeLabelItems(e){let t,i,n,s,r,a,o,l,c,d,u;let p=this.axis,h=this.options,{position:m,ticks:f}=h,g=this.isHorizontal(),v=this.ticks,{align:b,crossAlign:y,padding:x,mirror:_}=f,w=ge(h.grid),S=w+x,k=_?-x:S,E=-hw(this.labelRotation),T=[],C="middle";if("top"===m)r=this.bottom-k,a=this._getXAxisLabelAlignment();else if("bottom"===m)r=this.top+k,a=this._getXAxisLabelAlignment();else if("left"===m){let e=this._getYAxisLabelAlignment(w);a=e.textAlign,s=e.x}else if("right"===m){let e=this._getYAxisLabelAlignment(w);a=e.textAlign,s=e.x}else if("x"===p){if("center"===m)r=(e.top+e.bottom)/2+S;else if(pQ(m)){let e=Object.keys(m)[0],t=m[e];r=this.chart.scales[e].getPixelForValue(t)+S}a=this._getXAxisLabelAlignment()}else if("y"===p){if("center"===m)s=(e.left+e.right)/2-S;else if(pQ(m)){let e=Object.keys(m)[0],t=m[e];s=this.chart.scales[e].getPixelForValue(t)}a=this._getYAxisLabelAlignment(w).textAlign}"y"===p&&("start"===b?C="top":"end"===b&&(C="bottom"));let R=this._getLabelSizes();for(t=0,i=v.length;t<i;++t){let e;n=v[t].label;let p=f.setContext(this.getContext(t));o=this.getPixelForTick(t)+f.labelOffset,c=(l=this._resolveTickFontOptions(t)).lineHeight;let h=(d=pY(n)?n.length:1)/2,b=p.color,x=p.textStrokeColor,w=p.textStrokeWidth,S=a;if(g?(s=o,"inner"===a&&(S=t===i-1?this.options.reverse?"left":"right":0===t?this.options.reverse?"right":"left":"center"),u="top"===m?"near"===y||0!==E?-d*c+c/2:"center"===y?-R.highest.height/2-h*c+c:-R.highest.height+c/2:"near"===y||0!==E?c/2:"center"===y?R.highest.height/2-h*c:R.highest.height-d*c,_&&(u*=-1),0===E||p.showLabelBackdrop||(s+=c/2*Math.sin(E))):(r=o,u=(1-d)*c/2),p.showLabelBackdrop){let n=mf(p.backdropPadding),s=R.heights[t],r=R.widths[t],o=u-n.top,l=0-n.left;switch(C){case"middle":o-=s/2;break;case"bottom":o-=s}switch(a){case"center":l-=r/2;break;case"right":l-=r;break;case"inner":t===i-1?l-=r:t>0&&(l-=r/2)}e={left:l,top:o,width:r+n.width,height:s+n.height,color:p.backdropColor}}T.push({label:n,font:l,textOffset:u,options:{rotation:E,color:b,strokeColor:x,strokeWidth:w,textAlign:S,textBaseline:C,translation:[s,r],backdrop:e}})}return T}_getXAxisLabelAlignment(){let{position:e,ticks:t}=this.options;if(-hw(this.labelRotation))return"top"===e?"left":"right";let i="center";return"start"===t.align?i="left":"end"===t.align?i="right":"inner"===t.align&&(i="inner"),i}_getYAxisLabelAlignment(e){let t,i;let{position:n,ticks:{crossAlign:s,mirror:r,padding:a}}=this.options,o=this._getLabelSizes(),l=e+a,c=o.widest.width;return"left"===n?r?(i=this.right+a,"near"===s?t="left":"center"===s?(t="center",i+=c/2):(t="right",i+=c)):(i=this.right-l,"near"===s?t="right":"center"===s?(t="center",i-=c/2):(t="left",i=this.left)):"right"===n?r?(i=this.left+a,"near"===s?t="right":"center"===s?(t="center",i-=c/2):(t="left",i-=c)):(i=this.left+l,"near"===s?t="left":"center"===s?(t="center",i+=c/2):(t="right",i=this.right)):t="right",{textAlign:t,x:i}}_computeLabelArea(){if(this.options.ticks.mirror)return;let e=this.chart,t=this.options.position;return"left"===t||"right"===t?{top:0,left:this.left,bottom:e.height,right:this.right}:"top"===t||"bottom"===t?{top:this.top,left:0,bottom:this.bottom,right:e.width}:void 0}drawBackground(){let{ctx:e,options:{backgroundColor:t},left:i,top:n,width:s,height:r}=this;t&&(e.save(),e.fillStyle=t,e.fillRect(i,n,s,r),e.restore())}getLineWidthForValue(e){let t=this.options.grid;if(!this._isVisible()||!t.display)return 0;let i=this.ticks.findIndex(t=>t.value===e);return i>=0?t.setContext(this.getContext(i)).lineWidth:0}drawGrid(e){let t,i;let n=this.options.grid,s=this.ctx,r=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e)),a=(e,t,i)=>{i.width&&i.color&&(s.save(),s.lineWidth=i.width,s.strokeStyle=i.color,s.setLineDash(i.borderDash||[]),s.lineDashOffset=i.borderDashOffset,s.beginPath(),s.moveTo(e.x,e.y),s.lineTo(t.x,t.y),s.stroke(),s.restore())};if(n.display)for(t=0,i=r.length;t<i;++t){let e=r[t];n.drawOnChartArea&&a({x:e.x1,y:e.y1},{x:e.x2,y:e.y2},e),n.drawTicks&&a({x:e.tx1,y:e.ty1},{x:e.tx2,y:e.ty2},{color:e.tickColor,width:e.tickWidth,borderDash:e.tickBorderDash,borderDashOffset:e.tickBorderDashOffset})}}drawBorder(){let e,t,i,n;let{chart:s,ctx:r,options:{border:a,grid:o}}=this,l=a.setContext(this.getContext()),c=a.display?l.width:0;if(!c)return;let d=o.setContext(this.getContext(0)).lineWidth,u=this._borderValue;this.isHorizontal()?(e=h7(s,this.left,c)-c/2,t=h7(s,this.right,d)+d/2,i=n=u):(i=h7(s,this.top,c)-c/2,n=h7(s,this.bottom,d)+d/2,e=t=u),r.save(),r.lineWidth=l.width,r.strokeStyle=l.color,r.beginPath(),r.moveTo(e,i),r.lineTo(t,n),r.stroke(),r.restore()}drawLabels(e){if(!this.options.ticks.display)return;let t=this.ctx,i=this._computeLabelArea();for(let n of(i&&mn(t,i),this.getLabelItems(e))){let e=n.options,i=n.font;mo(t,n.label,0,n.textOffset,i,e)}i&&function(e){e.restore()}(t)}drawTitle(){let e;let{ctx:t,options:{position:i,title:n,reverse:s}}=this;if(!n.display)return;let r=mg(n.font),a=mf(n.padding),o=n.align,l=r.lineHeight/2;"bottom"===i||"center"===i||pQ(i)?(l+=a.bottom,pY(n.text)&&(l+=r.lineHeight*(n.text.length-1))):l+=a.top;let{titleX:c,titleY:d,maxWidth:u,rotation:p}=function(e,t,i,n){let s,r,a;let{top:o,left:l,bottom:c,right:d,chart:u}=e,{chartArea:p,scales:h}=u,m=0,f=c-o,g=d-l;if(e.isHorizontal()){if(r=hB(n,l,d),pQ(i)){let e=Object.keys(i)[0],n=i[e];a=h[e].getPixelForValue(n)+f-t}else a="center"===i?(p.bottom+p.top)/2+f-t:f8(e,i,t);s=d-l}else{if(pQ(i)){let e=Object.keys(i)[0],n=i[e];r=h[e].getPixelForValue(n)-g+t}else r="center"===i?(p.left+p.right)/2-g+t:f8(e,i,t);a=hB(n,c,o),m="left"===i?-hh:hh}return{titleX:r,titleY:a,maxWidth:s,rotation:m}}(this,l,i,o);mo(t,n.text,0,0,r,{color:n.color,maxWidth:u,rotation:p,textAlign:(e=hF(o),(s&&"right"!==i||!s&&"right"===i)&&(e=f6(e)),e),textBaseline:"middle",translation:[c,d]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){let e=this.options,t=e.ticks&&e.ticks.z||0,i=p0(e.grid&&e.grid.z,-1),n=p0(e.border&&e.border.z,0);return this._isVisible()&&this.draw===gi.prototype.draw?[{z:i,draw:e=>{this.drawBackground(),this.drawGrid(e),this.drawTitle()}},{z:n,draw:()=>{this.drawBorder()}},{z:t,draw:e=>{this.drawLabels(e)}}]:[{z:t,draw:e=>{this.draw(e)}}]}getMatchingVisibleMetas(e){let t,i;let n=this.chart.getSortedVisibleDatasetMetas(),s=this.axis+"AxisID",r=[];for(t=0,i=n.length;t<i;++t){let i=n[t];i[s]!==this.id||e&&i.type!==e||r.push(i)}return r}_resolveTickFontOptions(e){return mg(this.options.ticks.setContext(this.getContext(e)).font)}_maxDigits(){let e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class gn{constructor(e,t,i){this.type=e,this.scope=t,this.override=i,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){let t;let i=Object.getPrototypeOf(e);"id"in i&&"defaults"in i&&(t=this.register(i));let n=this.items,s=e.id,r=this.scope+"."+s;if(!s)throw Error("class does not have id: "+e);return s in n||(n[s]=e,function(e,t,i){let n=p7(Object.create(null),[i?h8.get(i):{},h8.get(t),e.defaults]);h8.set(t,n),e.defaultRoutes&&function(e,t){Object.keys(t).forEach(i=>{let n=i.split("."),s=n.pop(),r=[e].concat(n).join("."),a=t[i].split("."),o=a.pop(),l=a.join(".");h8.route(r,s,l,o)})}(t,e.defaultRoutes),e.descriptors&&h8.describe(t,e.descriptors)}(e,r,t),this.override&&h8.override(e.id,e.overrides)),r}get(e){return this.items[e]}unregister(e){let t=this.items,i=e.id,n=this.scope;i in t&&delete t[i],n&&i in h8[n]&&(delete h8[n][i],this.override&&delete h2[i])}}class gs{constructor(){this.controllers=new gn(fd,"datasets",!0),this.elements=new gn(f4,"elements"),this.plugins=new gn(Object,"plugins"),this.scales=new gn(gi,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,t,i){[...t].forEach(t=>{let n=i||this._getRegistryForType(t);i||n.isForType(t)||n===this.plugins&&t.id?this._exec(e,n,t):p4(t,t=>{let n=i||this._getRegistryForType(t);this._exec(e,n,t)})})}_exec(e,t,i){let n=hs(e);p3(i["before"+n],[],i),t[e](i),p3(i["after"+n],[],i)}_getRegistryForType(e){for(let t=0;t<this._typedRegistries.length;t++){let i=this._typedRegistries[t];if(i.isForType(e))return i}return this.plugins}_get(e,t,i){let n=t.get(e);if(void 0===n)throw Error('"'+e+'" is not a registered '+i+".");return n}}var gr=new gs;class ga{constructor(){this._init=[]}notify(e,t,i,n){"beforeInit"===t&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));let s=n?this._descriptors(e).filter(n):this._descriptors(e),r=this._notify(s,e,t,i);return"afterDestroy"===t&&(this._notify(s,e,"stop"),this._notify(this._init,e,"uninstall")),r}_notify(e,t,i,n){for(let s of(n=n||{},e)){let e=s.plugin;if(!1===p3(e[i],[t,n,s.options],e)&&n.cancelable)return!1}return!0}invalidate(){pJ(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;let t=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),t}_createDescriptors(e,t){let i=e&&e.config,n=p0(i.options&&i.options.plugins,{}),s=function(e){let t={},i=[],n=Object.keys(gr.plugins.items);for(let e=0;e<n.length;e++)i.push(gr.getPlugin(n[e]));let s=e.plugins||[];for(let e=0;e<s.length;e++){let n=s[e];-1===i.indexOf(n)&&(i.push(n),t[n.id]=!0)}return{plugins:i,localIds:t}}(i);return!1!==n||t?function(e,{plugins:t,localIds:i},n,s){let r=[],a=e.getContext();for(let l of t){var o;let t=l.id,c=(o=n[t],s||!1!==o?!0===o?{}:o:null);null!==c&&r.push({plugin:l,options:function(e,{plugin:t,local:i},n,s){let r=e.pluginScopeKeys(t),a=e.getOptionScopes(n,r);return i&&t.defaults&&a.push(t.defaults),e.createResolver(a,s,[""],{scriptable:!1,indexable:!1,allKeys:!0})}(e.config,{plugin:l,local:i[t]},c,a)})}return r}(e,s,n,t):[]}_notifyStateChanges(e){let t=this._oldCache||[],i=this._cache,n=(e,t)=>e.filter(e=>!t.some(t=>e.plugin.id===t.plugin.id));this._notify(n(t,i),e,"stop"),this._notify(n(i,t),e,"start")}}function go(e,t){let i=h8.datasets[e]||{};return((t.datasets||{})[e]||{}).indexAxis||t.indexAxis||i.indexAxis||"x"}function gl(e){if("x"===e||"y"===e||"r"===e)return e}function gc(e,...t){if(gl(e))return e;for(let n of t){var i;let t=n.axis||("top"===(i=n.position)||"bottom"===i?"x":"left"===i||"right"===i?"y":void 0)||e.length>1&&gl(e[0].toLowerCase());if(t)return t}throw Error(`Cannot determine type of '${e}' axis. Please provide 'axis' or 'position' option.`)}function gd(e,t,i){if(i[t+"AxisID"]===e)return{axis:t}}function gu(e){let t=e.options||(e.options={});t.plugins=p0(t.plugins,{}),t.scales=function(e,t){let i=h2[e.type]||{scales:{}},n=t.scales||{},s=go(e.type,t),r=Object.create(null);return Object.keys(n).forEach(t=>{let a=n[t];if(!pQ(a))return console.error(`Invalid scale configuration for scale: ${t}`);if(a._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${t}`);let o=gc(t,a,function(e,t){if(t.data&&t.data.datasets){let i=t.data.datasets.filter(t=>t.xAxisID===e||t.yAxisID===e);if(i.length)return gd(e,"x",i[0])||gd(e,"y",i[0])}return{}}(t,e),h8.scales[a.type]),l=o===s?"_index_":"_value_",c=i.scales||{};r[t]=he(Object.create(null),[{axis:o},a,c[o],c[l]])}),e.data.datasets.forEach(i=>{let s=i.type||e.type,a=i.indexAxis||go(s,t),o=(h2[s]||{}).scales||{};Object.keys(o).forEach(e=>{let t;let s=(t=e,"_index_"===e?t=a:"_value_"===e&&(t="x"===a?"y":"x"),t),l=i[s+"AxisID"]||s;r[l]=r[l]||Object.create(null),he(r[l],[{axis:s},n[l],o[e]])})}),Object.keys(r).forEach(e=>{let t=r[e];he(t,[h8.scales[t.type],h8.scale])}),r}(e,t)}function gp(e){return(e=e||{}).datasets=e.datasets||[],e.labels=e.labels||[],e}let gh=new Map,gm=new Set;function gf(e,t){let i=gh.get(e);return i||(i=t(),gh.set(e,i),gm.add(i)),i}let gg=(e,t,i)=>{let n=hn(t,i);void 0!==n&&e.add(n)};class gv{constructor(e){this._config=function(e){return(e=e||{}).data=gp(e.data),gu(e),e}(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=gp(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){let e=this._config;this.clearCache(),gu(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return gf(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,t){return gf(`${e}.transition.${t}`,()=>[[`datasets.${e}.transitions.${t}`,`transitions.${t}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,t){return gf(`${e}-${t}`,()=>[[`datasets.${e}.elements.${t}`,`datasets.${e}`,`elements.${t}`,""]])}pluginScopeKeys(e){let t=e.id,i=this.type;return gf(`${i}-plugin-${t}`,()=>[[`plugins.${t}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,t){let i=this._scopeCache,n=i.get(e);return(!n||t)&&(n=new Map,i.set(e,n)),n}getOptionScopes(e,t,i){let{options:n,type:s}=this,r=this._cachedScopes(e,i),a=r.get(t);if(a)return a;let o=new Set;t.forEach(t=>{e&&(o.add(e),t.forEach(t=>gg(o,e,t))),t.forEach(e=>gg(o,n,e)),t.forEach(e=>gg(o,h2[s]||{},e)),t.forEach(e=>gg(o,h8,e)),t.forEach(e=>gg(o,h3,e))});let l=Array.from(o);return 0===l.length&&l.push(Object.create(null)),gm.has(t)&&r.set(t,l),l}chartOptionScopes(){let{options:e,type:t}=this;return[e,h2[t]||{},h8.datasets[t]||{},{type:t},h8,h3]}resolveNamedOptions(e,t,i,n=[""]){let s={$shared:!0},{resolver:r,subPrefixes:a}=gb(this._resolverCache,e,n),o=r;if(function(e,t){let{isScriptable:i,isIndexable:n}=m_(e);for(let s of t){let t=i(s),r=n(s),a=(r||t)&&e[s];if(t&&(ha(a)||gy(a))||r&&pY(a))return!0}return!1}(r,t)){s.$shared=!1,i=ha(i)?i():i;let t=this.createResolver(e,i,a);o=mx(r,i,t)}for(let e of t)s[e]=o[e];return s}createResolver(e,t,i=[""],n){let{resolver:s}=gb(this._resolverCache,e,i);return pQ(t)?mx(s,t,void 0,n):s}}function gb(e,t,i){let n=e.get(t);n||(n=new Map,e.set(t,n));let s=i.join(),r=n.get(s);return r||(r={resolver:my(t,i),subPrefixes:i.filter(e=>!e.toLowerCase().includes("hover"))},n.set(s,r)),r}let gy=e=>pQ(e)&&Object.getOwnPropertyNames(e).some(t=>ha(e[t])),gx=["top","bottom","left","right","chartArea"];function g_(e,t){return"top"===e||"bottom"===e||-1===gx.indexOf(e)&&"x"===t}function gw(e,t){return function(i,n){return i[e]===n[e]?i[t]-n[t]:i[e]-n[e]}}function gS(e){let t=e.chart,i=t.options.animation;t.notifyPlugins("afterRender"),p3(i&&i.onComplete,[e],t)}function gk(e){let t=e.chart,i=t.options.animation;p3(i&&i.onProgress,[e],t)}function gE(e){return mA()&&"string"==typeof e?e=document.getElementById(e):e&&e.length&&(e=e[0]),e&&e.canvas&&(e=e.canvas),e}let gT={},gC=e=>{let t=gE(e);return Object.values(gT).filter(e=>e.canvas===t).pop()};function gR(e,t,i){return e.options.clip?e[i]:t[i]}class gO{static defaults=h8;static instances=gT;static overrides=h2;static registry=gr;static version="4.4.4";static getChart=gC;static register(...e){gr.add(...e),gP()}static unregister(...e){gr.remove(...e),gP()}constructor(e,t){let i=this.config=new gv(t),n=gE(e),s=gC(n);if(s)throw Error("Canvas is already in use. Chart with ID '"+s.id+"' must be destroyed before the canvas with ID '"+s.canvas.id+"' can be reused.");let r=i.createResolver(i.chartOptionScopes(),this.getContext());this.platform=new(i.platform||(!mA()||"undefined"!=typeof OffscreenCanvas&&n instanceof OffscreenCanvas?fV:f3)),this.platform.updateConfig(i);let a=this.platform.acquireContext(n,r.aspectRatio),o=a&&a.canvas,l=o&&o.height,c=o&&o.width;if(this.id=pG(),this.ctx=a,this.canvas=o,this.width=c,this.height=l,this._options=r,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new ga,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=function(e,t){let i;return function(...n){return t?(clearTimeout(i),i=setTimeout(e,t,n)):e.apply(this,n),t}}(e=>this.update(e),r.resizeDelay||0),this._dataChanges=[],gT[this.id]=this,!a||!o){console.error("Failed to create chart: can't acquire context from the given item");return}m4.listen(this,"complete",gS),m4.listen(this,"progress",gk),this._initialize(),this.attached&&this.update()}get aspectRatio(){let{options:{aspectRatio:e,maintainAspectRatio:t},width:i,height:n,_aspectRatio:s}=this;return pJ(e)?t&&s?s:n?i/n:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return gr}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():mW(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return me(this.canvas,this.ctx),this}stop(){return m4.stop(this),this}resize(e,t){m4.running(this)?this._resizeBeforeDraw={width:e,height:t}:this._resize(e,t)}_resize(e,t){let i=this.options,n=this.canvas,s=i.maintainAspectRatio&&this.aspectRatio,r=this.platform.getMaximumSize(n,e,t,s),a=i.devicePixelRatio||this.platform.getDevicePixelRatio(),o=this.width?"resize":"attach";this.width=r.width,this.height=r.height,this._aspectRatio=this.aspectRatio,mW(this,a,!0)&&(this.notifyPlugins("resize",{size:r}),p3(i.onResize,[this,r],this),this.attached&&this._doResize(o)&&this.render())}ensureScalesHaveIDs(){p4(this.options.scales||{},(e,t)=>{e.id=t})}buildOrUpdateScales(){let e=this.options,t=e.scales,i=this.scales,n=Object.keys(i).reduce((e,t)=>(e[t]=!1,e),{}),s=[];t&&(s=s.concat(Object.keys(t).map(e=>{let i=t[e],n=gc(e,i),s="r"===n,r="x"===n;return{options:i,dposition:s?"chartArea":r?"bottom":"left",dtype:s?"radialLinear":r?"category":"linear"}}))),p4(s,t=>{let s=t.options,r=s.id,a=gc(r,s),o=p0(s.type,t.dtype);(void 0===s.position||g_(s.position,a)!==g_(t.dposition))&&(s.position=t.dposition),n[r]=!0;let l=null;r in i&&i[r].type===o?l=i[r]:i[(l=new(gr.getScale(o))({id:r,type:o,ctx:this.ctx,chart:this})).id]=l,l.init(s,e)}),p4(n,(e,t)=>{e||delete i[t]}),p4(i,e=>{f$.configure(this,e,e.options),f$.addBox(this,e)})}_updateMetasets(){let e=this._metasets,t=this.data.datasets.length,i=e.length;if(e.sort((e,t)=>e.index-t.index),i>t){for(let e=t;e<i;++e)this._destroyDatasetMeta(e);e.splice(t,i-t)}this._sortedMetasets=e.slice(0).sort(gw("order","index"))}_removeUnreferencedMetasets(){let{_metasets:e,data:{datasets:t}}=this;e.length>t.length&&delete this._stacks,e.forEach((e,i)=>{0===t.filter(t=>t===e._dataset).length&&this._destroyDatasetMeta(i)})}buildOrUpdateControllers(){let e,t;let i=[],n=this.data.datasets;for(this._removeUnreferencedMetasets(),e=0,t=n.length;e<t;e++){let t=n[e],s=this.getDatasetMeta(e),r=t.type||this.config.type;if(s.type&&s.type!==r&&(this._destroyDatasetMeta(e),s=this.getDatasetMeta(e)),s.type=r,s.indexAxis=t.indexAxis||go(r,this.options),s.order=t.order||0,s.index=e,s.label=""+t.label,s.visible=this.isDatasetVisible(e),s.controller)s.controller.updateIndex(e),s.controller.linkScales();else{let t=gr.getController(r),{datasetElementType:n,dataElementType:a}=h8.datasets[r];Object.assign(t,{dataElementType:gr.getElement(a),datasetElementType:n&&gr.getElement(n)}),s.controller=new t(this,e),i.push(s.controller)}}return this._updateMetasets(),i}_resetElements(){p4(this.data.datasets,(e,t)=>{this.getDatasetMeta(t).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){let t=this.config;t.update();let i=this._options=t.createResolver(t.chartOptionScopes(),this.getContext()),n=this._animationsDisabled=!i.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),!1===this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0}))return;let s=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let r=0;for(let e=0,t=this.data.datasets.length;e<t;e++){let{controller:t}=this.getDatasetMeta(e),i=!n&&-1===s.indexOf(t);t.buildOrUpdateElements(i),r=Math.max(+t.getMaxOverflow(),r)}r=this._minPadding=i.layout.autoPadding?r:0,this._updateLayout(r),n||p4(s,e=>{e.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(gw("z","_idx"));let{_active:a,_lastEvent:o}=this;o?this._eventHandler(o,!0):a.length&&this._updateHoverStyles(a,a,!0),this.render()}_updateScales(){p4(this.scales,e=>{f$.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){let e=this.options;ho(new Set(Object.keys(this._listeners)),new Set(e.events))&&!!this._responsiveListeners===e.responsive||(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){let{_hiddenIndices:e}=this;for(let{method:t,start:i,count:n}of this._getUniformDataChanges()||[])!function(e,t,i){for(let n of Object.keys(e)){let s=+n;if(s>=t){let r=e[n];delete e[n],(i>0||s>t)&&(e[s+i]=r)}}}(e,i,"_removeElements"===t?-n:n)}_getUniformDataChanges(){let e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];let t=this.data.datasets.length,i=t=>new Set(e.filter(e=>e[0]===t).map((e,t)=>t+","+e.splice(1).join(","))),n=i(0);for(let e=1;e<t;e++)if(!ho(n,i(e)))return;return Array.from(n).map(e=>e.split(",")).map(e=>({method:e[1],start:+e[2],count:+e[3]}))}_updateLayout(e){if(!1===this.notifyPlugins("beforeLayout",{cancelable:!0}))return;f$.update(this,this.width,this.height,e);let t=this.chartArea,i=t.width<=0||t.height<=0;this._layers=[],p4(this.boxes,e=>{i&&"chartArea"===e.position||(e.configure&&e.configure(),this._layers.push(...e._layers()))},this),this._layers.forEach((e,t)=>{e._idx=t}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(!1!==this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})){for(let e=0,t=this.data.datasets.length;e<t;++e)this.getDatasetMeta(e).controller.configure();for(let t=0,i=this.data.datasets.length;t<i;++t)this._updateDataset(t,ha(e)?e({datasetIndex:t}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,t){let i=this.getDatasetMeta(e),n={meta:i,index:e,mode:t,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetUpdate",n)&&(i.controller._update(t),n.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",n))}render(){!1!==this.notifyPlugins("beforeRender",{cancelable:!0})&&(m4.has(this)?this.attached&&!m4.running(this)&&m4.start(this):(this.draw(),gS({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){let{width:e,height:t}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(e,t)}if(this.clear(),this.width<=0||this.height<=0||!1===this.notifyPlugins("beforeDraw",{cancelable:!0}))return;let t=this._layers;for(e=0;e<t.length&&t[e].z<=0;++e)t[e].draw(this.chartArea);for(this._drawDatasets();e<t.length;++e)t[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){let t,i;let n=this._sortedMetasets,s=[];for(t=0,i=n.length;t<i;++t){let i=n[t];(!e||i.visible)&&s.push(i)}return s}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(!1===this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0}))return;let e=this.getSortedVisibleDatasetMetas();for(let t=e.length-1;t>=0;--t)this._drawDataset(e[t]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){let t=this.ctx,i=e._clip,n=!i.disabled,s=function(e,t){let{xScale:i,yScale:n}=e;return i&&n?{left:gR(i,t,"left"),right:gR(i,t,"right"),top:gR(n,t,"top"),bottom:gR(n,t,"bottom")}:t}(e,this.chartArea),r={meta:e,index:e.index,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetDraw",r)&&(n&&mn(t,{left:!1===i.left?0:s.left-i.left,right:!1===i.right?this.width:s.right+i.right,top:!1===i.top?0:s.top-i.top,bottom:!1===i.bottom?this.height:s.bottom+i.bottom}),e.controller.draw(),n&&function(e){e.restore()}(t),r.cancelable=!1,this.notifyPlugins("afterDatasetDraw",r))}isPointInArea(e){return mi(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,t,i,n){let s=fj.modes[t];return"function"==typeof s?s(this,e,i,n):[]}getDatasetMeta(e){let t=this.data.datasets[e],i=this._metasets,n=i.filter(e=>e&&e._dataset===t).pop();return n||(n={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:t&&t.order||0,index:e,_dataset:t,_parsed:[],_sorted:!1},i.push(n)),n}getContext(){return this.$context||(this.$context=mb(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){let t=this.data.datasets[e];if(!t)return!1;let i=this.getDatasetMeta(e);return"boolean"==typeof i.hidden?!i.hidden:!t.hidden}setDatasetVisibility(e,t){this.getDatasetMeta(e).hidden=!t}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,t,i){let n=i?"show":"hide",s=this.getDatasetMeta(e),r=s.controller._resolveAnimations(void 0,n);hr(t)?(s.data[t].hidden=!i,this.update()):(this.setDatasetVisibility(e,i),r.update(s,{visible:i}),this.update(t=>t.datasetIndex===e?n:void 0))}hide(e,t){this._updateVisibility(e,t,!1)}show(e,t){this._updateVisibility(e,t,!0)}_destroyDatasetMeta(e){let t=this._metasets[e];t&&t.controller&&t.controller._destroy(),delete this._metasets[e]}_stop(){let e,t;for(this.stop(),m4.remove(this),e=0,t=this.data.datasets.length;e<t;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");let{canvas:e,ctx:t}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),me(e,t),this.platform.releaseContext(t),this.canvas=null,this.ctx=null),delete gT[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){let e=this._listeners,t=this.platform,i=(i,n)=>{t.addEventListener(this,i,n),e[i]=n},n=(e,t,i)=>{e.offsetX=t,e.offsetY=i,this._eventHandler(e)};p4(this.options.events,e=>i(e,n))}bindResponsiveEvents(){let e;this._responsiveListeners||(this._responsiveListeners={});let t=this._responsiveListeners,i=this.platform,n=(e,n)=>{i.addEventListener(this,e,n),t[e]=n},s=(e,n)=>{t[e]&&(i.removeEventListener(this,e,n),delete t[e])},r=(e,t)=>{this.canvas&&this.resize(e,t)},a=()=>{s("attach",a),this.attached=!0,this.resize(),n("resize",r),n("detach",e)};e=()=>{this.attached=!1,s("resize",r),this._stop(),this._resize(0,0),n("attach",a)},i.isAttached(this.canvas)?a():e()}unbindEvents(){p4(this._listeners,(e,t)=>{this.platform.removeEventListener(this,t,e)}),this._listeners={},p4(this._responsiveListeners,(e,t)=>{this.platform.removeEventListener(this,t,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,t,i){let n,s,r;let a=i?"set":"remove";for("dataset"===t&&this.getDatasetMeta(e[0].datasetIndex).controller["_"+a+"DatasetHoverStyle"](),s=0,r=e.length;s<r;++s){let t=(n=e[s])&&this.getDatasetMeta(n.datasetIndex).controller;t&&t[a+"HoverStyle"](n.element,n.datasetIndex,n.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){let t=this._active||[],i=e.map(({datasetIndex:e,index:t})=>{let i=this.getDatasetMeta(e);if(!i)throw Error("No dataset found at index "+e);return{datasetIndex:e,element:i.data[t],index:t}});p5(i,t)||(this._active=i,this._lastEvent=null,this._updateHoverStyles(i,t))}notifyPlugins(e,t,i){return this._plugins.notify(this,e,t,i)}isPluginEnabled(e){return 1===this._plugins._cache.filter(t=>t.plugin.id===e).length}_updateHoverStyles(e,t,i){let n=this.options.hover,s=(e,t)=>e.filter(e=>!t.some(t=>e.datasetIndex===t.datasetIndex&&e.index===t.index)),r=s(t,e),a=i?e:s(e,t);r.length&&this.updateHoverStyle(r,n.mode,!1),a.length&&n.mode&&this.updateHoverStyle(a,n.mode,!0)}_eventHandler(e,t){let i={event:e,replay:t,cancelable:!0,inChartArea:this.isPointInArea(e)},n=t=>(t.options.events||this.options.events).includes(e.native.type);if(!1===this.notifyPlugins("beforeEvent",i,n))return;let s=this._handleEvent(e,t,i.inChartArea);return i.cancelable=!1,this.notifyPlugins("afterEvent",i,n),(s||i.changed)&&this.render(),this}_handleEvent(e,t,i){var n;let{_active:s=[],options:r}=this,a=this._getActiveElements(e,s,i,t),o="mouseup"===e.type||"click"===e.type||"contextmenu"===e.type,l=(n=this._lastEvent,i&&"mouseout"!==e.type?o?n:e:null);i&&(this._lastEvent=null,p3(r.onHover,[e,a,this],this),o&&p3(r.onClick,[e,a,this],this));let c=!p5(a,s);return(c||t)&&(this._active=a,this._updateHoverStyles(a,s,t)),this._lastEvent=l,c}_getActiveElements(e,t,i,n){if("mouseout"===e.type)return[];if(!i)return t;let s=this.options.hover;return this.getElementsAtEventForMode(e,s.mode,s,n)}}function gP(){return p4(gO.instances,e=>e._plugins.invalidate())}function gj(e,t,i,n){return{x:i+e*Math.cos(t),y:n+e*Math.sin(t)}}function gI(e,t,i,n,s,r){let{x:a,y:o,startAngle:l,pixelMargin:c,innerRadius:d}=t,u=Math.max(t.outerRadius+n+i-c,0),p=d>0?d+n+i+c:0,h=0,m=s-l;if(n){let e=u>0?u-n:0,t=((d>0?d-n:0)+e)/2;h=(m-(0!==t?m*t/(t+n):m))/2}let f=Math.max(.001,m*u-i/hl)/u,g=(m-f)/2,v=l+g+h,b=s-g-h,{outerStart:y,outerEnd:x,innerStart:_,innerEnd:w}=function(e,t,i,n){let s=mp(e.options.borderRadius,["outerStart","outerEnd","innerStart","innerEnd"]),r=(i-t)/2,a=Math.min(r,n*t/2),o=e=>{let t=(i-Math.min(r,e))*n/2;return hO(e,0,Math.min(r,t))};return{outerStart:o(s.outerStart),outerEnd:o(s.outerEnd),innerStart:hO(s.innerStart,0,a),innerEnd:hO(s.innerEnd,0,a)}}(t,p,u,b-v),S=u-y,k=u-x,E=v+y/S,T=b-x/k,C=p+_,R=p+w,O=v+_/C,P=b-w/R;if(e.beginPath(),r){let t=(E+T)/2;if(e.arc(a,o,u,E,t),e.arc(a,o,u,t,T),x>0){let t=gj(k,T,a,o);e.arc(t.x,t.y,x,T,b+hh)}let i=gj(R,b,a,o);if(e.lineTo(i.x,i.y),w>0){let t=gj(R,P,a,o);e.arc(t.x,t.y,w,b+hh,P+Math.PI)}let n=(b-w/p+(v+_/p))/2;if(e.arc(a,o,p,b-w/p,n,!0),e.arc(a,o,p,n,v+_/p,!0),_>0){let t=gj(C,O,a,o);e.arc(t.x,t.y,_,O+Math.PI,v-hh)}let s=gj(S,v,a,o);if(e.lineTo(s.x,s.y),y>0){let t=gj(S,E,a,o);e.arc(t.x,t.y,y,v-hh,E)}}else{e.moveTo(a,o);let t=Math.cos(E)*u+a,i=Math.sin(E)*u+o;e.lineTo(t,i);let n=Math.cos(T)*u+a,s=Math.sin(T)*u+o;e.lineTo(n,s)}e.closePath()}class gN extends f4{static id="arc";static defaults={borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0};static defaultRoutes={backgroundColor:"backgroundColor"};static descriptors={_scriptable:!0,_indexable:e=>"borderDash"!==e};circumference;endAngle;fullCircles;innerRadius;outerRadius;pixelMargin;startAngle;constructor(e){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,e&&Object.assign(this,e)}inRange(e,t,i){let{angle:n,distance:s}=hk(this.getProps(["x","y"],i),{x:e,y:t}),{startAngle:r,endAngle:a,innerRadius:o,outerRadius:l,circumference:c}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],i),d=(this.options.spacing+this.options.borderWidth)/2,u=p0(c,a-r),p=hR(n,r,a)&&r!==a,h=u>=hc||p,m=hP(s,o+d,l+d);return h&&m}getCenterPoint(e){let{x:t,y:i,startAngle:n,endAngle:s,innerRadius:r,outerRadius:a}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],e),{offset:o,spacing:l}=this.options,c=(n+s)/2,d=(r+a+l+o)/2;return{x:t+Math.cos(c)*d,y:i+Math.sin(c)*d}}tooltipPosition(e){return this.getCenterPoint(e)}draw(e){let{options:t,circumference:i}=this,n=(t.offset||0)/4,s=(t.spacing||0)/2,r=t.circular;if(this.pixelMargin="inner"===t.borderAlign?.33:0,this.fullCircles=i>hc?Math.floor(i/hc):0,0===i||this.innerRadius<0||this.outerRadius<0)return;e.save();let a=(this.startAngle+this.endAngle)/2;e.translate(Math.cos(a)*n,Math.sin(a)*n);let o=n*(1-Math.sin(Math.min(hl,i||0)));e.fillStyle=t.backgroundColor,e.strokeStyle=t.borderColor,function(e,t,i,n,s){let{fullCircles:r,startAngle:a,circumference:o}=t,l=t.endAngle;if(r){gI(e,t,i,n,l,s);for(let t=0;t<r;++t)e.fill();isNaN(o)||(l=a+(o%hc||hc))}gI(e,t,i,n,l,s),e.fill()}(e,this,o,s,r),function(e,t,i,n,s){let{fullCircles:r,startAngle:a,circumference:o,options:l}=t,{borderWidth:c,borderJoinStyle:d,borderDash:u,borderDashOffset:p}=l,h="inner"===l.borderAlign;if(!c)return;e.setLineDash(u||[]),e.lineDashOffset=p,h?(e.lineWidth=2*c,e.lineJoin=d||"round"):(e.lineWidth=c,e.lineJoin=d||"bevel");let m=t.endAngle;if(r){gI(e,t,i,n,m,s);for(let t=0;t<r;++t)e.stroke();isNaN(o)||(m=a+(o%hc||hc))}h&&function(e,t,i){let{startAngle:n,pixelMargin:s,x:r,y:a,outerRadius:o,innerRadius:l}=t,c=s/o;e.beginPath(),e.arc(r,a,o,n-c,i+c),l>s?(c=s/l,e.arc(r,a,l,i+c,n-c,!0)):e.arc(r,a,s,i+hh,n-hh),e.closePath(),e.clip()}(e,t,m),r||(gI(e,t,i,n,m,s),e.stroke())}(e,this,o,s,r),e.restore()}}function gD(e,t,i=t){e.lineCap=p0(i.borderCapStyle,t.borderCapStyle),e.setLineDash(p0(i.borderDash,t.borderDash)),e.lineDashOffset=p0(i.borderDashOffset,t.borderDashOffset),e.lineJoin=p0(i.borderJoinStyle,t.borderJoinStyle),e.lineWidth=p0(i.borderWidth,t.borderWidth),e.strokeStyle=p0(i.borderColor,t.borderColor)}function gA(e,t,i){e.lineTo(i.x,i.y)}function gL(e,t,i={}){let n=e.length,{start:s=0,end:r=n-1}=i,{start:a,end:o}=t,l=Math.max(s,a),c=Math.min(r,o);return{count:n,start:l,loop:t.loop,ilen:c<l&&!(s<a&&r<a||s>o&&r>o)?n+c-l:c-l}}function gM(e,t,i,n){let s,r,a;let{points:o,options:l}=t,{count:c,start:d,loop:u,ilen:p}=gL(o,i,n),h=l.stepped?mr:l.tension||"monotone"===l.cubicInterpolationMode?ma:gA,{move:m=!0,reverse:f}=n||{};for(s=0;s<=p;++s)(r=o[(d+(f?p-s:s))%c]).skip||(m?(e.moveTo(r.x,r.y),m=!1):h(e,a,r,f,l.stepped),a=r);return u&&h(e,a,r=o[(d+(f?p:0))%c],f,l.stepped),!!u}function gU(e,t,i,n){let s,r,a,o,l,c;let d=t.points,{count:u,start:p,ilen:h}=gL(d,i,n),{move:m=!0,reverse:f}=n||{},g=0,v=0,b=e=>(p+(f?h-e:e))%u,y=()=>{o!==l&&(e.lineTo(g,l),e.lineTo(g,o),e.lineTo(g,c))};for(m&&(r=d[b(0)],e.moveTo(r.x,r.y)),s=0;s<=h;++s){if((r=d[b(s)]).skip)continue;let t=r.x,i=r.y,n=0|t;n===a?(i<o?o=i:i>l&&(l=i),g=(v*g+t)/++v):(y(),e.lineTo(t,i),a=n,v=0,o=l=i),c=i}y()}function gF(e){let t=e.options,i=t.borderDash&&t.borderDash.length;return e._decimated||e._loop||t.tension||"monotone"===t.cubicInterpolationMode||t.stepped||i?gM:gU}let gB="function"==typeof Path2D;class g$ extends f4{static id="line";static defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};static descriptors={_scriptable:!0,_indexable:e=>"borderDash"!==e&&"fill"!==e};constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,t){let i=this.options;if((i.tension||"monotone"===i.cubicInterpolationMode)&&!i.stepped&&!this._pointsUpdated){let n=i.spanGaps?this._loop:this._fullLoop;(function(e,t,i,n,s){let r,a,o,l;if(t.spanGaps&&(e=e.filter(e=>!e.skip)),"monotone"===t.cubicInterpolationMode)!function(e,t="x"){let i,n,s;let r=mN(t),a=e.length,o=Array(a).fill(0),l=Array(a),c=mI(e,0);for(i=0;i<a;++i)if(n=s,s=c,c=mI(e,i+1),s){if(c){let e=c[t]-s[t];o[i]=0!==e?(c[r]-s[r])/e:0}l[i]=n?c?hv(o[i-1])!==hv(o[i])?0:(o[i-1]+o[i])/2:o[i-1]:o[i]}(function(e,t,i){let n,s,r,a,o;let l=e.length,c=mI(e,0);for(let d=0;d<l-1;++d)if(o=c,c=mI(e,d+1),o&&c){if(hb(t[d],0,mj)){i[d]=i[d+1]=0;continue}(a=Math.pow(n=i[d]/t[d],2)+Math.pow(s=i[d+1]/t[d],2))<=9||(r=3/Math.sqrt(a),i[d]=n*r*t[d],i[d+1]=s*r*t[d])}})(e,o,l),function(e,t,i="x"){let n,s,r;let a=mN(i),o=e.length,l=mI(e,0);for(let c=0;c<o;++c){if(s=r,r=l,l=mI(e,c+1),!r)continue;let o=r[i],d=r[a];s&&(n=(o-s[i])/3,r[`cp1${i}`]=o-n,r[`cp1${a}`]=d-n*t[c]),l&&(n=(l[i]-o)/3,r[`cp2${i}`]=o+n,r[`cp2${a}`]=d+n*t[c])}}(e,l,t)}(e,s);else{let i=n?e[e.length-1]:e[0];for(r=0,a=e.length;r<a;++r)l=function(e,t,i,n){let s=e.skip?t:e,r=i.skip?t:i,a=hE(t,s),o=hE(r,t),l=a/(a+o),c=o/(a+o);l=isNaN(l)?0:l,c=isNaN(c)?0:c;let d=n*l,u=n*c;return{previous:{x:t.x-d*(r.x-s.x),y:t.y-d*(r.y-s.y)},next:{x:t.x+u*(r.x-s.x),y:t.y+u*(r.y-s.y)}}}(i,o=e[r],e[Math.min(r+1,a-(n?0:1))%a],t.tension),o.cp1x=l.previous.x,o.cp1y=l.previous.y,o.cp2x=l.next.x,o.cp2y=l.next.y,i=o}t.capBezierPoints&&function(e,t){let i,n,s,r,a;let o=mi(e[0],t);for(i=0,n=e.length;i<n;++i)a=r,r=o,o=i<n-1&&mi(e[i+1],t),r&&(s=e[i],a&&(s.cp1x=mD(s.cp1x,t.left,t.right),s.cp1y=mD(s.cp1y,t.top,t.bottom)),o&&(s.cp2x=mD(s.cp2x,t.left,t.right),s.cp2y=mD(s.cp2y,t.top,t.bottom)))}(e,i)})(this._points,i,e,n,t),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=function(e,t){let i=e.points,n=e.options.spanGaps,s=i.length;if(!s)return[];let r=!!e._loop,{start:a,end:o}=function(e,t,i,n){let s=0,r=t-1;if(i&&!n)for(;s<t&&!e[s].skip;)s++;for(;s<t&&e[s].skip;)s++;for(s%=t,i&&(r+=s);r>s&&e[r%t].skip;)r--;return{start:s,end:r%=t}}(i,s,r,n);if(!0===n)return m1(e,[{start:a,end:o,loop:r}],i,t);let l=o<a?o+s:o,c=!!e._fullLoop&&0===a&&o===s-1;return m1(e,function(e,t,i,n){let s;let r=e.length,a=[],o=t,l=e[t];for(s=t+1;s<=i;++s){let i=e[s%r];i.skip||i.stop?l.skip||(n=!1,a.push({start:t%r,end:(s-1)%r,loop:n}),t=o=i.stop?s:null):(o=s,l.skip&&(t=s)),l=i}return null!==o&&a.push({start:t%r,end:o%r,loop:n}),a}(i,a,l,c),i,t)}(this,this.options.segment))}first(){let e=this.segments,t=this.points;return e.length&&t[e[0].start]}last(){let e=this.segments,t=this.points,i=e.length;return i&&t[e[i-1].end]}interpolate(e,t){let i,n;let s=this.options,r=e[t],a=this.points,o=m0(this,{property:t,start:r,end:r});if(!o.length)return;let l=[],c=s.stepped?mG:s.tension||"monotone"===s.cubicInterpolationMode?mJ:mK;for(i=0,n=o.length;i<n;++i){let{start:n,end:d}=o[i],u=a[n],p=a[d];if(u===p){l.push(u);continue}let h=Math.abs((r-u[t])/(p[t]-u[t])),m=c(u,p,h,s.stepped);m[t]=e[t],l.push(m)}return 1===l.length?l[0]:l}pathSegment(e,t,i){return gF(this)(e,this,t,i)}path(e,t,i){let n=this.segments,s=gF(this),r=this._loop;for(let a of(t=t||0,i=i||this.points.length-t,n))r&=s(e,this,a,{start:t,end:t+i-1});return!!r}draw(e,t,i,n){let s=this.options||{};(this.points||[]).length&&s.borderWidth&&(e.save(),function(e,t,i,n){if(gB&&!t.options.segment){let s;(s=t._path)||(s=t._path=new Path2D,t.path(s,i,n)&&s.closePath()),gD(e,t.options),e.stroke(s)}else!function(e,t,i,n){let{segments:s,options:r}=t,a=gF(t);for(let o of s)gD(e,r,o.style),e.beginPath(),a(e,t,o,{start:i,end:i+n-1})&&e.closePath(),e.stroke()}(e,t,i,n)}(e,this,i,n),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}function gq(e,t,i,n){let s=e.options,{[i]:r}=e.getProps([i],n);return Math.abs(t-r)<s.radius+s.hitRadius}class gV extends f4{static id="point";parsed;skip;stop;static defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(e){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,e&&Object.assign(this,e)}inRange(e,t,i){let n=this.options,{x:s,y:r}=this.getProps(["x","y"],i);return Math.pow(e-s,2)+Math.pow(t-r,2)<Math.pow(n.hitRadius+n.radius,2)}inXRange(e,t){return gq(this,e,"x",t)}inYRange(e,t){return gq(this,e,"y",t)}getCenterPoint(e){let{x:t,y:i}=this.getProps(["x","y"],e);return{x:t,y:i}}size(e){let t=(e=e||this.options||{}).radius||0,i=(t=Math.max(t,t&&e.hoverRadius||0))&&e.borderWidth||0;return(t+i)*2}draw(e,t){let i=this.options;!this.skip&&!(i.radius<.1)&&mi(this,t,this.size(i)/2)&&(e.strokeStyle=i.borderColor,e.lineWidth=i.borderWidth,e.fillStyle=i.backgroundColor,mt(e,i,this.x,this.y))}getRange(){let e=this.options||{};return e.radius+e.hitRadius}}function gW(e,t){let i,n,s,r,a;let{x:o,y:l,base:c,width:d,height:u}=e.getProps(["x","y","base","width","height"],t);return e.horizontal?(a=u/2,i=Math.min(o,c),n=Math.max(o,c),s=l-a,r=l+a):(i=o-(a=d/2),n=o+a,s=Math.min(l,c),r=Math.max(l,c)),{left:i,top:s,right:n,bottom:r}}function gz(e,t,i,n){return e?0:hO(t,i,n)}function gH(e,t,i,n){let s=null===t,r=null===i,a=e&&!(s&&r)&&gW(e,n);return a&&(s||hP(t,a.left,a.right))&&(r||hP(i,a.top,a.bottom))}function gK(e,t){e.rect(t.x,t.y,t.w,t.h)}function gG(e,t,i={}){let n=e.x!==i.x?-t:0,s=e.y!==i.y?-t:0,r=(e.x+e.w!==i.x+i.w?t:0)-n,a=(e.y+e.h!==i.y+i.h?t:0)-s;return{x:e.x+n,y:e.y+s,w:e.w+r,h:e.h+a,radius:e.radius}}class gJ extends f4{static id="bar";static defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){var t;let{inflateAmount:i,options:{borderColor:n,backgroundColor:s}}=this,{inner:r,outer:a}=function(e){let t=gW(e),i=t.right-t.left,n=t.bottom-t.top,s=function(e,t,i){let n=e.options.borderWidth,s=e.borderSkipped,r=mh(n);return{t:gz(s.top,r.top,0,i),r:gz(s.right,r.right,0,t),b:gz(s.bottom,r.bottom,0,i),l:gz(s.left,r.left,0,t)}}(e,i/2,n/2),r=function(e,t,i){let{enableBorderRadius:n}=e.getProps(["enableBorderRadius"]),s=e.options.borderRadius,r=mm(s),a=Math.min(t,i),o=e.borderSkipped,l=n||pQ(s);return{topLeft:gz(!l||o.top||o.left,r.topLeft,0,a),topRight:gz(!l||o.top||o.right,r.topRight,0,a),bottomLeft:gz(!l||o.bottom||o.left,r.bottomLeft,0,a),bottomRight:gz(!l||o.bottom||o.right,r.bottomRight,0,a)}}(e,i/2,n/2);return{outer:{x:t.left,y:t.top,w:i,h:n,radius:r},inner:{x:t.left+s.l,y:t.top+s.t,w:i-s.l-s.r,h:n-s.t-s.b,radius:{topLeft:Math.max(0,r.topLeft-Math.max(s.t,s.l)),topRight:Math.max(0,r.topRight-Math.max(s.t,s.r)),bottomLeft:Math.max(0,r.bottomLeft-Math.max(s.b,s.l)),bottomRight:Math.max(0,r.bottomRight-Math.max(s.b,s.r))}}}}(this),o=(t=a.radius).topLeft||t.topRight||t.bottomLeft||t.bottomRight?ml:gK;e.save(),(a.w!==r.w||a.h!==r.h)&&(e.beginPath(),o(e,gG(a,i,r)),e.clip(),o(e,gG(r,-i,a)),e.fillStyle=n,e.fill("evenodd")),e.beginPath(),o(e,gG(r,i)),e.fillStyle=s,e.fill(),e.restore()}inRange(e,t,i){return gH(this,e,t,i)}inXRange(e,t){return gH(this,e,null,t)}inYRange(e,t){return gH(this,null,e,t)}getCenterPoint(e){let{x:t,y:i,base:n,horizontal:s}=this.getProps(["x","y","base","horizontal"],e);return{x:s?(t+n)/2:t,y:s?i:(i+n)/2}}getRange(e){return"x"===e?this.width/2:this.height/2}}function gY(e,t,i,n){if(n)return;let s=t[e],r=i[e];return"angle"===e&&(s=hC(s),r=hC(r)),{property:e,start:s,end:r}}function gQ(e,t,i){for(;t>e;t--){let e=i[t];if(!isNaN(e.x)&&!isNaN(e.y))break}return t}function gX(e,t,i,n){return e&&t?n(e[i],t[i]):e?e[i]:t?t[i]:0}e=>e.replace("rgb(","rgba(").replace(")",", 0.5)");function gZ(e,t,i,n){let s=t.interpolate(i,n);s&&e.lineTo(s.x,s.y)}new WeakMap;let g0={average(e){let t,i;if(!e.length)return!1;let n=new Set,s=0,r=0;for(t=0,i=e.length;t<i;++t){let i=e[t].element;if(i&&i.hasValue()){let e=i.tooltipPosition();n.add(e.x),s+=e.y,++r}}return 0!==r&&0!==n.size&&{x:[...n].reduce((e,t)=>e+t)/n.size,y:s/r}},nearest(e,t){let i,n,s;if(!e.length)return!1;let r=t.x,a=t.y,o=Number.POSITIVE_INFINITY;for(i=0,n=e.length;i<n;++i){let n=e[i].element;if(n&&n.hasValue()){let e=hE(t,n.getCenterPoint());e<o&&(o=e,s=n)}}if(s){let e=s.tooltipPosition();r=e.x,a=e.y}return{x:r,y:a}}};function g1(e,t){return t&&(pY(t)?Array.prototype.push.apply(e,t):e.push(t)),e}function g2(e){return("string"==typeof e||e instanceof String)&&e.indexOf("\n")>-1?e.split("\n"):e}function g3(e,t){let i=e.chart.ctx,{body:n,footer:s,title:r}=e,{boxWidth:a,boxHeight:o}=t,l=mg(t.bodyFont),c=mg(t.titleFont),d=mg(t.footerFont),u=r.length,p=s.length,h=n.length,m=mf(t.padding),f=m.height,g=0,v=n.reduce((e,t)=>e+t.before.length+t.lines.length+t.after.length,0);v+=e.beforeBody.length+e.afterBody.length,u&&(f+=u*c.lineHeight+(u-1)*t.titleSpacing+t.titleMarginBottom),v&&(f+=h*(t.displayColors?Math.max(o,l.lineHeight):l.lineHeight)+(v-h)*l.lineHeight+(v-1)*t.bodySpacing),p&&(f+=t.footerMarginTop+p*d.lineHeight+(p-1)*t.footerSpacing);let b=0,y=function(e){g=Math.max(g,i.measureText(e).width+b)};return i.save(),i.font=c.string,p4(e.title,y),i.font=l.string,p4(e.beforeBody.concat(e.afterBody),y),b=t.displayColors?a+2+t.boxPadding:0,p4(n,e=>{p4(e.before,y),p4(e.lines,y),p4(e.after,y)}),b=0,i.font=d.string,p4(e.footer,y),i.restore(),{width:g+=m.width,height:f}}function g4(e,t,i){let n=i.yAlign||t.yAlign||function(e,t){let{y:i,height:n}=t;return i<n/2?"top":i>e.height-n/2?"bottom":"center"}(e,i);return{xAlign:i.xAlign||t.xAlign||function(e,t,i,n){let{x:s,width:r}=i,{width:a,chartArea:{left:o,right:l}}=e,c="center";return"center"===n?c=s<=(o+l)/2?"left":"right":s<=r/2?c="left":s>=a-r/2&&(c="right"),function(e,t,i,n){let{x:s,width:r}=n,a=i.caretSize+i.caretPadding;if("left"===e&&s+r+a>t.width||"right"===e&&s-r-a<0)return!0}(c,e,t,i)&&(c="center"),c}(e,t,i,n),yAlign:n}}function g5(e,t,i,n){let{caretSize:s,caretPadding:r,cornerRadius:a}=e,{xAlign:o,yAlign:l}=i,c=s+r,{topLeft:d,topRight:u,bottomLeft:p,bottomRight:h}=mm(a),m=function(e,t){let{x:i,width:n}=e;return"right"===t?i-=n:"center"===t&&(i-=n/2),i}(t,o),f=function(e,t,i){let{y:n,height:s}=e;return"top"===t?n+=i:"bottom"===t?n-=s+i:n-=s/2,n}(t,l,c);return"center"===l?"left"===o?m+=c:"right"===o&&(m-=c):"left"===o?m-=Math.max(d,p)+s:"right"===o&&(m+=Math.max(u,h)+s),{x:hO(m,0,n.width-t.width),y:hO(f,0,n.height-t.height)}}function g6(e,t,i){let n=mf(i.padding);return"center"===t?e.x+e.width/2:"right"===t?e.x+e.width-n.right:e.x+n.left}function g8(e,t){let i=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return i?e.override(i):e}let g9={beforeTitle:pK,title(e){if(e.length>0){let t=e[0],i=t.chart.data.labels,n=i?i.length:0;if(this&&this.options&&"dataset"===this.options.mode)return t.dataset.label||"";if(t.label)return t.label;if(n>0&&t.dataIndex<n)return i[t.dataIndex]}return""},afterTitle:pK,beforeBody:pK,beforeLabel:pK,label(e){if(this&&this.options&&"dataset"===this.options.mode)return e.label+": "+e.formattedValue||e.formattedValue;let t=e.dataset.label||"";t&&(t+=": ");let i=e.formattedValue;return pJ(i)||(t+=i),t},labelColor(e){let t=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{borderColor:t.borderColor,backgroundColor:t.backgroundColor,borderWidth:t.borderWidth,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(e){let t=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{pointStyle:t.pointStyle,rotation:t.rotation}},afterLabel:pK,afterBody:pK,beforeFooter:pK,footer:pK,afterFooter:pK};function g7(e,t,i,n){let s=e[t].call(i,n);return void 0===s?g9[t].call(i,n):s}class ve extends f4{static positioners=g0;constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){let e=this._cachedAnimations;if(e)return e;let t=this.chart,i=this.options.setContext(this.getContext()),n=i.enabled&&t.options.animation&&i.animations,s=new m9(this.chart,n);return n._cacheable&&(this._cachedAnimations=Object.freeze(s)),s}getContext(){return this.$context||(this.$context=mb(this.chart.getContext(),{tooltip:this,tooltipItems:this._tooltipItems,type:"tooltip"}))}getTitle(e,t){let{callbacks:i}=t,n=g7(i,"beforeTitle",this,e),s=g7(i,"title",this,e),r=g7(i,"afterTitle",this,e),a=[];return a=g1(a,g2(n)),a=g1(a,g2(s)),a=g1(a,g2(r))}getBeforeBody(e,t){return g1([],g2(g7(t.callbacks,"beforeBody",this,e)))}getBody(e,t){let{callbacks:i}=t,n=[];return p4(e,e=>{let t={before:[],lines:[],after:[]},s=g8(i,e);g1(t.before,g2(g7(s,"beforeLabel",this,e))),g1(t.lines,g7(s,"label",this,e)),g1(t.after,g2(g7(s,"afterLabel",this,e))),n.push(t)}),n}getAfterBody(e,t){return g1([],g2(g7(t.callbacks,"afterBody",this,e)))}getFooter(e,t){let{callbacks:i}=t,n=g7(i,"beforeFooter",this,e),s=g7(i,"footer",this,e),r=g7(i,"afterFooter",this,e),a=[];return a=g1(a,g2(n)),a=g1(a,g2(s)),a=g1(a,g2(r))}_createItems(e){let t,i;let n=this._active,s=this.chart.data,r=[],a=[],o=[],l=[];for(t=0,i=n.length;t<i;++t)l.push(function(e,t){let{element:i,datasetIndex:n,index:s}=t,r=e.getDatasetMeta(n).controller,{label:a,value:o}=r.getLabelAndValue(s);return{chart:e,label:a,parsed:r.getParsed(s),raw:e.data.datasets[n].data[s],formattedValue:o,dataset:r.getDataset(),dataIndex:s,datasetIndex:n,element:i}}(this.chart,n[t]));return e.filter&&(l=l.filter((t,i,n)=>e.filter(t,i,n,s))),e.itemSort&&(l=l.sort((t,i)=>e.itemSort(t,i,s))),p4(l,t=>{let i=g8(e.callbacks,t);r.push(g7(i,"labelColor",this,t)),a.push(g7(i,"labelPointStyle",this,t)),o.push(g7(i,"labelTextColor",this,t))}),this.labelColors=r,this.labelPointStyles=a,this.labelTextColors=o,this.dataPoints=l,l}update(e,t){let i;let n=this.options.setContext(this.getContext()),s=this._active,r=[];if(s.length){let e=g0[n.position].call(this,s,this._eventPosition);r=this._createItems(n),this.title=this.getTitle(r,n),this.beforeBody=this.getBeforeBody(r,n),this.body=this.getBody(r,n),this.afterBody=this.getAfterBody(r,n),this.footer=this.getFooter(r,n);let t=this._size=g3(this,n),a=Object.assign({},e,t),o=g4(this.chart,n,a),l=g5(n,a,o,this.chart);this.xAlign=o.xAlign,this.yAlign=o.yAlign,i={opacity:1,x:l.x,y:l.y,width:t.width,height:t.height,caretX:e.x,caretY:e.y}}else 0!==this.opacity&&(i={opacity:0});this._tooltipItems=r,this.$context=void 0,i&&this._resolveAnimations().update(this,i),e&&n.external&&n.external.call(this,{chart:this.chart,tooltip:this,replay:t})}drawCaret(e,t,i,n){let s=this.getCaretPosition(e,i,n);t.lineTo(s.x1,s.y1),t.lineTo(s.x2,s.y2),t.lineTo(s.x3,s.y3)}getCaretPosition(e,t,i){let n,s,r,a,o,l;let{xAlign:c,yAlign:d}=this,{caretSize:u,cornerRadius:p}=i,{topLeft:h,topRight:m,bottomLeft:f,bottomRight:g}=mm(p),{x:v,y:b}=e,{width:y,height:x}=t;return"center"===d?(o=b+x/2,"left"===c?(s=(n=v)-u,a=o+u,l=o-u):(s=(n=v+y)+u,a=o-u,l=o+u),r=n):(s="left"===c?v+Math.max(h,f)+u:"right"===c?v+y-Math.max(m,g)-u:this.caretX,"top"===d?(o=(a=b)-u,n=s-u,r=s+u):(o=(a=b+x)+u,n=s+u,r=s-u),l=a),{x1:n,x2:s,x3:r,y1:a,y2:o,y3:l}}drawTitle(e,t,i){let n,s,r;let a=this.title,o=a.length;if(o){let l=mY(i.rtl,this.x,this.width);for(r=0,e.x=g6(this,i.titleAlign,i),t.textAlign=l.textAlign(i.titleAlign),t.textBaseline="middle",n=mg(i.titleFont),s=i.titleSpacing,t.fillStyle=i.titleColor,t.font=n.string;r<o;++r)t.fillText(a[r],l.x(e.x),e.y+n.lineHeight/2),e.y+=n.lineHeight+s,r+1===o&&(e.y+=i.titleMarginBottom-s)}}_drawColorBox(e,t,i,n,s){let r=this.labelColors[i],a=this.labelPointStyles[i],{boxHeight:o,boxWidth:l}=s,c=mg(s.bodyFont),d=g6(this,"left",s),u=n.x(d),p=o<c.lineHeight?(c.lineHeight-o)/2:0,h=t.y+p;if(s.usePointStyle){let t={radius:Math.min(l,o)/2,pointStyle:a.pointStyle,rotation:a.rotation,borderWidth:1},i=n.leftForLtr(u,l)+l/2,c=h+o/2;e.strokeStyle=s.multiKeyBackground,e.fillStyle=s.multiKeyBackground,mt(e,t,i,c),e.strokeStyle=r.borderColor,e.fillStyle=r.backgroundColor,mt(e,t,i,c)}else{e.lineWidth=pQ(r.borderWidth)?Math.max(...Object.values(r.borderWidth)):r.borderWidth||1,e.strokeStyle=r.borderColor,e.setLineDash(r.borderDash||[]),e.lineDashOffset=r.borderDashOffset||0;let t=n.leftForLtr(u,l),i=n.leftForLtr(n.xPlus(u,1),l-2),a=mm(r.borderRadius);Object.values(a).some(e=>0!==e)?(e.beginPath(),e.fillStyle=s.multiKeyBackground,ml(e,{x:t,y:h,w:l,h:o,radius:a}),e.fill(),e.stroke(),e.fillStyle=r.backgroundColor,e.beginPath(),ml(e,{x:i,y:h+1,w:l-2,h:o-2,radius:a}),e.fill()):(e.fillStyle=s.multiKeyBackground,e.fillRect(t,h,l,o),e.strokeRect(t,h,l,o),e.fillStyle=r.backgroundColor,e.fillRect(i,h+1,l-2,o-2))}e.fillStyle=this.labelTextColors[i]}drawBody(e,t,i){let n,s,r,a,o,l,c;let{body:d}=this,{bodySpacing:u,bodyAlign:p,displayColors:h,boxHeight:m,boxWidth:f,boxPadding:g}=i,v=mg(i.bodyFont),b=v.lineHeight,y=0,x=mY(i.rtl,this.x,this.width),_=function(i){t.fillText(i,x.x(e.x+y),e.y+b/2),e.y+=b+u},w=x.textAlign(p);for(t.textAlign=p,t.textBaseline="middle",t.font=v.string,e.x=g6(this,w,i),t.fillStyle=i.bodyColor,p4(this.beforeBody,_),y=h&&"right"!==w?"center"===p?f/2+g:f+2+g:0,a=0,l=d.length;a<l;++a){for(n=d[a],s=this.labelTextColors[a],t.fillStyle=s,p4(n.before,_),r=n.lines,h&&r.length&&(this._drawColorBox(t,e,a,x,i),b=Math.max(v.lineHeight,m)),o=0,c=r.length;o<c;++o)_(r[o]),b=v.lineHeight;p4(n.after,_)}y=0,b=v.lineHeight,p4(this.afterBody,_),e.y-=u}drawFooter(e,t,i){let n,s;let r=this.footer,a=r.length;if(a){let o=mY(i.rtl,this.x,this.width);for(e.x=g6(this,i.footerAlign,i),e.y+=i.footerMarginTop,t.textAlign=o.textAlign(i.footerAlign),t.textBaseline="middle",n=mg(i.footerFont),t.fillStyle=i.footerColor,t.font=n.string,s=0;s<a;++s)t.fillText(r[s],o.x(e.x),e.y+n.lineHeight/2),e.y+=n.lineHeight+i.footerSpacing}}drawBackground(e,t,i,n){let{xAlign:s,yAlign:r}=this,{x:a,y:o}=e,{width:l,height:c}=i,{topLeft:d,topRight:u,bottomLeft:p,bottomRight:h}=mm(n.cornerRadius);t.fillStyle=n.backgroundColor,t.strokeStyle=n.borderColor,t.lineWidth=n.borderWidth,t.beginPath(),t.moveTo(a+d,o),"top"===r&&this.drawCaret(e,t,i,n),t.lineTo(a+l-u,o),t.quadraticCurveTo(a+l,o,a+l,o+u),"center"===r&&"right"===s&&this.drawCaret(e,t,i,n),t.lineTo(a+l,o+c-h),t.quadraticCurveTo(a+l,o+c,a+l-h,o+c),"bottom"===r&&this.drawCaret(e,t,i,n),t.lineTo(a+p,o+c),t.quadraticCurveTo(a,o+c,a,o+c-p),"center"===r&&"left"===s&&this.drawCaret(e,t,i,n),t.lineTo(a,o+d),t.quadraticCurveTo(a,o,a+d,o),t.closePath(),t.fill(),n.borderWidth>0&&t.stroke()}_updateAnimationTarget(e){let t=this.chart,i=this.$animations,n=i&&i.x,s=i&&i.y;if(n||s){let i=g0[e.position].call(this,this._active,this._eventPosition);if(!i)return;let r=this._size=g3(this,e),a=Object.assign({},i,this._size),o=g4(t,e,a),l=g5(e,a,o,t);(n._to!==l.x||s._to!==l.y)&&(this.xAlign=o.xAlign,this.yAlign=o.yAlign,this.width=r.width,this.height=r.height,this.caretX=i.x,this.caretY=i.y,this._resolveAnimations().update(this,l))}}_willRender(){return!!this.opacity}draw(e){var t,i,n,s;let r,a,o=this.options.setContext(this.getContext()),l=this.opacity;if(!l)return;this._updateAnimationTarget(o);let c={width:this.width,height:this.height},d={x:this.x,y:this.y};l=.001>Math.abs(l)?0:l;let u=mf(o.padding),p=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;o.enabled&&p&&(e.save(),e.globalAlpha=l,this.drawBackground(d,e,c,o),t=e,("ltr"===(i=o.textDirection)||"rtl"===i)&&(a=[(r=t.canvas.style).getPropertyValue("direction"),r.getPropertyPriority("direction")],r.setProperty("direction",i,"important"),t.prevTextDirection=a),d.y+=u.top,this.drawTitle(d,e,o),this.drawBody(d,e,o),this.drawFooter(d,e,o),n=e,void 0!==(s=o.textDirection)&&(delete n.prevTextDirection,n.canvas.style.setProperty("direction",s[0],s[1])),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,t){let i=this._active,n=e.map(({datasetIndex:e,index:t})=>{let i=this.chart.getDatasetMeta(e);if(!i)throw Error("Cannot find a dataset at index "+e);return{datasetIndex:e,element:i.data[t],index:t}}),s=!p5(i,n),r=this._positionChanged(n,t);(s||r)&&(this._active=n,this._eventPosition=t,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,t,i=!0){if(t&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;let n=this.options,s=this._active||[],r=this._getActiveElements(e,s,t,i),a=this._positionChanged(r,e),o=t||!p5(r,s)||a;return o&&(this._active=r,(n.enabled||n.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,t))),o}_getActiveElements(e,t,i,n){let s=this.options;if("mouseout"===e.type)return[];if(!n)return t.filter(e=>this.chart.data.datasets[e.datasetIndex]&&void 0!==this.chart.getDatasetMeta(e.datasetIndex).controller.getParsed(e.index));let r=this.chart.getElementsAtEventForMode(e,s.mode,s,i);return s.reverse&&r.reverse(),r}_positionChanged(e,t){let{caretX:i,caretY:n,options:s}=this,r=g0[s.position].call(this,e,t);return!1!==r&&(i!==r.x||n!==r.y)}}let vt=(e,t,i,n)=>("string"==typeof t?(i=e.push(t)-1,n.unshift({index:i,label:t})):isNaN(t)&&(i=null),i),vi=(e,t)=>null===e?null:hO(Math.round(e),0,t);function vn(e){let t=this.getLabels();return e>=0&&e<t.length?t[e]:e}class vs extends gi{static id="category";static defaults={ticks:{callback:vn}};constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){let t=this._addedLabels;if(t.length){let e=this.getLabels();for(let{index:i,label:n}of t)e[i]===n&&e.splice(i,1);this._addedLabels=[]}super.init(e)}parse(e,t){if(pJ(e))return null;let i=this.getLabels();return vi(t=isFinite(t)&&i[t]===e?t:function(e,t,i,n){let s=e.indexOf(t);return -1===s?vt(e,t,i,n):s!==e.lastIndexOf(t)?i:s}(i,e,p0(t,e),this._addedLabels),i.length-1)}determineDataLimits(){let{minDefined:e,maxDefined:t}=this.getUserBounds(),{min:i,max:n}=this.getMinMax(!0);"ticks"!==this.options.bounds||(e||(i=0),t||(n=this.getLabels().length-1)),this.min=i,this.max=n}buildTicks(){let e=this.min,t=this.max,i=this.options.offset,n=[],s=this.getLabels();s=0===e&&t===s.length-1?s:s.slice(e,t+1),this._valueRange=Math.max(s.length-(i?0:1),1),this._startValue=this.min-(i?.5:0);for(let i=e;i<=t;i++)n.push({value:i});return n}getLabelForValue(e){return vn.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return"number"!=typeof e&&(e=this.parse(e)),null===e?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){let t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}function vr(e,t,{horizontal:i,minRotation:n}){let s=hw(n),r=(i?Math.sin(s):Math.cos(s))||.001,a=.75*t*(""+e).length;return Math.min(t/r,a)}class va extends gi{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,t){return pJ(e)||("number"==typeof e||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){let{beginAtZero:e}=this.options,{minDefined:t,maxDefined:i}=this.getUserBounds(),{min:n,max:s}=this,r=e=>n=t?n:e,a=e=>s=i?s:e;if(e){let e=hv(n),t=hv(s);e<0&&t<0?a(0):e>0&&t>0&&r(0)}if(n===s){let t=0===s?1:Math.abs(.05*s);a(s+t),e||r(n-t)}this.min=n,this.max=s}getTickLimit(){let e;let{maxTicksLimit:t,stepSize:i}=this.options.ticks;return i?(e=Math.ceil(this.max/i)-Math.floor(this.min/i)+1)>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${i} would result generating up to ${e} ticks. Limiting to 1000.`),e=1e3):(e=this.computeTickLimit(),t=t||11),t&&(e=Math.min(t,e)),e}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){let e=this.options,t=e.ticks,i=this.getTickLimit(),n=function(e,t){let i,n,s,r;let a=[],{bounds:o,step:l,min:c,max:d,precision:u,count:p,maxTicks:h,maxDigits:m,includeBounds:f}=e,g=l||1,v=h-1,{min:b,max:y}=t,x=!pJ(c),_=!pJ(d),w=!pJ(p),S=(y-b)/(m+1),k=hy((y-b)/v/g)*g;if(k<1e-14&&!x&&!_)return[{value:b},{value:y}];(r=Math.ceil(y/k)-Math.floor(b/k))>v&&(k=hy(r*k/v/g)*g),pJ(u)||(k=Math.ceil(k*(i=Math.pow(10,u)))/i),"ticks"===o?(n=Math.floor(b/k)*k,s=Math.ceil(y/k)*k):(n=b,s=y),x&&_&&l&&function(e,t){let i=Math.round(e);return i-t<=e&&i+t>=e}((d-c)/l,k/1e3)?(r=Math.round(Math.min((d-c)/k,h)),k=(d-c)/r,n=c,s=d):w?(n=x?c:n,k=((s=_?d:s)-n)/(r=p-1)):r=hb(r=(s-n)/k,Math.round(r),k/1e3)?Math.round(r):Math.ceil(r);let E=Math.max(hS(k),hS(n));n=Math.round(n*(i=Math.pow(10,pJ(u)?E:u)))/i,s=Math.round(s*i)/i;let T=0;for(x&&(f&&n!==c?(a.push({value:c}),n<c&&T++,hb(Math.round((n+T*k)*i)/i,c,vr(c,S,e))&&T++):n<c&&T++);T<r;++T){let e=Math.round((n+T*k)*i)/i;if(_&&e>d)break;a.push({value:e})}return _&&f&&s!==d?a.length&&hb(a[a.length-1].value,d,vr(d,S,e))?a[a.length-1].value=d:a.push({value:d}):_&&s!==d||a.push({value:s}),a}({maxTicks:i=Math.max(2,i),bounds:e.bounds,min:e.min,max:e.max,precision:t.precision,step:t.stepSize,count:t.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:t.minRotation||0,includeBounds:!1!==t.includeBounds},this._range||this);return"ticks"===e.bounds&&h_(n,this,"value"),e.reverse?(n.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),n}configure(){let e=this.ticks,t=this.min,i=this.max;if(super.configure(),this.options.offset&&e.length){let n=(i-t)/Math.max(e.length-1,1)/2;t-=n,i+=n}this._startValue=t,this._endValue=i,this._valueRange=i-t}getLabelForValue(e){return hZ(e,this.chart.options.locale,this.options.ticks.format)}}class vo extends va{static id="linear";static defaults={ticks:{callback:h1.formatters.numeric}};determineDataLimits(){let{min:e,max:t}=this.getMinMax(!0);this.min=pX(e)?e:0,this.max=pX(t)?t:1,this.handleTickRangeOptions()}computeTickLimit(){let e=this.isHorizontal(),t=e?this.width:this.height,i=hw(this.options.ticks.minRotation),n=(e?Math.sin(i):Math.cos(i))||.001;return Math.ceil(t/Math.min(40,this._resolveTickFontOptions(0).lineHeight/n))}getPixelForValue(e){return null===e?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}let vl=e=>Math.floor(hg(e)),vc=(e,t)=>Math.pow(10,vl(e)+t);function vd(e){return 1==e/Math.pow(10,vl(e))}function vu(e,t,i){let n=Math.pow(10,i),s=Math.floor(e/n);return Math.ceil(t/n)-s}class vp extends gi{static id="logarithmic";static defaults={ticks:{callback:h1.formatters.logarithmic,major:{enabled:!0}}};constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(e,t){let i=va.prototype.parse.apply(this,[e,t]);if(0===i){this._zero=!0;return}return pX(i)&&i>0?i:null}determineDataLimits(){let{min:e,max:t}=this.getMinMax(!0);this.min=pX(e)?Math.max(0,e):null,this.max=pX(t)?Math.max(0,t):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!pX(this._userMin)&&(this.min=e===vc(this.min,0)?vc(this.min,-1):vc(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){let{minDefined:e,maxDefined:t}=this.getUserBounds(),i=this.min,n=this.max,s=t=>i=e?i:t,r=e=>n=t?n:e;i===n&&(i<=0?(s(1),r(10)):(s(vc(i,-1)),r(vc(n,1)))),i<=0&&s(vc(n,-1)),n<=0&&r(vc(i,1)),this.min=i,this.max=n}buildTicks(){let e=this.options,t=function(e,{min:t,max:i}){t=pZ(e.min,t);let n=[],s=vl(t),r=function(e,t){let i=vl(t-e);for(;vu(e,t,i)>10;)i++;for(;10>vu(e,t,i);)i--;return Math.min(i,vl(e))}(t,i),a=r<0?Math.pow(10,Math.abs(r)):1,o=Math.pow(10,r),l=s>r?Math.pow(10,s):0,c=Math.round((t-l)*a)/a,d=Math.floor((t-l)/o/10)*o*10,u=Math.floor((c-d)/Math.pow(10,r)),p=pZ(e.min,Math.round((l+d+u*Math.pow(10,r))*a)/a);for(;p<i;)n.push({value:p,major:vd(p),significand:u}),u>=10?u=u<15?15:20:u++,u>=20&&(u=2,a=++r>=0?1:a),p=Math.round((l+d+u*Math.pow(10,r))*a)/a;let h=pZ(e.max,p);return n.push({value:h,major:vd(h),significand:u}),n}({min:this._userMin,max:this._userMax},this);return"ticks"===e.bounds&&h_(t,this,"value"),e.reverse?(t.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),t}getLabelForValue(e){return void 0===e?"0":hZ(e,this.chart.options.locale,this.options.ticks.format)}configure(){let e=this.min;super.configure(),this._startValue=hg(e),this._valueRange=hg(this.max)-hg(e)}getPixelForValue(e){return((void 0===e||0===e)&&(e=this.min),null===e||isNaN(e))?NaN:this.getPixelForDecimal(e===this.min?0:(hg(e)-this._startValue)/this._valueRange)}getValueForPixel(e){let t=this.getDecimalForPixel(e);return Math.pow(10,this._startValue+t*this._valueRange)}}function vh(e){let t=e.ticks;if(t.display&&e.display){let e=mf(t.backdropPadding);return p0(t.font&&t.font.size,h8.font.size)+e.height}return 0}function vm(e,t,i,n,s){return e===n||e===s?{start:t-i/2,end:t+i/2}:e<n||e>s?{start:t-i,end:t}:{start:t,end:t+i}}function vf(e,t,i,n){let{ctx:s}=e;if(i)s.arc(e.xCenter,e.yCenter,t,0,hc);else{let i=e.getPointPosition(0,t);s.moveTo(i.x,i.y);for(let r=1;r<n;r++)i=e.getPointPosition(r,t),s.lineTo(i.x,i.y)}}class vg extends va{static id="radialLinear";static defaults={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:h1.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback:e=>e,padding:5,centerPointLabels:!1}};static defaultRoutes={"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"};static descriptors={angleLines:{_fallback:"grid"}};constructor(e){super(e),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){let e=this._padding=mf(vh(this.options)/2),t=this.width=this.maxWidth-e.width,i=this.height=this.maxHeight-e.height;this.xCenter=Math.floor(this.left+t/2+e.left),this.yCenter=Math.floor(this.top+i/2+e.top),this.drawingArea=Math.floor(Math.min(t,i)/2)}determineDataLimits(){let{min:e,max:t}=this.getMinMax(!1);this.min=pX(e)&&!isNaN(e)?e:0,this.max=pX(t)&&!isNaN(t)?t:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/vh(this.options))}generateTickLabels(e){va.prototype.generateTickLabels.call(this,e),this._pointLabels=this.getLabels().map((e,t)=>{let i=p3(this.options.pointLabels.callback,[e,t],this);return i||0===i?i:""}).filter((e,t)=>this.chart.getDataVisibility(t))}fit(){let e=this.options;e.display&&e.pointLabels.display?function(e){let t={l:e.left+e._padding.left,r:e.right-e._padding.right,t:e.top+e._padding.top,b:e.bottom-e._padding.bottom},i=Object.assign({},t),n=[],s=[],r=e._pointLabels.length,a=e.options.pointLabels,o=a.centerPointLabels?hl/r:0;for(let d=0;d<r;d++){var l,c;let r=a.setContext(e.getPointLabelContext(d));s[d]=r.padding;let u=e.getPointPosition(d,e.drawingArea+s[d],o),p=mg(r.font),h=(l=e.ctx,c=pY(c=e._pointLabels[d])?c:[c],{w:function(e,t,i,n){let s,r,a,o,l;let c=(n=n||{}).data=n.data||{},d=n.garbageCollect=n.garbageCollect||[];n.font!==t&&(c=n.data={},d=n.garbageCollect=[],n.font=t),e.save(),e.font=t;let u=0,p=i.length;for(s=0;s<p;s++)if(null==(o=i[s])||pY(o)){if(pY(o))for(r=0,a=o.length;r<a;r++)null==(l=o[r])||pY(l)||(u=h9(e,c,d,u,l))}else u=h9(e,c,d,u,o);e.restore();let h=d.length/2;if(h>i.length){for(s=0;s<h;s++)delete c[d[s]];d.splice(0,h)}return u}(l,p.string,c),h:c.length*p.lineHeight});n[d]=h;let m=hC(e.getIndexAngle(d)+o),f=Math.round(180/hl*m);(function(e,t,i,n,s){let r=Math.abs(Math.sin(i)),a=Math.abs(Math.cos(i)),o=0,l=0;n.start<t.l?(o=(t.l-n.start)/r,e.l=Math.min(e.l,t.l-o)):n.end>t.r&&(o=(n.end-t.r)/r,e.r=Math.max(e.r,t.r+o)),s.start<t.t?(l=(t.t-s.start)/a,e.t=Math.min(e.t,t.t-l)):s.end>t.b&&(l=(s.end-t.b)/a,e.b=Math.max(e.b,t.b+l))})(i,t,m,vm(f,u.x,h.w,0,180),vm(f,u.y,h.h,90,270))}e.setCenterPoint(t.l-i.l,i.r-t.r,t.t-i.t,i.b-t.b),e._pointLabelItems=function(e,t,i){let n;let s=[],r=e._pointLabels.length,a=e.options,{centerPointLabels:o,display:l}=a.pointLabels,c={extra:vh(a)/2,additionalAngle:o?hl/r:0};for(let a=0;a<r;a++){c.padding=i[a],c.size=t[a];let r=function(e,t,i){var n,s,r,a;let o=e.drawingArea,{extra:l,additionalAngle:c,padding:d,size:u}=i,p=e.getPointPosition(t,o+l+d,c),h=Math.round(180/hl*hC(p.angle+hh)),m=(n=p.y,s=u.h,90===h||270===h?n-=s/2:(h>270||h<90)&&(n-=s),n),f=0===h||180===h?"center":h<180?"left":"right",g=(r=p.x,a=u.w,"right"===f?r-=a:"center"===f&&(r-=a/2),r);return{visible:!0,x:p.x,y:m,textAlign:f,left:g,top:m,right:g+u.w,bottom:m+u.h}}(e,a,c);s.push(r),"auto"===l&&(r.visible=function(e,t){if(!t)return!0;let{left:i,top:n,right:s,bottom:r}=e;return!(mi({x:i,y:n},t)||mi({x:i,y:r},t)||mi({x:s,y:n},t)||mi({x:s,y:r},t))}(r,n),r.visible&&(n=r))}return s}(e,n,s)}(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(e,t,i,n){this.xCenter+=Math.floor((e-t)/2),this.yCenter+=Math.floor((i-n)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(e,t,i,n))}getIndexAngle(e){return hC(hc/(this._pointLabels.length||1)*e+hw(this.options.startAngle||0))}getDistanceFromCenterForValue(e){if(pJ(e))return NaN;let t=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-e)*t:(e-this.min)*t}getValueForDistanceFromCenter(e){if(pJ(e))return NaN;let t=e/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-t:this.min+t}getPointLabelContext(e){let t=this._pointLabels||[];if(e>=0&&e<t.length){let i=t[e];return mb(this.getContext(),{label:i,index:e,type:"pointLabel"})}}getPointPosition(e,t,i=0){let n=this.getIndexAngle(e)-hh+i;return{x:Math.cos(n)*t+this.xCenter,y:Math.sin(n)*t+this.yCenter,angle:n}}getPointPositionForValue(e,t){return this.getPointPosition(e,this.getDistanceFromCenterForValue(t))}getBasePosition(e){return this.getPointPositionForValue(e||0,this.getBaseValue())}getPointLabelPosition(e){let{left:t,top:i,right:n,bottom:s}=this._pointLabelItems[e];return{left:t,top:i,right:n,bottom:s}}drawBackground(){let{backgroundColor:e,grid:{circular:t}}=this.options;if(e){let i=this.ctx;i.save(),i.beginPath(),vf(this,this.getDistanceFromCenterForValue(this._endValue),t,this._pointLabels.length),i.closePath(),i.fillStyle=e,i.fill(),i.restore()}}drawGrid(){let e,t,i;let n=this.ctx,s=this.options,{angleLines:r,grid:a,border:o}=s,l=this._pointLabels.length;if(s.pointLabels.display&&function(e,t){let{ctx:i,options:{pointLabels:n}}=e;for(let s=t-1;s>=0;s--){let t=e._pointLabelItems[s];if(!t.visible)continue;let r=n.setContext(e.getPointLabelContext(s));!function(e,t,i){let{left:n,top:s,right:r,bottom:a}=i,{backdropColor:o}=t;if(!pJ(o)){let i=mm(t.borderRadius),l=mf(t.backdropPadding);e.fillStyle=o;let c=n-l.left,d=s-l.top,u=r-n+l.width,p=a-s+l.height;Object.values(i).some(e=>0!==e)?(e.beginPath(),ml(e,{x:c,y:d,w:u,h:p,radius:i}),e.fill()):e.fillRect(c,d,u,p)}}(i,r,t);let a=mg(r.font),{x:o,y:l,textAlign:c}=t;mo(i,e._pointLabels[s],o,l+a.lineHeight/2,a,{color:r.color,textAlign:c,textBaseline:"middle"})}}(this,l),a.display&&this.ticks.forEach((e,i)=>{if(0!==i||0===i&&this.min<0){t=this.getDistanceFromCenterForValue(e.value);let n=this.getContext(i),s=a.setContext(n),r=o.setContext(n);!function(e,t,i,n,s){let r=e.ctx,a=t.circular,{color:o,lineWidth:l}=t;(a||n)&&o&&l&&!(i<0)&&(r.save(),r.strokeStyle=o,r.lineWidth=l,r.setLineDash(s.dash),r.lineDashOffset=s.dashOffset,r.beginPath(),vf(e,i,a,n),r.closePath(),r.stroke(),r.restore())}(this,s,t,l,r)}}),r.display){for(n.save(),e=l-1;e>=0;e--){let a=r.setContext(this.getPointLabelContext(e)),{color:o,lineWidth:l}=a;l&&o&&(n.lineWidth=l,n.strokeStyle=o,n.setLineDash(a.borderDash),n.lineDashOffset=a.borderDashOffset,t=this.getDistanceFromCenterForValue(s.reverse?this.min:this.max),i=this.getPointPosition(e,t),n.beginPath(),n.moveTo(this.xCenter,this.yCenter),n.lineTo(i.x,i.y),n.stroke())}n.restore()}}drawBorder(){}drawLabels(){let e,t;let i=this.ctx,n=this.options,s=n.ticks;if(!s.display)return;let r=this.getIndexAngle(0);i.save(),i.translate(this.xCenter,this.yCenter),i.rotate(r),i.textAlign="center",i.textBaseline="middle",this.ticks.forEach((r,a)=>{if(0===a&&this.min>=0&&!n.reverse)return;let o=s.setContext(this.getContext(a)),l=mg(o.font);if(e=this.getDistanceFromCenterForValue(this.ticks[a].value),o.showLabelBackdrop){i.font=l.string,t=i.measureText(r.label).width,i.fillStyle=o.backdropColor;let n=mf(o.backdropPadding);i.fillRect(-t/2-n.left,-e-l.size/2-n.top,t+n.width,l.size+n.height)}mo(i,r.label,0,-e,l,{color:o.color,strokeColor:o.textStrokeColor,strokeWidth:o.textStrokeWidth})}),i.restore()}drawTitle(){}}let vv={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},vb=Object.keys(vv);function vy(e,t){return e-t}function vx(e,t){if(pJ(t))return null;let i=e._adapter,{parser:n,round:s,isoWeekday:r}=e._parseOpts,a=t;return("function"==typeof n&&(a=n(a)),pX(a)||(a="string"==typeof n?i.parse(a,n):i.parse(a)),null===a)?null:(s&&(a="week"===s&&(hx(r)||!0===r)?i.startOf(a,"isoWeek",r):i.startOf(a,s)),+a)}function v_(e,t,i,n){let s=vb.length;for(let r=vb.indexOf(e);r<s-1;++r){let e=vv[vb[r]],s=e.steps?e.steps:Number.MAX_SAFE_INTEGER;if(e.common&&Math.ceil((i-t)/(s*e.size))<=n)return vb[r]}return vb[s-1]}function vw(e,t,i){if(i){if(i.length){let{lo:n,hi:s}=hj(i,t);e[i[n]>=t?i[n]:i[s]]=!0}}else e[t]=!0}function vS(e,t,i){let n,s;let r=[],a={},o=t.length;for(n=0;n<o;++n)a[s=t[n]]=n,r.push({value:s,major:!1});return 0!==o&&i?function(e,t,i,n){let s,r;let a=e._adapter,o=+a.startOf(t[0].value,n),l=t[t.length-1].value;for(s=o;s<=l;s=+a.add(s,1,n))(r=i[s])>=0&&(t[r].major=!0);return t}(e,r,a,i):r}class vk extends gi{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,t={}){let i=e.time||(e.time={}),n=this._adapter=new fT._date(e.adapters.date);n.init(t),he(i.displayFormats,n.formats()),this._parseOpts={parser:i.parser,round:i.round,isoWeekday:i.isoWeekday},super.init(e),this._normalized=t.normalized}parse(e,t){return void 0===e?null:vx(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){let e=this.options,t=this._adapter,i=e.time.unit||"day",{min:n,max:s,minDefined:r,maxDefined:a}=this.getUserBounds();function o(e){r||isNaN(e.min)||(n=Math.min(n,e.min)),a||isNaN(e.max)||(s=Math.max(s,e.max))}r&&a||(o(this._getLabelBounds()),("ticks"!==e.bounds||"labels"!==e.ticks.source)&&o(this.getMinMax(!1))),n=pX(n)&&!isNaN(n)?n:+t.startOf(Date.now(),i),s=pX(s)&&!isNaN(s)?s:+t.endOf(Date.now(),i)+1,this.min=Math.min(n,s-1),this.max=Math.max(n+1,s)}_getLabelBounds(){let e=this.getLabelTimestamps(),t=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;return e.length&&(t=e[0],i=e[e.length-1]),{min:t,max:i}}buildTicks(){let e=this.options,t=e.time,i=e.ticks,n="labels"===i.source?this.getLabelTimestamps():this._generate();"ticks"===e.bounds&&n.length&&(this.min=this._userMin||n[0],this.max=this._userMax||n[n.length-1]);let s=this.min,r=function(e,t,i){let n=0,s=e.length;for(;n<s&&e[n]<t;)n++;for(;s>n&&e[s-1]>i;)s--;return n>0||s<e.length?e.slice(n,s):e}(n,s,this.max);return this._unit=t.unit||(i.autoSkip?v_(t.minUnit,this.min,this.max,this._getLabelCapacity(s)):function(e,t,i,n,s){for(let r=vb.length-1;r>=vb.indexOf(i);r--){let i=vb[r];if(vv[i].common&&e._adapter.diff(s,n,i)>=t-1)return i}return vb[i?vb.indexOf(i):0]}(this,r.length,t.minUnit,this.min,this.max)),this._majorUnit=i.major.enabled&&"year"!==this._unit?function(e){for(let t=vb.indexOf(e)+1,i=vb.length;t<i;++t)if(vv[vb[t]].common)return vb[t]}(this._unit):void 0,this.initOffsets(n),e.reverse&&r.reverse(),vS(this,r,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let t,i,n=0,s=0;this.options.offset&&e.length&&(t=this.getDecimalForValue(e[0]),n=1===e.length?1-t:(this.getDecimalForValue(e[1])-t)/2,i=this.getDecimalForValue(e[e.length-1]),s=1===e.length?i:(i-this.getDecimalForValue(e[e.length-2]))/2);let r=e.length<3?.5:.25;n=hO(n,0,r),s=hO(s,0,r),this._offsets={start:n,end:s,factor:1/(n+1+s)}}_generate(){let e,t;let i=this._adapter,n=this.min,s=this.max,r=this.options,a=r.time,o=a.unit||v_(a.minUnit,n,s,this._getLabelCapacity(n)),l=p0(r.ticks.stepSize,1),c="week"===o&&a.isoWeekday,d=hx(c)||!0===c,u={},p=n;if(d&&(p=+i.startOf(p,"isoWeek",c)),p=+i.startOf(p,d?"day":o),i.diff(s,n,o)>1e5*l)throw Error(n+" and "+s+" are too far apart with stepSize of "+l+" "+o);let h="data"===r.ticks.source&&this.getDataTimestamps();for(e=p,t=0;e<s;e=+i.add(e,l,o),t++)vw(u,e,h);return(e===s||"ticks"===r.bounds||1===t)&&vw(u,e,h),Object.keys(u).sort(vy).map(e=>+e)}getLabelForValue(e){let t=this._adapter,i=this.options.time;return i.tooltipFormat?t.format(e,i.tooltipFormat):t.format(e,i.displayFormats.datetime)}format(e,t){let i=this.options.time.displayFormats,n=this._unit,s=t||i[n];return this._adapter.format(e,s)}_tickFormatFunction(e,t,i,n){let s=this.options,r=s.ticks.callback;if(r)return p3(r,[e,t,i],this);let a=s.time.displayFormats,o=this._unit,l=this._majorUnit,c=o&&a[o],d=l&&a[l],u=i[t],p=l&&d&&u&&u.major;return this._adapter.format(e,n||(p?d:c))}generateTickLabels(e){let t,i,n;for(t=0,i=e.length;t<i;++t)(n=e[t]).label=this._tickFormatFunction(n.value,t,e)}getDecimalForValue(e){return null===e?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){let t=this._offsets,i=this.getDecimalForValue(e);return this.getPixelForDecimal((t.start+i)*t.factor)}getValueForPixel(e){let t=this._offsets,i=this.getDecimalForPixel(e)/t.factor-t.end;return this.min+i*(this.max-this.min)}_getLabelSize(e){let t=this.options.ticks,i=this.ctx.measureText(e).width,n=hw(this.isHorizontal()?t.maxRotation:t.minRotation),s=Math.cos(n),r=Math.sin(n),a=this._resolveTickFontOptions(0).size;return{w:i*s+a*r,h:i*r+a*s}}_getLabelCapacity(e){let t=this.options.time,i=t.displayFormats,n=i[t.unit]||i.millisecond,s=this._tickFormatFunction(e,0,vS(this,[e],this._majorUnit),n),r=this._getLabelSize(s),a=Math.floor(this.isHorizontal()?this.width/r.w:this.height/r.h)-1;return a>0?a:1}getDataTimestamps(){let e,t,i=this._cache.data||[];if(i.length)return i;let n=this.getMatchingVisibleMetas();if(this._normalized&&n.length)return this._cache.data=n[0].controller.getAllParsedValues(this);for(e=0,t=n.length;e<t;++e)i=i.concat(n[e].controller.getAllParsedValues(this));return this._cache.data=this.normalize(i)}getLabelTimestamps(){let e,t;let i=this._cache.labels||[];if(i.length)return i;let n=this.getLabels();for(e=0,t=n.length;e<t;++e)i.push(vx(this,n[e]));return this._cache.labels=this._normalized?i:this.normalize(i)}normalize(e){return hL(e.sort(vy))}}function vE(e,t,i){let n,s,r,a,o=0,l=e.length-1;i?(t>=e[o].pos&&t<=e[l].pos&&({lo:o,hi:l}=hI(e,"pos",t)),{pos:n,time:r}=e[o],{pos:s,time:a}=e[l]):(t>=e[o].time&&t<=e[l].time&&({lo:o,hi:l}=hI(e,"time",t)),{time:n,pos:r}=e[o],{time:s,pos:a}=e[l]);let c=s-n;return c?r+(a-r)*(t-n)/c:r}class vT extends vk{static id="timeseries";static defaults=vk.defaults;constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){let e=this._getTimestampsForTable(),t=this._table=this.buildLookupTable(e);this._minPos=vE(t,this.min),this._tableRange=vE(t,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){let t,i,n;let{min:s,max:r}=this,a=[],o=[];for(t=0,i=e.length;t<i;++t)(n=e[t])>=s&&n<=r&&a.push(n);if(a.length<2)return[{time:s,pos:0},{time:r,pos:1}];for(t=0,i=a.length;t<i;++t)Math.round((a[t+1]+a[t-1])/2)!==(n=a[t])&&o.push({time:n,pos:t/(i-1)});return o}_generate(){let e=this.min,t=this.max,i=super.getDataTimestamps();return i.includes(e)&&i.length||i.splice(0,0,e),i.includes(t)&&1!==i.length||i.push(t),i.sort((e,t)=>e-t)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;let t=this.getDataTimestamps(),i=this.getLabelTimestamps();return e=t.length&&i.length?this.normalize(t.concat(i)):t.length?t:i,e=this._cache.all=e}getDecimalForValue(e){return(vE(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){let t=this._offsets,i=this.getDecimalForPixel(e)/t.factor-t.end;return vE(this._table,i*this._tableRange+this._minPos,!0)}}let vC="label";function vR(e,t){"function"==typeof e?e(t):e&&(e.current=t)}function vO(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:vC,n=[];e.datasets=t.map(t=>{let s=e.datasets.find(e=>e[i]===t[i]);return!s||!t.data||n.includes(s)?{...t}:(n.push(s),Object.assign(s,t),s)})}let vP=(0,ut.forwardRef)(function(e,t){let{height:i=150,width:n=300,redraw:s=!1,datasetIdKey:r,type:a,data:o,options:l,plugins:c=[],fallbackContent:d,updateMode:u,...p}=e,h=(0,ut.useRef)(null),m=(0,ut.useRef)(),f=()=>{h.current&&(m.current=new gO(h.current,{type:a,data:function(e){var t;let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:vC,n={labels:[],datasets:[]};return t=e.labels,n.labels=t,vO(n,e.datasets,i),n}(o,r),options:l&&{...l},plugins:c}),vR(t,m.current))},g=()=>{vR(t,null),m.current&&(m.current.destroy(),m.current=null)};return(0,ut.useEffect)(()=>{!s&&m.current&&l&&function(e,t){let i=e.options;i&&t&&Object.assign(i,t)}(m.current,l)},[s,l]),(0,ut.useEffect)(()=>{if(!s&&m.current){var e,t;e=m.current.config.data,t=o.labels,e.labels=t}},[s,o.labels]),(0,ut.useEffect)(()=>{!s&&m.current&&o.datasets&&vO(m.current.config.data,o.datasets,r)},[s,o.datasets]),(0,ut.useEffect)(()=>{m.current&&(s?(g(),setTimeout(f)):m.current.update(u))},[s,l,o.labels,o.datasets,u]),(0,ut.useEffect)(()=>{m.current&&(g(),setTimeout(f))},[a]),(0,ut.useEffect)(()=>(f(),()=>g()),[]),ut.createElement("canvas",Object.assign({ref:h,role:"img",height:i,width:n},p),d)}),vj=(v="line",gO.register(fy),(0,ut.forwardRef)((e,t)=>ut.createElement(vP,Object.assign({},e,{ref:t,type:v})))),vI=({participant:e,trackType:t="audioTrack",...i})=>{let n=u1(),[s,r]=(0,ut.useState)(null),{userId:a,sessionId:o}=e;return(0,ut.useEffect)(()=>{if(!n||!s)return;let e=n.bindAudioElement(s,o,t);return()=>{e?.()}},[n,o,s,t]),(0,ue.jsx)("audio",{autoPlay:!0,...i,ref:r,"data-user-id":a,"data-session-id":o,"data-track-type":t})};vI.displayName="Audio";let vN=e=>{let{participants:t,audioProps:i}=e;return(0,ue.jsx)(ue.Fragment,{children:t.map(e=>{if(e.isLocalParticipant)return null;let{audioStream:t,screenShareAudioStream:n,sessionId:s}=e,r=ct(e)&&t&&(0,ue.jsx)(vI,{...i,trackType:"audioTrack",participant:e}),a=cn(e)&&n&&(0,ue.jsx)(vI,{...i,trackType:"screenShareAudioTrack",participant:e});return(0,ue.jsxs)(ut.Fragment,{children:[r,a]},s)})})};vN.displayName="ParticipantsAudio";let vD=(0,ut.createContext)(void 0),vA=()=>(0,ut.useContext)(vD),vL=({imageSrc:e,name:t,style:i,className:n,...s})=>{let[r,a]=(0,ut.useState)(!1);return(0,ue.jsxs)(ue.Fragment,{children:[(!e||r)&&t&&(0,ue.jsx)(vM,{className:n,style:i,names:[t]}),e&&!r&&(0,ue.jsx)("img",{onError:()=>a(!0),alt:"avatar",className:(0,pm.Z)("str-video__avatar",n),src:e,style:i,...s})]})},vM=({className:e,names:t,style:i})=>(0,ue.jsx)("div",{className:(0,pm.Z)("str-video__avatar--initials-fallback",e),style:i,children:(0,ue.jsxs)("div",{children:[t[0][0],t[1]?.[0]]})});(0,ut.createContext)(void 0);let vU=({middleware:e=[],placement:t,strategy:i,offset:n=10})=>{let{refs:s,x:r,y:a,update:o,elements:{domReference:l,floating:c},context:d}=(0,pf.YF)({placement:t,strategy:i,middleware:[(0,pg.cv)(n),(0,pg.uY)(),(0,pg.RR)(),(0,pg.dp)({padding:10,apply:({availableHeight:e,elements:t})=>{Object.assign(t.floating.style,{maxHeight:`${e}px`})}}),...e]});return(0,ut.useEffect)(()=>{if(!l||!c)return;let e=(0,pv.Me)(l,c,o);return()=>e()},[l,c,o]),{refs:s,x:r,y:a,domReference:l,floating:c,strategy:i,context:d}},vF=10,vB=(e,t=vF)=>{let[i,n]=(0,ut.useState)(null);return(0,ut.useEffect)(()=>{if(!e)return;let i=()=>e.scrollHeight>e.clientHeight?e.scrollTop<=t?n("top"):Math.abs(e.scrollHeight-e.scrollTop-e.clientHeight)<=t?n("bottom"):void n("between"):n(null),s=new ResizeObserver(i);return s.observe(e),e.addEventListener("scroll",i),()=>{e.removeEventListener("scroll",i),s.disconnect()}},[e,t]),i},v$=(e,t=vF)=>{let[i,n]=(0,ut.useState)(null);return(0,ut.useEffect)(()=>{if(!e)return;let i=()=>e.scrollWidth>e.clientWidth?e.scrollLeft<=t?n("start"):Math.abs(e.scrollWidth-e.scrollLeft-e.clientWidth)<=t?n("end"):void n("between"):n(null),s=new ResizeObserver(i);return s.observe(e),e.addEventListener("scroll",i),()=>{e.removeEventListener("scroll",i),s.disconnect()}},[e,t]),i},vq=()=>{let e=u1(),{useIsCallRecordingInProgress:t}=pp(),i=t(),[n,s]=(0,ut.useState)(!1);return(0,ut.useEffect)(()=>{s(e=>!e&&e)},[i]),{toggleCallRecording:(0,ut.useCallback)(async()=>{try{s(!0),i?await e?.stopRecording():await e?.startRecording()}catch(e){console.error("Failed start recording",e)}},[e,i]),isAwaitingResponse:n,isCallRecordingInProgress:i}},vV=e=>{let t=u1(),{useHasPermissions:i}=pp(),n=i(e),[s,r]=(0,ut.useState)(!1);return(0,ut.useEffect)(()=>{n&&r(!1)},[n]),{requestPermission:(0,ut.useCallback)(async()=>{if(n)return!0;let i=!!t?.permissionsContext.canRequest(e);if(s||!i)return!1;r(!0);try{await t?.requestPermissions({permissions:[e]})}catch(e){throw r(!1),Error(`requestPermission failed: ${e}`)}return!1},[t,n,s,e]),hasPermission:n,canRequestPermission:!!t?.permissionsContext.canRequest(e),isAwaitingPermission:s}};!function(e){e.PORTAL="portal",e.MENU="menu"}(q||(q={}));let vW=(0,ut.createContext)({}),vz=()=>(0,ut.useContext)(vW),vH=({children:e,refs:t})=>{let i=(0,ut.useMemo)(()=>`str-video-portal-${Math.random().toString(36).substring(2,9)}`,[]);return(0,ue.jsxs)(ue.Fragment,{children:[(0,ue.jsx)("div",{id:i,className:"str-video__portal"}),(0,ue.jsx)(pf.y0,{children:(0,ue.jsx)(pf.ll,{id:i,children:(0,ue.jsx)("div",{className:"str-video__portal-content",ref:t.setFloating,children:e})})})]})},vK=({ToggleButton:e,placement:t="top-start",strategy:i="absolute",offset:n,visualType:s=q.MENU,children:r,onToggle:a})=>{let[o,l]=(0,ut.useState)(!1),c=(0,ut.useRef)(a);c.current=a;let{floating:d,domReference:u,refs:p,x:h,y:m}=vU({placement:t,strategy:i,offset:n});return(0,ut.useEffect)(()=>{let e=e=>{!d&&u?.contains(e.target)?(l(!0),c.current?.(!0)):d&&!d?.contains(e.target)&&(l(!1),c.current?.(!1))},t=e=>{!e.key||"escape"!==e.key.toLowerCase()||e.altKey||e.ctrlKey||(l(!1),c.current?.(!1))};return document?.addEventListener("click",e,{capture:!0}),document?.addEventListener("keydown",t),()=>{document?.removeEventListener("click",e,{capture:!0}),document?.removeEventListener("keydown",t)}},[d,u]),(0,ue.jsxs)(ue.Fragment,{children:[o&&(0,ue.jsx)(vW.Provider,{value:{close:()=>l(!1)},children:s===q.PORTAL?(0,ue.jsx)(vH,{refs:p,children:r}):s===q.MENU?(0,ue.jsx)("div",{className:"str-video__menu-container",ref:p.setFloating,style:{position:i,top:m??0,left:h??0,overflowY:"auto"},role:"menu",children:r}):null}),(0,ue.jsx)(e,{menuShown:o,ref:p.setReference})]})},vG=({children:e,onItemClick:t})=>{let i=(0,ut.useRef)(null);return(0,ue.jsx)("ul",{className:"str-video__generic-menu",ref:i,onClick:e=>{t&&e.target!==i.current&&i.current?.contains(e.target)&&t(e)},children:e})},vJ=({children:e,...t})=>(0,ue.jsx)("li",{className:"str-video__generic-menu--item",children:(0,ue.jsx)("button",{...t,children:e})}),vY=({className:e,icon:t})=>(0,ue.jsx)("span",{className:(0,pm.Z)("str-video__icon",t&&`str-video__icon--${t}`,e)}),vQ=(0,ut.forwardRef)(function(e,t){let{icon:i,enabled:n,variant:s,onClick:r,className:a,...o}=e;return(0,ue.jsx)("button",{className:(0,pm.Z)("str-video__call-controls__button",a,{[`str-video__call-controls__button--variant-${s}`]:s,"str-video__call-controls__button--enabled":n}),onClick:e=>{e.preventDefault(),r?.(e)},ref:t,...o,children:(0,ue.jsx)(vY,{icon:i})})}),vX=e=>null!==e&&!(0,ut.isValidElement)(e),vZ=(e,t)=>Array.from({length:Math.ceil(e.length/t)},(i,n)=>e.slice(t*n,t*n+t)),v0=(e,t)=>{if(e){if("function"==typeof e)return e(t);e.current=t}},v1=(0,ut.forwardRef)(function({caption:e,children:t,className:i,active:n,Menu:s,menuPlacement:r,menuOffset:a,title:o,ToggleMenuButton:l=v2,variant:c,onClick:d,onMenuToggle:u,...p},h){return(0,ue.jsxs)("div",{className:(0,pm.Z)("str-video__composite-button",i,{"str-video__composite-button--caption":e,"str-video__composite-button--menu":s}),title:o,ref:h,children:[(0,ue.jsxs)("div",{className:(0,pm.Z)("str-video__composite-button__button-group",{"str-video__composite-button__button-group--active":n,"str-video__composite-button__button-group--active-primary":n&&"primary"===c,"str-video__composite-button__button-group--active-secondary":n&&"secondary"===c}),children:[(0,ue.jsx)("button",{type:"button",className:"str-video__composite-button__button",onClick:e=>{e.preventDefault(),d?.(e)},...p,children:t}),s&&(0,ue.jsx)(vK,{offset:a,placement:r,ToggleButton:l,onToggle:u,children:vX(s)?(0,ue.jsx)(s,{}):s})]}),e&&(0,ue.jsx)("div",{className:"str-video__composite-button__caption",children:e})]})}),v2=(0,ut.forwardRef)(function({menuShown:e},t){return(0,ue.jsx)(vQ,{className:(0,pm.Z)("str-video__menu-toggle-button",{"str-video__menu-toggle-button--active":e}),icon:e?"caret-down":"caret-up",ref:t})}),v3=({children:e,...t})=>(0,ue.jsx)("button",{...t,className:"str-video__text-button",children:e}),v4=e=>{let{isVisible:t,message:i,children:n,visibilityTimeout:s,resetIsVisible:r,placement:a="top",iconClassName:o="str-video__notification__icon",close:l}=e,{refs:c,x:d,y:u,strategy:p}=vU({placement:a,strategy:"absolute"});return(0,ut.useEffect)(()=>{if(!t||!s||!r)return;let e=setTimeout(()=>{r()},s);return()=>clearTimeout(e)},[t,r,s]),(0,ue.jsxs)("div",{ref:c.setReference,children:[t&&(0,ue.jsxs)("div",{className:"str-video__notification",ref:c.setFloating,style:{position:p,top:u??0,left:d??0,overflowY:"auto"},children:[o&&(0,ue.jsx)("i",{className:o}),(0,ue.jsx)("span",{className:"str-video__notification__message",children:i}),l?(0,ue.jsx)("i",{className:"str-video__icon str-video__icon--close str-video__notification__close",onClick:l}):null]}),n]})},v5=e=>{let{permission:t,isAwaitingApproval:i,messageApproved:n,messageAwaitingApproval:s,messageRevoked:r,visibilityTimeout:a=3500,children:o}=e,{useHasPermissions:l}=pp(),c=l(t),d=(0,ut.useRef)(c),[u,p]=(0,ut.useState)();(0,ut.useEffect)(()=>{c&&!d.current?(p("granted"),d.current=!0):!c&&d.current&&(p("revoked"),d.current=!1)},[c]);let h=(0,ut.useCallback)(()=>p(void 0),[]);return i?(0,ue.jsx)(v4,{isVisible:i&&!c,message:s,children:o}):(0,ue.jsx)(v4,{isVisible:!!u,visibilityTimeout:a,resetIsVisible:h,message:"granted"===u?n:r,children:o})},v6=({children:e,text:t,placement:i})=>{let{useMicrophoneState:n}=pp(),{isSpeakingWhileMuted:s}=n(),{t:r}=pe(),a=t??r("You are muted. Unmute to speak.");return(0,ue.jsx)(v4,{message:a,isVisible:s,placement:i||"top-start",children:e})},v8=({className:e,type:t="spinner",text:i,tooltip:n})=>(0,ue.jsxs)("div",{className:(0,pm.Z)("str-video__loading-indicator",e),title:n,children:[(0,ue.jsx)("div",{className:(0,pm.Z)("str-video__loading-indicator__icon",t)}),i&&(0,ue.jsx)("p",{className:"str-video__loading-indicator-text",children:i})]}),v9=({children:e,referenceElement:t,tooltipClassName:i,tooltipPlacement:n="top",visible:s=!1})=>{let r=(0,ut.useRef)(null),{refs:a,x:o,y:l,strategy:c,context:d}=vU({placement:n,strategy:"absolute",middleware:[(0,pg.x7)({element:r})]});return((0,ut.useEffect)(()=>{a.setReference(t)},[t,a]),s)?(0,ue.jsxs)("div",{className:(0,pm.Z)("str-video__tooltip",i),ref:a.setFloating,style:{position:c,top:l??0,left:o??0},children:[(0,ue.jsx)(pf.Y$,{ref:r,context:d,fill:"var(--str-video__tooltip--background-color)"}),e]}):null},v7=({onMouseEnter:e,onMouseLeave:t}={})=>{let[i,n]=(0,ut.useState)(!1);return{handleMouseEnter:(0,ut.useCallback)(t=>{n(!0),e?.(t)},[e]),handleMouseLeave:(0,ut.useCallback)(e=>{n(!1),t?.(e)},[t]),tooltipVisible:i}},be=({title:e,tooltipClassName:t,tooltipPlacement:i,tooltipDisabled:n,...s})=>{let{handleMouseEnter:r,handleMouseLeave:a,tooltipVisible:o}=v7(),[l,c]=(0,ut.useState)(null);return(0,ue.jsxs)(ue.Fragment,{children:[(0,ue.jsx)(v9,{referenceElement:l,visible:!n&&!!e&&o,tooltipClassName:t,tooltipPlacement:i,children:e||""}),(0,ue.jsx)("div",{ref:c,onMouseEnter:r,onMouseLeave:a,...s})]})};(0,ut.forwardRef)(function(e,t){return(0,ue.jsx)(v1,{ref:t,active:!0,variant:"secondary","data-testid":"recording-stop-button",children:(0,ue.jsx)(vY,{icon:"recording-off"})})});let bt=({caption:e})=>{let{t}=pe(),{toggleCallRecording:i,isAwaitingResponse:n,isCallRecordingInProgress:s}=vq(),r=e??t("Record call");return n&&(r=t(s?"Waiting for recording to stop...":"Waiting for recording to start...")),(0,ue.jsx)(ph,{requiredGrants:[rF.START_RECORD_CALL,rF.STOP_RECORD_CALL],children:(0,ue.jsx)(v1,{active:s,caption:e,variant:"secondary","data-testid":s?"recording-stop-button":"recording-start-button",title:r,onClick:n?void 0:i,children:n?(0,ue.jsx)(v8,{}):(0,ue.jsx)(vY,{icon:s?"recording-on":"recording-off"})})})},bi={":like:":"\uD83D\uDC4D",":raise-hand:":"✋",":fireworks:":"\uD83C\uDF89",":dislike:":"\uD83D\uDC4E",":heart:":"❤️",":smile:":"\uD83D\uDE00"},bn=({participant:{reaction:e,sessionId:t},hideAfterTimeoutInMs:i=5500,emojiReactionMap:n=bi})=>{let s=u1();if((0,ut.useEffect)(()=>{if(!s||!e)return;let n=setTimeout(()=>{s.resetReaction(t)},i);return()=>{clearTimeout(n)}},[s,i,e,t]),!e)return null;let{emoji_code:r}=e;return(0,ue.jsx)("div",{className:"str-video__reaction",children:(0,ue.jsx)("span",{className:"str-video__reaction__emoji",children:r&&n[r]})})},bs=[{type:"reaction",emoji_code:":like:"},{type:"raised-hand",emoji_code:":raise-hand:"},{type:"reaction",emoji_code:":fireworks:"},{type:"reaction",emoji_code:":dislike:"},{type:"reaction",emoji_code:":heart:"},{type:"reaction",emoji_code:":smile:"}],br=({reactions:e=bs})=>(0,ue.jsx)(ph,{requiredGrants:[rF.CREATE_REACTION],children:(0,ue.jsx)(vK,{placement:"top",ToggleButton:ba,visualType:q.MENU,children:(0,ue.jsx)(bo,{reactions:e})})}),ba=(0,ut.forwardRef)(function({menuShown:e},t){let{t:i}=pe();return(0,ue.jsx)(be,{title:i("Reactions"),tooltipDisabled:e,children:(0,ue.jsx)(v1,{ref:t,active:e,variant:"primary",children:(0,ue.jsx)(vY,{icon:"reactions"})})})}),bo=({reactions:e,layout:t="horizontal"})=>{let i=u1(),{close:n}=vz();return(0,ue.jsx)("div",{className:(0,pm.Z)("str-video__reactions-menu",{"str-video__reactions-menu--horizontal":"horizontal"===t,"str-video__reactions-menu--vertical":"vertical"===t}),children:e.map(e=>(0,ue.jsx)("button",{type:"button",className:"str-video__reactions-menu__button",onClick:()=>{i?.sendReaction(e),n?.()},children:e.emoji_code&&bi[e.emoji_code]},e.emoji_code))})},bl=(e,t)=>{let i=lx(["react-sdk"]);return async()=>{try{await t()}catch(t){if(e.onError){e.onError(t);return}!function(e){return e instanceof DOMException&&"NotAllowedError"===e.name}(t)&&i("error","Call control handler failed",t)}}},bc=e=>{let{t}=pe(),{caption:i}=e,{useHasOngoingScreenShare:n,useScreenShareState:s,useCallSettings:r}=pp(),a=n(),{hasPermission:o,requestPermission:l,isAwaitingPermission:c}=vV(rF.SCREENSHARE),d=r(),u=d?.screensharing.enabled,{screenShare:p,optimisticIsMute:h}=s(),m=!h,f=!m&&(a||!1===u),g=bl(e,async()=>{o?await p.toggle():await l()});return(0,ue.jsx)(ph,{requiredGrants:[rF.SCREENSHARE],children:(0,ue.jsx)(v5,{permission:rF.SCREENSHARE,isAwaitingApproval:c,messageApproved:t("You can now share your screen."),messageAwaitingApproval:t("Awaiting for an approval to share screen."),messageRevoked:t("You can no longer share your screen."),children:(0,ue.jsx)(be,{title:i??t("Share screen"),children:(0,ue.jsx)(v1,{active:a||m,caption:i,variant:"primary","data-testid":a?"screen-share-stop-button":"screen-share-start-button",disabled:f,onClick:g,children:(0,ue.jsx)(vY,{icon:a?"screen-share-on":"screen-share-off"})})})})})},bd=(0,ut.createContext)({}),bu=e=>{let{children:t,icon:i,defaultSelectedLabel:n,defaultSelectedIndex:s,handleSelect:r}=e,[a,o]=(0,ut.useState)(!1),[l,c]=(0,ut.useState)(null),[d,u]=(0,ut.useState)(s),[p,h]=(0,ut.useState)(n),{refs:m,context:f}=(0,pf.YF)({placement:"bottom-start",open:a,onOpenChange:o,whileElementsMounted:pv.Me,middleware:[(0,pg.RR)()]}),g=(0,ut.useRef)([]),v=(0,ut.useRef)([]),b=(0,ut.useCallback)(e=>{u(e),r(e||0),o(!1),null!==e&&h(v.current[e])},[r]),y=(0,pf.c0)(f,{listRef:g,activeIndex:l,selectedIndex:d,onNavigate:c}),x=(0,pf.ox)(f,{listRef:v,activeIndex:l,selectedIndex:d,onMatch:e=>{a?c(e):b(e)}}),_=(0,pf.eS)(f),w=(0,pf.bQ)(f),S=(0,pf.qs)(f,{role:"listbox"}),{getReferenceProps:k,getFloatingProps:E,getItemProps:T}=(0,pf.NI)([y,x,_,w,S]),C=(0,ut.useMemo)(()=>({activeIndex:l,selectedIndex:d,getItemProps:T,handleSelect:b}),[l,d,T,b]);return(0,ue.jsxs)("div",{className:"str-video__dropdown",children:[(0,ue.jsxs)("div",{className:"str-video__dropdown-selected",ref:m.setReference,tabIndex:0,...k(),children:[(0,ue.jsxs)("label",{className:"str-video__dropdown-selected__label",children:[i&&(0,ue.jsx)(vY,{className:"str-video__dropdown-selected__icon",icon:i}),p]}),(0,ue.jsx)(vY,{className:"str-video__dropdown-selected__chevron",icon:a?"chevron-up":"chevron-down"})]}),(0,ue.jsx)(bd.Provider,{value:C,children:a&&(0,ue.jsx)(pf.wD,{context:f,modal:!1,children:(0,ue.jsx)("div",{className:"str-video__dropdown-list",ref:m.setFloating,...E(),children:(0,ue.jsx)(pf.vs,{elementsRef:g,labelsRef:v,children:t})})})})]})},bp=e=>{let{selected:t,label:i,icon:n}=e,{getItemProps:s,handleSelect:r}=(0,ut.useContext)(bd),{ref:a,index:o}=(0,pf.JA)();return(0,ue.jsxs)("div",{className:(0,pm.Z)("str-video__dropdown-option",{"str-video__dropdown-option--selected":t}),ref:a,...s({onClick:()=>r(o)}),children:[(0,ue.jsx)(vY,{className:"str-video__dropdown-icon",icon:n}),(0,ue.jsx)("span",{className:"str-video__dropdown-label",children:i})]})},bh=e=>{let{children:t,icon:i,handleSelect:n,defaultSelectedLabel:s,defaultSelectedIndex:r}=e;return(0,ue.jsx)(bu,{icon:i,handleSelect:n,defaultSelectedIndex:r,defaultSelectedLabel:s,children:t})},bm=({disabled:e,id:t,label:i,onChange:n,name:s,selected:r,defaultChecked:a,value:o})=>(0,ue.jsxs)("label",{className:(0,pm.Z)("str-video__device-settings__option",{"str-video__device-settings__option--selected":r,"str-video__device-settings__option--disabled":e}),htmlFor:t,children:[(0,ue.jsx)("input",{type:"radio",name:s,onChange:n,value:o,id:t,checked:r,defaultChecked:a,disabled:e}),i]}),bf=e=>{let{devices:t=[],selectedDeviceId:i,title:n,type:s,onChange:r}=e,{close:a}=vz(),o=i;return t.length>0&&!t.find(e=>e.deviceId===o)&&(o=t[0].deviceId),(0,ue.jsxs)("div",{className:"str-video__device-settings__device-kind",children:[n&&(0,ue.jsx)("div",{className:"str-video__device-settings__device-selector-title",children:n}),t.length?t.map(e=>(0,ue.jsx)(bm,{id:`${s}--${e.deviceId}`,value:e.deviceId,label:e.label,onChange:e=>{r?.(e.target.value),a?.()},name:s,selected:e.deviceId===o||1===t.length},e.deviceId)):(0,ue.jsx)(bm,{id:`${s}--default`,label:"Default",name:s,defaultChecked:!0,value:"default"})]})},bg=e=>{let{devices:t=[],selectedDeviceId:i,title:n,onChange:s,icon:r}=e,a=i;t.length>0&&!t.find(e=>e.deviceId===a)&&(a=t[0].deviceId);let o=t.findIndex(e=>e.deviceId===a),l=(0,ut.useCallback)(e=>{s?.(t[e].deviceId)},[t,s]);return(0,ue.jsxs)("div",{className:"str-video__device-settings__device-kind",children:[(0,ue.jsx)("div",{className:"str-video__device-settings__device-selector-title",children:n}),(0,ue.jsx)(bh,{icon:r,defaultSelectedIndex:o,defaultSelectedLabel:t[o]?.label,handleSelect:l,children:t.map(e=>(0,ue.jsx)(bp,{icon:r,label:e.label,selected:e.deviceId===a||1===t.length},e.deviceId))})]})},bv=e=>{let{visualType:t="list",icon:i,placeholder:n,...s}=e;return"list"===t?(0,ue.jsx)(bf,{...s}):(0,ue.jsx)(bg,{...s,icon:i,placeholder:n})},bb=({title:e,visualType:t})=>{let{useMicrophoneState:i}=pp(),{microphone:n,selectedDevice:s,devices:r}=i();return(0,ue.jsx)(bv,{devices:r||[],selectedDeviceId:s,type:"audioinput",onChange:async e=>{await n.select(e)},title:e,visualType:t,icon:"mic"})},by=({title:e,visualType:t})=>{let{useSpeakerState:i}=pp(),{speaker:n,selectedDevice:s,devices:r,isDeviceSelectionSupported:a}=i();return a?(0,ue.jsx)(bv,{devices:r,type:"audiooutput",selectedDeviceId:s,onChange:e=>{n.select(e)},title:e,visualType:t,icon:"speaker"}):null},bx=({title:e,visualType:t})=>{let{useCameraState:i}=pp(),{camera:n,devices:s,selectedDevice:r}=i();return(0,ue.jsx)(bv,{devices:s||[],type:"videoinput",selectedDeviceId:r,onChange:async e=>{await n.select(e)},title:e,visualType:t,icon:"camera"})},b_=({visualType:e=q.MENU})=>(0,ue.jsx)(vK,{placement:"bottom-end",ToggleButton:bS,visualType:e,children:(0,ue.jsx)(bw,{})}),bw=()=>{let{t:e}=pe();return(0,ue.jsxs)("div",{className:"str-video__device-settings",children:[(0,ue.jsx)(bx,{title:e("Select a Camera")}),(0,ue.jsx)(bb,{title:e("Select a Mic")}),(0,ue.jsx)(by,{title:e("Select Speakers")})]})},bS=(0,ut.forwardRef)(function({menuShown:e},t){let{t:i}=pe();return(0,ue.jsx)(vQ,{className:(0,pm.Z)("str-video__device-settings__button",{"str-video__device-settings__button--active":e}),title:i("Toggle device menu"),icon:"device-settings",ref:t})}),bk=e=>{let{t}=pe(),{caption:i,Menu:n=(0,ue.jsx)(bb,{visualType:"list"}),menuPlacement:s="top",onMenuToggle:r,...a}=e,{hasPermission:o,requestPermission:l,isAwaitingPermission:c}=vV(rF.SEND_AUDIO),{useMicrophoneState:d}=pp(),{microphone:u,optimisticIsMute:p,hasBrowserPermission:h}=d(),[m,f]=(0,ut.useState)(!1),g=bl(e,async()=>{o?await u.toggle():await l()});return(0,ue.jsx)(ph,{requiredGrants:[rF.SEND_AUDIO],children:(0,ue.jsx)(v5,{permission:rF.SEND_AUDIO,isAwaitingApproval:c,messageApproved:t("You can now speak."),messageAwaitingApproval:t("Awaiting for an approval to speak."),messageRevoked:t("You can no longer speak."),children:(0,ue.jsx)(be,{title:o?h?i??t("Mic"):t("Check your browser mic permissions"):t("You have no permission to share your audio"),tooltipDisabled:m,children:(0,ue.jsxs)(v1,{active:p,caption:i,variant:"secondary",disabled:!h||!o,"data-testid":p?"audio-unmute-button":"audio-mute-button",onClick:g,Menu:n,menuPlacement:s,menuOffset:16,...a,onMenuToggle:e=>{f(e),r?.(e)},children:[(0,ue.jsx)(vY,{icon:p?"mic-off":"mic"}),(!h||!o)&&(0,ue.jsx)("span",{className:"str-video__no-media-permission",children:"!"})]})})})})},bE=e=>{let{t}=pe(),{caption:i,Menu:n=(0,ue.jsx)(bx,{visualType:"list"}),menuPlacement:s="top",onMenuToggle:r,...a}=e,{hasPermission:o,requestPermission:l,isAwaitingPermission:c}=vV(rF.SEND_VIDEO),{useCameraState:d,useCallSettings:u}=pp(),{camera:p,optimisticIsMute:h,hasBrowserPermission:m}=d(),f=u(),g=f?.video.enabled,[v,b]=(0,ut.useState)(!1),y=bl(e,async()=>{o?await p.toggle():await l()});return(0,ue.jsx)(ph,{requiredGrants:[rF.SEND_VIDEO],children:(0,ue.jsx)(v5,{permission:rF.SEND_VIDEO,isAwaitingApproval:c,messageApproved:t("You can now share your video."),messageAwaitingApproval:t("Awaiting for an approval to share your video."),messageRevoked:t("You can no longer share your video."),children:(0,ue.jsx)(be,{title:o?m?g?i||t("Video"):t("Video publishing is disabled by the system"):t("Check your browser video permissions"):t("You have no permission to share your video"),tooltipDisabled:v,children:(0,ue.jsxs)(v1,{active:h,caption:i,variant:"secondary",disabled:!m||!o||!g,"data-testid":h?"video-unmute-button":"video-mute-button",onClick:y,Menu:n,menuPlacement:s,menuOffset:16,...a,onMenuToggle:e=>{b(e),r?.(e)},children:[(0,ue.jsx)(vY,{icon:h?"camera-off":"camera"}),(!m||!o||!g)&&(0,ue.jsx)("span",{className:"str-video__no-media-permission",children:"!"})]})})})})};(0,ut.forwardRef)(function({menuShown:e},t){let{t:i}=pe();return(0,ue.jsx)(be,{title:i("Leave call"),tooltipDisabled:e,children:(0,ue.jsx)(vQ,{icon:e?"close":"call-end",variant:e?"active":"danger","data-testid":"leave-call-button",ref:t})})});let bT=({disabled:e,caption:t,onClick:i,onLeave:n})=>{let s=u1(),{t:r}=pe(),a=(0,ut.useCallback)(async e=>{i?i(e):s&&(await s.leave(),n?.())},[i,n,s]);return(0,ue.jsx)(vQ,{disabled:e,icon:"call-end",variant:"danger",title:t??r("Leave call"),"data-testid":"cancel-call-button",onClick:a})},bC=({onLeave:e})=>(0,ue.jsxs)("div",{className:"str-video__call-controls",children:[(0,ue.jsx)(v6,{children:(0,ue.jsx)(bk,{})}),(0,ue.jsx)(bE,{}),(0,ue.jsx)(br,{}),(0,ue.jsx)(bc,{}),(0,ue.jsx)(bt,{}),(0,ue.jsx)(bT,{onLeave:e})]});gO.register(vs,vo,g$,gV);let bR=e=>{let{values:t}=e,i=0,n={labels:t.map(e=>{let t=new Date(1e3*e.x);return`${t.getHours()}:${t.getMinutes()}`}),datasets:[{data:t.map(e=>{let{y:t}=e;return i=Math.max(i,t),e}),borderColor:"#00e2a1",backgroundColor:"#00e2a1"}]},s=(0,ut.useMemo)(()=>({maintainAspectRatio:!1,animation:{duration:0},elements:{line:{borderWidth:1},point:{radius:2}},scales:{y:{position:"right",stacked:!0,min:0,max:Math.max(180,10*Math.ceil((i+10)/10)),grid:{display:!0,color:"#979ca0"},ticks:{stepSize:30}},x:{grid:{display:!1},ticks:{display:!1}}}}),[i]);return(0,ue.jsx)("div",{className:"str-video__call-stats-line-chart-container",children:(0,ue.jsx)(vj,{options:s,data:n,className:"str-video__call-stats__latencychart"})})};!function(e){e.GOOD="Good",e.OK="Ok",e.BAD="Bad"}(V||(V={}));let bO=({value:e,lowBound:t,highBound:i})=>e<=t?V.GOOD:e>=t&&e<=i?V.OK:e>=i?V.BAD:V.GOOD,bP=e=>{let{latencyLowBound:t=75,latencyHighBound:i=400}=e,[n,s]=(0,ut.useState)(()=>{let e=Date.now();return Array.from({length:20},(t,i)=>({x:e+i,y:0}))}),{t:r}=pe(),[a,o]=(0,ut.useState)("-"),[l,c]=(0,ut.useState)("-"),d=(0,ut.useRef)(),{useCallStatsReport:u}=pp(),p=u();(0,ut.useEffect)(()=>{if(!p)return;if(!d.current){d.current=p;return}let e=d.current;o(()=>bA(e,p)),c(()=>bL(e,p)),s(e=>{let t=e.slice(-19);return t.push({x:p.timestamp,y:p.publisherStats.averageRoundTripTimeInMs}),t}),d.current=p},[p]);let h={lowBound:t,highBound:i,value:p?.publisherStats.averageRoundTripTimeInMs||0};return(0,ue.jsx)("div",{className:"str-video__call-stats",children:p&&(0,ue.jsxs)(ue.Fragment,{children:[(0,ue.jsxs)("div",{className:"str-video__call-stats__header",children:[(0,ue.jsxs)("h3",{className:"str-video__call-stats__heading",children:[(0,ue.jsx)(vY,{className:"str-video__call-stats__icon",icon:"call-latency"}),r("Call Latency")]}),(0,ue.jsx)("p",{className:"str-video__call-stats__description",children:r("Very high latency values may reduce call quality, cause lag, and make the call less enjoyable.")})]}),(0,ue.jsx)("div",{className:"str-video__call-stats__latencychart",children:(0,ue.jsx)(bR,{values:n})}),(0,ue.jsxs)("div",{className:"str-video__call-stats__header",children:[(0,ue.jsxs)("h3",{className:"str-video__call-stats__heading",children:[(0,ue.jsx)(vY,{className:"str-video__call-stats__icon",icon:"network-quality"}),r("Call performance")]}),(0,ue.jsx)("p",{className:"str-video__call-stats__description",children:r("Review the key data points below to assess call performance")})]}),(0,ue.jsxs)("div",{className:"str-video__call-stats__card-container",children:[(0,ue.jsx)(bN,{label:r("Region"),value:p.datacenter}),(0,ue.jsx)(bN,{label:r("Latency"),value:`${p.publisherStats.averageRoundTripTimeInMs} ms.`,comparison:h}),(0,ue.jsx)(bN,{label:r("Receive jitter"),value:`${p.subscriberStats.averageJitterInMs} ms.`,comparison:{...h,value:p.subscriberStats.averageJitterInMs}}),(0,ue.jsx)(bN,{label:r("Publish jitter"),value:`${p.publisherStats.averageJitterInMs} ms.`,comparison:{...h,value:p.publisherStats.averageJitterInMs}}),(0,ue.jsx)(bN,{label:r("Publish resolution"),value:bD(p.publisherStats)}),(0,ue.jsx)(bN,{label:r("Publish quality drop reason"),value:p.publisherStats.qualityLimitationReasons}),(0,ue.jsx)(bN,{label:r("Receiving resolution"),value:bD(p.subscriberStats)}),(0,ue.jsx)(bN,{label:r("Receive quality drop reason"),value:p.subscriberStats.qualityLimitationReasons}),(0,ue.jsx)(bN,{label:r("Publish bitrate"),value:a}),(0,ue.jsx)(bN,{label:r("Receiving bitrate"),value:l})]})]})})},bj=e=>{let{description:t}=e,[i,n]=(0,ut.useState)(!1),{refs:s,floatingStyles:r,context:a}=(0,pf.YF)({open:i,onOpenChange:n}),o=(0,pf.XI)(a),{getReferenceProps:l,getFloatingProps:c}=(0,pf.NI)([o]);return(0,ue.jsxs)(ue.Fragment,{children:[(0,ue.jsx)("div",{className:"str-video__call-explanation",ref:s.setReference,...l(),children:(0,ue.jsx)(vY,{className:"str-video__call-explanation__icon",icon:"info"})}),i&&(0,ue.jsx)("div",{className:"str-video__call-explanation__description",ref:s.setFloating,style:r,...c(),children:t})]})},bI=({children:e,status:t=V.GOOD})=>(0,ue.jsx)("div",{className:(0,pm.Z)("str-video__call-stats__tag",{"str-video__call-stats__tag--good":t===V.GOOD,"str-video__call-stats__tag--ok":t===V.OK,"str-video__call-stats__tag--bad":t===V.BAD}),children:(0,ue.jsx)("div",{className:"str-video__call-stats__tag__text",children:e})}),bN=e=>{let{label:t,value:i,description:n,comparison:s}=e,{t:r}=pe(),a=s?bO(s):void 0;return(0,ue.jsxs)("div",{className:"str-video__call-stats__card",children:[(0,ue.jsxs)("div",{className:"str-video__call-stats__card-content",children:[(0,ue.jsxs)("div",{className:"str-video__call-stats__card-label",children:[t,n&&(0,ue.jsx)(bj,{description:n})]}),(0,ue.jsx)("div",{className:"str-video__call-stats__card-value",children:i})]}),s&&a&&(0,ue.jsx)(bI,{status:a,children:r(a)})]})},bD=e=>{let{highestFrameWidth:t,highestFrameHeight:i,highestFramesPerSecond:n}=e,s="-";return t&&i&&(s=`${t}x${i}`,n&&(s+=`@${n}fps.`)),s},bA=(e,t)=>{let{publisherStats:{totalBytesSent:i,timestamp:n}}=e,{publisherStats:{totalBytesSent:s,timestamp:r}}=t;return`${(8*(s-i)/(r-n)).toFixed(2)} kbps`},bL=(e,t)=>{let{subscriberStats:{totalBytesReceived:i,timestamp:n}}=e,{subscriberStats:{totalBytesReceived:s,timestamp:r}}=t;return`${(8*(s-i)/(r-n)).toFixed(2)} kbps`},bM=()=>(0,ue.jsx)(vK,{placement:"top-end",ToggleButton:bU,children:(0,ue.jsx)(bP,{})}),bU=(0,ut.forwardRef)(function(e,t){let{t:i}=pe(),{caption:n,menuShown:s}=e;return(0,ue.jsx)(v1,{ref:t,active:s,caption:n,title:n||i("Statistics"),"data-testid":"stats-button",children:(0,ue.jsx)(vY,{icon:"stats"})})}),bF=({data:e})=>e.length?(0,ue.jsx)(ue.Fragment,{children:(0,ue.jsx)("div",{className:"str-video__participant-listing",children:e.map(e=>(0,ue.jsx)(bB,{userId:e},e))})}):null,bB=({userId:e})=>{let t=u1();return(0,ue.jsxs)("div",{className:"str-video__participant-listing-item",children:[(0,ue.jsx)("div",{className:"str-video__participant-listing-item__display-name",children:e}),(0,ue.jsx)(ph,{requiredGrants:[rF.BLOCK_USERS],children:(0,ue.jsx)(v3,{onClick:()=>{e&&t?.unblockUser(e)},children:"Unblock"})})]})},b$=({onClose:e})=>{let{useParticipants:t,useAnonymousParticipantCount:i}=pp(),n=t(),s=i(),{t:r}=pe();return(0,ue.jsxs)("div",{className:"str-video__participant-list-header",children:[(0,ue.jsxs)("div",{className:"str-video__participant-list-header__title",children:[r("Participants")," ",(0,ue.jsxs)("span",{className:"str-video__participant-list-header__title-count",children:["[",n.length,"]"]}),s>0&&(0,ue.jsx)("span",{className:"str-video__participant-list-header__title-anonymous",children:r("Anonymous",{count:s})})]}),(0,ue.jsx)(vQ,{onClick:e,className:"str-video__participant-list-header__close-button",icon:"close"})]})},bq=({participant:e,DisplayName:t=bW})=>{let i=ct(e),n=ce(e),s=cs(e),{t:r}=pe();return(0,ue.jsxs)("div",{className:"str-video__participant-listing-item",children:[(0,ue.jsx)(vL,{name:e.name,imageSrc:e.image}),(0,ue.jsx)(t,{participant:e}),(0,ue.jsxs)("div",{className:"str-video__participant-listing-item__media-indicator-group",children:[(0,ue.jsx)(bV,{title:r(i?"Microphone on":"Microphone off"),className:(0,pm.Z)("str-video__participant-listing-item__icon",`str-video__participant-listing-item__icon-${i?"mic":"mic-off"}`)}),(0,ue.jsx)(bV,{title:r(n?"Camera on":"Camera off"),className:(0,pm.Z)("str-video__participant-listing-item__icon",`str-video__participant-listing-item__icon-${n?"camera":"camera-off"}`)}),s&&(0,ue.jsx)(bV,{title:r("Pinned"),className:(0,pm.Z)("str-video__participant-listing-item__icon","str-video__participant-listing-item__icon-pinned")}),(0,ue.jsx)(vK,{placement:"bottom-end",ToggleButton:bz,children:(0,ue.jsx)(vD.Provider,{value:{participant:e,trackType:"none"},children:(0,ue.jsx)(ys,{})})})]})]})},bV=e=>(0,ue.jsx)(be,{...e}),bW=({participant:e})=>{let t;let i=pu(),{t:n}=pe(),s=e.userId===i?.id?n("Me"):"",r=e.name||e.userId||n("Unknown");return t=e.name?s?`${r} (${s})`:r:s||r||n("Unknown"),(0,ue.jsx)(be,{className:"str-video__participant-listing-item__display-name",title:t,children:t})},bz=(0,ut.forwardRef)(function(e,t){return(0,ue.jsx)(vQ,{enabled:e.menuShown,icon:"ellipsis",ref:t})}),bH=({data:e})=>(0,ue.jsx)("div",{className:"str-video__participant-listing",children:e.map(e=>(0,ue.jsx)(bq,{participant:e},e.sessionId))}),bK=()=>{let{t:e}=pe();return(0,ue.jsx)("div",{className:"str-video__participant-list--empty",children:e("No participants found")})},bG=({exitSearch:e,isActive:t,...i})=>{let[n,s]=(0,ut.useState)(null);return(0,ut.useEffect)(()=>{if(!n)return;let t=t=>{"escape"===t.key.toLowerCase()&&e()};return n.addEventListener("keydown",t),()=>{n.removeEventListener("keydown",t)}},[e,n]),(0,ue.jsxs)("div",{className:(0,pm.Z)("str-video__search-input__container",{"str-video__search-input__container--active":t}),children:[(0,ue.jsx)("input",{placeholder:"Search",...i,ref:s}),t?(0,ue.jsx)("button",{className:"str-video__search-input__clear-btn",onClick:e,children:(0,ue.jsx)("span",{className:"str-video__search-input__icon--active"})}):(0,ue.jsx)("span",{className:"str-video__search-input__icon"})]})},bJ=({EmptySearchResultComponent:e,LoadingIndicator:t=v8,searchQueryInProgress:i,searchResults:n,SearchResultList:s})=>i?(0,ue.jsx)("div",{className:"str-video__search-results--loading",children:(0,ue.jsx)(t,{})}):n.length?(0,ue.jsx)(s,{data:n}):(0,ue.jsx)(e,{}),bY=({debounceInterval:e,searchFn:t,searchQuery:i=""})=>{let[n,s]=(0,ut.useState)([]),[r,a]=(0,ut.useState)(!1);return(0,ut.useEffect)(()=>{if(!i.length){a(!1),s([]);return}a(!0);let n=setTimeout(async()=>{try{let e=await t(i);s(e)}catch(e){console.error(e)}finally{a(!1)}},e);return()=>{clearTimeout(n)}},[e,t,i]),{searchQueryInProgress:r,searchResults:n}},bQ={active:"Active users",blocked:"Blocked users"},bX=200,bZ=({onClose:e,activeUsersSearchFn:t,blockedUsersSearchFn:i,debounceSearchInterval:n})=>{let[s,r]=(0,ut.useState)(""),[a,o]=(0,ut.useState)("active"),l=(0,ut.useCallback)(()=>r(""),[]);return(0,ue.jsxs)("div",{className:"str-video__participant-list",children:[(0,ue.jsx)(b$,{onClose:e}),(0,ue.jsx)(bG,{value:s,onChange:({currentTarget:e})=>r(e.value),exitSearch:l,isActive:!!s}),(0,ue.jsx)(b0,{userListType:a,setUserListType:o}),(0,ue.jsxs)("div",{className:"str-video__participant-list__content",children:["active"===a&&(0,ue.jsx)(b1,{searchQuery:s,activeUsersSearchFn:t,debounceSearchInterval:n}),"blocked"===a&&(0,ue.jsx)(b2,{searchQuery:s,blockedUsersSearchFn:i,debounceSearchInterval:n})]})]})},b0=({userListType:e,setUserListType:t})=>{let i=u1();return(0,ue.jsxs)("div",{className:"str-video__participant-list__content-header",children:[(0,ue.jsx)("div",{className:"str-video__participant-list__content-header-title",children:"active"===e&&(0,ue.jsx)(ph,{requiredGrants:[rF.MUTE_USERS],hasPermissionsOnly:!0,children:(0,ue.jsx)(v3,{onClick:()=>{i?.muteAllUsers("audio")},children:"Mute all"})})}),(0,ue.jsx)(vK,{placement:"bottom-end",ToggleButton:b3,children:(0,ue.jsx)(vG,{children:Object.keys(bQ).map(i=>(0,ue.jsx)(vJ,{"aria-selected":i===e,onClick:()=>t(i),children:bQ[i]},i))})})]})},b1=({searchQuery:e,activeUsersSearchFn:t,debounceSearchInterval:i=bX})=>{let{useParticipants:n}=pp(),s=n({sortBy:cp}),r=(0,ut.useCallback)(e=>{let t=RegExp(e,"i");return Promise.resolve(s.filter(e=>e.name.match(t)))},[s]),{searchQueryInProgress:a,searchResults:o}=bY({searchFn:t??r,debounceInterval:i,searchQuery:e});return(0,ue.jsx)(bJ,{EmptySearchResultComponent:bK,LoadingIndicator:v8,searchQueryInProgress:a,searchResults:e?o:s,SearchResultList:bH})},b2=({blockedUsersSearchFn:e,debounceSearchInterval:t=bX,searchQuery:i})=>{let{useCallBlockedUserIds:n}=pp(),s=n(),r=(0,ut.useCallback)(e=>{let t=RegExp(e,"i");return Promise.resolve(s.filter(e=>e.match(t)))},[s]),{searchQueryInProgress:a,searchResults:o}=bY({searchFn:e??r,debounceInterval:t,searchQuery:i});return(0,ue.jsx)(bJ,{EmptySearchResultComponent:bK,LoadingIndicator:v8,searchQueryInProgress:a,searchResults:i?o:s,SearchResultList:bF})},b3=(0,ut.forwardRef)(function(e,t){return(0,ue.jsx)(vQ,{enabled:e.menuShown,icon:"filter",ref:t})});(0,ut.createContext)(null),F.JOINING,F.RINGING,F.MIGRATING,F.RECONNECTING,F.RECONNECTING_FAILED,F.OFFLINE,F.IDLE,F.UNKNOWN,F.JOINED,F.LEFT,(0,ut.forwardRef)(function(e,t){let{permissionRequests:i,handleUpdatePermission:n,...s}=e,{t:r}=pe();return(0,ue.jsx)("div",{className:"str-video__permission-requests-list",ref:t,...s,children:i.map((e,t)=>{let{user:i,permissions:s}=e;return(0,ue.jsx)(ut.Fragment,{children:s.map(t=>(0,ue.jsxs)("div",{className:"str-video__permission-request",children:[(0,ue.jsx)("div",{className:"str-video__permission-request__message",children:b5(i.name||i.id,t,r)}),(0,ue.jsx)(b4,{className:"str-video__permission-request__button--allow",type:"button",onClick:n(e,"grant"),children:r("Allow")}),(0,ue.jsx)(b4,{className:"str-video__permission-request__button--reject",type:"button",onClick:n(e,"revoke"),children:r("Revoke")}),(0,ue.jsx)(b4,{className:"str-video__permission-request__button--reject",type:"button",onClick:n(e,"dismiss"),children:r("Dismiss")})]},t))},`${i.id}/${t}`)})})});let b4=e=>{let{className:t,...i}=e;return(0,ue.jsx)("button",{className:(0,pm.Z)("str-video__permission-request__button",t),...i})},b5=(e,t,i)=>{switch(t){case rF.SEND_AUDIO:return i("{{ userName }} is requesting to speak",{userName:e});case rF.SEND_VIDEO:return i("{{ userName }} is requesting to share their camera",{userName:e});case rF.SCREENSHARE:return i("{{ userName }} is requesting to present their screen",{userName:e});default:return i("{{ userName }} is requesting permission: {{ permission }}",{userName:e,permission:t})}},b6=({as:e="div",className:t,children:i,...n})=>(0,ue.jsx)(e,{...n,className:(0,pm.Z)("str-video",t),children:i}),b8=(0,ut.forwardRef)(function({participant:e,style:t},i){let{t:n}=pe(),[s,r]=(0,ut.useState)(!1),a=e.name||e.userId;return(0,ue.jsxs)("div",{className:"str-video__video-placeholder",style:t,ref:i,children:[(!e.image||s)&&(a?(0,ue.jsx)(b9,{name:a}):(0,ue.jsx)("div",{className:"str-video__video-placeholder__no-video-label",children:n("Video is disabled")})),e.image&&!s&&(0,ue.jsx)("img",{onError:()=>r(!0),alt:"video-placeholder",className:"str-video__video-placeholder__avatar",src:e.image})]})}),b9=e=>{let{name:t}=e,i=t.split(" ").slice(0,2).map(e=>e[0]).join("");return(0,ue.jsx)("div",{className:"str-video__video-placeholder__initials-fallback",children:i})},b7=({trackType:e,participant:t,className:i,VideoPlaceholder:n=b8,refs:s,...r})=>{let{sessionId:a,videoStream:o,screenShareStream:l,viewportVisibilityState:c,isLocalParticipant:d,userId:u}=t,p=u1(),[h,m]=(0,ut.useState)(null),[f,g]=(0,ut.useState)(!0),[v,b]=(0,ut.useState)(!0),y="videoTrack"===e?o:"screenShareTrack"===e?l:void 0;if((0,ut.useLayoutEffect)(()=>{if(!p||!h||"none"===e)return;let t=p.bindVideoElement(h,a,e);return()=>{t?.()}},[p,e,a,h]),(0,ut.useEffect)(()=>{if(!y||!h)return;let[e]=y.getVideoTracks();if(!e)return;let t=()=>{g(h.paused);let{width:t=0,height:i=0}=e.getSettings();b(t>=i)};return g(h.paused),h.addEventListener("play",t),h.addEventListener("pause",t),e.addEventListener("unmute",t),()=>{h.removeEventListener("play",t),h.removeEventListener("pause",t),e.removeEventListener("unmute",t),g(!0)}},[y,h]),!p)return null;let x="videoTrack"===e?ce(t):"screenShareTrack"===e&&ci(t),_="none"===e||c?.[e]===M.INVISIBLE,w=!x||_,S=d&&"videoTrack"===e,k="screenShareTrack"===e;return(0,ue.jsxs)(ue.Fragment,{children:[!w&&(0,ue.jsx)("video",{...r,className:(0,pm.Z)("str-video__video",i,{"str-video__video--not-playing":f,"str-video__video--tall":!v,"str-video__video--mirror":S,"str-video__video--screen-share":k}),"data-user-id":u,"data-session-id":a,ref:e=>{m(e),s?.setVideoElement?.(e)}}),(w||f)&&n&&(0,ue.jsx)(n,{style:{position:"absolute"},participant:t,ref:s?.setVideoPlaceholderElement})]})};b7.displayName="Video";let ye=(0,ut.forwardRef)(function({stream:e,...t},i){let[n,s]=(0,ut.useState)(null);return(0,ut.useEffect)(()=>{if(n&&e&&e!==n.srcObject)return n.srcObject=e,(da.isSafari()||da.isFirefox())&&setTimeout(()=>{n.srcObject=e,n.play().catch(e=>{console.error("Failed to play stream",e)})},0),()=>{n.pause(),n.srcObject=null}},[e,n]),(0,ue.jsx)("video",{autoPlay:!0,playsInline:!0,...t,ref:e=>{v0(i,e),s(e)}})}),yt=()=>{let{t:e}=pe();return(0,ue.jsx)("div",{className:"str_video__video-preview__disabled-video-preview",children:e("Video is disabled")})},yi=()=>{let{t:e}=pe();return(0,ue.jsx)("div",{className:"str_video__video-preview__no-camera-preview",children:e("No camera found")})},yn=({className:e,mirror:t=!0,DisabledVideoPreview:i=yt,NoCameraPreview:n=yi,StartingCameraPreview:s=v8})=>{let r;let{useCameraState:a}=pp(),{devices:o,status:l,isMute:c,mediaStream:d}=a();if(c&&o?.length===0)r=(0,ue.jsx)(n,{});else if("enabled"===l){let e=!d;r=(0,ue.jsxs)(ue.Fragment,{children:[d&&(0,ue.jsx)(ye,{stream:d,className:(0,pm.Z)("str-video__video-preview",{"str-video__video-preview--mirror":t,"str-video__video-preview--loading":e})}),e&&(0,ue.jsx)(s,{})]})}else r=(0,ue.jsx)(i,{});return(0,ue.jsx)("div",{className:(0,pm.Z)("str-video__video-preview-container",e),children:r})},ys=()=>{let{participant:e,participantViewElement:t,videoElement:i}=vA(),[n,s]=(0,ut.useState)(!!document.fullscreenElement),[r,a]=(0,ut.useState)(document.pictureInPictureElement),o=u1(),{t:l}=pe(),{pin:c,sessionId:d,userId:u}=e,p=ct(e),h=ce(e),m=ci(e),f=cn(e),g=e=>()=>{o?.updateUserPermissions({user_id:u,grant_permissions:[e]})},v=e=>()=>{o?.updateUserPermissions({user_id:u,revoke_permissions:[e]})};(0,ut.useEffect)(()=>{let e=()=>{s(!!document.fullscreenElement)};return document.addEventListener("fullscreenchange",e),()=>{document.removeEventListener("fullscreenchange",e)}},[]),(0,ut.useEffect)(()=>{if(!i)return;let e=()=>{a(document.pictureInPictureElement)};return i.addEventListener("enterpictureinpicture",e),i.addEventListener("leavepictureinpicture",e),()=>{i.removeEventListener("enterpictureinpicture",e),i.removeEventListener("leavepictureinpicture",e)}},[i]);let{close:b}=vz()||{};return(0,ue.jsxs)(vG,{onItemClick:b,children:[(0,ue.jsxs)(vJ,{onClick:()=>{c?o?.unpin(d):o?.pin(d)},disabled:c&&!c.isLocalPin,children:[(0,ue.jsx)(vY,{icon:"pin"}),l(c?"Unpin":"Pin")]}),(0,ue.jsxs)(ph,{requiredGrants:[rF.PIN_FOR_EVERYONE],children:[(0,ue.jsxs)(vJ,{onClick:()=>{o?.pinForEveryone({user_id:u,session_id:d}).catch(e=>{console.error(`Failed to pin participant ${u}`,e)})},disabled:c&&!c.isLocalPin,children:[(0,ue.jsx)(vY,{icon:"pin"}),l("Pin for everyone")]}),(0,ue.jsxs)(vJ,{onClick:()=>{o?.unpinForEveryone({user_id:u,session_id:d}).catch(e=>{console.error(`Failed to unpin participant ${u}`,e)})},disabled:!c||c.isLocalPin,children:[(0,ue.jsx)(vY,{icon:"pin"}),l("Unpin for everyone")]})]}),(0,ue.jsx)(ph,{requiredGrants:[rF.BLOCK_USERS],children:(0,ue.jsxs)(vJ,{onClick:()=>o?.blockUser(u),children:[(0,ue.jsx)(vY,{icon:"not-allowed"}),l("Block")]})}),(0,ue.jsxs)(ph,{requiredGrants:[rF.MUTE_USERS],children:[h&&(0,ue.jsxs)(vJ,{onClick:()=>o?.muteUser(u,"video"),children:[(0,ue.jsx)(vY,{icon:"camera-off-outline"}),l("Turn off video")]}),m&&(0,ue.jsxs)(vJ,{onClick:()=>o?.muteUser(u,"screenshare"),children:[(0,ue.jsx)(vY,{icon:"screen-share-off"}),l("Turn off screen share")]}),p&&(0,ue.jsxs)(vJ,{onClick:()=>o?.muteUser(u,"audio"),children:[(0,ue.jsx)(vY,{icon:"no-audio"}),l("Mute audio")]}),f&&(0,ue.jsxs)(vJ,{onClick:()=>o?.muteUser(u,"screenshare_audio"),children:[(0,ue.jsx)(vY,{icon:"no-audio"}),l("Mute screen share audio")]})]}),t&&(0,ue.jsx)(vJ,{onClick:()=>n?document.exitFullscreen().catch(console.error):t?.requestFullscreen().catch(console.error),children:l("{{ direction }} fullscreen",{direction:l(n?"Leave":"Enter")})}),i&&document.pictureInPictureEnabled&&(0,ue.jsx)(vJ,{onClick:()=>i&&r!==i?i.requestPictureInPicture().catch(console.error):document.exitPictureInPicture().catch(console.error),children:l("{{ direction }} picture-in-picture",{direction:l(r===i?"Leave":"Enter")})}),(0,ue.jsxs)(ph,{requiredGrants:[rF.UPDATE_CALL_PERMISSIONS],children:[(0,ue.jsx)(vJ,{onClick:g(rF.SEND_AUDIO),children:l("Allow audio")}),(0,ue.jsx)(vJ,{onClick:g(rF.SEND_VIDEO),children:l("Allow video")}),(0,ue.jsx)(vJ,{onClick:g(rF.SCREENSHARE),children:l("Allow screen sharing")}),(0,ue.jsx)(vJ,{onClick:v(rF.SEND_AUDIO),children:l("Disable audio")}),(0,ue.jsx)(vJ,{onClick:v(rF.SEND_VIDEO),children:l("Disable video")}),(0,ue.jsx)(vJ,{onClick:v(rF.SCREENSHARE),children:l("Disable screen sharing")})]})]})},yr=({trackedElement:e,dynascaleManager:t,sessionId:i,trackType:n})=>{let s=u1(),r=t??s?.dynascaleManager;(0,ut.useEffect)(()=>{if(!e||!r||!s||"none"===n)return;let t=r.trackElementVisibility(e,i,n);return()=>{t()}},[e,r,s,i,n])},ya=(0,ut.forwardRef)(function(e,t){return(0,ue.jsx)(vQ,{enabled:e.menuShown,icon:"ellipsis",ref:t})}),yo=()=>{let e=u1(),{t}=pe();return(0,ue.jsxs)("div",{className:"str-video__screen-share-overlay",children:[(0,ue.jsx)(vY,{icon:"screen-share-off"}),(0,ue.jsx)("span",{className:"str-video__screen-share-overlay__title",children:t("You are presenting your screen")}),(0,ue.jsxs)("button",{onClick:()=>{e?.screenShare.disable()},className:"str-video__screen-share-overlay__button",children:[(0,ue.jsx)(vY,{icon:"close"})," ",t("Stop Screen Sharing")]})]})},yl=({indicatorsVisible:e=!0,menuPlacement:t="bottom-start",showMenuButton:i=!0,ParticipantActionsContextMenu:n=ys})=>{let{participant:s,trackType:r}=vA(),a=ci(s);return s.isLocalParticipant&&a&&"screenShareTrack"===r?(0,ue.jsxs)(ue.Fragment,{children:[(0,ue.jsx)(yo,{}),(0,ue.jsx)(yc,{indicatorsVisible:e})]}):(0,ue.jsxs)(ue.Fragment,{children:[i&&(0,ue.jsx)(vK,{strategy:"fixed",placement:t,ToggleButton:ya,children:(0,ue.jsx)(n,{})}),(0,ue.jsx)(bn,{participant:s}),(0,ue.jsx)(yc,{indicatorsVisible:e})]})},yc=({indicatorsVisible:e=!0})=>{let{participant:t}=vA(),{isLocalParticipant:i,connectionQuality:n,pin:s,sessionId:r,name:a,userId:o}=t,l=u1(),{t:c}=pe(),d=!!n&&ay.ConnectionQuality[n].toLowerCase(),u=ct(t),p=ce(t),h=!!s&&s.isLocalPin;return(0,ue.jsxs)(ue.Fragment,{children:[(0,ue.jsx)("div",{className:"str-video__participant-details",children:(0,ue.jsxs)("span",{className:"str-video__participant-details__name",children:[a||o,e&&!u&&(0,ue.jsx)("span",{className:"str-video__participant-details__name--audio-muted"}),e&&!p&&(0,ue.jsx)("span",{className:"str-video__participant-details__name--video-muted"}),e&&h&&(0,ue.jsx)("span",{title:c("Unpin"),onClick:()=>l?.unpin(r),className:"str-video__participant-details__name--pinned"}),e&&(0,ue.jsx)(yd,{})]})}),e&&(0,ue.jsx)(v4,{isVisible:i&&n===ay.ConnectionQuality.POOR,message:c("Poor connection quality"),children:d&&(0,ue.jsx)("span",{className:(0,pm.Z)("str-video__participant-details__connection-quality",`str-video__participant-details__connection-quality--${d}`),title:d})})]})},yd=()=>{let{participant:e}=vA(),{isSpeaking:t,isDominantSpeaker:i}=e;return(0,ue.jsxs)("span",{className:(0,pm.Z)("str-video__speech-indicator",t&&"str-video__speech-indicator--speaking",i&&"str-video__speech-indicator--dominant"),children:[(0,ue.jsx)("span",{className:"str-video__speech-indicator__bar"}),(0,ue.jsx)("span",{className:"str-video__speech-indicator__bar"}),(0,ue.jsx)("span",{className:"str-video__speech-indicator__bar"})]})},yu=(0,ut.forwardRef)(function({participant:e,trackType:t="videoTrack",muteAudio:i,refs:{setVideoElement:n,setVideoPlaceholderElement:s}={},className:r,VideoPlaceholder:a,ParticipantViewUI:o=yl},l){let{isLocalParticipant:c,isSpeaking:d,isDominantSpeaker:u,sessionId:p}=e,h=ct(e),m=ce(e),f=cn(e),[g,v]=(0,ut.useState)(null),[b,y]=(0,ut.useState)(null),[x,_]=(0,ut.useState)(null);yr({sessionId:p,trackedElement:g,trackType:t});let w=(0,ut.useMemo)(()=>({participant:e,participantViewElement:g,videoElement:b,videoPlaceholderElement:x,trackType:t}),[b,x,e,g,t]),S=(0,ut.useMemo)(()=>({setVideoElement:e=>{n?.(e),y(e)},setVideoPlaceholderElement:e=>{s?.(e),_(e)}}),[n,s]);return(0,ue.jsx)("div",{"data-testid":"participant-view",ref:e=>{v0(l,e),v(e)},className:(0,pm.Z)("str-video__participant-view",u&&"str-video__participant-view--dominant-speaker",d&&"str-video__participant-view--speaking",!m&&"str-video__participant-view--no-video",!h&&"str-video__participant-view--no-audio",r),children:(0,ue.jsxs)(vD.Provider,{value:w,children:[!c&&!i&&(0,ue.jsxs)(ue.Fragment,{children:[h&&(0,ue.jsx)(vI,{participant:e,trackType:"audioTrack"}),f&&(0,ue.jsx)(vI,{participant:e,trackType:"screenShareAudioTrack"})]}),(0,ue.jsx)(b7,{VideoPlaceholder:a,participant:e,trackType:t,refs:S,autoPlay:!0}),vX(o)?(0,ue.jsx)(o,{}):o]})})});yu.displayName="ParticipantView";let yp=e=>{let{call:t,children:i}=e;return(0,ue.jsx)(u0.Provider,{value:t,children:i})};yp.displayName="StreamCall";let yh={en:{Joining:"Joining",Mic:"Mic","No internet connection":"No internet connection","Re-connecting":"Re-connecting",Ringing:"Ringing","Screen Share":"Screen Share","Select a Camera":"Select a Camera","Select a Mic":"Select a Mic","Select Speakers":"Select Speakers",Speakers:"Speakers",Video:"Video","You are muted. Unmute to speak.":"You are muted. Unmute to speak.",Live:"Live","You can now speak.":"You can now speak.","Awaiting for an approval to speak.":"Awaiting for an approval to speak.","You can no longer speak.":"You can no longer speak.","You can now share your video.":"You can now share your video.","Awaiting for an approval to share your video.":"Awaiting for an approval to share your video.","You can no longer share your video.":"You can no longer share your video.","Waiting for recording to stop...":"Waiting for recording to stop...","Waiting for recording to start...":"Waiting for recording to start...","Record call":"Record call",Reactions:"Reactions",Statistics:"Statistics","You can now share your screen.":"You can now share your screen.","Awaiting for an approval to share screen.":"Awaiting for an approval to share screen.","You can no longer share your screen.":"You can no longer share your screen.","Share screen":"Share screen","Incoming Call...":"Incoming Call...","Calling...":"Calling...","Mute All":"Mute All",Invite:"Invite",Join:"Join",You:"You",Me:"Me",Unknown:"Unknown","Toggle device menu":"Toggle device menu","Call Recordings":"Call Recordings",Refresh:"Refresh","Check your browser video permissions":"Check your browser video permissions","Video publishing is disabled by the system":"Video publishing is disabled by the system","You have no permission to share your video":"You have no permission to share your video","You have no permission to share your audio":"You have no permission to share your audio","You are presenting your screen":"You are presenting your screen","Stop Screen Sharing":"Stop Screen Sharing",Allow:"Allow",Revoke:"Revoke",Dismiss:"Dismiss","Microphone on":"Microphone on","Microphone off":"Microphone off","Camera on":"Camera on","Camera off":"Camera off","No camera found":"No camera found","Video is disabled":"Video is disabled",Pinned:"Pinned",Unpin:"Unpin",Pin:"Pin","Pin for everyone":"Pin for everyone","Unpin for everyone":"Unpin for everyone",Block:"Block","Turn off video":"Turn off video","Turn off screen share":"Turn off screen share","Mute audio":"Mute audio","Mute screen share audio":"Mute screen share audio","Allow audio":"Allow audio","Allow video":"Allow video","Allow screen sharing":"Allow screen sharing","Disable audio":"Disable audio","Disable video":"Disable video","Disable screen sharing":"Disable screen sharing",Enter:"Enter",Leave:"Leave","Leave call":"Leave call","End call for all":"End call for all","{{ direction }} fullscreen":"{{ direction }} fullscreen","{{ direction }} picture-in-picture":"{{ direction }} picture-in-picture","Dominant Speaker":"Dominant Speaker","Poor connection quality":"Poor connection quality. Please check your internet connection.",Participants:"Participants",Anonymous:", and ({{ count }}) anonymous","No participants found":"No participants found","Participants ({{ numberOfParticipants }})":"Participants ({{ numberOfParticipants }})","{{ userName }} is sharing their screen":"{{ userName }} is sharing their screen","{{ userName }} is requesting to speak":"{{ userName }} is requesting to speak","{{ userName }} is requesting to share their camera":"{{ userName }} is requesting to share their camera","{{ userName }} is requesting to present their screen":"{{ userName }} is requesting to present their screen","{{ userName }} is requesting permission: {{ permission }}":"{{ userName }} is requesting permission: {{ permission }}"}},ym=e=>(0,ue.jsx)(pi,{translationsOverrides:yh,...e});ym.displayName="StreamVideo";let yf=e=>{(0,ut.useEffect)(()=>{if(e)return e.setSortParticipantsBy(cb),()=>{yv(e)}},[e])},yg=(e,t)=>{(0,ut.useEffect)(()=>{if(e)return t?e.setSortParticipantsBy(l9(co,yb)):e.setSortParticipantsBy(cv),()=>{yv(e)}},[e,t])},yv=e=>{let t=dh.get(e.type);e.setSortParticipantsBy(t.options.sortParticipantsBy||cg)},yb=(e,t)=>e.isLocalParticipant?1:t.isLocalParticipant?-1:0,yy=({group:e,VideoPlaceholder:t,ParticipantViewUI:i})=>(0,ue.jsx)("div",{className:(0,pm.Z)("str-video__paginated-grid-layout__group",{"str-video__paginated-grid-layout--one":1===e.length,"str-video__paginated-grid-layout--two-four":e.length>=2&&e.length<=4,"str-video__paginated-grid-layout--five-nine":e.length>=5&&e.length<=9}),children:e.map(e=>(0,ue.jsx)(yu,{participant:e,muteAudio:!0,VideoPlaceholder:t,ParticipantViewUI:i},e.sessionId))}),yx=e=>{let{groupSize:t=(e.groupSize||0)>0&&e.groupSize||16,excludeLocalParticipant:i=!1,pageArrowsVisible:n=!0,VideoPlaceholder:s,ParticipantViewUI:r=yl}=e,[a,o]=(0,ut.useState)(0),[l,c]=(0,ut.useState)(null),d=u1(),{useParticipants:u,useRemoteParticipants:p}=pp(),h=u(),m=p();yf(d),(0,ut.useEffect)(()=>{if(!l||!d)return;let e=d.setViewport(l);return()=>e()},[l,d]);let f=(0,ut.useMemo)(()=>vZ(i?m:h,t),[i,m,h,t]),g=f.length;(0,ut.useEffect)(()=>{a>g-1&&o(Math.max(0,g-1))},[a,g]);let v=f[a];return d?(0,ue.jsxs)("div",{className:"str-video__paginated-grid-layout__wrapper",ref:c,children:[(0,ue.jsx)(vN,{participants:m}),(0,ue.jsxs)("div",{className:"str-video__paginated-grid-layout",children:[n&&g>1&&(0,ue.jsx)(vQ,{icon:"caret-left",disabled:0===a,onClick:()=>o(e=>Math.max(0,e-1))}),v&&(0,ue.jsx)(yy,{group:v,VideoPlaceholder:s,ParticipantViewUI:r}),n&&g>1&&(0,ue.jsx)(vQ,{disabled:a===g-1,icon:"caret-right",onClick:()=>o(e=>Math.min(g-1,e+1))})]})]}):null};yx.displayName="PaginatedGridLayout";let y_=(e,t,i)=>{let[n,s]=(0,ut.useState)({vertical:"number"==typeof i?i:null,horizontal:"number"==typeof i?i:null});return(0,ut.useEffect)(()=>{if(!t||!e||"number"==typeof i||void 0===i)return;let n=null,r=null,a=new ResizeObserver((i,a)=>{if(i.length>1){let e=t.firstChild;e&&(r=e.clientHeight,n=e.clientWidth,a.unobserve(t))}if(null===r||null===n)return;let o=Math.floor(e.clientHeight/r),l=Math.floor(e.clientWidth/n);s(e=>e.vertical!==o||e.horizontal!==l?{vertical:o,horizontal:l}:e)});return a.observe(e),a.observe(t),()=>{a.disconnect()}},[t,i,e]),n},yw=()=>(0,ue.jsx)(yl,{menuPlacement:"top-end"}),yS=({ParticipantViewUIBar:e=yw,ParticipantViewUISpotlight:t=yl,VideoPlaceholder:i,participantsBarPosition:n="bottom",participantsBarLimit:s,excludeLocalParticipant:r=!1,pageArrowsVisible:a=!0})=>{let o=u1(),{useParticipants:l,useRemoteParticipants:c}=pp(),d=l(),u=c(),[p,...h]=r?u:d,[m,f]=(0,ut.useState)(null),[g,v]=(0,ut.useState)(null),[b,y]=(0,ut.useState)(null),x=p&&ci(p),_=y_(b,g,s),w="left"===n||"right"===n,S="top"===n||"bottom"===n;(0,ut.useEffect)(()=>{if(!m||!o)return;let e=o.setViewport(m);return()=>e()},[m,o]),yg(o,2===d.length);let k=h,E=w?_.vertical:_.horizontal;return(void 0!==s&&null!==E&&(k=h.slice(0,E-(x?1:0))),o)?(0,ue.jsxs)("div",{className:"str-video__speaker-layout__wrapper",children:[(0,ue.jsx)(vN,{participants:u}),(0,ue.jsxs)("div",{className:(0,pm.Z)("str-video__speaker-layout",n&&`str-video__speaker-layout--variant-${n}`),children:[(0,ue.jsx)("div",{className:"str-video__speaker-layout__spotlight",children:p&&(0,ue.jsx)(yu,{participant:p,muteAudio:!0,trackType:x?"screenShareTrack":"videoTrack",ParticipantViewUI:t,VideoPlaceholder:i})}),k.length>0&&n&&(0,ue.jsxs)("div",{ref:y,className:"str-video__speaker-layout__participants-bar-buttons-wrapper",children:[(0,ue.jsx)("div",{className:"str-video__speaker-layout__participants-bar-wrapper",ref:f,children:(0,ue.jsxs)("div",{ref:v,className:"str-video__speaker-layout__participants-bar",children:[x&&(0,ue.jsx)("div",{className:"str-video__speaker-layout__participant-tile",children:(0,ue.jsx)(yu,{participant:p,ParticipantViewUI:e,VideoPlaceholder:i,muteAudio:!0})},p.sessionId),k.map(t=>(0,ue.jsx)("div",{className:"str-video__speaker-layout__participant-tile",children:(0,ue.jsx)(yu,{participant:t,ParticipantViewUI:e,VideoPlaceholder:i,muteAudio:!0})},t.sessionId))]})}),a&&w&&(0,ue.jsx)(yE,{scrollWrapper:m}),a&&S&&(0,ue.jsx)(yk,{scrollWrapper:m})]})]})]}):null};yS.displayName="SpeakerLayout";let yk=({scrollWrapper:e})=>{let t=v$(e);return(0,ue.jsxs)(ue.Fragment,{children:[t&&"start"!==t&&(0,ue.jsx)(vQ,{onClick:()=>{e?.scrollBy({left:-150,behavior:"smooth"})},icon:"caret-left",className:"str-video__speaker-layout__participants-bar--button-left"}),t&&"end"!==t&&(0,ue.jsx)(vQ,{onClick:()=>{e?.scrollBy({left:150,behavior:"smooth"})},icon:"caret-right",className:"str-video__speaker-layout__participants-bar--button-right"})]})},yE=({scrollWrapper:e})=>{let t=vB(e);return(0,ue.jsxs)(ue.Fragment,{children:[t&&"top"!==t&&(0,ue.jsx)(vQ,{onClick:()=>{e?.scrollBy({top:-150,behavior:"smooth"})},icon:"caret-up",className:"str-video__speaker-layout__participants-bar--button-top"}),t&&"bottom"!==t&&(0,ue.jsx)(vQ,{onClick:()=>{e?.scrollBy({top:150,behavior:"smooth"})},icon:"caret-down",className:"str-video__speaker-layout__participants-bar--button-bottom"})]})},[yT,yC,yR]="1.3.5".split(".");lE={type:ay.SdkType.REACT,major:yT,minor:yC,patch:yR}},35664:(e,t,i)=>{"use strict";i.d(t,{Ry:()=>c});var n=new WeakMap,s=new WeakMap,r={},a=0,o=function(e){return e&&(e.host||o(e.parentNode))},l=function(e,t,i,l){var c=(Array.isArray(e)?e:[e]).map(function(e){if(t.contains(e))return e;var i=o(e);return i&&t.contains(i)?i:(console.error("aria-hidden",e,"in not contained inside",t,". Doing nothing"),null)}).filter(function(e){return!!e});r[i]||(r[i]=new WeakMap);var d=r[i],u=[],p=new Set,h=new Set(c),m=function(e){!e||p.has(e)||(p.add(e),m(e.parentNode))};c.forEach(m);var f=function(e){!e||h.has(e)||Array.prototype.forEach.call(e.children,function(e){if(p.has(e))f(e);else try{var t=e.getAttribute(l),r=null!==t&&"false"!==t,a=(n.get(e)||0)+1,o=(d.get(e)||0)+1;n.set(e,a),d.set(e,o),u.push(e),1===a&&r&&s.set(e,!0),1===o&&e.setAttribute(i,"true"),r||e.setAttribute(l,"true")}catch(t){console.error("aria-hidden: cannot operate on ",e,t)}})};return f(t),p.clear(),a++,function(){u.forEach(function(e){var t=n.get(e)-1,r=d.get(e)-1;n.set(e,t),d.set(e,r),t||(s.has(e)||e.removeAttribute(l),s.delete(e)),r||e.removeAttribute(i)}),--a||(n=new WeakMap,n=new WeakMap,s=new WeakMap,r={})}},c=function(e,t,i){void 0===i&&(i="data-aria-hidden");var n,s=Array.from(Array.isArray(e)?e:[e]),r=t||(n=e,"undefined"==typeof document?null:(Array.isArray(n)?n[0]:n).ownerDocument.body);return r?(s.push.apply(s,Array.from(r.querySelectorAll("[aria-live]"))),l(s,r,i,"aria-hidden")):function(){return null}}},73930:(e,t,i)=>{e.exports={parallel:i(37638),serial:i(28007),serialOrdered:i(57779)}},89774:e=>{e.exports=function(e){Object.keys(e.jobs).forEach(t.bind(e)),e.jobs={}};function t(e){"function"==typeof this.jobs[e]&&this.jobs[e]()}},1281:(e,t,i)=>{var n=i(19336);e.exports=function(e){var t=!1;return n(function(){t=!0}),function(i,s){t?e(i,s):n(function(){e(i,s)})}}},19336:e=>{e.exports=function(e){var t="function"==typeof setImmediate?setImmediate:"object"==typeof process&&"function"==typeof process.nextTick?process.nextTick:null;t?t(e):setTimeout(e,0)}},72534:(e,t,i)=>{var n=i(1281),s=i(89774);e.exports=function(e,t,i,r){var a,o,l=i.keyedList?i.keyedList[i.index]:i.index;i.jobs[l]=(a=e[l],o=function(e,t){l in i.jobs&&(delete i.jobs[l],e?s(i):i.results[l]=t,r(e,i.results))},2==t.length?t(a,n(o)):t(a,l,n(o)))}},66807:e=>{e.exports=function(e,t){var i=!Array.isArray(e),n={index:0,keyedList:i||t?Object.keys(e):null,jobs:{},results:i?{}:[],size:i?Object.keys(e).length:e.length};return t&&n.keyedList.sort(i?t:function(i,n){return t(e[i],e[n])}),n}},19867:(e,t,i)=>{var n=i(89774),s=i(1281);e.exports=function(e){Object.keys(this.jobs).length&&(this.index=this.size,n(this),s(e)(null,this.results))}},37638:(e,t,i)=>{var n=i(72534),s=i(66807),r=i(19867);e.exports=function(e,t,i){for(var a=s(e);a.index<(a.keyedList||e).length;)n(e,t,a,function(e,t){if(e){i(e,t);return}if(0===Object.keys(a.jobs).length){i(null,a.results);return}}),a.index++;return r.bind(a,i)}},28007:(e,t,i)=>{var n=i(57779);e.exports=function(e,t,i){return n(e,t,null,i)}},57779:(e,t,i)=>{var n=i(72534),s=i(66807),r=i(19867);function a(e,t){return e<t?-1:e>t?1:0}e.exports=function(e,t,i,a){var o=s(e,i);return n(e,t,o,function i(s,r){if(s){a(s,r);return}if(o.index++,o.index<(o.keyedList||e).length){n(e,t,o,i);return}a(null,o.results)}),r.bind(o,a)},e.exports.ascending=a,e.exports.descending=function(e,t){return -1*a(e,t)}},714:(e,t)=>{"use strict";t.JQ=function(e){for(var t,n=e.length,s=n%3,r=[],a=0,o=n-s;a<o;a+=16383)r.push(function(e,t,n){for(var s,r=[],a=t;a<n;a+=3)r.push(i[(s=(e[a]<<16&16711680)+(e[a+1]<<8&65280)+(255&e[a+2]))>>18&63]+i[s>>12&63]+i[s>>6&63]+i[63&s]);return r.join("")}(e,a,a+16383>o?o:a+16383));return 1===s?r.push(i[(t=e[n-1])>>2]+i[t<<4&63]+"=="):2===s&&r.push(i[(t=(e[n-2]<<8)+e[n-1])>>10]+i[t>>4&63]+i[t<<2&63]+"="),r.join("")};for(var i=[],n=[],s=("undefined"!=typeof Uint8Array&&Uint8Array,"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"),r=0,a=s.length;r<a;++r)i[r]=s[r],n[s.charCodeAt(r)]=r;n["-".charCodeAt(0)]=62,n["_".charCodeAt(0)]=63},38726:(e,t,i)=>{var n=i(73837),s=i(12781).Stream,r=i(4130);function a(){this.writable=!1,this.readable=!0,this.dataSize=0,this.maxDataSize=2097152,this.pauseStreams=!0,this._released=!1,this._streams=[],this._currentStream=null,this._insideLoop=!1,this._pendingNext=!1}e.exports=a,n.inherits(a,s),a.create=function(e){var t=new this;for(var i in e=e||{})t[i]=e[i];return t},a.isStreamLike=function(e){return"function"!=typeof e&&"string"!=typeof e&&"boolean"!=typeof e&&"number"!=typeof e&&!Buffer.isBuffer(e)},a.prototype.append=function(e){if(a.isStreamLike(e)){if(!(e instanceof r)){var t=r.create(e,{maxDataSize:1/0,pauseStream:this.pauseStreams});e.on("data",this._checkDataSize.bind(this)),e=t}this._handleErrors(e),this.pauseStreams&&e.pause()}return this._streams.push(e),this},a.prototype.pipe=function(e,t){return s.prototype.pipe.call(this,e,t),this.resume(),e},a.prototype._getNext=function(){if(this._currentStream=null,this._insideLoop){this._pendingNext=!0;return}this._insideLoop=!0;try{do this._pendingNext=!1,this._realGetNext();while(this._pendingNext)}finally{this._insideLoop=!1}},a.prototype._realGetNext=function(){var e=this._streams.shift();if(void 0===e){this.end();return}if("function"!=typeof e){this._pipeNext(e);return}e((function(e){a.isStreamLike(e)&&(e.on("data",this._checkDataSize.bind(this)),this._handleErrors(e)),this._pipeNext(e)}).bind(this))},a.prototype._pipeNext=function(e){if(this._currentStream=e,a.isStreamLike(e)){e.on("end",this._getNext.bind(this)),e.pipe(this,{end:!1});return}this.write(e),this._getNext()},a.prototype._handleErrors=function(e){var t=this;e.on("error",function(e){t._emitError(e)})},a.prototype.write=function(e){this.emit("data",e)},a.prototype.pause=function(){this.pauseStreams&&(this.pauseStreams&&this._currentStream&&"function"==typeof this._currentStream.pause&&this._currentStream.pause(),this.emit("pause"))},a.prototype.resume=function(){this._released||(this._released=!0,this.writable=!0,this._getNext()),this.pauseStreams&&this._currentStream&&"function"==typeof this._currentStream.resume&&this._currentStream.resume(),this.emit("resume")},a.prototype.end=function(){this._reset(),this.emit("end")},a.prototype.destroy=function(){this._reset(),this.emit("close")},a.prototype._reset=function(){this.writable=!1,this._streams=[],this._currentStream=null},a.prototype._checkDataSize=function(){if(this._updateDataSize(),!(this.dataSize<=this.maxDataSize)){var e="DelayedStream#maxDataSize of "+this.maxDataSize+" bytes exceeded.";this._emitError(Error(e))}},a.prototype._updateDataSize=function(){this.dataSize=0;var e=this;this._streams.forEach(function(t){t.dataSize&&(e.dataSize+=t.dataSize)}),this._currentStream&&this._currentStream.dataSize&&(this.dataSize+=this._currentStream.dataSize)},a.prototype._emitError=function(e){this._reset(),this.emit("error",e)}},39662:(e,t,i)=>{t.formatArgs=function(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;let i="color: "+this.color;t.splice(1,0,i,"color: inherit");let n=0,s=0;t[0].replace(/%[a-zA-Z%]/g,e=>{"%%"!==e&&(n++,"%c"===e&&(s=n))}),t.splice(s,0,i)},t.save=function(e){try{e?t.storage.setItem("debug",e):t.storage.removeItem("debug")}catch(e){}},t.load=function(){let e;try{e=t.storage.getItem("debug")}catch(e){}return!e&&"undefined"!=typeof process&&"env"in process&&(e=process.env.DEBUG),e},t.useColors=function(){let e;return"undefined"!=typeof window&&!!window.process&&("renderer"===window.process.type||!!window.process.__nwjs)||!("undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&("undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&(e=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(e[1],10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))},t.storage=function(){try{return localStorage}catch(e){}}(),t.destroy=(()=>{let e=!1;return()=>{e||(e=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],t.log=console.debug||console.log||(()=>{}),e.exports=i(47507)(t);let{formatters:n}=e.exports;n.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}},47507:(e,t,i)=>{e.exports=function(e){function t(e){let i,s,r;let a=null;function o(...e){if(!o.enabled)return;let n=Number(new Date),s=n-(i||n);o.diff=s,o.prev=i,o.curr=n,i=n,e[0]=t.coerce(e[0]),"string"!=typeof e[0]&&e.unshift("%O");let r=0;e[0]=e[0].replace(/%([a-zA-Z%])/g,(i,n)=>{if("%%"===i)return"%";r++;let s=t.formatters[n];if("function"==typeof s){let t=e[r];i=s.call(o,t),e.splice(r,1),r--}return i}),t.formatArgs.call(o,e),(o.log||t.log).apply(o,e)}return o.namespace=e,o.useColors=t.useColors(),o.color=t.selectColor(e),o.extend=n,o.destroy=t.destroy,Object.defineProperty(o,"enabled",{enumerable:!0,configurable:!1,get:()=>null!==a?a:(s!==t.namespaces&&(s=t.namespaces,r=t.enabled(e)),r),set:e=>{a=e}}),"function"==typeof t.init&&t.init(o),o}function n(e,i){let n=t(this.namespace+(void 0===i?":":i)+e);return n.log=this.log,n}function s(e){return e.toString().substring(2,e.toString().length-2).replace(/\.\*\?$/,"*")}return t.debug=t,t.default=t,t.coerce=function(e){return e instanceof Error?e.stack||e.message:e},t.disable=function(){let e=[...t.names.map(s),...t.skips.map(s).map(e=>"-"+e)].join(",");return t.enable(""),e},t.enable=function(e){let i;t.save(e),t.namespaces=e,t.names=[],t.skips=[];let n=("string"==typeof e?e:"").split(/[\s,]+/),s=n.length;for(i=0;i<s;i++)n[i]&&("-"===(e=n[i].replace(/\*/g,".*?"))[0]?t.skips.push(RegExp("^"+e.slice(1)+"$")):t.names.push(RegExp("^"+e+"$")))},t.enabled=function(e){let i,n;if("*"===e[e.length-1])return!0;for(i=0,n=t.skips.length;i<n;i++)if(t.skips[i].test(e))return!1;for(i=0,n=t.names.length;i<n;i++)if(t.names[i].test(e))return!0;return!1},t.humanize=i(87914),t.destroy=function(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")},Object.keys(e).forEach(i=>{t[i]=e[i]}),t.names=[],t.skips=[],t.formatters={},t.selectColor=function(e){let i=0;for(let t=0;t<e.length;t++)i=(i<<5)-i+e.charCodeAt(t)|0;return t.colors[Math.abs(i)%t.colors.length]},t.enable(t.load()),t}},71589:(e,t,i)=>{"undefined"==typeof process||"renderer"===process.type||process.__nwjs?e.exports=i(39662):e.exports=i(56027)},56027:(e,t,i)=>{let n=i(76224),s=i(73837);t.init=function(e){e.inspectOpts={};let i=Object.keys(t.inspectOpts);for(let n=0;n<i.length;n++)e.inspectOpts[i[n]]=t.inspectOpts[i[n]]},t.log=function(...e){return process.stderr.write(s.formatWithOptions(t.inspectOpts,...e)+"\n")},t.formatArgs=function(i){let{namespace:n,useColors:s}=this;if(s){let t=this.color,s="\x1b[3"+(t<8?t:"8;5;"+t),r=`  ${s};1m${n} \u001B[0m`;i[0]=r+i[0].split("\n").join("\n"+r),i.push(s+"m+"+e.exports.humanize(this.diff)+"\x1b[0m")}else i[0]=(t.inspectOpts.hideDate?"":new Date().toISOString()+" ")+n+" "+i[0]},t.save=function(e){e?process.env.DEBUG=e:delete process.env.DEBUG},t.load=function(){return process.env.DEBUG},t.useColors=function(){return"colors"in t.inspectOpts?!!t.inspectOpts.colors:n.isatty(process.stderr.fd)},t.destroy=s.deprecate(()=>{},"Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."),t.colors=[6,2,3,4,5,1];try{let e=i(67495);e&&(e.stderr||e).level>=2&&(t.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221])}catch(e){}t.inspectOpts=Object.keys(process.env).filter(e=>/^debug_/i.test(e)).reduce((e,t)=>{let i=t.substring(6).toLowerCase().replace(/_([a-z])/g,(e,t)=>t.toUpperCase()),n=process.env[t];return n=!!/^(yes|on|true|enabled)$/i.test(n)||!/^(no|off|false|disabled)$/i.test(n)&&("null"===n?null:Number(n)),e[i]=n,e},{}),e.exports=i(47507)(t);let{formatters:r}=e.exports;r.o=function(e){return this.inspectOpts.colors=this.useColors,s.inspect(e,this.inspectOpts).split("\n").map(e=>e.trim()).join(" ")},r.O=function(e){return this.inspectOpts.colors=this.useColors,s.inspect(e,this.inspectOpts)}},4130:(e,t,i)=>{var n=i(12781).Stream,s=i(73837);function r(){this.source=null,this.dataSize=0,this.maxDataSize=1048576,this.pauseStream=!0,this._maxDataSizeExceeded=!1,this._released=!1,this._bufferedEvents=[]}e.exports=r,s.inherits(r,n),r.create=function(e,t){var i=new this;for(var n in t=t||{})i[n]=t[n];i.source=e;var s=e.emit;return e.emit=function(){return i._handleEmit(arguments),s.apply(e,arguments)},e.on("error",function(){}),i.pauseStream&&e.pause(),i},Object.defineProperty(r.prototype,"readable",{configurable:!0,enumerable:!0,get:function(){return this.source.readable}}),r.prototype.setEncoding=function(){return this.source.setEncoding.apply(this.source,arguments)},r.prototype.resume=function(){this._released||this.release(),this.source.resume()},r.prototype.pause=function(){this.source.pause()},r.prototype.release=function(){this._released=!0,this._bufferedEvents.forEach((function(e){this.emit.apply(this,e)}).bind(this)),this._bufferedEvents=[]},r.prototype.pipe=function(){var e=n.prototype.pipe.apply(this,arguments);return this.resume(),e},r.prototype._handleEmit=function(e){if(this._released){this.emit.apply(this,e);return}"data"===e[0]&&(this.dataSize+=e[1].length,this._checkIfMaxDataSizeExceeded()),this._bufferedEvents.push(e)},r.prototype._checkIfMaxDataSizeExceeded=function(){if(!this._maxDataSizeExceeded&&!(this.dataSize<=this.maxDataSize)){this._maxDataSizeExceeded=!0;var e="DelayedStream#maxDataSize of "+this.maxDataSize+" bytes exceeded.";this.emit("error",Error(e))}}},59057:(e,t,i)=>{var n;e.exports=function(){if(!n){try{n=i(71589)("follow-redirects")}catch(e){}"function"!=typeof n&&(n=function(){})}n.apply(null,arguments)}},19831:(e,t,i)=>{var n=i(57310),s=n.URL,r=i(13685),a=i(95687),o=i(12781).Writable,l=i(39491),c=i(59057);!function(){var e="undefined"!=typeof process,t="undefined"!=typeof window&&"undefined"!=typeof document,i=P(Error.captureStackTrace);e||!t&&i||console.warn("The follow-redirects package should be excluded from browser builds.")}();var d=!1;try{l(new s(""))}catch(e){d="ERR_INVALID_URL"===e.code}var u=["auth","host","hostname","href","path","pathname","port","protocol","query","search","hash"],p=["abort","aborted","connect","error","socket","timeout"],h=Object.create(null);p.forEach(function(e){h[e]=function(t,i,n){this._redirectable.emit(e,t,i,n)}});var m=C("ERR_INVALID_URL","Invalid URL",TypeError),f=C("ERR_FR_REDIRECTION_FAILURE","Redirected request failed"),g=C("ERR_FR_TOO_MANY_REDIRECTS","Maximum number of redirects exceeded",f),v=C("ERR_FR_MAX_BODY_LENGTH_EXCEEDED","Request body larger than maxBodyLength limit"),b=C("ERR_STREAM_WRITE_AFTER_END","write after end"),y=o.prototype.destroy||w;function x(e,t){o.call(this),this._sanitizeOptions(e),this._options=e,this._ended=!1,this._ending=!1,this._redirectCount=0,this._redirects=[],this._requestBodyLength=0,this._requestBodyBuffers=[],t&&this.on("response",t);var i=this;this._onNativeResponse=function(e){try{i._processResponse(e)}catch(e){i.emit("error",e instanceof f?e:new f({cause:e}))}},this._performRequest()}function _(e){var t={maxRedirects:21,maxBodyLength:10485760},i={};return Object.keys(e).forEach(function(n){var r=n+":",a=i[r]=e[n],o=t[n]=Object.create(a);Object.defineProperties(o,{request:{value:function(e,n,a){var o;return(o=e,s&&o instanceof s)?e=E(e):O(e)?e=E(S(e)):(a=n,n=k(e),e={protocol:r}),P(n)&&(a=n,n=null),(n=Object.assign({maxRedirects:t.maxRedirects,maxBodyLength:t.maxBodyLength},e,n)).nativeProtocols=i,O(n.host)||O(n.hostname)||(n.hostname="::1"),l.equal(n.protocol,r,"protocol mismatch"),c("options",n),new x(n,a)},configurable:!0,enumerable:!0,writable:!0},get:{value:function(e,t,i){var n=o.request(e,t,i);return n.end(),n},configurable:!0,enumerable:!0,writable:!0}})}),t}function w(){}function S(e){var t;if(d)t=new s(e);else if(!O((t=k(n.parse(e))).protocol))throw new m({input:e});return t}function k(e){if(/^\[/.test(e.hostname)&&!/^\[[:0-9a-f]+\]$/i.test(e.hostname)||/^\[/.test(e.host)&&!/^\[[:0-9a-f]+\](:\d+)?$/i.test(e.host))throw new m({input:e.href||e});return e}function E(e,t){var i=t||{};for(var n of u)i[n]=e[n];return i.hostname.startsWith("[")&&(i.hostname=i.hostname.slice(1,-1)),""!==i.port&&(i.port=Number(i.port)),i.path=i.search?i.pathname+i.search:i.pathname,i}function T(e,t){var i;for(var n in t)e.test(n)&&(i=t[n],delete t[n]);return null==i?void 0:String(i).trim()}function C(e,t,i){function n(i){P(Error.captureStackTrace)&&Error.captureStackTrace(this,this.constructor),Object.assign(this,i||{}),this.code=e,this.message=this.cause?t+": "+this.cause.message:t}return n.prototype=new(i||Error),Object.defineProperties(n.prototype,{constructor:{value:n,enumerable:!1},name:{value:"Error ["+e+"]",enumerable:!1}}),n}function R(e,t){for(var i of p)e.removeListener(i,h[i]);e.on("error",w),e.destroy(t)}function O(e){return"string"==typeof e||e instanceof String}function P(e){return"function"==typeof e}x.prototype=Object.create(o.prototype),x.prototype.abort=function(){R(this._currentRequest),this._currentRequest.abort(),this.emit("abort")},x.prototype.destroy=function(e){return R(this._currentRequest,e),y.call(this,e),this},x.prototype.write=function(e,t,i){if(this._ending)throw new b;if(!O(e)&&!("object"==typeof e&&"length"in e))throw TypeError("data should be a string, Buffer or Uint8Array");if(P(t)&&(i=t,t=null),0===e.length){i&&i();return}this._requestBodyLength+e.length<=this._options.maxBodyLength?(this._requestBodyLength+=e.length,this._requestBodyBuffers.push({data:e,encoding:t}),this._currentRequest.write(e,t,i)):(this.emit("error",new v),this.abort())},x.prototype.end=function(e,t,i){if(P(e)?(i=e,e=t=null):P(t)&&(i=t,t=null),e){var n=this,s=this._currentRequest;this.write(e,t,function(){n._ended=!0,s.end(null,null,i)}),this._ending=!0}else this._ended=this._ending=!0,this._currentRequest.end(null,null,i)},x.prototype.setHeader=function(e,t){this._options.headers[e]=t,this._currentRequest.setHeader(e,t)},x.prototype.removeHeader=function(e){delete this._options.headers[e],this._currentRequest.removeHeader(e)},x.prototype.setTimeout=function(e,t){var i=this;function n(t){t.setTimeout(e),t.removeListener("timeout",t.destroy),t.addListener("timeout",t.destroy)}function s(t){i._timeout&&clearTimeout(i._timeout),i._timeout=setTimeout(function(){i.emit("timeout"),r()},e),n(t)}function r(){i._timeout&&(clearTimeout(i._timeout),i._timeout=null),i.removeListener("abort",r),i.removeListener("error",r),i.removeListener("response",r),i.removeListener("close",r),t&&i.removeListener("timeout",t),i.socket||i._currentRequest.removeListener("socket",s)}return t&&this.on("timeout",t),this.socket?s(this.socket):this._currentRequest.once("socket",s),this.on("socket",n),this.on("abort",r),this.on("error",r),this.on("response",r),this.on("close",r),this},["flushHeaders","getHeader","setNoDelay","setSocketKeepAlive"].forEach(function(e){x.prototype[e]=function(t,i){return this._currentRequest[e](t,i)}}),["aborted","connection","socket"].forEach(function(e){Object.defineProperty(x.prototype,e,{get:function(){return this._currentRequest[e]}})}),x.prototype._sanitizeOptions=function(e){if(e.headers||(e.headers={}),e.host&&(e.hostname||(e.hostname=e.host),delete e.host),!e.pathname&&e.path){var t=e.path.indexOf("?");t<0?e.pathname=e.path:(e.pathname=e.path.substring(0,t),e.search=e.path.substring(t))}},x.prototype._performRequest=function(){var e=this._options.protocol,t=this._options.nativeProtocols[e];if(!t)throw TypeError("Unsupported protocol "+e);if(this._options.agents){var i=e.slice(0,-1);this._options.agent=this._options.agents[i]}var s=this._currentRequest=t.request(this._options,this._onNativeResponse);for(var r of(s._redirectable=this,p))s.on(r,h[r]);if(this._currentUrl=/^\//.test(this._options.path)?n.format(this._options):this._options.path,this._isRedirect){var a=0,o=this,l=this._requestBodyBuffers;!function e(t){if(s===o._currentRequest){if(t)o.emit("error",t);else if(a<l.length){var i=l[a++];s.finished||s.write(i.data,i.encoding,e)}else o._ended&&s.end()}}()}},x.prototype._processResponse=function(e){var t,i,r,a=e.statusCode;this._options.trackRedirects&&this._redirects.push({url:this._currentUrl,headers:e.headers,statusCode:a});var o=e.headers.location;if(!o||!1===this._options.followRedirects||a<300||a>=400){e.responseUrl=this._currentUrl,e.redirects=this._redirects,this.emit("response",e),this._requestBodyBuffers=[];return}if(R(this._currentRequest),e.destroy(),++this._redirectCount>this._options.maxRedirects)throw new g;var u=this._options.beforeRedirect;u&&(r=Object.assign({Host:e.req.getHeader("host")},this._options.headers));var p=this._options.method;(301!==a&&302!==a||"POST"!==this._options.method)&&(303!==a||/^(?:GET|HEAD)$/.test(this._options.method))||(this._options.method="GET",this._requestBodyBuffers=[],T(/^content-/i,this._options.headers));var h=T(/^host$/i,this._options.headers),m=S(this._currentUrl),f=h||m.host,v=/^\w+:/.test(o)?this._currentUrl:n.format(Object.assign(m,{host:f})),b=d?new s(o,v):S(n.resolve(v,o));if(c("redirecting to",b.href),this._isRedirect=!0,E(b,this._options),(b.protocol===m.protocol||"https:"===b.protocol)&&(b.host===f||(l(O(t=b.host)&&O(f)),(i=t.length-f.length-1)>0&&"."===t[i]&&t.endsWith(f)))||T(/^(?:(?:proxy-)?authorization|cookie)$/i,this._options.headers),P(u)){var y={headers:e.headers,statusCode:a},x={url:v,method:p,headers:r};u(this._options,y,x),this._sanitizeOptions(this._options)}this._performRequest()},e.exports=_({http:r,https:a}),e.exports.wrap=_},54127:(e,t,i)=>{var n=i(38726),s=i(73837),r=i(71017),a=i(13685),o=i(95687),l=i(57310).parse,c=i(57147),d=i(12781).Stream,u=i(70045),p=i(73930),h=i(6578);function m(e){if(!(this instanceof m))return new m(e);for(var t in this._overheadLength=0,this._valueLength=0,this._valuesToMeasure=[],n.call(this),e=e||{})this[t]=e[t]}e.exports=m,s.inherits(m,n),m.LINE_BREAK="\r\n",m.DEFAULT_CONTENT_TYPE="application/octet-stream",m.prototype.append=function(e,t,i){"string"==typeof(i=i||{})&&(i={filename:i});var r=n.prototype.append.bind(this);if("number"==typeof t&&(t=""+t),s.isArray(t)){this._error(Error("Arrays are not supported."));return}var a=this._multiPartHeader(e,t,i),o=this._multiPartFooter();r(a),r(t),r(o),this._trackLength(a,t,i)},m.prototype._trackLength=function(e,t,i){var n=0;null!=i.knownLength?n+=+i.knownLength:Buffer.isBuffer(t)?n=t.length:"string"==typeof t&&(n=Buffer.byteLength(t)),this._valueLength+=n,this._overheadLength+=Buffer.byteLength(e)+m.LINE_BREAK.length,t&&(t.path||t.readable&&t.hasOwnProperty("httpVersion")||t instanceof d)&&(i.knownLength||this._valuesToMeasure.push(t))},m.prototype._lengthRetriever=function(e,t){e.hasOwnProperty("fd")?void 0!=e.end&&e.end!=1/0&&void 0!=e.start?t(null,e.end+1-(e.start?e.start:0)):c.stat(e.path,function(i,n){if(i){t(i);return}t(null,n.size-(e.start?e.start:0))}):e.hasOwnProperty("httpVersion")?t(null,+e.headers["content-length"]):e.hasOwnProperty("httpModule")?(e.on("response",function(i){e.pause(),t(null,+i.headers["content-length"])}),e.resume()):t("Unknown stream")},m.prototype._multiPartHeader=function(e,t,i){if("string"==typeof i.header)return i.header;var n,s=this._getContentDisposition(t,i),r=this._getContentType(t,i),a="",o={"Content-Disposition":["form-data",'name="'+e+'"'].concat(s||[]),"Content-Type":[].concat(r||[])};for(var l in"object"==typeof i.header&&h(o,i.header),o)if(o.hasOwnProperty(l)){if(null==(n=o[l]))continue;Array.isArray(n)||(n=[n]),n.length&&(a+=l+": "+n.join("; ")+m.LINE_BREAK)}return"--"+this.getBoundary()+m.LINE_BREAK+a+m.LINE_BREAK},m.prototype._getContentDisposition=function(e,t){var i,n;return"string"==typeof t.filepath?i=r.normalize(t.filepath).replace(/\\/g,"/"):t.filename||e.name||e.path?i=r.basename(t.filename||e.name||e.path):e.readable&&e.hasOwnProperty("httpVersion")&&(i=r.basename(e.client._httpMessage.path||"")),i&&(n='filename="'+i+'"'),n},m.prototype._getContentType=function(e,t){var i=t.contentType;return!i&&e.name&&(i=u.lookup(e.name)),!i&&e.path&&(i=u.lookup(e.path)),!i&&e.readable&&e.hasOwnProperty("httpVersion")&&(i=e.headers["content-type"]),!i&&(t.filepath||t.filename)&&(i=u.lookup(t.filepath||t.filename)),i||"object"!=typeof e||(i=m.DEFAULT_CONTENT_TYPE),i},m.prototype._multiPartFooter=function(){return(function(e){var t=m.LINE_BREAK;0===this._streams.length&&(t+=this._lastBoundary()),e(t)}).bind(this)},m.prototype._lastBoundary=function(){return"--"+this.getBoundary()+"--"+m.LINE_BREAK},m.prototype.getHeaders=function(e){var t,i={"content-type":"multipart/form-data; boundary="+this.getBoundary()};for(t in e)e.hasOwnProperty(t)&&(i[t.toLowerCase()]=e[t]);return i},m.prototype.setBoundary=function(e){this._boundary=e},m.prototype.getBoundary=function(){return this._boundary||this._generateBoundary(),this._boundary},m.prototype.getBuffer=function(){for(var e=new Buffer.alloc(0),t=this.getBoundary(),i=0,n=this._streams.length;i<n;i++)"function"!=typeof this._streams[i]&&(Buffer.isBuffer(this._streams[i])?e=Buffer.concat([e,this._streams[i]]):e=Buffer.concat([e,Buffer.from(this._streams[i])]),("string"!=typeof this._streams[i]||this._streams[i].substring(2,t.length+2)!==t)&&(e=Buffer.concat([e,Buffer.from(m.LINE_BREAK)])));return Buffer.concat([e,Buffer.from(this._lastBoundary())])},m.prototype._generateBoundary=function(){for(var e="--------------------------",t=0;t<24;t++)e+=Math.floor(10*Math.random()).toString(16);this._boundary=e},m.prototype.getLengthSync=function(){var e=this._overheadLength+this._valueLength;return this._streams.length&&(e+=this._lastBoundary().length),this.hasKnownLength()||this._error(Error("Cannot calculate proper length in synchronous way.")),e},m.prototype.hasKnownLength=function(){var e=!0;return this._valuesToMeasure.length&&(e=!1),e},m.prototype.getLength=function(e){var t=this._overheadLength+this._valueLength;if(this._streams.length&&(t+=this._lastBoundary().length),!this._valuesToMeasure.length){process.nextTick(e.bind(this,null,t));return}p.parallel(this._valuesToMeasure,this._lengthRetriever,function(i,n){if(i){e(i);return}n.forEach(function(e){t+=e}),e(null,t)})},m.prototype.submit=function(e,t){var i,n,s={method:"post"};return"string"==typeof e?n=h({port:(e=l(e)).port,path:e.pathname,host:e.hostname,protocol:e.protocol},s):(n=h(e,s)).port||(n.port="https:"==n.protocol?443:80),n.headers=this.getHeaders(e.headers),i="https:"==n.protocol?o.request(n):a.request(n),this.getLength((function(e,n){if(e&&"Unknown stream"!==e){this._error(e);return}if(n&&i.setHeader("Content-Length",n),this.pipe(i),t){var s,r=function(e,n){return i.removeListener("error",r),i.removeListener("response",s),t.call(this,e,n)};s=r.bind(this,null),i.on("error",r),i.on("response",s)}}).bind(this)),i},m.prototype._error=function(e){this.error||(this.error=e,this.pause(),this.emit("error",e))},m.prototype.toString=function(){return"[object FormData]"}},6578:e=>{e.exports=function(e,t){return Object.keys(t).forEach(function(i){e[i]=e[i]||t[i]}),e}},53285:e=>{"use strict";e.exports=(e,t=process.argv)=>{let i=e.startsWith("-")?"":1===e.length?"-":"--",n=t.indexOf(i+e),s=t.indexOf("--");return -1!==n&&(-1===s||n<s)}},73512:(e,t,i)=>{"use strict";e.exports=i(13154)},46866:(e,t,i)=>{e.exports=i(40572)},70045:(e,t,i)=>{"use strict";var n=i(46866),s=i(71017).extname,r=/^\s*([^;\s]*)(?:;|\s|$)/,a=/^text\//i;function o(e){if(!e||"string"!=typeof e)return!1;var t=r.exec(e),i=t&&n[t[1].toLowerCase()];return i&&i.charset?i.charset:!!(t&&a.test(t[1]))&&"UTF-8"}t.charset=o,t.charsets={lookup:o},t.contentType=function(e){if(!e||"string"!=typeof e)return!1;var i=-1===e.indexOf("/")?t.lookup(e):e;if(!i)return!1;if(-1===i.indexOf("charset")){var n=t.charset(i);n&&(i+="; charset="+n.toLowerCase())}return i},t.extension=function(e){if(!e||"string"!=typeof e)return!1;var i=r.exec(e),n=i&&t.extensions[i[1].toLowerCase()];return!!n&&!!n.length&&n[0]},t.extensions=Object.create(null),t.lookup=function(e){if(!e||"string"!=typeof e)return!1;var i=s("x."+e).toLowerCase().substr(1);return!!i&&(t.types[i]||!1)},t.types=Object.create(null),function(e,t){var i=["nginx","apache",void 0,"iana"];Object.keys(n).forEach(function(s){var r=n[s],a=r.extensions;if(a&&a.length){e[s]=a;for(var o=0;o<a.length;o++){var l=a[o];if(t[l]){var c=i.indexOf(n[t[l]].source),d=i.indexOf(r.source);if("application/octet-stream"!==t[l]&&(c>d||c===d&&"application/"===t[l].substr(0,12)))continue}t[l]=s}}})}(t.extensions,t.types)},87914:e=>{function t(e,t,i,n){return Math.round(e/i)+" "+n+(t>=1.5*i?"s":"")}e.exports=function(e,i){i=i||{};var n,s,r=typeof e;if("string"===r&&e.length>0)return function(e){if(!((e=String(e)).length>100)){var t=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(t){var i=parseFloat(t[1]);switch((t[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*i;case"weeks":case"week":case"w":return 6048e5*i;case"days":case"day":case"d":return 864e5*i;case"hours":case"hour":case"hrs":case"hr":case"h":return 36e5*i;case"minutes":case"minute":case"mins":case"min":case"m":return 6e4*i;case"seconds":case"second":case"secs":case"sec":case"s":return 1e3*i;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return i;default:return}}}}(e);if("number"===r&&isFinite(e))return i.long?(n=Math.abs(e))>=864e5?t(e,n,864e5,"day"):n>=36e5?t(e,n,36e5,"hour"):n>=6e4?t(e,n,6e4,"minute"):n>=1e3?t(e,n,1e3,"second"):e+" ms":(s=Math.abs(e))>=864e5?Math.round(e/864e5)+"d":s>=36e5?Math.round(e/36e5)+"h":s>=6e4?Math.round(e/6e4)+"m":s>=1e3?Math.round(e/1e3)+"s":e+"ms";throw Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},46226:(e,t,i)=>{"use strict";i.d(t,{default:()=>s.a});var n=i(69029),s=i.n(n)},90434:(e,t,i)=>{"use strict";i.d(t,{default:()=>s.a});var n=i(79404),s=i.n(n)},53416:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"addLocale",{enumerable:!0,get:function(){return n}}),i(23658);let n=function(e){for(var t=arguments.length,i=Array(t>1?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];return e};("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},39683:(e,t,i)=>{"use strict";function n(e,t,i,n){return!1}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"getDomainLocale",{enumerable:!0,get:function(){return n}}),i(23658),("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},92481:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"Image",{enumerable:!0,get:function(){return y}});let n=i(91174),s=i(58374),r=i(10326),a=s._(i(17577)),o=n._(i(60962)),l=n._(i(60815)),c=i(23078),d=i(35248),u=i(31206);i(576);let p=i(50131),h=n._(i(86820)),m={deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[16,32,48,64,96,128,256,384],path:"/_next/image",loader:"default",dangerouslyAllowSVG:!1,unoptimized:!1};function f(e,t,i,n,s,r,a){let o=null==e?void 0:e.src;e&&e["data-loaded-src"]!==o&&(e["data-loaded-src"]=o,("decode"in e?e.decode():Promise.resolve()).catch(()=>{}).then(()=>{if(e.parentElement&&e.isConnected){if("empty"!==t&&s(!0),null==i?void 0:i.current){let t=new Event("load");Object.defineProperty(t,"target",{writable:!1,value:e});let n=!1,s=!1;i.current({...t,nativeEvent:t,currentTarget:e,target:e,isDefaultPrevented:()=>n,isPropagationStopped:()=>s,persist:()=>{},preventDefault:()=>{n=!0,t.preventDefault()},stopPropagation:()=>{s=!0,t.stopPropagation()}})}(null==n?void 0:n.current)&&n.current(e)}}))}function g(e){return a.use?{fetchPriority:e}:{fetchpriority:e}}globalThis.__NEXT_IMAGE_IMPORTED=!0;let v=(0,a.forwardRef)((e,t)=>{let{src:i,srcSet:n,sizes:s,height:o,width:l,decoding:c,className:d,style:u,fetchPriority:p,placeholder:h,loading:m,unoptimized:v,fill:b,onLoadRef:y,onLoadingCompleteRef:x,setBlurComplete:_,setShowAltText:w,sizesInput:S,onLoad:k,onError:E,...T}=e;return(0,r.jsx)("img",{...T,...g(p),loading:m,width:l,height:o,decoding:c,"data-nimg":b?"fill":"1",className:d,style:u,sizes:s,srcSet:n,src:i,ref:(0,a.useCallback)(e=>{t&&("function"==typeof t?t(e):"object"==typeof t&&(t.current=e)),e&&(E&&(e.src=e.src),e.complete&&f(e,h,y,x,_,v,S))},[i,h,y,x,_,E,v,S,t]),onLoad:e=>{f(e.currentTarget,h,y,x,_,v,S)},onError:e=>{w(!0),"empty"!==h&&_(!0),E&&E(e)}})});function b(e){let{isAppRouter:t,imgAttributes:i}=e,n={as:"image",imageSrcSet:i.srcSet,imageSizes:i.sizes,crossOrigin:i.crossOrigin,referrerPolicy:i.referrerPolicy,...g(i.fetchPriority)};return t&&o.default.preload?(o.default.preload(i.src,n),null):(0,r.jsx)(l.default,{children:(0,r.jsx)("link",{rel:"preload",href:i.srcSet?void 0:i.src,...n},"__nimg-"+i.src+i.srcSet+i.sizes)})}let y=(0,a.forwardRef)((e,t)=>{let i=(0,a.useContext)(p.RouterContext),n=(0,a.useContext)(u.ImageConfigContext),s=(0,a.useMemo)(()=>{let e=m||n||d.imageConfigDefault,t=[...e.deviceSizes,...e.imageSizes].sort((e,t)=>e-t),i=e.deviceSizes.sort((e,t)=>e-t);return{...e,allSizes:t,deviceSizes:i}},[n]),{onLoad:o,onLoadingComplete:l}=e,f=(0,a.useRef)(o);(0,a.useEffect)(()=>{f.current=o},[o]);let g=(0,a.useRef)(l);(0,a.useEffect)(()=>{g.current=l},[l]);let[y,x]=(0,a.useState)(!1),[_,w]=(0,a.useState)(!1),{props:S,meta:k}=(0,c.getImgProps)(e,{defaultLoader:h.default,imgConf:s,blurComplete:y,showAltText:_});return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(v,{...S,unoptimized:k.unoptimized,placeholder:k.placeholder,fill:k.fill,onLoadRef:f,onLoadingCompleteRef:g,setBlurComplete:x,setShowAltText:w,sizesInput:e.sizes,ref:t}),k.priority?(0,r.jsx)(b,{isAppRouter:!i,imgAttributes:S}):null]})});("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},79404:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return b}});let n=i(91174),s=i(10326),r=n._(i(17577)),a=i(25619),o=i(60944),l=i(43071),c=i(51348),d=i(53416),u=i(50131),p=i(52413),h=i(49408),m=i(39683),f=i(3486),g=i(57767);function v(e){return"string"==typeof e?e:(0,l.formatUrl)(e)}let b=r.default.forwardRef(function(e,t){let i,n;let{href:l,as:b,children:y,prefetch:x=null,passHref:_,replace:w,shallow:S,scroll:k,locale:E,onClick:T,onMouseEnter:C,onTouchStart:R,legacyBehavior:O=!1,...P}=e;i=y,O&&("string"==typeof i||"number"==typeof i)&&(i=(0,s.jsx)("a",{children:i}));let j=r.default.useContext(u.RouterContext),I=r.default.useContext(p.AppRouterContext),N=null!=j?j:I,D=!j,A=!1!==x,L=null===x?g.PrefetchKind.AUTO:g.PrefetchKind.FULL,{href:M,as:U}=r.default.useMemo(()=>{if(!j){let e=v(l);return{href:e,as:b?v(b):e}}let[e,t]=(0,a.resolveHref)(j,l,!0);return{href:e,as:b?(0,a.resolveHref)(j,b):t||e}},[j,l,b]),F=r.default.useRef(M),B=r.default.useRef(U);O&&(n=r.default.Children.only(i));let $=O?n&&"object"==typeof n&&n.ref:t,[q,V,W]=(0,h.useIntersection)({rootMargin:"200px"}),z=r.default.useCallback(e=>{(B.current!==U||F.current!==M)&&(W(),B.current=U,F.current=M),q(e),$&&("function"==typeof $?$(e):"object"==typeof $&&($.current=e))},[U,$,M,W,q]);r.default.useEffect(()=>{},[U,M,V,E,A,null==j?void 0:j.locale,N,D,L]);let H={ref:z,onClick(e){O||"function"!=typeof T||T(e),O&&n.props&&"function"==typeof n.props.onClick&&n.props.onClick(e),N&&!e.defaultPrevented&&function(e,t,i,n,s,a,l,c,d){let{nodeName:u}=e.currentTarget;if("A"===u.toUpperCase()&&(function(e){let t=e.currentTarget.getAttribute("target");return t&&"_self"!==t||e.metaKey||e.ctrlKey||e.shiftKey||e.altKey||e.nativeEvent&&2===e.nativeEvent.which}(e)||!d&&!(0,o.isLocalURL)(i)))return;e.preventDefault();let p=()=>{let e=null==l||l;"beforePopState"in t?t[s?"replace":"push"](i,n,{shallow:a,locale:c,scroll:e}):t[s?"replace":"push"](n||i,{scroll:e})};d?r.default.startTransition(p):p()}(e,N,M,U,w,S,k,E,D)},onMouseEnter(e){O||"function"!=typeof C||C(e),O&&n.props&&"function"==typeof n.props.onMouseEnter&&n.props.onMouseEnter(e)},onTouchStart:function(e){O||"function"!=typeof R||R(e),O&&n.props&&"function"==typeof n.props.onTouchStart&&n.props.onTouchStart(e)}};if((0,c.isAbsoluteUrl)(U))H.href=U;else if(!O||_||"a"===n.type&&!("href"in n.props)){let e=void 0!==E?E:null==j?void 0:j.locale,t=(null==j?void 0:j.isLocaleDomain)&&(0,m.getDomainLocale)(U,e,null==j?void 0:j.locales,null==j?void 0:j.domainLocales);H.href=t||(0,f.addBasePath)((0,d.addLocale)(U,e,null==j?void 0:j.defaultLocale))}return O?r.default.cloneElement(n,H):(0,s.jsx)("a",{...P,...H,children:i})});("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},25619:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"resolveHref",{enumerable:!0,get:function(){return u}});let n=i(72149),s=i(43071),r=i(20757),a=i(51348),o=i(23658),l=i(60944),c=i(94903),d=i(81394);function u(e,t,i){let u;let p="string"==typeof t?t:(0,s.formatWithValidation)(t),h=p.match(/^[a-zA-Z]{1,}:\/\//),m=h?p.slice(h[0].length):p;if((m.split("?",1)[0]||"").match(/(\/\/|\\)/)){console.error("Invalid href '"+p+"' passed to next/router in page: '"+e.pathname+"'. Repeated forward-slashes (//) or backslashes \\ are not valid in the href.");let t=(0,a.normalizeRepeatedSlashes)(m);p=(h?h[0]:"")+t}if(!(0,l.isLocalURL)(p))return i?[p]:p;try{u=new URL(p.startsWith("#")?e.asPath:e.pathname,"http://n")}catch(e){u=new URL("/","http://n")}try{let e=new URL(p,u);e.pathname=(0,o.normalizePathTrailingSlash)(e.pathname);let t="";if((0,c.isDynamicRoute)(e.pathname)&&e.searchParams&&i){let i=(0,n.searchParamsToUrlQuery)(e.searchParams),{result:a,params:o}=(0,d.interpolateAs)(e.pathname,e.pathname,i);a&&(t=(0,s.formatWithValidation)({pathname:a,hash:e.hash,query:(0,r.omit)(i,o)}))}let a=e.origin===u.origin?e.href.slice(e.origin.length):e.href;return i?[a,t||a]:a}catch(e){return i?[p]:p}}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},49408:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"useIntersection",{enumerable:!0,get:function(){return l}});let n=i(17577),s=i(10956),r="function"==typeof IntersectionObserver,a=new Map,o=[];function l(e){let{rootRef:t,rootMargin:i,disabled:l}=e,c=l||!r,[d,u]=(0,n.useState)(!1),p=(0,n.useRef)(null),h=(0,n.useCallback)(e=>{p.current=e},[]);return(0,n.useEffect)(()=>{if(r){if(c||d)return;let e=p.current;if(e&&e.tagName)return function(e,t,i){let{id:n,observer:s,elements:r}=function(e){let t;let i={root:e.root||null,margin:e.rootMargin||""},n=o.find(e=>e.root===i.root&&e.margin===i.margin);if(n&&(t=a.get(n)))return t;let s=new Map;return t={id:i,observer:new IntersectionObserver(e=>{e.forEach(e=>{let t=s.get(e.target),i=e.isIntersecting||e.intersectionRatio>0;t&&i&&t(i)})},e),elements:s},o.push(i),a.set(i,t),t}(i);return r.set(e,t),s.observe(e),function(){if(r.delete(e),s.unobserve(e),0===r.size){s.disconnect(),a.delete(n);let e=o.findIndex(e=>e.root===n.root&&e.margin===n.margin);e>-1&&o.splice(e,1)}}}(e,e=>e&&u(e),{root:null==t?void 0:t.current,rootMargin:i})}else if(!d){let e=(0,s.requestIdleCallback)(()=>u(!0));return()=>(0,s.cancelIdleCallback)(e)}},[c,i,t,d,p.current]),[h,d,(0,n.useCallback)(()=>{u(!1)},[])]}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},23484:(e,t,i)=>{"use strict";e.exports=i(81616).vendored.contexts.AmpContext},31206:(e,t,i)=>{"use strict";e.exports=i(81616).vendored.contexts.ImageConfigContext},98710:(e,t)=>{"use strict";function i(e){let{ampFirst:t=!1,hybrid:i=!1,hasQuery:n=!1}=void 0===e?{}:e;return t||i&&n}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"isInAmpMode",{enumerable:!0,get:function(){return i}})},2451:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"escapeStringRegexp",{enumerable:!0,get:function(){return s}});let i=/[|\\{}()[\]^$+*?.-]/,n=/[|\\{}()[\]^$+*?.-]/g;function s(e){return i.test(e)?e.replace(n,"\\$&"):e}},23078:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"getImgProps",{enumerable:!0,get:function(){return o}}),i(576);let n=i(20380),s=i(35248);function r(e){return void 0!==e.default}function a(e){return void 0===e?e:"number"==typeof e?Number.isFinite(e)?e:NaN:"string"==typeof e&&/^[0-9]+$/.test(e)?parseInt(e,10):NaN}function o(e,t){var i;let o,l,c,{src:d,sizes:u,unoptimized:p=!1,priority:h=!1,loading:m,className:f,quality:g,width:v,height:b,fill:y=!1,style:x,overrideSrc:_,onLoad:w,onLoadingComplete:S,placeholder:k="empty",blurDataURL:E,fetchPriority:T,layout:C,objectFit:R,objectPosition:O,lazyBoundary:P,lazyRoot:j,...I}=e,{imgConf:N,showAltText:D,blurComplete:A,defaultLoader:L}=t,M=N||s.imageConfigDefault;if("allSizes"in M)o=M;else{let e=[...M.deviceSizes,...M.imageSizes].sort((e,t)=>e-t),t=M.deviceSizes.sort((e,t)=>e-t);o={...M,allSizes:e,deviceSizes:t}}if(void 0===L)throw Error("images.loaderFile detected but the file is missing default export.\nRead more: https://nextjs.org/docs/messages/invalid-images-config");let U=I.loader||L;delete I.loader,delete I.srcSet;let F="__next_img_default"in U;if(F){if("custom"===o.loader)throw Error('Image with src "'+d+'" is missing "loader" prop.\nRead more: https://nextjs.org/docs/messages/next-image-missing-loader')}else{let e=U;U=t=>{let{config:i,...n}=t;return e(n)}}if(C){"fill"===C&&(y=!0);let e={intrinsic:{maxWidth:"100%",height:"auto"},responsive:{width:"100%",height:"auto"}}[C];e&&(x={...x,...e});let t={responsive:"100vw",fill:"100vw"}[C];t&&!u&&(u=t)}let B="",$=a(v),q=a(b);if("object"==typeof(i=d)&&(r(i)||void 0!==i.src)){let e=r(d)?d.default:d;if(!e.src)throw Error("An object should only be passed to the image component src parameter if it comes from a static image import. It must include src. Received "+JSON.stringify(e));if(!e.height||!e.width)throw Error("An object should only be passed to the image component src parameter if it comes from a static image import. It must include height and width. Received "+JSON.stringify(e));if(l=e.blurWidth,c=e.blurHeight,E=E||e.blurDataURL,B=e.src,!y){if($||q){if($&&!q){let t=$/e.width;q=Math.round(e.height*t)}else if(!$&&q){let t=q/e.height;$=Math.round(e.width*t)}}else $=e.width,q=e.height}}let V=!h&&("lazy"===m||void 0===m);(!(d="string"==typeof d?d:B)||d.startsWith("data:")||d.startsWith("blob:"))&&(p=!0,V=!1),o.unoptimized&&(p=!0),F&&d.endsWith(".svg")&&!o.dangerouslyAllowSVG&&(p=!0),h&&(T="high");let W=a(g),z=Object.assign(y?{position:"absolute",height:"100%",width:"100%",left:0,top:0,right:0,bottom:0,objectFit:R,objectPosition:O}:{},D?{}:{color:"transparent"},x),H=A||"empty"===k?null:"blur"===k?'url("data:image/svg+xml;charset=utf-8,'+(0,n.getImageBlurSvg)({widthInt:$,heightInt:q,blurWidth:l,blurHeight:c,blurDataURL:E||"",objectFit:z.objectFit})+'")':'url("'+k+'")',K=H?{backgroundSize:z.objectFit||"cover",backgroundPosition:z.objectPosition||"50% 50%",backgroundRepeat:"no-repeat",backgroundImage:H}:{},G=function(e){let{config:t,src:i,unoptimized:n,width:s,quality:r,sizes:a,loader:o}=e;if(n)return{src:i,srcSet:void 0,sizes:void 0};let{widths:l,kind:c}=function(e,t,i){let{deviceSizes:n,allSizes:s}=e;if(i){let e=/(^|\s)(1?\d?\d)vw/g,t=[];for(let n;n=e.exec(i);n)t.push(parseInt(n[2]));if(t.length){let e=.01*Math.min(...t);return{widths:s.filter(t=>t>=n[0]*e),kind:"w"}}return{widths:s,kind:"w"}}return"number"!=typeof t?{widths:n,kind:"w"}:{widths:[...new Set([t,2*t].map(e=>s.find(t=>t>=e)||s[s.length-1]))],kind:"x"}}(t,s,a),d=l.length-1;return{sizes:a||"w"!==c?a:"100vw",srcSet:l.map((e,n)=>o({config:t,src:i,quality:r,width:e})+" "+("w"===c?e:n+1)+c).join(", "),src:o({config:t,src:i,quality:r,width:l[d]})}}({config:o,src:d,unoptimized:p,width:$,quality:W,sizes:u,loader:U});return{props:{...I,loading:V?"lazy":m,fetchPriority:T,width:$,height:q,decoding:"async",className:f,style:{...z,...K},sizes:G.sizes,srcSet:G.srcSet,src:_||G.src},meta:{unoptimized:p,priority:h,placeholder:k,fill:y}}}},60815:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var i in t)Object.defineProperty(e,i,{enumerable:!0,get:t[i]})}(t,{default:function(){return f},defaultHead:function(){return u}});let n=i(91174),s=i(58374),r=i(10326),a=s._(i(17577)),o=n._(i(78003)),l=i(23484),c=i(81157),d=i(98710);function u(e){void 0===e&&(e=!1);let t=[(0,r.jsx)("meta",{charSet:"utf-8"})];return e||t.push((0,r.jsx)("meta",{name:"viewport",content:"width=device-width"})),t}function p(e,t){return"string"==typeof t||"number"==typeof t?e:t.type===a.default.Fragment?e.concat(a.default.Children.toArray(t.props.children).reduce((e,t)=>"string"==typeof t||"number"==typeof t?e:e.concat(t),[])):e.concat(t)}i(576);let h=["name","httpEquiv","charSet","itemProp"];function m(e,t){let{inAmpMode:i}=t;return e.reduce(p,[]).reverse().concat(u(i).reverse()).filter(function(){let e=new Set,t=new Set,i=new Set,n={};return s=>{let r=!0,a=!1;if(s.key&&"number"!=typeof s.key&&s.key.indexOf("$")>0){a=!0;let t=s.key.slice(s.key.indexOf("$")+1);e.has(t)?r=!1:e.add(t)}switch(s.type){case"title":case"base":t.has(s.type)?r=!1:t.add(s.type);break;case"meta":for(let e=0,t=h.length;e<t;e++){let t=h[e];if(s.props.hasOwnProperty(t)){if("charSet"===t)i.has(t)?r=!1:i.add(t);else{let e=s.props[t],i=n[t]||new Set;("name"!==t||!a)&&i.has(e)?r=!1:(i.add(e),n[t]=i)}}}}return r}}()).reverse().map((e,t)=>{let n=e.key||t;if(!i&&"link"===e.type&&e.props.href&&["https://fonts.googleapis.com/css","https://use.typekit.net/"].some(t=>e.props.href.startsWith(t))){let t={...e.props||{}};return t["data-href"]=t.href,t.href=void 0,t["data-optimized-fonts"]=!0,a.default.cloneElement(e,t)}return a.default.cloneElement(e,{key:n})})}let f=function(e){let{children:t}=e,i=(0,a.useContext)(l.AmpStateContext),n=(0,a.useContext)(c.HeadManagerContext);return(0,r.jsx)(o.default,{reduceComponentsToState:m,headManager:n,inAmpMode:(0,d.isInAmpMode)(i),children:t})};("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},20380:(e,t)=>{"use strict";function i(e){let{widthInt:t,heightInt:i,blurWidth:n,blurHeight:s,blurDataURL:r,objectFit:a}=e,o=n?40*n:t,l=s?40*s:i,c=o&&l?"viewBox='0 0 "+o+" "+l+"'":"";return"%3Csvg xmlns='http://www.w3.org/2000/svg' "+c+"%3E%3Cfilter id='b' color-interpolation-filters='sRGB'%3E%3CfeGaussianBlur stdDeviation='20'/%3E%3CfeColorMatrix values='1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 100 -1' result='s'/%3E%3CfeFlood x='0' y='0' width='100%25' height='100%25'/%3E%3CfeComposite operator='out' in='s'/%3E%3CfeComposite in2='SourceGraphic'/%3E%3CfeGaussianBlur stdDeviation='20'/%3E%3C/filter%3E%3Cimage width='100%25' height='100%25' x='0' y='0' preserveAspectRatio='"+(c?"none":"contain"===a?"xMidYMid":"cover"===a?"xMidYMid slice":"none")+"' style='filter: url(%23b);' href='"+r+"'/%3E%3C/svg%3E"}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"getImageBlurSvg",{enumerable:!0,get:function(){return i}})},35248:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var i in t)Object.defineProperty(e,i,{enumerable:!0,get:t[i]})}(t,{VALID_LOADERS:function(){return i},imageConfigDefault:function(){return n}});let i=["default","imgix","cloudinary","akamai","custom"],n={deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[16,32,48,64,96,128,256,384],path:"/_next/image",loader:"default",loaderFile:"",domains:[],disableStaticImages:!1,minimumCacheTTL:60,formats:["image/webp"],dangerouslyAllowSVG:!1,contentSecurityPolicy:"script-src 'none'; frame-src 'none'; sandbox;",contentDispositionType:"inline",remotePatterns:[],unoptimized:!1}},69029:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var i in t)Object.defineProperty(e,i,{enumerable:!0,get:t[i]})}(t,{default:function(){return l},getImageProps:function(){return o}});let n=i(91174),s=i(23078),r=i(92481),a=n._(i(86820));function o(e){let{props:t}=(0,s.getImgProps)(e,{defaultLoader:a.default,imgConf:{deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[16,32,48,64,96,128,256,384],path:"/_next/image",loader:"default",dangerouslyAllowSVG:!1,unoptimized:!1}});for(let[e,i]of Object.entries(t))void 0===i&&delete t[e];return{props:t}}let l=r.Image},86820:(e,t)=>{"use strict";function i(e){let{config:t,src:i,width:n,quality:s}=e;return t.path+"?url="+encodeURIComponent(i)+"&w="+n+"&q="+(s||75)}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return n}}),i.__next_img_default=!0;let n=i},43071:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var i in t)Object.defineProperty(e,i,{enumerable:!0,get:t[i]})}(t,{formatUrl:function(){return r},formatWithValidation:function(){return o},urlObjectKeys:function(){return a}});let n=i(58374)._(i(72149)),s=/https?|ftp|gopher|file/;function r(e){let{auth:t,hostname:i}=e,r=e.protocol||"",a=e.pathname||"",o=e.hash||"",l=e.query||"",c=!1;t=t?encodeURIComponent(t).replace(/%3A/i,":")+"@":"",e.host?c=t+e.host:i&&(c=t+(~i.indexOf(":")?"["+i+"]":i),e.port&&(c+=":"+e.port)),l&&"object"==typeof l&&(l=String(n.urlQueryToSearchParams(l)));let d=e.search||l&&"?"+l||"";return r&&!r.endsWith(":")&&(r+=":"),e.slashes||(!r||s.test(r))&&!1!==c?(c="//"+(c||""),a&&"/"!==a[0]&&(a="/"+a)):c||(c=""),o&&"#"!==o[0]&&(o="#"+o),d&&"?"!==d[0]&&(d="?"+d),""+r+c+(a=a.replace(/[?#]/g,encodeURIComponent))+(d=d.replace("#","%23"))+o}let a=["auth","hash","host","hostname","href","path","pathname","port","protocol","query","search","slashes"];function o(e){return r(e)}},94903:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var i in t)Object.defineProperty(e,i,{enumerable:!0,get:t[i]})}(t,{getSortedRoutes:function(){return n.getSortedRoutes},isDynamicRoute:function(){return s.isDynamicRoute}});let n=i(44712),s=i(45541)},81394:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"interpolateAs",{enumerable:!0,get:function(){return r}});let n=i(9966),s=i(37249);function r(e,t,i){let r="",a=(0,s.getRouteRegex)(e),o=a.groups,l=(t!==e?(0,n.getRouteMatcher)(a)(t):"")||i;r=e;let c=Object.keys(o);return c.every(e=>{let t=l[e]||"",{repeat:i,optional:n}=o[e],s="["+(i?"...":"")+e+"]";return n&&(s=(t?"":"/")+"["+s+"]"),i&&!Array.isArray(t)&&(t=[t]),(n||e in l)&&(r=r.replace(s,i?t.map(e=>encodeURIComponent(e)).join("/"):encodeURIComponent(t))||"/")})||(r=""),{params:c,result:r}}},45541:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"isDynamicRoute",{enumerable:!0,get:function(){return r}});let n=i(87356),s=/\/\[[^/]+?\](?=\/|$)/;function r(e){return(0,n.isInterceptionRouteAppPath)(e)&&(e=(0,n.extractInterceptionRouteInformation)(e).interceptedRoute),s.test(e)}},60944:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"isLocalURL",{enumerable:!0,get:function(){return r}});let n=i(51348),s=i(37929);function r(e){if(!(0,n.isAbsoluteUrl)(e))return!0;try{let t=(0,n.getLocationOrigin)(),i=new URL(e,t);return i.origin===t&&(0,s.hasBasePath)(i.pathname)}catch(e){return!1}}},20757:(e,t)=>{"use strict";function i(e,t){let i={};return Object.keys(e).forEach(n=>{t.includes(n)||(i[n]=e[n])}),i}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"omit",{enumerable:!0,get:function(){return i}})},72149:(e,t)=>{"use strict";function i(e){let t={};return e.forEach((e,i)=>{void 0===t[i]?t[i]=e:Array.isArray(t[i])?t[i].push(e):t[i]=[t[i],e]}),t}function n(e){return"string"!=typeof e&&("number"!=typeof e||isNaN(e))&&"boolean"!=typeof e?"":String(e)}function s(e){let t=new URLSearchParams;return Object.entries(e).forEach(e=>{let[i,s]=e;Array.isArray(s)?s.forEach(e=>t.append(i,n(e))):t.set(i,n(s))}),t}function r(e){for(var t=arguments.length,i=Array(t>1?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];return i.forEach(t=>{Array.from(t.keys()).forEach(t=>e.delete(t)),t.forEach((t,i)=>e.append(i,t))}),e}Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var i in t)Object.defineProperty(e,i,{enumerable:!0,get:t[i]})}(t,{assign:function(){return r},searchParamsToUrlQuery:function(){return i},urlQueryToSearchParams:function(){return s}})},9966:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"getRouteMatcher",{enumerable:!0,get:function(){return s}});let n=i(51348);function s(e){let{re:t,groups:i}=e;return e=>{let s=t.exec(e);if(!s)return!1;let r=e=>{try{return decodeURIComponent(e)}catch(e){throw new n.DecodeError("failed to decode param")}},a={};return Object.keys(i).forEach(e=>{let t=i[e],n=s[t.pos];void 0!==n&&(a[e]=~n.indexOf("/")?n.split("/").map(e=>r(e)):t.repeat?[r(n)]:r(n))}),a}}},37249:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var i in t)Object.defineProperty(e,i,{enumerable:!0,get:t[i]})}(t,{getNamedMiddlewareRegex:function(){return p},getNamedRouteRegex:function(){return u},getRouteRegex:function(){return l}});let n=i(87356),s=i(2451),r=i(83236);function a(e){let t=e.startsWith("[")&&e.endsWith("]");t&&(e=e.slice(1,-1));let i=e.startsWith("...");return i&&(e=e.slice(3)),{key:e,repeat:i,optional:t}}function o(e){let t=(0,r.removeTrailingSlash)(e).slice(1).split("/"),i={},o=1;return{parameterizedRoute:t.map(e=>{let t=n.INTERCEPTION_ROUTE_MARKERS.find(t=>e.startsWith(t)),r=e.match(/\[((?:\[.*\])|.+)\]/);if(t&&r){let{key:e,optional:n,repeat:l}=a(r[1]);return i[e]={pos:o++,repeat:l,optional:n},"/"+(0,s.escapeStringRegexp)(t)+"([^/]+?)"}if(!r)return"/"+(0,s.escapeStringRegexp)(e);{let{key:e,repeat:t,optional:n}=a(r[1]);return i[e]={pos:o++,repeat:t,optional:n},t?n?"(?:/(.+?))?":"/(.+?)":"/([^/]+?)"}}).join(""),groups:i}}function l(e){let{parameterizedRoute:t,groups:i}=o(e);return{re:RegExp("^"+t+"(?:/)?$"),groups:i}}function c(e){let{interceptionMarker:t,getSafeRouteKey:i,segment:n,routeKeys:r,keyPrefix:o}=e,{key:l,optional:c,repeat:d}=a(n),u=l.replace(/\W/g,"");o&&(u=""+o+u);let p=!1;(0===u.length||u.length>30)&&(p=!0),isNaN(parseInt(u.slice(0,1)))||(p=!0),p&&(u=i()),o?r[u]=""+o+l:r[u]=l;let h=t?(0,s.escapeStringRegexp)(t):"";return d?c?"(?:/"+h+"(?<"+u+">.+?))?":"/"+h+"(?<"+u+">.+?)":"/"+h+"(?<"+u+">[^/]+?)"}function d(e,t){let i;let a=(0,r.removeTrailingSlash)(e).slice(1).split("/"),o=(i=0,()=>{let e="",t=++i;for(;t>0;)e+=String.fromCharCode(97+(t-1)%26),t=Math.floor((t-1)/26);return e}),l={};return{namedParameterizedRoute:a.map(e=>{let i=n.INTERCEPTION_ROUTE_MARKERS.some(t=>e.startsWith(t)),r=e.match(/\[((?:\[.*\])|.+)\]/);if(i&&r){let[i]=e.split(r[0]);return c({getSafeRouteKey:o,interceptionMarker:i,segment:r[1],routeKeys:l,keyPrefix:t?"nxtI":void 0})}return r?c({getSafeRouteKey:o,segment:r[1],routeKeys:l,keyPrefix:t?"nxtP":void 0}):"/"+(0,s.escapeStringRegexp)(e)}).join(""),routeKeys:l}}function u(e,t){let i=d(e,t);return{...l(e),namedRegex:"^"+i.namedParameterizedRoute+"(?:/)?$",routeKeys:i.routeKeys}}function p(e,t){let{parameterizedRoute:i}=o(e),{catchAll:n=!0}=t;if("/"===i)return{namedRegex:"^/"+(n?".*":"")+"$"};let{namedParameterizedRoute:s}=d(e,!1);return{namedRegex:"^"+s+(n?"(?:(/.*)?)":"")+"$"}}},44712:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"getSortedRoutes",{enumerable:!0,get:function(){return n}});class i{insert(e){this._insert(e.split("/").filter(Boolean),[],!1)}smoosh(){return this._smoosh()}_smoosh(e){void 0===e&&(e="/");let t=[...this.children.keys()].sort();null!==this.slugName&&t.splice(t.indexOf("[]"),1),null!==this.restSlugName&&t.splice(t.indexOf("[...]"),1),null!==this.optionalRestSlugName&&t.splice(t.indexOf("[[...]]"),1);let i=t.map(t=>this.children.get(t)._smoosh(""+e+t+"/")).reduce((e,t)=>[...e,...t],[]);if(null!==this.slugName&&i.push(...this.children.get("[]")._smoosh(e+"["+this.slugName+"]/")),!this.placeholder){let t="/"===e?"/":e.slice(0,-1);if(null!=this.optionalRestSlugName)throw Error('You cannot define a route with the same specificity as a optional catch-all route ("'+t+'" and "'+t+"[[..."+this.optionalRestSlugName+']]").');i.unshift(t)}return null!==this.restSlugName&&i.push(...this.children.get("[...]")._smoosh(e+"[..."+this.restSlugName+"]/")),null!==this.optionalRestSlugName&&i.push(...this.children.get("[[...]]")._smoosh(e+"[[..."+this.optionalRestSlugName+"]]/")),i}_insert(e,t,n){if(0===e.length){this.placeholder=!1;return}if(n)throw Error("Catch-all must be the last part of the URL.");let s=e[0];if(s.startsWith("[")&&s.endsWith("]")){let i=s.slice(1,-1),a=!1;if(i.startsWith("[")&&i.endsWith("]")&&(i=i.slice(1,-1),a=!0),i.startsWith("...")&&(i=i.substring(3),n=!0),i.startsWith("[")||i.endsWith("]"))throw Error("Segment names may not start or end with extra brackets ('"+i+"').");if(i.startsWith("."))throw Error("Segment names may not start with erroneous periods ('"+i+"').");function r(e,i){if(null!==e&&e!==i)throw Error("You cannot use different slug names for the same dynamic path ('"+e+"' !== '"+i+"').");t.forEach(e=>{if(e===i)throw Error('You cannot have the same slug name "'+i+'" repeat within a single dynamic path');if(e.replace(/\W/g,"")===s.replace(/\W/g,""))throw Error('You cannot have the slug names "'+e+'" and "'+i+'" differ only by non-word symbols within a single dynamic path')}),t.push(i)}if(n){if(a){if(null!=this.restSlugName)throw Error('You cannot use both an required and optional catch-all route at the same level ("[...'+this.restSlugName+']" and "'+e[0]+'" ).');r(this.optionalRestSlugName,i),this.optionalRestSlugName=i,s="[[...]]"}else{if(null!=this.optionalRestSlugName)throw Error('You cannot use both an optional and required catch-all route at the same level ("[[...'+this.optionalRestSlugName+']]" and "'+e[0]+'").');r(this.restSlugName,i),this.restSlugName=i,s="[...]"}}else{if(a)throw Error('Optional route parameters are not yet supported ("'+e[0]+'").');r(this.slugName,i),this.slugName=i,s="[]"}}this.children.has(s)||this.children.set(s,new i),this.children.get(s)._insert(e.slice(1),t,n)}constructor(){this.placeholder=!0,this.children=new Map,this.slugName=null,this.restSlugName=null,this.optionalRestSlugName=null}}function n(e){let t=new i;return e.forEach(e=>t.insert(e)),t.smoosh()}},78003:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return a}});let n=i(17577),s=()=>{},r=()=>{};function a(e){var t;let{headManager:i,reduceComponentsToState:a}=e;function o(){if(i&&i.mountedInstances){let t=n.Children.toArray(Array.from(i.mountedInstances).filter(Boolean));i.updateHead(a(t,e))}}return null==i||null==(t=i.mountedInstances)||t.add(e.children),o(),s(()=>{var t;return null==i||null==(t=i.mountedInstances)||t.add(e.children),()=>{var t;null==i||null==(t=i.mountedInstances)||t.delete(e.children)}}),s(()=>(i&&(i._pendingUpdate=o),()=>{i&&(i._pendingUpdate=o)})),r(()=>(i&&i._pendingUpdate&&(i._pendingUpdate(),i._pendingUpdate=null),()=>{i&&i._pendingUpdate&&(i._pendingUpdate(),i._pendingUpdate=null)})),null}},51348:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var i in t)Object.defineProperty(e,i,{enumerable:!0,get:t[i]})}(t,{DecodeError:function(){return m},MiddlewareNotFoundError:function(){return b},MissingStaticPage:function(){return v},NormalizeError:function(){return f},PageNotFoundError:function(){return g},SP:function(){return p},ST:function(){return h},WEB_VITALS:function(){return i},execOnce:function(){return n},getDisplayName:function(){return l},getLocationOrigin:function(){return a},getURL:function(){return o},isAbsoluteUrl:function(){return r},isResSent:function(){return c},loadGetInitialProps:function(){return u},normalizeRepeatedSlashes:function(){return d},stringifyError:function(){return y}});let i=["CLS","FCP","FID","INP","LCP","TTFB"];function n(e){let t,i=!1;return function(){for(var n=arguments.length,s=Array(n),r=0;r<n;r++)s[r]=arguments[r];return i||(i=!0,t=e(...s)),t}}let s=/^[a-zA-Z][a-zA-Z\d+\-.]*?:/,r=e=>s.test(e);function a(){let{protocol:e,hostname:t,port:i}=window.location;return e+"//"+t+(i?":"+i:"")}function o(){let{href:e}=window.location,t=a();return e.substring(t.length)}function l(e){return"string"==typeof e?e:e.displayName||e.name||"Unknown"}function c(e){return e.finished||e.headersSent}function d(e){let t=e.split("?");return t[0].replace(/\\/g,"/").replace(/\/\/+/g,"/")+(t[1]?"?"+t.slice(1).join("?"):"")}async function u(e,t){let i=t.res||t.ctx&&t.ctx.res;if(!e.getInitialProps)return t.ctx&&t.Component?{pageProps:await u(t.Component,t.ctx)}:{};let n=await e.getInitialProps(t);if(i&&c(i))return n;if(!n)throw Error('"'+l(e)+'.getInitialProps()" should resolve to an object. But found "'+n+'" instead.');return n}let p="undefined"!=typeof performance,h=p&&["mark","measure","getEntriesByName"].every(e=>"function"==typeof performance[e]);class m extends Error{}class f extends Error{}class g extends Error{constructor(e){super(),this.code="ENOENT",this.name="PageNotFoundError",this.message="Cannot find module for page: "+e}}class v extends Error{constructor(e,t){super(),this.message="Failed to load static file for page: "+e+" "+t}}class b extends Error{constructor(){super(),this.code="ENOENT",this.message="Cannot find the middleware module"}}function y(e){return JSON.stringify({message:e.message,stack:e.stack})}},13304:(e,t,i)=>{"use strict";var n=i(57310).parse,s={ftp:21,gopher:70,http:80,https:443,ws:80,wss:443},r=String.prototype.endsWith||function(e){return e.length<=this.length&&-1!==this.indexOf(e,this.length-e.length)};function a(e){return process.env[e.toLowerCase()]||process.env[e.toUpperCase()]||""}t.j=function(e){var t,i,o,l="string"==typeof e?n(e):e||{},c=l.protocol,d=l.host,u=l.port;if("string"!=typeof d||!d||"string"!=typeof c||(c=c.split(":",1)[0],t=d=d.replace(/:\d*$/,""),i=u=parseInt(u)||s[c]||0,!(!(o=(a("npm_config_no_proxy")||a("no_proxy")).toLowerCase())||"*"!==o&&o.split(/[,\s]/).every(function(e){if(!e)return!0;var n=e.match(/^(.+):(\d+)$/),s=n?n[1]:e,a=n?parseInt(n[2]):0;return!!a&&a!==i||(/^[.*]/.test(s)?("*"===s.charAt(0)&&(s=s.slice(1)),!r.call(t,s)):t!==s)}))))return"";var p=a("npm_config_"+c+"_proxy")||a(c+"_proxy")||a("npm_config_proxy")||a("all_proxy");return p&&-1===p.indexOf("://")&&(p=c+"://"+p),p}},95011:(e,t,i)=>{"use strict";i.d(t,{Z:()=>z});var n,s,r=i(65826),a=i(17577),o="right-scroll-bar-position",l="width-before-scroll-bar";function c(e,t){return"function"==typeof e?e(t):e&&(e.current=t),e}var d="undefined"!=typeof window?a.useLayoutEffect:a.useEffect,u=new WeakMap;function p(e){return e}var h=function(e){void 0===e&&(e={});var t,i,n,s=(void 0===t&&(t=p),i=[],n=!1,{read:function(){if(n)throw Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return i.length?i[i.length-1]:null},useMedium:function(e){var s=t(e,n);return i.push(s),function(){i=i.filter(function(e){return e!==s})}},assignSyncMedium:function(e){for(n=!0;i.length;){var t=i;i=[],t.forEach(e)}i={push:function(t){return e(t)},filter:function(){return i}}},assignMedium:function(e){n=!0;var t=[];if(i.length){var s=i;i=[],s.forEach(e),t=i}var r=function(){var i=t;t=[],i.forEach(e)},a=function(){return Promise.resolve().then(r)};a(),i={push:function(e){t.push(e),a()},filter:function(e){return t=t.filter(e),i}}}});return s.options=(0,r.pi)({async:!0,ssr:!1},e),s}(),m=function(){},f=a.forwardRef(function(e,t){var i,n,s,o,l=a.useRef(null),p=a.useState({onScrollCapture:m,onWheelCapture:m,onTouchMoveCapture:m}),f=p[0],g=p[1],v=e.forwardProps,b=e.children,y=e.className,x=e.removeScrollBar,_=e.enabled,w=e.shards,S=e.sideCar,k=e.noIsolation,E=e.inert,T=e.allowPinchZoom,C=e.as,R=e.gapMode,O=(0,r._T)(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),P=(i=[l,t],n=function(e){return i.forEach(function(t){return c(t,e)})},(s=(0,a.useState)(function(){return{value:null,callback:n,facade:{get current(){return s.value},set current(value){var e=s.value;e!==value&&(s.value=value,s.callback(value,e))}}}})[0]).callback=n,o=s.facade,d(function(){var e=u.get(o);if(e){var t=new Set(e),n=new Set(i),s=o.current;t.forEach(function(e){n.has(e)||c(e,null)}),n.forEach(function(e){t.has(e)||c(e,s)})}u.set(o,i)},[i]),o),j=(0,r.pi)((0,r.pi)({},O),f);return a.createElement(a.Fragment,null,_&&a.createElement(S,{sideCar:h,removeScrollBar:x,shards:w,noIsolation:k,inert:E,setCallbacks:g,allowPinchZoom:!!T,lockRef:l,gapMode:R}),v?a.cloneElement(a.Children.only(b),(0,r.pi)((0,r.pi)({},j),{ref:P})):a.createElement(void 0===C?"div":C,(0,r.pi)({},j,{className:y,ref:P}),b))});f.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1},f.classNames={fullWidth:l,zeroRight:o};var g=function(e){var t=e.sideCar,i=(0,r._T)(e,["sideCar"]);if(!t)throw Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw Error("Sidecar medium not found");return a.createElement(n,(0,r.pi)({},i))};g.isSideCarExport=!0;var v=function(){var e=0,t=null;return{add:function(n){if(0==e&&(t=function(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=s||i.nc;return t&&e.setAttribute("nonce",t),e}())){var r,a;(r=t).styleSheet?r.styleSheet.cssText=n:r.appendChild(document.createTextNode(n)),a=t,(document.head||document.getElementsByTagName("head")[0]).appendChild(a)}e++},remove:function(){--e||!t||(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},b=function(){var e=v();return function(t,i){a.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&i])}},y=function(){var e=b();return function(t){return e(t.styles,t.dynamic),null}},x={left:0,top:0,right:0,gap:0},_=function(e){return parseInt(e||"",10)||0},w=function(e){var t=window.getComputedStyle(document.body),i=t["padding"===e?"paddingLeft":"marginLeft"],n=t["padding"===e?"paddingTop":"marginTop"],s=t["padding"===e?"paddingRight":"marginRight"];return[_(i),_(n),_(s)]},S=function(e){if(void 0===e&&(e="margin"),"undefined"==typeof window)return x;var t=w(e),i=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-i+t[2]-t[0])}},k=y(),E="data-scroll-locked",T=function(e,t,i,n){var s=e.left,r=e.top,a=e.right,c=e.gap;return void 0===i&&(i="margin"),"\n  .".concat("with-scroll-bars-hidden"," {\n   overflow: hidden ").concat(n,";\n   padding-right: ").concat(c,"px ").concat(n,";\n  }\n  body[").concat(E,"] {\n    overflow: hidden ").concat(n,";\n    overscroll-behavior: contain;\n    ").concat([t&&"position: relative ".concat(n,";"),"margin"===i&&"\n    padding-left: ".concat(s,"px;\n    padding-top: ").concat(r,"px;\n    padding-right: ").concat(a,"px;\n    margin-left:0;\n    margin-top:0;\n    margin-right: ").concat(c,"px ").concat(n,";\n    "),"padding"===i&&"padding-right: ".concat(c,"px ").concat(n,";")].filter(Boolean).join(""),"\n  }\n  \n  .").concat(o," {\n    right: ").concat(c,"px ").concat(n,";\n  }\n  \n  .").concat(l," {\n    margin-right: ").concat(c,"px ").concat(n,";\n  }\n  \n  .").concat(o," .").concat(o," {\n    right: 0 ").concat(n,";\n  }\n  \n  .").concat(l," .").concat(l," {\n    margin-right: 0 ").concat(n,";\n  }\n  \n  body[").concat(E,"] {\n    ").concat("--removed-body-scroll-bar-size",": ").concat(c,"px;\n  }\n")},C=function(){var e=parseInt(document.body.getAttribute(E)||"0",10);return isFinite(e)?e:0},R=function(){a.useEffect(function(){return document.body.setAttribute(E,(C()+1).toString()),function(){var e=C()-1;e<=0?document.body.removeAttribute(E):document.body.setAttribute(E,e.toString())}},[])},O=function(e){var t=e.noRelative,i=e.noImportant,n=e.gapMode,s=void 0===n?"margin":n;R();var r=a.useMemo(function(){return S(s)},[s]);return a.createElement(k,{styles:T(r,!t,s,i?"":"!important")})},P=!1;if("undefined"!=typeof window)try{var j=Object.defineProperty({},"passive",{get:function(){return P=!0,!0}});window.addEventListener("test",j,j),window.removeEventListener("test",j,j)}catch(e){P=!1}var I=!!P&&{passive:!1},N=function(e,t){var i=window.getComputedStyle(e);return"hidden"!==i[t]&&!(i.overflowY===i.overflowX&&"TEXTAREA"!==e.tagName&&"visible"===i[t])},D=function(e,t){var i=t.ownerDocument,n=t;do{if("undefined"!=typeof ShadowRoot&&n instanceof ShadowRoot&&(n=n.host),A(e,n)){var s=L(e,n);if(s[1]>s[2])return!0}n=n.parentNode}while(n&&n!==i.body);return!1},A=function(e,t){return"v"===e?N(t,"overflowY"):N(t,"overflowX")},L=function(e,t){return"v"===e?[t.scrollTop,t.scrollHeight,t.clientHeight]:[t.scrollLeft,t.scrollWidth,t.clientWidth]},M=function(e,t,i,n,s){var r,a=(r=window.getComputedStyle(t).direction,"h"===e&&"rtl"===r?-1:1),o=a*n,l=i.target,c=t.contains(l),d=!1,u=o>0,p=0,h=0;do{var m=L(e,l),f=m[0],g=m[1]-m[2]-a*f;(f||g)&&A(e,l)&&(p+=g,h+=f),l instanceof ShadowRoot?l=l.host:l=l.parentNode}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return u&&(s&&1>Math.abs(p)||!s&&o>p)?d=!0:!u&&(s&&1>Math.abs(h)||!s&&-o>h)&&(d=!0),d},U=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},F=function(e){return[e.deltaX,e.deltaY]},B=function(e){return e&&"current"in e?e.current:e},$=0,q=[];let V=(n=function(e){var t=a.useRef([]),i=a.useRef([0,0]),n=a.useRef(),s=a.useState($++)[0],o=a.useState(y)[0],l=a.useRef(e);a.useEffect(function(){l.current=e},[e]),a.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var t=(0,r.ev)([e.lockRef.current],(e.shards||[]).map(B),!0).filter(Boolean);return t.forEach(function(e){return e.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),t.forEach(function(e){return e.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var c=a.useCallback(function(e,t){if("touches"in e&&2===e.touches.length)return!l.current.allowPinchZoom;var s,r=U(e),a=i.current,o="deltaX"in e?e.deltaX:a[0]-r[0],c="deltaY"in e?e.deltaY:a[1]-r[1],d=e.target,u=Math.abs(o)>Math.abs(c)?"h":"v";if("touches"in e&&"h"===u&&"range"===d.type)return!1;var p=D(u,d);if(!p)return!0;if(p?s=u:(s="v"===u?"h":"v",p=D(u,d)),!p)return!1;if(!n.current&&"changedTouches"in e&&(o||c)&&(n.current=s),!s)return!0;var h=n.current||s;return M(h,t,e,"h"===h?o:c,!0)},[]),d=a.useCallback(function(e){if(q.length&&q[q.length-1]===o){var i="deltaY"in e?F(e):U(e),n=t.current.filter(function(t){var n;return t.name===e.type&&(t.target===e.target||e.target===t.shadowParent)&&(n=t.delta)[0]===i[0]&&n[1]===i[1]})[0];if(n&&n.should){e.cancelable&&e.preventDefault();return}if(!n){var s=(l.current.shards||[]).map(B).filter(Boolean).filter(function(t){return t.contains(e.target)});(s.length>0?c(e,s[0]):!l.current.noIsolation)&&e.cancelable&&e.preventDefault()}}},[]),u=a.useCallback(function(e,i,n,s){var r={name:e,delta:i,target:n,should:s,shadowParent:function(e){for(var t=null;null!==e;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}(n)};t.current.push(r),setTimeout(function(){t.current=t.current.filter(function(e){return e!==r})},1)},[]),p=a.useCallback(function(e){i.current=U(e),n.current=void 0},[]),h=a.useCallback(function(t){u(t.type,F(t),t.target,c(t,e.lockRef.current))},[]),m=a.useCallback(function(t){u(t.type,U(t),t.target,c(t,e.lockRef.current))},[]);a.useEffect(function(){return q.push(o),e.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:m}),document.addEventListener("wheel",d,I),document.addEventListener("touchmove",d,I),document.addEventListener("touchstart",p,I),function(){q=q.filter(function(e){return e!==o}),document.removeEventListener("wheel",d,I),document.removeEventListener("touchmove",d,I),document.removeEventListener("touchstart",p,I)}},[]);var f=e.removeScrollBar,g=e.inert;return a.createElement(a.Fragment,null,g?a.createElement(o,{styles:"\n  .block-interactivity-".concat(s," {pointer-events: none;}\n  .allow-interactivity-").concat(s," {pointer-events: all;}\n")}):null,f?a.createElement(O,{gapMode:e.gapMode}):null)},h.useMedium(n),g);var W=a.forwardRef(function(e,t){return a.createElement(f,(0,r.pi)({},e,{ref:t,sideCar:V}))});W.classNames=f.classNames;let z=W},11634:e=>{var t=e.exports={v:[{name:"version",reg:/^(\d*)$/}],o:[{name:"origin",reg:/^(\S*) (\d*) (\d*) (\S*) IP(\d) (\S*)/,names:["username","sessionId","sessionVersion","netType","ipVer","address"],format:"%s %s %d %s IP%d %s"}],s:[{name:"name"}],i:[{name:"description"}],u:[{name:"uri"}],e:[{name:"email"}],p:[{name:"phone"}],z:[{name:"timezones"}],r:[{name:"repeats"}],t:[{name:"timing",reg:/^(\d*) (\d*)/,names:["start","stop"],format:"%d %d"}],c:[{name:"connection",reg:/^IN IP(\d) (\S*)/,names:["version","ip"],format:"IN IP%d %s"}],b:[{push:"bandwidth",reg:/^(TIAS|AS|CT|RR|RS):(\d*)/,names:["type","limit"],format:"%s:%s"}],m:[{reg:/^(\w*) (\d*) ([\w/]*)(?: (.*))?/,names:["type","port","protocol","payloads"],format:"%s %d %s %s"}],a:[{push:"rtp",reg:/^rtpmap:(\d*) ([\w\-.]*)(?:\s*\/(\d*)(?:\s*\/(\S*))?)?/,names:["payload","codec","rate","encoding"],format:function(e){return e.encoding?"rtpmap:%d %s/%s/%s":e.rate?"rtpmap:%d %s/%s":"rtpmap:%d %s"}},{push:"fmtp",reg:/^fmtp:(\d*) ([\S| ]*)/,names:["payload","config"],format:"fmtp:%d %s"},{name:"control",reg:/^control:(.*)/,format:"control:%s"},{name:"rtcp",reg:/^rtcp:(\d*)(?: (\S*) IP(\d) (\S*))?/,names:["port","netType","ipVer","address"],format:function(e){return null!=e.address?"rtcp:%d %s IP%d %s":"rtcp:%d"}},{push:"rtcpFbTrrInt",reg:/^rtcp-fb:(\*|\d*) trr-int (\d*)/,names:["payload","value"],format:"rtcp-fb:%s trr-int %d"},{push:"rtcpFb",reg:/^rtcp-fb:(\*|\d*) ([\w-_]*)(?: ([\w-_]*))?/,names:["payload","type","subtype"],format:function(e){return null!=e.subtype?"rtcp-fb:%s %s %s":"rtcp-fb:%s %s"}},{push:"ext",reg:/^extmap:(\d+)(?:\/(\w+))?(?: (urn:ietf:params:rtp-hdrext:encrypt))? (\S*)(?: (\S*))?/,names:["value","direction","encrypt-uri","uri","config"],format:function(e){return"extmap:%d"+(e.direction?"/%s":"%v")+(e["encrypt-uri"]?" %s":"%v")+" %s"+(e.config?" %s":"")}},{name:"extmapAllowMixed",reg:/^(extmap-allow-mixed)/},{push:"crypto",reg:/^crypto:(\d*) ([\w_]*) (\S*)(?: (\S*))?/,names:["id","suite","config","sessionConfig"],format:function(e){return null!=e.sessionConfig?"crypto:%d %s %s %s":"crypto:%d %s %s"}},{name:"setup",reg:/^setup:(\w*)/,format:"setup:%s"},{name:"connectionType",reg:/^connection:(new|existing)/,format:"connection:%s"},{name:"mid",reg:/^mid:([^\s]*)/,format:"mid:%s"},{name:"msid",reg:/^msid:(.*)/,format:"msid:%s"},{name:"ptime",reg:/^ptime:(\d*(?:\.\d*)*)/,format:"ptime:%d"},{name:"maxptime",reg:/^maxptime:(\d*(?:\.\d*)*)/,format:"maxptime:%d"},{name:"direction",reg:/^(sendrecv|recvonly|sendonly|inactive)/},{name:"icelite",reg:/^(ice-lite)/},{name:"iceUfrag",reg:/^ice-ufrag:(\S*)/,format:"ice-ufrag:%s"},{name:"icePwd",reg:/^ice-pwd:(\S*)/,format:"ice-pwd:%s"},{name:"fingerprint",reg:/^fingerprint:(\S*) (\S*)/,names:["type","hash"],format:"fingerprint:%s %s"},{push:"candidates",reg:/^candidate:(\S*) (\d*) (\S*) (\d*) (\S*) (\d*) typ (\S*)(?: raddr (\S*) rport (\d*))?(?: tcptype (\S*))?(?: generation (\d*))?(?: network-id (\d*))?(?: network-cost (\d*))?/,names:["foundation","component","transport","priority","ip","port","type","raddr","rport","tcptype","generation","network-id","network-cost"],format:function(e){var t="candidate:%s %d %s %d %s %d typ %s";return t+=(null!=e.raddr?" raddr %s rport %d":"%v%v")+(null!=e.tcptype?" tcptype %s":"%v"),null!=e.generation&&(t+=" generation %d"),t+=(null!=e["network-id"]?" network-id %d":"%v")+(null!=e["network-cost"]?" network-cost %d":"%v")}},{name:"endOfCandidates",reg:/^(end-of-candidates)/},{name:"remoteCandidates",reg:/^remote-candidates:(.*)/,format:"remote-candidates:%s"},{name:"iceOptions",reg:/^ice-options:(\S*)/,format:"ice-options:%s"},{push:"ssrcs",reg:/^ssrc:(\d*) ([\w_-]*)(?::(.*))?/,names:["id","attribute","value"],format:function(e){var t="ssrc:%d";return null!=e.attribute&&(t+=" %s",null!=e.value&&(t+=":%s")),t}},{push:"ssrcGroups",reg:/^ssrc-group:([\x21\x23\x24\x25\x26\x27\x2A\x2B\x2D\x2E\w]*) (.*)/,names:["semantics","ssrcs"],format:"ssrc-group:%s %s"},{name:"msidSemantic",reg:/^msid-semantic:\s?(\w*) (\S*)/,names:["semantic","token"],format:"msid-semantic: %s %s"},{push:"groups",reg:/^group:(\w*) (.*)/,names:["type","mids"],format:"group:%s %s"},{name:"rtcpMux",reg:/^(rtcp-mux)/},{name:"rtcpRsize",reg:/^(rtcp-rsize)/},{name:"sctpmap",reg:/^sctpmap:([\w_/]*) (\S*)(?: (\S*))?/,names:["sctpmapNumber","app","maxMessageSize"],format:function(e){return null!=e.maxMessageSize?"sctpmap:%s %s %s":"sctpmap:%s %s"}},{name:"xGoogleFlag",reg:/^x-google-flag:([^\s]*)/,format:"x-google-flag:%s"},{push:"rids",reg:/^rid:([\d\w]+) (\w+)(?: ([\S| ]*))?/,names:["id","direction","params"],format:function(e){return e.params?"rid:%s %s %s":"rid:%s %s"}},{push:"imageattrs",reg:RegExp("^imageattr:(\\d+|\\*)[\\s\\t]+(send|recv)[\\s\\t]+(\\*|\\[\\S+\\](?:[\\s\\t]+\\[\\S+\\])*)(?:[\\s\\t]+(recv|send)[\\s\\t]+(\\*|\\[\\S+\\](?:[\\s\\t]+\\[\\S+\\])*))?"),names:["pt","dir1","attrs1","dir2","attrs2"],format:function(e){return"imageattr:%s %s %s"+(e.dir2?" %s %s":"")}},{name:"simulcast",reg:RegExp("^simulcast:(send|recv) ([a-zA-Z0-9\\-_~;,]+)(?:\\s?(send|recv) ([a-zA-Z0-9\\-_~;,]+))?$"),names:["dir1","list1","dir2","list2"],format:function(e){return"simulcast:%s %s"+(e.dir2?" %s %s":"")}},{name:"simulcast_03",reg:/^simulcast:[\s\t]+([\S+\s\t]+)$/,names:["value"],format:"simulcast: %s"},{name:"framerate",reg:/^framerate:(\d+(?:$|\.\d+))/,format:"framerate:%s"},{name:"sourceFilter",reg:/^source-filter: *(excl|incl) (\S*) (IP4|IP6|\*) (\S*) (.*)/,names:["filterMode","netType","addressTypes","destAddress","srcList"],format:"source-filter: %s %s %s %s %s"},{name:"bundleOnly",reg:/^(bundle-only)/},{name:"label",reg:/^label:(.+)/,format:"label:%s"},{name:"sctpPort",reg:/^sctp-port:(\d+)$/,format:"sctp-port:%s"},{name:"maxMessageSize",reg:/^max-message-size:(\d+)$/,format:"max-message-size:%s"},{push:"tsRefClocks",reg:/^ts-refclk:([^\s=]*)(?:=(\S*))?/,names:["clksrc","clksrcExt"],format:function(e){return"ts-refclk:%s"+(null!=e.clksrcExt?"=%s":"")}},{name:"mediaClk",reg:/^mediaclk:(?:id=(\S*))? *([^\s=]*)(?:=(\S*))?(?: *rate=(\d+)\/(\d+))?/,names:["id","mediaClockName","mediaClockValue","rateNumerator","rateDenominator"],format:function(e){return"mediaclk:"+((null!=e.id?"id=%s %s":"%v%s")+(null!=e.mediaClockValue?"=%s":"")+(null!=e.rateNumerator?" rate=%s":""))+(null!=e.rateDenominator?"/%s":"")}},{name:"keywords",reg:/^keywds:(.+)$/,format:"keywds:%s"},{name:"content",reg:/^content:(.+)/,format:"content:%s"},{name:"bfcpFloorCtrl",reg:/^floorctrl:(c-only|s-only|c-s)/,format:"floorctrl:%s"},{name:"bfcpConfId",reg:/^confid:(\d+)/,format:"confid:%s"},{name:"bfcpUserId",reg:/^userid:(\d+)/,format:"userid:%s"},{name:"bfcpFloorId",reg:/^floorid:(.+) (?:m-stream|mstrm):(.+)/,names:["id","mStream"],format:"floorid:%s mstrm:%s"},{push:"invalid",names:["value"]}]};Object.keys(t).forEach(function(e){t[e].forEach(function(e){e.reg||(e.reg=/(.*)/),e.format||(e.format="%s")})})},25515:(e,t,i)=>{var n=i(43875),s=i(51759);t.cW=s,t.Qc=n.parse,n.parseParams,n.parseFmtpConfig,n.parsePayloads,n.parseRemoteCandidates,n.parseImageAttributes,n.parseSimulcastStreamList},43875:(e,t,i)=>{var n=function(e){return String(Number(e))===e?Number(e):e},s=function(e,t,i,s){if(s&&!i)t[s]=n(e[1]);else for(var r=0;r<i.length;r+=1)null!=e[r+1]&&(t[i[r]]=n(e[r+1]))},r=function(e,t,i){var n=e.name&&e.names;e.push&&!t[e.push]?t[e.push]=[]:n&&!t[e.name]&&(t[e.name]={});var r=e.push?{}:n?t[e.name]:t;s(i.match(e.reg),r,e.names,e.name),e.push&&t[e.push].push(r)},a=i(11634),o=RegExp.prototype.test.bind(/^([a-z])=(.*)/);t.parse=function(e){var t={},i=[],n=t;return e.split(/(\r\n|\r|\n)/).filter(o).forEach(function(e){var t=e[0],s=e.slice(2);"m"===t&&(i.push({rtp:[],fmtp:[]}),n=i[i.length-1]);for(var o=0;o<(a[t]||[]).length;o+=1){var l=a[t][o];if(l.reg.test(s))return r(l,n,s)}}),t.media=i,t};var l=function(e,t){var i=t.split(/=(.+)/,2);return 2===i.length?e[i[0]]=n(i[1]):1===i.length&&t.length>1&&(e[i[0]]=void 0),e};t.parseParams=function(e){return e.split(/;\s?/).reduce(l,{})},t.parseFmtpConfig=t.parseParams,t.parsePayloads=function(e){return e.toString().split(" ").map(Number)},t.parseRemoteCandidates=function(e){for(var t=[],i=e.split(" ").map(n),s=0;s<i.length;s+=3)t.push({component:i[s],ip:i[s+1],port:i[s+2]});return t},t.parseImageAttributes=function(e){return e.split(" ").map(function(e){return e.substring(1,e.length-1).split(",").reduce(l,{})})},t.parseSimulcastStreamList=function(e){return e.split(";").map(function(e){return e.split(",").map(function(e){var t,i=!1;return"~"!==e[0]?t=n(e):(t=n(e.substring(1,e.length)),i=!0),{scid:t,paused:i}})})}},51759:(e,t,i)=>{var n=i(11634),s=/%[sdv%]/g,r=function(e){var t=1,i=arguments,n=i.length;return e.replace(s,function(e){if(t>=n)return e;var s=i[t];switch(t+=1,e){case"%%":return"%";case"%s":return String(s);case"%d":return Number(s);case"%v":return""}})},a=function(e,t,i){var n=[e+"="+(t.format instanceof Function?t.format(t.push?i:i[t.name]):t.format)];if(t.names)for(var s=0;s<t.names.length;s+=1){var a=t.names[s];t.name?n.push(i[t.name][a]):n.push(i[t.names[s]])}else n.push(i[t.name]);return r.apply(null,n)},o=["v","o","s","i","u","e","p","c","b","t","r","z","a"],l=["i","c","b","a"];e.exports=function(e,t){t=t||{},null==e.version&&(e.version=0),null==e.name&&(e.name=" "),e.media.forEach(function(e){null==e.payloads&&(e.payloads="")});var i=t.outerOrder||o,s=t.innerOrder||l,r=[];return i.forEach(function(t){n[t].forEach(function(i){i.name in e&&null!=e[i.name]?r.push(a(t,i,e)):i.push in e&&null!=e[i.push]&&e[i.push].forEach(function(e){r.push(a(t,i,e))})})}),e.media.forEach(function(e){r.push(a("m",n.m[0],e)),s.forEach(function(t){n[t].forEach(function(i){i.name in e&&null!=e[i.name]?r.push(a(t,i,e)):i.push in e&&null!=e[i.push]&&e[i.push].forEach(function(e){r.push(a(t,i,e))})})})}),r.join("\r\n")+"\r\n"}},2752:e=>{"use strict";let t={};t.generateIdentifier=function(){return Math.random().toString(36).substring(2,12)},t.localCName=t.generateIdentifier(),t.splitLines=function(e){return e.trim().split("\n").map(e=>e.trim())},t.splitSections=function(e){return e.split("\nm=").map((e,t)=>(t>0?"m="+e:e).trim()+"\r\n")},t.getDescription=function(e){let i=t.splitSections(e);return i&&i[0]},t.getMediaSections=function(e){let i=t.splitSections(e);return i.shift(),i},t.matchPrefix=function(e,i){return t.splitLines(e).filter(e=>0===e.indexOf(i))},t.parseCandidate=function(e){let t;let i={foundation:(t=0===e.indexOf("a=candidate:")?e.substring(12).split(" "):e.substring(10).split(" "))[0],component:{1:"rtp",2:"rtcp"}[t[1]]||t[1],protocol:t[2].toLowerCase(),priority:parseInt(t[3],10),ip:t[4],address:t[4],port:parseInt(t[5],10),type:t[7]};for(let e=8;e<t.length;e+=2)switch(t[e]){case"raddr":i.relatedAddress=t[e+1];break;case"rport":i.relatedPort=parseInt(t[e+1],10);break;case"tcptype":i.tcpType=t[e+1];break;case"ufrag":i.ufrag=t[e+1],i.usernameFragment=t[e+1];break;default:void 0===i[t[e]]&&(i[t[e]]=t[e+1])}return i},t.writeCandidate=function(e){let t=[];t.push(e.foundation);let i=e.component;"rtp"===i?t.push(1):"rtcp"===i?t.push(2):t.push(i),t.push(e.protocol.toUpperCase()),t.push(e.priority),t.push(e.address||e.ip),t.push(e.port);let n=e.type;return t.push("typ"),t.push(n),"host"!==n&&e.relatedAddress&&e.relatedPort&&(t.push("raddr"),t.push(e.relatedAddress),t.push("rport"),t.push(e.relatedPort)),e.tcpType&&"tcp"===e.protocol.toLowerCase()&&(t.push("tcptype"),t.push(e.tcpType)),(e.usernameFragment||e.ufrag)&&(t.push("ufrag"),t.push(e.usernameFragment||e.ufrag)),"candidate:"+t.join(" ")},t.parseIceOptions=function(e){return e.substring(14).split(" ")},t.parseRtpMap=function(e){let t=e.substring(9).split(" "),i={payloadType:parseInt(t.shift(),10)};return t=t[0].split("/"),i.name=t[0],i.clockRate=parseInt(t[1],10),i.channels=3===t.length?parseInt(t[2],10):1,i.numChannels=i.channels,i},t.writeRtpMap=function(e){let t=e.payloadType;void 0!==e.preferredPayloadType&&(t=e.preferredPayloadType);let i=e.channels||e.numChannels||1;return"a=rtpmap:"+t+" "+e.name+"/"+e.clockRate+(1!==i?"/"+i:"")+"\r\n"},t.parseExtmap=function(e){let t=e.substring(9).split(" ");return{id:parseInt(t[0],10),direction:t[0].indexOf("/")>0?t[0].split("/")[1]:"sendrecv",uri:t[1],attributes:t.slice(2).join(" ")}},t.writeExtmap=function(e){return"a=extmap:"+(e.id||e.preferredId)+(e.direction&&"sendrecv"!==e.direction?"/"+e.direction:"")+" "+e.uri+(e.attributes?" "+e.attributes:"")+"\r\n"},t.parseFmtp=function(e){let t;let i={},n=e.substring(e.indexOf(" ")+1).split(";");for(let e=0;e<n.length;e++)i[(t=n[e].trim().split("="))[0].trim()]=t[1];return i},t.writeFmtp=function(e){let t="",i=e.payloadType;if(void 0!==e.preferredPayloadType&&(i=e.preferredPayloadType),e.parameters&&Object.keys(e.parameters).length){let n=[];Object.keys(e.parameters).forEach(t=>{void 0!==e.parameters[t]?n.push(t+"="+e.parameters[t]):n.push(t)}),t+="a=fmtp:"+i+" "+n.join(";")+"\r\n"}return t},t.parseRtcpFb=function(e){let t=e.substring(e.indexOf(" ")+1).split(" ");return{type:t.shift(),parameter:t.join(" ")}},t.writeRtcpFb=function(e){let t="",i=e.payloadType;return void 0!==e.preferredPayloadType&&(i=e.preferredPayloadType),e.rtcpFeedback&&e.rtcpFeedback.length&&e.rtcpFeedback.forEach(e=>{t+="a=rtcp-fb:"+i+" "+e.type+(e.parameter&&e.parameter.length?" "+e.parameter:"")+"\r\n"}),t},t.parseSsrcMedia=function(e){let t=e.indexOf(" "),i={ssrc:parseInt(e.substring(7,t),10)},n=e.indexOf(":",t);return n>-1?(i.attribute=e.substring(t+1,n),i.value=e.substring(n+1)):i.attribute=e.substring(t+1),i},t.parseSsrcGroup=function(e){let t=e.substring(13).split(" ");return{semantics:t.shift(),ssrcs:t.map(e=>parseInt(e,10))}},t.getMid=function(e){let i=t.matchPrefix(e,"a=mid:")[0];if(i)return i.substring(6)},t.parseFingerprint=function(e){let t=e.substring(14).split(" ");return{algorithm:t[0].toLowerCase(),value:t[1].toUpperCase()}},t.getDtlsParameters=function(e,i){return{role:"auto",fingerprints:t.matchPrefix(e+i,"a=fingerprint:").map(t.parseFingerprint)}},t.writeDtlsParameters=function(e,t){let i="a=setup:"+t+"\r\n";return e.fingerprints.forEach(e=>{i+="a=fingerprint:"+e.algorithm+" "+e.value+"\r\n"}),i},t.parseCryptoLine=function(e){let t=e.substring(9).split(" ");return{tag:parseInt(t[0],10),cryptoSuite:t[1],keyParams:t[2],sessionParams:t.slice(3)}},t.writeCryptoLine=function(e){return"a=crypto:"+e.tag+" "+e.cryptoSuite+" "+("object"==typeof e.keyParams?t.writeCryptoKeyParams(e.keyParams):e.keyParams)+(e.sessionParams?" "+e.sessionParams.join(" "):"")+"\r\n"},t.parseCryptoKeyParams=function(e){if(0!==e.indexOf("inline:"))return null;let t=e.substring(7).split("|");return{keyMethod:"inline",keySalt:t[0],lifeTime:t[1],mkiValue:t[2]?t[2].split(":")[0]:void 0,mkiLength:t[2]?t[2].split(":")[1]:void 0}},t.writeCryptoKeyParams=function(e){return e.keyMethod+":"+e.keySalt+(e.lifeTime?"|"+e.lifeTime:"")+(e.mkiValue&&e.mkiLength?"|"+e.mkiValue+":"+e.mkiLength:"")},t.getCryptoParameters=function(e,i){return t.matchPrefix(e+i,"a=crypto:").map(t.parseCryptoLine)},t.getIceParameters=function(e,i){let n=t.matchPrefix(e+i,"a=ice-ufrag:")[0],s=t.matchPrefix(e+i,"a=ice-pwd:")[0];return n&&s?{usernameFragment:n.substring(12),password:s.substring(10)}:null},t.writeIceParameters=function(e){let t="a=ice-ufrag:"+e.usernameFragment+"\r\na=ice-pwd:"+e.password+"\r\n";return e.iceLite&&(t+="a=ice-lite\r\n"),t},t.parseRtpParameters=function(e){let i={codecs:[],headerExtensions:[],fecMechanisms:[],rtcp:[]},n=t.splitLines(e)[0].split(" ");i.profile=n[2];for(let s=3;s<n.length;s++){let r=n[s],a=t.matchPrefix(e,"a=rtpmap:"+r+" ")[0];if(a){let n=t.parseRtpMap(a),s=t.matchPrefix(e,"a=fmtp:"+r+" ");switch(n.parameters=s.length?t.parseFmtp(s[0]):{},n.rtcpFeedback=t.matchPrefix(e,"a=rtcp-fb:"+r+" ").map(t.parseRtcpFb),i.codecs.push(n),n.name.toUpperCase()){case"RED":case"ULPFEC":i.fecMechanisms.push(n.name.toUpperCase())}}}t.matchPrefix(e,"a=extmap:").forEach(e=>{i.headerExtensions.push(t.parseExtmap(e))});let s=t.matchPrefix(e,"a=rtcp-fb:* ").map(t.parseRtcpFb);return i.codecs.forEach(e=>{s.forEach(t=>{e.rtcpFeedback.find(e=>e.type===t.type&&e.parameter===t.parameter)||e.rtcpFeedback.push(t)})}),i},t.writeRtpDescription=function(e,i){let n="";n+="m="+e+" "+(i.codecs.length>0?"9":"0")+" "+(i.profile||"UDP/TLS/RTP/SAVPF")+" "+i.codecs.map(e=>void 0!==e.preferredPayloadType?e.preferredPayloadType:e.payloadType).join(" ")+"\r\nc=IN IP4 0.0.0.0\r\na=rtcp:9 IN IP4 0.0.0.0\r\n",i.codecs.forEach(e=>{n+=t.writeRtpMap(e)+t.writeFmtp(e)+t.writeRtcpFb(e)});let s=0;return i.codecs.forEach(e=>{e.maxptime>s&&(s=e.maxptime)}),s>0&&(n+="a=maxptime:"+s+"\r\n"),i.headerExtensions&&i.headerExtensions.forEach(e=>{n+=t.writeExtmap(e)}),n},t.parseRtpEncodingParameters=function(e){let i;let n=[],s=t.parseRtpParameters(e),r=-1!==s.fecMechanisms.indexOf("RED"),a=-1!==s.fecMechanisms.indexOf("ULPFEC"),o=t.matchPrefix(e,"a=ssrc:").map(e=>t.parseSsrcMedia(e)).filter(e=>"cname"===e.attribute),l=o.length>0&&o[0].ssrc,c=t.matchPrefix(e,"a=ssrc-group:FID").map(e=>e.substring(17).split(" ").map(e=>parseInt(e,10)));c.length>0&&c[0].length>1&&c[0][0]===l&&(i=c[0][1]),s.codecs.forEach(e=>{if("RTX"===e.name.toUpperCase()&&e.parameters.apt){let t={ssrc:l,codecPayloadType:parseInt(e.parameters.apt,10)};l&&i&&(t.rtx={ssrc:i}),n.push(t),r&&((t=JSON.parse(JSON.stringify(t))).fec={ssrc:l,mechanism:a?"red+ulpfec":"red"},n.push(t))}}),0===n.length&&l&&n.push({ssrc:l});let d=t.matchPrefix(e,"b=");return d.length&&(d=0===d[0].indexOf("b=TIAS:")?parseInt(d[0].substring(7),10):0===d[0].indexOf("b=AS:")?950*parseInt(d[0].substring(5),10)-16e3:void 0,n.forEach(e=>{e.maxBitrate=d})),n},t.parseRtcpParameters=function(e){let i={},n=t.matchPrefix(e,"a=ssrc:").map(e=>t.parseSsrcMedia(e)).filter(e=>"cname"===e.attribute)[0];n&&(i.cname=n.value,i.ssrc=n.ssrc);let s=t.matchPrefix(e,"a=rtcp-rsize");i.reducedSize=s.length>0,i.compound=0===s.length;let r=t.matchPrefix(e,"a=rtcp-mux");return i.mux=r.length>0,i},t.writeRtcpParameters=function(e){let t="";return e.reducedSize&&(t+="a=rtcp-rsize\r\n"),e.mux&&(t+="a=rtcp-mux\r\n"),void 0!==e.ssrc&&e.cname&&(t+="a=ssrc:"+e.ssrc+" cname:"+e.cname+"\r\n"),t},t.parseMsid=function(e){let i;let n=t.matchPrefix(e,"a=msid:");if(1===n.length)return{stream:(i=n[0].substring(7).split(" "))[0],track:i[1]};let s=t.matchPrefix(e,"a=ssrc:").map(e=>t.parseSsrcMedia(e)).filter(e=>"msid"===e.attribute);if(s.length>0)return{stream:(i=s[0].value.split(" "))[0],track:i[1]}},t.parseSctpDescription=function(e){let i;let n=t.parseMLine(e),s=t.matchPrefix(e,"a=max-message-size:");s.length>0&&(i=parseInt(s[0].substring(19),10)),isNaN(i)&&(i=65536);let r=t.matchPrefix(e,"a=sctp-port:");if(r.length>0)return{port:parseInt(r[0].substring(12),10),protocol:n.fmt,maxMessageSize:i};let a=t.matchPrefix(e,"a=sctpmap:");if(a.length>0){let e=a[0].substring(10).split(" ");return{port:parseInt(e[0],10),protocol:e[1],maxMessageSize:i}}},t.writeSctpDescription=function(e,t){let i=[];return i="DTLS/SCTP"!==e.protocol?["m="+e.kind+" 9 "+e.protocol+" "+t.protocol+"\r\n","c=IN IP4 0.0.0.0\r\n","a=sctp-port:"+t.port+"\r\n"]:["m="+e.kind+" 9 "+e.protocol+" "+t.port+"\r\n","c=IN IP4 0.0.0.0\r\n","a=sctpmap:"+t.port+" "+t.protocol+" 65535\r\n"],void 0!==t.maxMessageSize&&i.push("a=max-message-size:"+t.maxMessageSize+"\r\n"),i.join("")},t.generateSessionId=function(){return Math.random().toString().substr(2,22)},t.writeSessionBoilerplate=function(e,i,n){return"v=0\r\no="+(n||"thisisadapterortc")+" "+(e||t.generateSessionId())+" "+(void 0!==i?i:2)+" IN IP4 127.0.0.1\r\ns=-\r\nt=0 0\r\n"},t.getDirection=function(e,i){let n=t.splitLines(e);for(let e=0;e<n.length;e++)switch(n[e]){case"a=sendrecv":case"a=sendonly":case"a=recvonly":case"a=inactive":return n[e].substring(2)}return i?t.getDirection(i):"sendrecv"},t.getKind=function(e){return t.splitLines(e)[0].split(" ")[0].substring(2)},t.isRejected=function(e){return"0"===e.split(" ",2)[1]},t.parseMLine=function(e){let i=t.splitLines(e)[0].substring(2).split(" ");return{kind:i[0],port:parseInt(i[1],10),protocol:i[2],fmt:i.slice(3).join(" ")}},t.parseOLine=function(e){let i=t.matchPrefix(e,"o=")[0].substring(2).split(" ");return{username:i[0],sessionId:i[1],sessionVersion:parseInt(i[2],10),netType:i[3],addressType:i[4],address:i[5]}},t.isValidSDP=function(e){if("string"!=typeof e||0===e.length)return!1;let i=t.splitLines(e);for(let e=0;e<i.length;e++)if(i[e].length<2||"="!==i[e].charAt(1))return!1;return!0},e.exports=t},67495:(e,t,i)=>{"use strict";let n;let s=i(22037),r=i(76224),a=i(53285),{env:o}=process;function l(e){return 0!==e&&{level:e,hasBasic:!0,has256:e>=2,has16m:e>=3}}function c(e,t){if(0===n)return 0;if(a("color=16m")||a("color=full")||a("color=truecolor"))return 3;if(a("color=256"))return 2;if(e&&!t&&void 0===n)return 0;let i=n||0;if("dumb"===o.TERM)return i;if("win32"===process.platform){let e=s.release().split(".");return Number(e[0])>=10&&Number(e[2])>=10586?Number(e[2])>=14931?3:2:1}if("CI"in o)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI","GITHUB_ACTIONS","BUILDKITE"].some(e=>e in o)||"codeship"===o.CI_NAME?1:i;if("TEAMCITY_VERSION"in o)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(o.TEAMCITY_VERSION)?1:0;if("truecolor"===o.COLORTERM)return 3;if("TERM_PROGRAM"in o){let e=parseInt((o.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(o.TERM_PROGRAM){case"iTerm.app":return e>=3?3:2;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(o.TERM)?2:/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(o.TERM)||"COLORTERM"in o?1:i}a("no-color")||a("no-colors")||a("color=false")||a("color=never")?n=0:(a("color")||a("colors")||a("color=true")||a("color=always"))&&(n=1),"FORCE_COLOR"in o&&(n="true"===o.FORCE_COLOR?1:"false"===o.FORCE_COLOR?0:0===o.FORCE_COLOR.length?1:Math.min(parseInt(o.FORCE_COLOR,10),3)),e.exports={supportsColor:function(e){return l(c(e,e&&e.isTTY))},stdout:l(c(!0,r.isatty(1))),stderr:l(c(!0,r.isatty(2)))}},53557:function(e,t,i){var n;!function(s,r){"use strict";var a="function",o="undefined",l="object",c="string",d="major",u="model",p="name",h="type",m="vendor",f="version",g="architecture",v="console",b="mobile",y="tablet",x="smarttv",_="wearable",w="embedded",S="Amazon",k="Apple",E="ASUS",T="BlackBerry",C="Browser",R="Chrome",O="Firefox",P="Google",j="Huawei",I="Microsoft",N="Motorola",D="Opera",A="Samsung",L="Sharp",M="Sony",U="Xiaomi",F="Zebra",B="Facebook",$="Chromium OS",q="Mac OS",V=" Browser",W=function(e,t){var i={};for(var n in e)t[n]&&t[n].length%2==0?i[n]=t[n].concat(e[n]):i[n]=e[n];return i},z=function(e){for(var t={},i=0;i<e.length;i++)t[e[i].toUpperCase()]=e[i];return t},H=function(e,t){return typeof e===c&&-1!==K(t).indexOf(K(e))},K=function(e){return e.toLowerCase()},G=function(e,t){if(typeof e===c)return e=e.replace(/^\s\s*/,""),typeof t===o?e:e.substring(0,500)},J=function(e,t){for(var i,n,s,o,c,d,u=0;u<t.length&&!c;){var p=t[u],h=t[u+1];for(i=n=0;i<p.length&&!c&&p[i];)if(c=p[i++].exec(e))for(s=0;s<h.length;s++)d=c[++n],typeof(o=h[s])===l&&o.length>0?2===o.length?typeof o[1]==a?this[o[0]]=o[1].call(this,d):this[o[0]]=o[1]:3===o.length?typeof o[1]!==a||o[1].exec&&o[1].test?this[o[0]]=d?d.replace(o[1],o[2]):void 0:this[o[0]]=d?o[1].call(this,d,o[2]):void 0:4===o.length&&(this[o[0]]=d?o[3].call(this,d.replace(o[1],o[2])):void 0):this[o]=d||r;u+=2}},Y=function(e,t){for(var i in t)if(typeof t[i]===l&&t[i].length>0){for(var n=0;n<t[i].length;n++)if(H(t[i][n],e))return"?"===i?r:i}else if(H(t[i],e))return"?"===i?r:i;return t.hasOwnProperty("*")?t["*"]:e},Q={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2","8.1":"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},X={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[f,[p,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[f,[p,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[p,f],[/opios[\/ ]+([\w\.]+)/i],[f,[p,D+" Mini"]],[/\bop(?:rg)?x\/([\w\.]+)/i],[f,[p,D+" GX"]],[/\bopr\/([\w\.]+)/i],[f,[p,D]],[/\bb[ai]*d(?:uhd|[ub]*[aekoprswx]{5,6})[\/ ]?([\w\.]+)/i],[f,[p,"Baidu"]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer|sleipnir)[\/ ]?([\w\.]*)/i,/(avant|iemobile|slim)\s?(?:browser)?[\/ ]?([\w\.]*)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|duckduckgo|klar|helio)\/([-\w\.]+)/i,/(heytap|ovi)browser\/([\d\.]+)/i,/(weibo)__([\d\.]+)/i],[p,f],[/quark(?:pc)?\/([-\w\.]+)/i],[f,[p,"Quark"]],[/\bddg\/([\w\.]+)/i],[f,[p,"DuckDuckGo"]],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[f,[p,"UC"+C]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i,/micromessenger\/([\w\.]+)/i],[f,[p,"WeChat"]],[/konqueror\/([\w\.]+)/i],[f,[p,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[f,[p,"IE"]],[/ya(?:search)?browser\/([\w\.]+)/i],[f,[p,"Yandex"]],[/slbrowser\/([\w\.]+)/i],[f,[p,"Smart Lenovo "+C]],[/(avast|avg)\/([\w\.]+)/i],[[p,/(.+)/,"$1 Secure "+C],f],[/\bfocus\/([\w\.]+)/i],[f,[p,O+" Focus"]],[/\bopt\/([\w\.]+)/i],[f,[p,D+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[f,[p,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[f,[p,"Dolphin"]],[/coast\/([\w\.]+)/i],[f,[p,D+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[f,[p,"MIUI "+C]],[/fxios\/([-\w\.]+)/i],[f,[p,O]],[/\bqihu|(qi?ho?o?|360)browser/i],[[p,"360"+V]],[/\b(qq)\/([\w\.]+)/i],[[p,/(.+)/,"$1Browser"],f],[/(oculus|sailfish|huawei|vivo|pico)browser\/([\w\.]+)/i],[[p,/(.+)/,"$1"+V],f],[/samsungbrowser\/([\w\.]+)/i],[f,[p,A+" Internet"]],[/(comodo_dragon)\/([\w\.]+)/i],[[p,/_/g," "],f],[/metasr[\/ ]?([\d\.]+)/i],[f,[p,"Sogou Explorer"]],[/(sogou)mo\w+\/([\d\.]+)/i],[[p,"Sogou Mobile"],f],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|2345Explorer)[\/ ]?([\w\.]+)/i],[p,f],[/(lbbrowser|rekonq)/i,/\[(linkedin)app\]/i],[p],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[p,B],f],[/(Klarna)\/([\w\.]+)/i,/(kakao(?:talk|story))[\/ ]([\w\.]+)/i,/(naver)\(.*?(\d+\.[\w\.]+).*\)/i,/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(alipay)client\/([\w\.]+)/i,/(twitter)(?:and| f.+e\/([\w\.]+))/i,/(chromium|instagram|snapchat)[\/ ]([-\w\.]+)/i],[p,f],[/\bgsa\/([\w\.]+) .*safari\//i],[f,[p,"GSA"]],[/musical_ly(?:.+app_?version\/|_)([\w\.]+)/i],[f,[p,"TikTok"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[f,[p,R+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[p,R+" WebView"],f],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[f,[p,"Android "+C]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[p,f],[/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i],[f,[p,"Mobile Safari"]],[/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i],[f,p],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[p,[f,Y,{"1.0":"/8","1.2":"/1","1.3":"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}]],[/(webkit|khtml)\/([\w\.]+)/i],[p,f],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[p,"Netscape"],f],[/(wolvic)\/([\w\.]+)/i],[p,f],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[f,[p,O+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i],[p,[f,/_/g,"."]],[/(cobalt)\/([\w\.]+)/i],[p,[f,/master.|lts./,""]]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[g,"amd64"]],[/(ia32(?=;))/i],[[g,K]],[/((?:i[346]|x)86)[;\)]/i],[[g,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[g,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[g,"armhf"]],[/windows (ce|mobile); ppc;/i],[[g,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[g,/ower/,"",K]],[/(sun4\w)[;\)]/i],[[g,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[g,K]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[u,[m,A],[h,y]],[/\b((?:s[cgp]h|gt|sm)-(?![lr])\w+|sc[g-]?[\d]+a?|galaxy nexus)/i,/samsung[- ]((?!sm-[lr])[-\w]+)/i,/sec-(sgh\w+)/i],[u,[m,A],[h,b]],[/(?:\/|\()(ip(?:hone|od)[\w, ]*)(?:\/|;)/i],[u,[m,k],[h,b]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[u,[m,k],[h,y]],[/(macintosh);/i],[u,[m,k]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[u,[m,L],[h,b]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[u,[m,j],[h,y]],[/(?:huawei|honor)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[u,[m,j],[h,b]],[/\b(poco[\w ]+|m2\d{3}j\d\d[a-z]{2})(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/oid[^\)]+; (m?[12][0-389][01]\w{3,6}[c-y])( bui|; wv|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite|pro)?)(?: bui|\))/i],[[u,/_/g," "],[m,U],[h,b]],[/oid[^\)]+; (2\d{4}(283|rpbf)[cgl])( bui|\))/i,/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[u,/_/g," "],[m,U],[h,y]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[u,[m,"OPPO"],[h,b]],[/\b(opd2\d{3}a?) bui/i],[u,[m,"OPPO"],[h,y]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[u,[m,"Vivo"],[h,b]],[/\b(rmx[1-3]\d{3})(?: bui|;|\))/i],[u,[m,"Realme"],[h,b]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[u,[m,N],[h,b]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[u,[m,N],[h,y]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[u,[m,"LG"],[h,y]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[u,[m,"LG"],[h,b]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[u,[m,"Lenovo"],[h,y]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[u,/_/g," "],[m,"Nokia"],[h,b]],[/(pixel c)\b/i],[u,[m,P],[h,y]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[u,[m,P],[h,b]],[/droid.+ (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[u,[m,M],[h,b]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[u,"Xperia Tablet"],[m,M],[h,y]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[u,[m,"OnePlus"],[h,b]],[/(alexa)webm/i,/(kf[a-z]{2}wi|aeo(?!bc)\w\w)( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[u,[m,S],[h,y]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[u,/(.+)/g,"Fire Phone $1"],[m,S],[h,b]],[/(playbook);[-\w\),; ]+(rim)/i],[u,m,[h,y]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[u,[m,T],[h,b]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[u,[m,E],[h,y]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[u,[m,E],[h,b]],[/(nexus 9)/i],[u,[m,"HTC"],[h,y]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic(?!(?:;|\.))|sony(?!-bra))[-_ ]?([-\w]*)/i],[m,[u,/_/g," "],[h,b]],[/droid [\w\.]+; ((?:8[14]9[16]|9(?:0(?:48|60|8[01])|1(?:3[27]|66)|2(?:6[69]|9[56])|466))[gqswx])\w*(\)| bui)/i],[u,[m,"TCL"],[h,y]],[/(itel) ((\w+))/i],[[m,K],u,[h,Y,{tablet:["p10001l","w7001"],"*":"mobile"}]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[u,[m,"Acer"],[h,y]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[u,[m,"Meizu"],[h,b]],[/; ((?:power )?armor(?:[\w ]{0,8}))(?: bui|\))/i],[u,[m,"Ulefone"],[h,b]],[/droid.+; (a(?:015|06[35]|142p?))/i],[u,[m,"Nothing"],[h,b]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron|infinix|tecno)[-_ ]?([-\w]*)/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[m,u,[h,b]],[/(kobo)\s(ereader|touch)/i,/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[m,u,[h,y]],[/(surface duo)/i],[u,[m,I],[h,y]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[u,[m,"Fairphone"],[h,b]],[/(u304aa)/i],[u,[m,"AT&T"],[h,b]],[/\bsie-(\w*)/i],[u,[m,"Siemens"],[h,b]],[/\b(rct\w+) b/i],[u,[m,"RCA"],[h,y]],[/\b(venue[\d ]{2,7}) b/i],[u,[m,"Dell"],[h,y]],[/\b(q(?:mv|ta)\w+) b/i],[u,[m,"Verizon"],[h,y]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[u,[m,"Barnes & Noble"],[h,y]],[/\b(tm\d{3}\w+) b/i],[u,[m,"NuVision"],[h,y]],[/\b(k88) b/i],[u,[m,"ZTE"],[h,y]],[/\b(nx\d{3}j) b/i],[u,[m,"ZTE"],[h,b]],[/\b(gen\d{3}) b.+49h/i],[u,[m,"Swiss"],[h,b]],[/\b(zur\d{3}) b/i],[u,[m,"Swiss"],[h,y]],[/\b((zeki)?tb.*\b) b/i],[u,[m,"Zeki"],[h,y]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[m,"Dragon Touch"],u,[h,y]],[/\b(ns-?\w{0,9}) b/i],[u,[m,"Insignia"],[h,y]],[/\b((nxa|next)-?\w{0,9}) b/i],[u,[m,"NextBook"],[h,y]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[m,"Voice"],u,[h,b]],[/\b(lvtel\-)?(v1[12]) b/i],[[m,"LvTel"],u,[h,b]],[/\b(ph-1) /i],[u,[m,"Essential"],[h,b]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[u,[m,"Envizen"],[h,y]],[/\b(trio[-\w\. ]+) b/i],[u,[m,"MachSpeed"],[h,y]],[/\btu_(1491) b/i],[u,[m,"Rotor"],[h,y]],[/(shield[\w ]+) b/i],[u,[m,"Nvidia"],[h,y]],[/(sprint) (\w+)/i],[m,u,[h,b]],[/(kin\.[onetw]{3})/i],[[u,/\./g," "],[m,I],[h,b]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[u,[m,F],[h,y]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[u,[m,F],[h,b]],[/smart-tv.+(samsung)/i],[m,[h,x]],[/hbbtv.+maple;(\d+)/i],[[u,/^/,"SmartTV"],[m,A],[h,x]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[m,"LG"],[h,x]],[/(apple) ?tv/i],[m,[u,k+" TV"],[h,x]],[/crkey/i],[[u,R+"cast"],[m,P],[h,x]],[/droid.+aft(\w+)( bui|\))/i],[u,[m,S],[h,x]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[u,[m,L],[h,x]],[/(bravia[\w ]+)( bui|\))/i],[u,[m,M],[h,x]],[/(mitv-\w{5}) bui/i],[u,[m,U],[h,x]],[/Hbbtv.*(technisat) (.*);/i],[m,u,[h,x]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w\+ ]*; *([\w\d][^;]*);([^;]*)/i],[[m,G],[u,G],[h,x]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[h,x]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[m,u,[h,v]],[/droid.+; (shield) bui/i],[u,[m,"Nvidia"],[h,v]],[/(playstation [345portablevi]+)/i],[u,[m,M],[h,v]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[u,[m,I],[h,v]],[/\b(sm-[lr]\d\d[05][fnuw]?s?)\b/i],[u,[m,A],[h,_]],[/((pebble))app/i],[m,u,[h,_]],[/(watch)(?: ?os[,\/]|\d,\d\/)[\d\.]+/i],[u,[m,k],[h,_]],[/droid.+; (glass) \d/i],[u,[m,P],[h,_]],[/droid.+; (wt63?0{2,3})\)/i],[u,[m,F],[h,_]],[/(quest( \d| pro)?)/i],[u,[m,B],[h,_]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[m,[h,w]],[/(aeobc)\b/i],[u,[m,S],[h,w]],[/droid .+?; ([^;]+?)(?: bui|; wv\)|\) applew).+? mobile safari/i],[u,[h,b]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[u,[h,y]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[h,y]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[h,b]],[/(android[-\w\. ]{0,9});.+buil/i],[u,[m,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[f,[p,"EdgeHTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[f,[p,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i,/\b(libweb)/i],[p,f],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[f,p]],os:[[/microsoft (windows) (vista|xp)/i],[p,f],[/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i],[p,[f,Y,Q]],[/windows nt 6\.2; (arm)/i,/windows[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i,/(?:win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[f,Y,Q],[p,"Windows"]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/(?:ios;fbsv\/|iphone.+ios[\/ ])([\d\.]+)/i,/cfnetwork\/.+darwin/i],[[f,/_/g,"."],[p,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[p,q],[f,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[f,p],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[p,f],[/\(bb(10);/i],[f,[p,T]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[f,[p,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[f,[p,O+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[f,[p,"webOS"]],[/watch(?: ?os[,\/]|\d,\d\/)([\d\.]+)/i],[f,[p,"watchOS"]],[/crkey\/([\d\.]+)/i],[f,[p,R+"cast"]],[/(cros) [\w]+(?:\)| ([\w\.]+)\b)/i],[[p,$],f],[/panasonic;(viera)/i,/(netrange)mmh/i,/(nettv)\/(\d+\.[\w\.]+)/i,/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[p,f],[/(sunos) ?([\w\.\d]*)/i],[[p,"Solaris"],f],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux|serenityos)/i,/(unix) ?([\w\.]*)/i],[p,f]]},Z=function(e,t){if(typeof e===l&&(t=e,e=r),!(this instanceof Z))return new Z(e,t).getResult();var i=typeof s!==o&&s.navigator?s.navigator:r,n=e||(i&&i.userAgent?i.userAgent:""),v=i&&i.userAgentData?i.userAgentData:r,x=t?W(X,t):X,_=i&&i.userAgent==n;return this.getBrowser=function(){var e,t={};return t[p]=r,t[f]=r,J.call(t,n,x.browser),t[d]=typeof(e=t[f])===c?e.replace(/[^\d\.]/g,"").split(".")[0]:r,_&&i&&i.brave&&typeof i.brave.isBrave==a&&(t[p]="Brave"),t},this.getCPU=function(){var e={};return e[g]=r,J.call(e,n,x.cpu),e},this.getDevice=function(){var e={};return e[m]=r,e[u]=r,e[h]=r,J.call(e,n,x.device),_&&!e[h]&&v&&v.mobile&&(e[h]=b),_&&"Macintosh"==e[u]&&i&&typeof i.standalone!==o&&i.maxTouchPoints&&i.maxTouchPoints>2&&(e[u]="iPad",e[h]=y),e},this.getEngine=function(){var e={};return e[p]=r,e[f]=r,J.call(e,n,x.engine),e},this.getOS=function(){var e={};return e[p]=r,e[f]=r,J.call(e,n,x.os),_&&!e[p]&&v&&v.platform&&"Unknown"!=v.platform&&(e[p]=v.platform.replace(/chrome os/i,$).replace(/macos/i,q)),e},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return n},this.setUA=function(e){return n=typeof e===c&&e.length>500?G(e,500):e,this},this.setUA(n),this};Z.VERSION="1.0.39",Z.BROWSER=z([p,f,d]),Z.CPU=z([g]),Z.DEVICE=z([u,m,h,v,b,x,y,_,w]),Z.ENGINE=Z.OS=z([p,f]),typeof t!==o?(e.exports&&(t=e.exports=Z),t.UAParser=Z):i.amdO?r!==(n=(function(){return Z}).call(t,i,t,e))&&(e.exports=n):typeof s!==o&&(s.UAParser=Z);var ee=typeof s!==o&&(s.jQuery||s.Zepto);if(ee&&!ee.ua){var et=new Z;ee.ua=et.getResult(),ee.ua.get=function(){return et.getUA()},ee.ua.set=function(e){et.setUA(e);var t=et.getResult();for(var i in t)ee.ua[i]=t[i]}}}("object"==typeof window?window:this)},13154:(e,t,i)=>{"use strict";let n=i(46342);n.createWebSocketStream=i(42504),n.Server=i(30359),n.Receiver=i(83958),n.Sender=i(74036),n.WebSocket=n,n.WebSocketServer=n.Server,e.exports=n},17878:(e,t,i)=>{"use strict";let{EMPTY_BUFFER:n}=i(39353),s=Buffer[Symbol.species];function r(e,t,i,n,s){for(let r=0;r<s;r++)i[n+r]=e[r]^t[3&r]}function a(e,t){for(let i=0;i<e.length;i++)e[i]^=t[3&i]}if(e.exports={concat:function(e,t){if(0===e.length)return n;if(1===e.length)return e[0];let i=Buffer.allocUnsafe(t),r=0;for(let t=0;t<e.length;t++){let n=e[t];i.set(n,r),r+=n.length}return r<t?new s(i.buffer,i.byteOffset,r):i},mask:r,toArrayBuffer:function(e){return e.length===e.buffer.byteLength?e.buffer:e.buffer.slice(e.byteOffset,e.byteOffset+e.length)},toBuffer:function e(t){let i;return(e.readOnly=!0,Buffer.isBuffer(t))?t:(t instanceof ArrayBuffer?i=new s(t):ArrayBuffer.isView(t)?i=new s(t.buffer,t.byteOffset,t.byteLength):(i=Buffer.from(t),e.readOnly=!1),i)},unmask:a},!process.env.WS_NO_BUFFER_UTIL)try{let t=i(58359);e.exports.mask=function(e,i,n,s,a){a<48?r(e,i,n,s,a):t.mask(e,i,n,s,a)},e.exports.unmask=function(e,i){e.length<32?a(e,i):t.unmask(e,i)}}catch(e){}},39353:e=>{"use strict";let t=["nodebuffer","arraybuffer","fragments"],i="undefined"!=typeof Blob;i&&t.push("blob"),e.exports={BINARY_TYPES:t,EMPTY_BUFFER:Buffer.alloc(0),GUID:"258EAFA5-E914-47DA-95CA-C5AB0DC85B11",hasBlob:i,kForOnEventAttribute:Symbol("kIsForOnEventAttribute"),kListener:Symbol("kListener"),kStatusCode:Symbol("status-code"),kWebSocket:Symbol("websocket"),NOOP:()=>{}}},91368:(e,t,i)=>{"use strict";let{kForOnEventAttribute:n,kListener:s}=i(39353),r=Symbol("kCode"),a=Symbol("kData"),o=Symbol("kError"),l=Symbol("kMessage"),c=Symbol("kReason"),d=Symbol("kTarget"),u=Symbol("kType"),p=Symbol("kWasClean");class h{constructor(e){this[d]=null,this[u]=e}get target(){return this[d]}get type(){return this[u]}}Object.defineProperty(h.prototype,"target",{enumerable:!0}),Object.defineProperty(h.prototype,"type",{enumerable:!0});class m extends h{constructor(e,t={}){super(e),this[r]=void 0===t.code?0:t.code,this[c]=void 0===t.reason?"":t.reason,this[p]=void 0!==t.wasClean&&t.wasClean}get code(){return this[r]}get reason(){return this[c]}get wasClean(){return this[p]}}Object.defineProperty(m.prototype,"code",{enumerable:!0}),Object.defineProperty(m.prototype,"reason",{enumerable:!0}),Object.defineProperty(m.prototype,"wasClean",{enumerable:!0});class f extends h{constructor(e,t={}){super(e),this[o]=void 0===t.error?null:t.error,this[l]=void 0===t.message?"":t.message}get error(){return this[o]}get message(){return this[l]}}Object.defineProperty(f.prototype,"error",{enumerable:!0}),Object.defineProperty(f.prototype,"message",{enumerable:!0});class g extends h{constructor(e,t={}){super(e),this[a]=void 0===t.data?null:t.data}get data(){return this[a]}}function v(e,t,i){"object"==typeof e&&e.handleEvent?e.handleEvent.call(e,i):e.call(t,i)}Object.defineProperty(g.prototype,"data",{enumerable:!0}),e.exports={CloseEvent:m,ErrorEvent:f,Event:h,EventTarget:{addEventListener(e,t,i={}){let r;for(let r of this.listeners(e))if(!i[n]&&r[s]===t&&!r[n])return;if("message"===e)r=function(e,i){let n=new g("message",{data:i?e:e.toString()});n[d]=this,v(t,this,n)};else if("close"===e)r=function(e,i){let n=new m("close",{code:e,reason:i.toString(),wasClean:this._closeFrameReceived&&this._closeFrameSent});n[d]=this,v(t,this,n)};else if("error"===e)r=function(e){let i=new f("error",{error:e,message:e.message});i[d]=this,v(t,this,i)};else{if("open"!==e)return;r=function(){let e=new h("open");e[d]=this,v(t,this,e)}}r[n]=!!i[n],r[s]=t,i.once?this.once(e,r):this.on(e,r)},removeEventListener(e,t){for(let i of this.listeners(e))if(i[s]===t&&!i[n]){this.removeListener(e,i);break}}},MessageEvent:g}},49964:(e,t,i)=>{"use strict";let{tokenChars:n}=i(94568);function s(e,t,i){void 0===e[t]?e[t]=[i]:e[t].push(i)}e.exports={format:function(e){return Object.keys(e).map(t=>{let i=e[t];return Array.isArray(i)||(i=[i]),i.map(e=>[t].concat(Object.keys(e).map(t=>{let i=e[t];return Array.isArray(i)||(i=[i]),i.map(e=>!0===e?t:`${t}=${e}`).join("; ")})).join("; ")).join(", ")}).join(", ")},parse:function(e){let t,i;let r=Object.create(null),a=Object.create(null),o=!1,l=!1,c=!1,d=-1,u=-1,p=-1,h=0;for(;h<e.length;h++)if(u=e.charCodeAt(h),void 0===t){if(-1===p&&1===n[u])-1===d&&(d=h);else if(0!==h&&(32===u||9===u))-1===p&&-1!==d&&(p=h);else if(59===u||44===u){if(-1===d)throw SyntaxError(`Unexpected character at index ${h}`);-1===p&&(p=h);let i=e.slice(d,p);44===u?(s(r,i,a),a=Object.create(null)):t=i,d=p=-1}else throw SyntaxError(`Unexpected character at index ${h}`)}else if(void 0===i){if(-1===p&&1===n[u])-1===d&&(d=h);else if(32===u||9===u)-1===p&&-1!==d&&(p=h);else if(59===u||44===u){if(-1===d)throw SyntaxError(`Unexpected character at index ${h}`);-1===p&&(p=h),s(a,e.slice(d,p),!0),44===u&&(s(r,t,a),a=Object.create(null),t=void 0),d=p=-1}else if(61===u&&-1!==d&&-1===p)i=e.slice(d,h),d=p=-1;else throw SyntaxError(`Unexpected character at index ${h}`)}else if(l){if(1!==n[u])throw SyntaxError(`Unexpected character at index ${h}`);-1===d?d=h:o||(o=!0),l=!1}else if(c){if(1===n[u])-1===d&&(d=h);else if(34===u&&-1!==d)c=!1,p=h;else if(92===u)l=!0;else throw SyntaxError(`Unexpected character at index ${h}`)}else if(34===u&&61===e.charCodeAt(h-1))c=!0;else if(-1===p&&1===n[u])-1===d&&(d=h);else if(-1!==d&&(32===u||9===u))-1===p&&(p=h);else if(59===u||44===u){if(-1===d)throw SyntaxError(`Unexpected character at index ${h}`);-1===p&&(p=h);let n=e.slice(d,p);o&&(n=n.replace(/\\/g,""),o=!1),s(a,i,n),44===u&&(s(r,t,a),a=Object.create(null),t=void 0),i=void 0,d=p=-1}else throw SyntaxError(`Unexpected character at index ${h}`);if(-1===d||c||32===u||9===u)throw SyntaxError("Unexpected end of input");-1===p&&(p=h);let m=e.slice(d,p);return void 0===t?s(r,m,a):(void 0===i?s(a,m,!0):o?s(a,i,m.replace(/\\/g,"")):s(a,i,m),s(r,t,a)),r}}},25936:e=>{"use strict";let t=Symbol("kDone"),i=Symbol("kRun");class n{constructor(e){this[t]=()=>{this.pending--,this[i]()},this.concurrency=e||1/0,this.jobs=[],this.pending=0}add(e){this.jobs.push(e),this[i]()}[i](){if(this.pending!==this.concurrency&&this.jobs.length){let e=this.jobs.shift();this.pending++,e(this[t])}}}e.exports=n},97959:(e,t,i)=>{"use strict";let n;let s=i(59796),r=i(17878),a=i(25936),{kStatusCode:o}=i(39353),l=Buffer[Symbol.species],c=Buffer.from([0,0,255,255]),d=Symbol("permessage-deflate"),u=Symbol("total-length"),p=Symbol("callback"),h=Symbol("buffers"),m=Symbol("error");class f{constructor(e,t,i){this._maxPayload=0|i,this._options=e||{},this._threshold=void 0!==this._options.threshold?this._options.threshold:1024,this._isServer=!!t,this._deflate=null,this._inflate=null,this.params=null,n||(n=new a(void 0!==this._options.concurrencyLimit?this._options.concurrencyLimit:10))}static get extensionName(){return"permessage-deflate"}offer(){let e={};return this._options.serverNoContextTakeover&&(e.server_no_context_takeover=!0),this._options.clientNoContextTakeover&&(e.client_no_context_takeover=!0),this._options.serverMaxWindowBits&&(e.server_max_window_bits=this._options.serverMaxWindowBits),this._options.clientMaxWindowBits?e.client_max_window_bits=this._options.clientMaxWindowBits:null==this._options.clientMaxWindowBits&&(e.client_max_window_bits=!0),e}accept(e){return e=this.normalizeParams(e),this.params=this._isServer?this.acceptAsServer(e):this.acceptAsClient(e),this.params}cleanup(){if(this._inflate&&(this._inflate.close(),this._inflate=null),this._deflate){let e=this._deflate[p];this._deflate.close(),this._deflate=null,e&&e(Error("The deflate stream was closed while data was being processed"))}}acceptAsServer(e){let t=this._options,i=e.find(e=>(!1!==t.serverNoContextTakeover||!e.server_no_context_takeover)&&(!e.server_max_window_bits||!1!==t.serverMaxWindowBits&&("number"!=typeof t.serverMaxWindowBits||!(t.serverMaxWindowBits>e.server_max_window_bits)))&&("number"!=typeof t.clientMaxWindowBits||!!e.client_max_window_bits));if(!i)throw Error("None of the extension offers can be accepted");return t.serverNoContextTakeover&&(i.server_no_context_takeover=!0),t.clientNoContextTakeover&&(i.client_no_context_takeover=!0),"number"==typeof t.serverMaxWindowBits&&(i.server_max_window_bits=t.serverMaxWindowBits),"number"==typeof t.clientMaxWindowBits?i.client_max_window_bits=t.clientMaxWindowBits:(!0===i.client_max_window_bits||!1===t.clientMaxWindowBits)&&delete i.client_max_window_bits,i}acceptAsClient(e){let t=e[0];if(!1===this._options.clientNoContextTakeover&&t.client_no_context_takeover)throw Error('Unexpected parameter "client_no_context_takeover"');if(t.client_max_window_bits){if(!1===this._options.clientMaxWindowBits||"number"==typeof this._options.clientMaxWindowBits&&t.client_max_window_bits>this._options.clientMaxWindowBits)throw Error('Unexpected or invalid parameter "client_max_window_bits"')}else"number"==typeof this._options.clientMaxWindowBits&&(t.client_max_window_bits=this._options.clientMaxWindowBits);return t}normalizeParams(e){return e.forEach(e=>{Object.keys(e).forEach(t=>{let i=e[t];if(i.length>1)throw Error(`Parameter "${t}" must have only a single value`);if(i=i[0],"client_max_window_bits"===t){if(!0!==i){let e=+i;if(!Number.isInteger(e)||e<8||e>15)throw TypeError(`Invalid value for parameter "${t}": ${i}`);i=e}else if(!this._isServer)throw TypeError(`Invalid value for parameter "${t}": ${i}`)}else if("server_max_window_bits"===t){let e=+i;if(!Number.isInteger(e)||e<8||e>15)throw TypeError(`Invalid value for parameter "${t}": ${i}`);i=e}else if("client_no_context_takeover"===t||"server_no_context_takeover"===t){if(!0!==i)throw TypeError(`Invalid value for parameter "${t}": ${i}`)}else throw Error(`Unknown parameter "${t}"`);e[t]=i})}),e}decompress(e,t,i){n.add(n=>{this._decompress(e,t,(e,t)=>{n(),i(e,t)})})}compress(e,t,i){n.add(n=>{this._compress(e,t,(e,t)=>{n(),i(e,t)})})}_decompress(e,t,i){let n=this._isServer?"client":"server";if(!this._inflate){let e=`${n}_max_window_bits`,t="number"!=typeof this.params[e]?s.Z_DEFAULT_WINDOWBITS:this.params[e];this._inflate=s.createInflateRaw({...this._options.zlibInflateOptions,windowBits:t}),this._inflate[d]=this,this._inflate[u]=0,this._inflate[h]=[],this._inflate.on("error",b),this._inflate.on("data",v)}this._inflate[p]=i,this._inflate.write(e),t&&this._inflate.write(c),this._inflate.flush(()=>{let e=this._inflate[m];if(e){this._inflate.close(),this._inflate=null,i(e);return}let s=r.concat(this._inflate[h],this._inflate[u]);this._inflate._readableState.endEmitted?(this._inflate.close(),this._inflate=null):(this._inflate[u]=0,this._inflate[h]=[],t&&this.params[`${n}_no_context_takeover`]&&this._inflate.reset()),i(null,s)})}_compress(e,t,i){let n=this._isServer?"server":"client";if(!this._deflate){let e=`${n}_max_window_bits`,t="number"!=typeof this.params[e]?s.Z_DEFAULT_WINDOWBITS:this.params[e];this._deflate=s.createDeflateRaw({...this._options.zlibDeflateOptions,windowBits:t}),this._deflate[u]=0,this._deflate[h]=[],this._deflate.on("data",g)}this._deflate[p]=i,this._deflate.write(e),this._deflate.flush(s.Z_SYNC_FLUSH,()=>{if(!this._deflate)return;let e=r.concat(this._deflate[h],this._deflate[u]);t&&(e=new l(e.buffer,e.byteOffset,e.length-4)),this._deflate[p]=null,this._deflate[u]=0,this._deflate[h]=[],t&&this.params[`${n}_no_context_takeover`]&&this._deflate.reset(),i(null,e)})}}function g(e){this[h].push(e),this[u]+=e.length}function v(e){if(this[u]+=e.length,this[d]._maxPayload<1||this[u]<=this[d]._maxPayload){this[h].push(e);return}this[m]=RangeError("Max payload size exceeded"),this[m].code="WS_ERR_UNSUPPORTED_MESSAGE_LENGTH",this[m][o]=1009,this.removeListener("data",v),this.reset()}function b(e){this[d]._inflate=null,e[o]=1007,this[p](e)}e.exports=f},83958:(e,t,i)=>{"use strict";let{Writable:n}=i(12781),s=i(97959),{BINARY_TYPES:r,EMPTY_BUFFER:a,kStatusCode:o,kWebSocket:l}=i(39353),{concat:c,toArrayBuffer:d,unmask:u}=i(17878),{isValidStatusCode:p,isValidUTF8:h}=i(94568),m=Buffer[Symbol.species];class f extends n{constructor(e={}){super(),this._allowSynchronousEvents=void 0===e.allowSynchronousEvents||e.allowSynchronousEvents,this._binaryType=e.binaryType||r[0],this._extensions=e.extensions||{},this._isServer=!!e.isServer,this._maxPayload=0|e.maxPayload,this._skipUTF8Validation=!!e.skipUTF8Validation,this[l]=void 0,this._bufferedBytes=0,this._buffers=[],this._compressed=!1,this._payloadLength=0,this._mask=void 0,this._fragmented=0,this._masked=!1,this._fin=!1,this._opcode=0,this._totalPayloadLength=0,this._messageLength=0,this._fragments=[],this._errored=!1,this._loop=!1,this._state=0}_write(e,t,i){if(8===this._opcode&&0==this._state)return i();this._bufferedBytes+=e.length,this._buffers.push(e),this.startLoop(i)}consume(e){if(this._bufferedBytes-=e,e===this._buffers[0].length)return this._buffers.shift();if(e<this._buffers[0].length){let t=this._buffers[0];return this._buffers[0]=new m(t.buffer,t.byteOffset+e,t.length-e),new m(t.buffer,t.byteOffset,e)}let t=Buffer.allocUnsafe(e);do{let i=this._buffers[0],n=t.length-e;e>=i.length?t.set(this._buffers.shift(),n):(t.set(new Uint8Array(i.buffer,i.byteOffset,e),n),this._buffers[0]=new m(i.buffer,i.byteOffset+e,i.length-e)),e-=i.length}while(e>0);return t}startLoop(e){this._loop=!0;do switch(this._state){case 0:this.getInfo(e);break;case 1:this.getPayloadLength16(e);break;case 2:this.getPayloadLength64(e);break;case 3:this.getMask();break;case 4:this.getData(e);break;case 5:case 6:this._loop=!1;return}while(this._loop);this._errored||e()}getInfo(e){if(this._bufferedBytes<2){this._loop=!1;return}let t=this.consume(2);if((48&t[0])!=0){e(this.createError(RangeError,"RSV2 and RSV3 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_2_3"));return}let i=(64&t[0])==64;if(i&&!this._extensions[s.extensionName]){e(this.createError(RangeError,"RSV1 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_1"));return}if(this._fin=(128&t[0])==128,this._opcode=15&t[0],this._payloadLength=127&t[1],0===this._opcode){if(i){e(this.createError(RangeError,"RSV1 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_1"));return}if(!this._fragmented){e(this.createError(RangeError,"invalid opcode 0",!0,1002,"WS_ERR_INVALID_OPCODE"));return}this._opcode=this._fragmented}else if(1===this._opcode||2===this._opcode){if(this._fragmented){e(this.createError(RangeError,`invalid opcode ${this._opcode}`,!0,1002,"WS_ERR_INVALID_OPCODE"));return}this._compressed=i}else if(this._opcode>7&&this._opcode<11){if(!this._fin){e(this.createError(RangeError,"FIN must be set",!0,1002,"WS_ERR_EXPECTED_FIN"));return}if(i){e(this.createError(RangeError,"RSV1 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_1"));return}if(this._payloadLength>125||8===this._opcode&&1===this._payloadLength){e(this.createError(RangeError,`invalid payload length ${this._payloadLength}`,!0,1002,"WS_ERR_INVALID_CONTROL_PAYLOAD_LENGTH"));return}}else{e(this.createError(RangeError,`invalid opcode ${this._opcode}`,!0,1002,"WS_ERR_INVALID_OPCODE"));return}if(this._fin||this._fragmented||(this._fragmented=this._opcode),this._masked=(128&t[1])==128,this._isServer){if(!this._masked){e(this.createError(RangeError,"MASK must be set",!0,1002,"WS_ERR_EXPECTED_MASK"));return}}else if(this._masked){e(this.createError(RangeError,"MASK must be clear",!0,1002,"WS_ERR_UNEXPECTED_MASK"));return}126===this._payloadLength?this._state=1:127===this._payloadLength?this._state=2:this.haveLength(e)}getPayloadLength16(e){if(this._bufferedBytes<2){this._loop=!1;return}this._payloadLength=this.consume(2).readUInt16BE(0),this.haveLength(e)}getPayloadLength64(e){if(this._bufferedBytes<8){this._loop=!1;return}let t=this.consume(8),i=t.readUInt32BE(0);if(i>2097151){e(this.createError(RangeError,"Unsupported WebSocket frame: payload length > 2^53 - 1",!1,1009,"WS_ERR_UNSUPPORTED_DATA_PAYLOAD_LENGTH"));return}this._payloadLength=4294967296*i+t.readUInt32BE(4),this.haveLength(e)}haveLength(e){if(this._payloadLength&&this._opcode<8&&(this._totalPayloadLength+=this._payloadLength,this._totalPayloadLength>this._maxPayload&&this._maxPayload>0)){e(this.createError(RangeError,"Max payload size exceeded",!1,1009,"WS_ERR_UNSUPPORTED_MESSAGE_LENGTH"));return}this._masked?this._state=3:this._state=4}getMask(){if(this._bufferedBytes<4){this._loop=!1;return}this._mask=this.consume(4),this._state=4}getData(e){let t=a;if(this._payloadLength){if(this._bufferedBytes<this._payloadLength){this._loop=!1;return}t=this.consume(this._payloadLength),this._masked&&(this._mask[0]|this._mask[1]|this._mask[2]|this._mask[3])!=0&&u(t,this._mask)}if(this._opcode>7){this.controlMessage(t,e);return}if(this._compressed){this._state=5,this.decompress(t,e);return}t.length&&(this._messageLength=this._totalPayloadLength,this._fragments.push(t)),this.dataMessage(e)}decompress(e,t){this._extensions[s.extensionName].decompress(e,this._fin,(e,i)=>{if(e)return t(e);if(i.length){if(this._messageLength+=i.length,this._messageLength>this._maxPayload&&this._maxPayload>0){t(this.createError(RangeError,"Max payload size exceeded",!1,1009,"WS_ERR_UNSUPPORTED_MESSAGE_LENGTH"));return}this._fragments.push(i)}this.dataMessage(t),0===this._state&&this.startLoop(t)})}dataMessage(e){if(!this._fin){this._state=0;return}let t=this._messageLength,i=this._fragments;if(this._totalPayloadLength=0,this._messageLength=0,this._fragmented=0,this._fragments=[],2===this._opcode){let n;n="nodebuffer"===this._binaryType?c(i,t):"arraybuffer"===this._binaryType?d(c(i,t)):"blob"===this._binaryType?new Blob(i):i,this._allowSynchronousEvents?(this.emit("message",n,!0),this._state=0):(this._state=6,setImmediate(()=>{this.emit("message",n,!0),this._state=0,this.startLoop(e)}))}else{let n=c(i,t);if(!this._skipUTF8Validation&&!h(n)){e(this.createError(Error,"invalid UTF-8 sequence",!0,1007,"WS_ERR_INVALID_UTF8"));return}5===this._state||this._allowSynchronousEvents?(this.emit("message",n,!1),this._state=0):(this._state=6,setImmediate(()=>{this.emit("message",n,!1),this._state=0,this.startLoop(e)}))}}controlMessage(e,t){if(8===this._opcode){if(0===e.length)this._loop=!1,this.emit("conclude",1005,a),this.end();else{let i=e.readUInt16BE(0);if(!p(i)){t(this.createError(RangeError,`invalid status code ${i}`,!0,1002,"WS_ERR_INVALID_CLOSE_CODE"));return}let n=new m(e.buffer,e.byteOffset+2,e.length-2);if(!this._skipUTF8Validation&&!h(n)){t(this.createError(Error,"invalid UTF-8 sequence",!0,1007,"WS_ERR_INVALID_UTF8"));return}this._loop=!1,this.emit("conclude",i,n),this.end()}this._state=0;return}this._allowSynchronousEvents?(this.emit(9===this._opcode?"ping":"pong",e),this._state=0):(this._state=6,setImmediate(()=>{this.emit(9===this._opcode?"ping":"pong",e),this._state=0,this.startLoop(t)}))}createError(e,t,i,n,s){this._loop=!1,this._errored=!0;let r=new e(i?`Invalid WebSocket frame: ${t}`:t);return Error.captureStackTrace(r,this.createError),r.code=s,r[o]=n,r}}e.exports=f},74036:(e,t,i)=>{"use strict";let n;let{Duplex:s}=i(12781),{randomFillSync:r}=i(6113),a=i(97959),{EMPTY_BUFFER:o,kWebSocket:l,NOOP:c}=i(39353),{isBlob:d,isValidStatusCode:u}=i(94568),{mask:p,toBuffer:h}=i(17878),m=Symbol("kByteLength"),f=Buffer.alloc(4),g=8192;class v{constructor(e,t,i){this._extensions=t||{},i&&(this._generateMask=i,this._maskBuffer=Buffer.alloc(4)),this._socket=e,this._firstFragment=!0,this._compress=!1,this._bufferedBytes=0,this._queue=[],this._state=0,this.onerror=c,this[l]=void 0}static frame(e,t){let i,s;let a=!1,o=2,l=!1;t.mask&&(i=t.maskBuffer||f,t.generateMask?t.generateMask(i):(8192===g&&(void 0===n&&(n=Buffer.alloc(8192)),r(n,0,8192),g=0),i[0]=n[g++],i[1]=n[g++],i[2]=n[g++],i[3]=n[g++]),l=(i[0]|i[1]|i[2]|i[3])==0,o=6),"string"==typeof e?s=(!t.mask||l)&&void 0!==t[m]?t[m]:(e=Buffer.from(e)).length:(s=e.length,a=t.mask&&t.readOnly&&!l);let c=s;s>=65536?(o+=8,c=127):s>125&&(o+=2,c=126);let d=Buffer.allocUnsafe(a?s+o:o);return(d[0]=t.fin?128|t.opcode:t.opcode,t.rsv1&&(d[0]|=64),d[1]=c,126===c?d.writeUInt16BE(s,2):127===c&&(d[2]=d[3]=0,d.writeUIntBE(s,4,6)),t.mask)?(d[1]|=128,d[o-4]=i[0],d[o-3]=i[1],d[o-2]=i[2],d[o-1]=i[3],l)?[d,e]:a?(p(e,i,d,o,s),[d]):(p(e,i,e,0,s),[d,e]):[d,e]}close(e,t,i,n){let s;if(void 0===e)s=o;else if("number"==typeof e&&u(e)){if(void 0!==t&&t.length){let i=Buffer.byteLength(t);if(i>123)throw RangeError("The message must not be greater than 123 bytes");(s=Buffer.allocUnsafe(2+i)).writeUInt16BE(e,0),"string"==typeof t?s.write(t,2):s.set(t,2)}else(s=Buffer.allocUnsafe(2)).writeUInt16BE(e,0)}else throw TypeError("First argument must be a valid error code number");let r={[m]:s.length,fin:!0,generateMask:this._generateMask,mask:i,maskBuffer:this._maskBuffer,opcode:8,readOnly:!1,rsv1:!1};0!==this._state?this.enqueue([this.dispatch,s,!1,r,n]):this.sendFrame(v.frame(s,r),n)}ping(e,t,i){let n,s;if("string"==typeof e?(n=Buffer.byteLength(e),s=!1):d(e)?(n=e.size,s=!1):(n=(e=h(e)).length,s=h.readOnly),n>125)throw RangeError("The data size must not be greater than 125 bytes");let r={[m]:n,fin:!0,generateMask:this._generateMask,mask:t,maskBuffer:this._maskBuffer,opcode:9,readOnly:s,rsv1:!1};d(e)?0!==this._state?this.enqueue([this.getBlobData,e,!1,r,i]):this.getBlobData(e,!1,r,i):0!==this._state?this.enqueue([this.dispatch,e,!1,r,i]):this.sendFrame(v.frame(e,r),i)}pong(e,t,i){let n,s;if("string"==typeof e?(n=Buffer.byteLength(e),s=!1):d(e)?(n=e.size,s=!1):(n=(e=h(e)).length,s=h.readOnly),n>125)throw RangeError("The data size must not be greater than 125 bytes");let r={[m]:n,fin:!0,generateMask:this._generateMask,mask:t,maskBuffer:this._maskBuffer,opcode:10,readOnly:s,rsv1:!1};d(e)?0!==this._state?this.enqueue([this.getBlobData,e,!1,r,i]):this.getBlobData(e,!1,r,i):0!==this._state?this.enqueue([this.dispatch,e,!1,r,i]):this.sendFrame(v.frame(e,r),i)}send(e,t,i){let n,s;let r=this._extensions[a.extensionName],o=t.binary?2:1,l=t.compress;"string"==typeof e?(n=Buffer.byteLength(e),s=!1):d(e)?(n=e.size,s=!1):(n=(e=h(e)).length,s=h.readOnly),this._firstFragment?(this._firstFragment=!1,l&&r&&r.params[r._isServer?"server_no_context_takeover":"client_no_context_takeover"]&&(l=n>=r._threshold),this._compress=l):(l=!1,o=0),t.fin&&(this._firstFragment=!0);let c={[m]:n,fin:t.fin,generateMask:this._generateMask,mask:t.mask,maskBuffer:this._maskBuffer,opcode:o,readOnly:s,rsv1:l};d(e)?0!==this._state?this.enqueue([this.getBlobData,e,this._compress,c,i]):this.getBlobData(e,this._compress,c,i):0!==this._state?this.enqueue([this.dispatch,e,this._compress,c,i]):this.dispatch(e,this._compress,c,i)}getBlobData(e,t,i,n){this._bufferedBytes+=i[m],this._state=2,e.arrayBuffer().then(e=>{if(this._socket.destroyed){let e=Error("The socket was closed while the blob was being read");process.nextTick(b,this,e,n);return}this._bufferedBytes-=i[m];let s=h(e);t?this.dispatch(s,t,i,n):(this._state=0,this.sendFrame(v.frame(s,i),n),this.dequeue())}).catch(e=>{process.nextTick(y,this,e,n)})}dispatch(e,t,i,n){if(!t){this.sendFrame(v.frame(e,i),n);return}let s=this._extensions[a.extensionName];this._bufferedBytes+=i[m],this._state=1,s.compress(e,i.fin,(e,t)=>{if(this._socket.destroyed){b(this,Error("The socket was closed while data was being compressed"),n);return}this._bufferedBytes-=i[m],this._state=0,i.readOnly=!1,this.sendFrame(v.frame(t,i),n),this.dequeue()})}dequeue(){for(;0===this._state&&this._queue.length;){let e=this._queue.shift();this._bufferedBytes-=e[3][m],Reflect.apply(e[0],this,e.slice(1))}}enqueue(e){this._bufferedBytes+=e[3][m],this._queue.push(e)}sendFrame(e,t){2===e.length?(this._socket.cork(),this._socket.write(e[0]),this._socket.write(e[1],t),this._socket.uncork()):this._socket.write(e[0],t)}}function b(e,t,i){"function"==typeof i&&i(t);for(let i=0;i<e._queue.length;i++){let n=e._queue[i],s=n[n.length-1];"function"==typeof s&&s(t)}}function y(e,t,i){b(e,t,i),e.onerror(t)}e.exports=v},42504:(e,t,i)=>{"use strict";let{Duplex:n}=i(12781);function s(e){e.emit("close")}function r(){!this.destroyed&&this._writableState.finished&&this.destroy()}function a(e){this.removeListener("error",a),this.destroy(),0===this.listenerCount("error")&&this.emit("error",e)}e.exports=function(e,t){let i=!0,o=new n({...t,autoDestroy:!1,emitClose:!1,objectMode:!1,writableObjectMode:!1});return e.on("message",function(t,i){let n=!i&&o._readableState.objectMode?t.toString():t;o.push(n)||e.pause()}),e.once("error",function(e){o.destroyed||(i=!1,o.destroy(e))}),e.once("close",function(){o.destroyed||o.push(null)}),o._destroy=function(t,n){if(e.readyState===e.CLOSED){n(t),process.nextTick(s,o);return}let r=!1;e.once("error",function(e){r=!0,n(e)}),e.once("close",function(){r||n(t),process.nextTick(s,o)}),i&&e.terminate()},o._final=function(t){if(e.readyState===e.CONNECTING){e.once("open",function(){o._final(t)});return}null!==e._socket&&(e._socket._writableState.finished?(t(),o._readableState.endEmitted&&o.destroy()):(e._socket.once("finish",function(){t()}),e.close()))},o._read=function(){e.isPaused&&e.resume()},o._write=function(t,i,n){if(e.readyState===e.CONNECTING){e.once("open",function(){o._write(t,i,n)});return}e.send(t,n)},o.on("end",r),o.on("error",a),o}},62444:(e,t,i)=>{"use strict";let{tokenChars:n}=i(94568);e.exports={parse:function(e){let t=new Set,i=-1,s=-1,r=0;for(;r<e.length;r++){let a=e.charCodeAt(r);if(-1===s&&1===n[a])-1===i&&(i=r);else if(0!==r&&(32===a||9===a))-1===s&&-1!==i&&(s=r);else if(44===a){if(-1===i)throw SyntaxError(`Unexpected character at index ${r}`);-1===s&&(s=r);let n=e.slice(i,s);if(t.has(n))throw SyntaxError(`The "${n}" subprotocol is duplicated`);t.add(n),i=s=-1}else throw SyntaxError(`Unexpected character at index ${r}`)}if(-1===i||-1!==s)throw SyntaxError("Unexpected end of input");let a=e.slice(i,r);if(t.has(a))throw SyntaxError(`The "${a}" subprotocol is duplicated`);return t.add(a),t}}},94568:(e,t,i)=>{"use strict";let{isUtf8:n}=i(14300),{hasBlob:s}=i(39353);function r(e){let t=e.length,i=0;for(;i<t;)if((128&e[i])==0)i++;else if((224&e[i])==192){if(i+1===t||(192&e[i+1])!=128||(254&e[i])==192)return!1;i+=2}else if((240&e[i])==224){if(i+2>=t||(192&e[i+1])!=128||(192&e[i+2])!=128||224===e[i]&&(224&e[i+1])==128||237===e[i]&&(224&e[i+1])==160)return!1;i+=3}else{if((248&e[i])!=240||i+3>=t||(192&e[i+1])!=128||(192&e[i+2])!=128||(192&e[i+3])!=128||240===e[i]&&(240&e[i+1])==128||244===e[i]&&e[i+1]>143||e[i]>244)return!1;i+=4}return!0}if(e.exports={isBlob:function(e){return s&&"object"==typeof e&&"function"==typeof e.arrayBuffer&&"string"==typeof e.type&&"function"==typeof e.stream&&("Blob"===e[Symbol.toStringTag]||"File"===e[Symbol.toStringTag])},isValidStatusCode:function(e){return e>=1e3&&e<=1014&&1004!==e&&1005!==e&&1006!==e||e>=3e3&&e<=4999},isValidUTF8:r,tokenChars:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,1,1,1,1,1,0,0,1,1,0,1,1,0,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,1,0,1,0]},n)e.exports.isValidUTF8=function(e){return e.length<24?r(e):n(e)};else if(!process.env.WS_NO_UTF_8_VALIDATE)try{let t=i(93739);e.exports.isValidUTF8=function(e){return e.length<32?r(e):t(e)}}catch(e){}},30359:(e,t,i)=>{"use strict";let n=i(82361),s=i(13685),{Duplex:r}=i(12781),{createHash:a}=i(6113),o=i(49964),l=i(97959),c=i(62444),d=i(46342),{GUID:u,kWebSocket:p}=i(39353),h=/^[+/0-9A-Za-z]{22}==$/;class m extends n{constructor(e,t){if(super(),null==(e={allowSynchronousEvents:!0,autoPong:!0,maxPayload:104857600,skipUTF8Validation:!1,perMessageDeflate:!1,handleProtocols:null,clientTracking:!0,verifyClient:null,noServer:!1,backlog:null,server:null,host:null,path:null,port:null,WebSocket:d,...e}).port&&!e.server&&!e.noServer||null!=e.port&&(e.server||e.noServer)||e.server&&e.noServer)throw TypeError('One and only one of the "port", "server", or "noServer" options must be specified');if(null!=e.port?(this._server=s.createServer((e,t)=>{let i=s.STATUS_CODES[426];t.writeHead(426,{"Content-Length":i.length,"Content-Type":"text/plain"}),t.end(i)}),this._server.listen(e.port,e.host,e.backlog,t)):e.server&&(this._server=e.server),this._server){let e=this.emit.bind(this,"connection");this._removeListeners=function(e,t){for(let i of Object.keys(t))e.on(i,t[i]);return function(){for(let i of Object.keys(t))e.removeListener(i,t[i])}}(this._server,{listening:this.emit.bind(this,"listening"),error:this.emit.bind(this,"error"),upgrade:(t,i,n)=>{this.handleUpgrade(t,i,n,e)}})}!0===e.perMessageDeflate&&(e.perMessageDeflate={}),e.clientTracking&&(this.clients=new Set,this._shouldEmitClose=!1),this.options=e,this._state=0}address(){if(this.options.noServer)throw Error('The server is operating in "noServer" mode');return this._server?this._server.address():null}close(e){if(2===this._state){e&&this.once("close",()=>{e(Error("The server is not running"))}),process.nextTick(f,this);return}if(e&&this.once("close",e),1!==this._state){if(this._state=1,this.options.noServer||this.options.server)this._server&&(this._removeListeners(),this._removeListeners=this._server=null),this.clients&&this.clients.size?this._shouldEmitClose=!0:process.nextTick(f,this);else{let e=this._server;this._removeListeners(),this._removeListeners=this._server=null,e.close(()=>{f(this)})}}}shouldHandle(e){if(this.options.path){let t=e.url.indexOf("?");if((-1!==t?e.url.slice(0,t):e.url)!==this.options.path)return!1}return!0}handleUpgrade(e,t,i,n){t.on("error",g);let s=e.headers["sec-websocket-key"],r=e.headers.upgrade,a=+e.headers["sec-websocket-version"];if("GET"!==e.method){b(this,e,t,405,"Invalid HTTP method");return}if(void 0===r||"websocket"!==r.toLowerCase()){b(this,e,t,400,"Invalid Upgrade header");return}if(void 0===s||!h.test(s)){b(this,e,t,400,"Missing or invalid Sec-WebSocket-Key header");return}if(8!==a&&13!==a){b(this,e,t,400,"Missing or invalid Sec-WebSocket-Version header");return}if(!this.shouldHandle(e)){v(t,400);return}let d=e.headers["sec-websocket-protocol"],u=new Set;if(void 0!==d)try{u=c.parse(d)}catch(i){b(this,e,t,400,"Invalid Sec-WebSocket-Protocol header");return}let p=e.headers["sec-websocket-extensions"],m={};if(this.options.perMessageDeflate&&void 0!==p){let i=new l(this.options.perMessageDeflate,!0,this.options.maxPayload);try{let e=o.parse(p);e[l.extensionName]&&(i.accept(e[l.extensionName]),m[l.extensionName]=i)}catch(i){b(this,e,t,400,"Invalid or unacceptable Sec-WebSocket-Extensions header");return}}if(this.options.verifyClient){let r={origin:e.headers[`${8===a?"sec-websocket-origin":"origin"}`],secure:!!(e.socket.authorized||e.socket.encrypted),req:e};if(2===this.options.verifyClient.length){this.options.verifyClient(r,(r,a,o,l)=>{if(!r)return v(t,a||401,o,l);this.completeUpgrade(m,s,u,e,t,i,n)});return}if(!this.options.verifyClient(r))return v(t,401)}this.completeUpgrade(m,s,u,e,t,i,n)}completeUpgrade(e,t,i,n,s,r,c){if(!s.readable||!s.writable)return s.destroy();if(s[p])throw Error("server.handleUpgrade() was called more than once with the same socket, possibly due to a misconfiguration");if(this._state>0)return v(s,503);let d=a("sha1").update(t+u).digest("base64"),h=["HTTP/1.1 101 Switching Protocols","Upgrade: websocket","Connection: Upgrade",`Sec-WebSocket-Accept: ${d}`],m=new this.options.WebSocket(null,void 0,this.options);if(i.size){let e=this.options.handleProtocols?this.options.handleProtocols(i,n):i.values().next().value;e&&(h.push(`Sec-WebSocket-Protocol: ${e}`),m._protocol=e)}if(e[l.extensionName]){let t=e[l.extensionName].params,i=o.format({[l.extensionName]:[t]});h.push(`Sec-WebSocket-Extensions: ${i}`),m._extensions=e}this.emit("headers",h,n),s.write(h.concat("\r\n").join("\r\n")),s.removeListener("error",g),m.setSocket(s,r,{allowSynchronousEvents:this.options.allowSynchronousEvents,maxPayload:this.options.maxPayload,skipUTF8Validation:this.options.skipUTF8Validation}),this.clients&&(this.clients.add(m),m.on("close",()=>{this.clients.delete(m),this._shouldEmitClose&&!this.clients.size&&process.nextTick(f,this)})),c(m,n)}}function f(e){e._state=2,e.emit("close")}function g(){this.destroy()}function v(e,t,i,n){i=i||s.STATUS_CODES[t],n={Connection:"close","Content-Type":"text/html","Content-Length":Buffer.byteLength(i),...n},e.once("finish",e.destroy),e.end(`HTTP/1.1 ${t} ${s.STATUS_CODES[t]}\r
`+Object.keys(n).map(e=>`${e}: ${n[e]}`).join("\r\n")+"\r\n\r\n"+i)}function b(e,t,i,n,s){if(e.listenerCount("wsClientError")){let n=Error(s);Error.captureStackTrace(n,b),e.emit("wsClientError",n,i,t)}else v(i,n,s)}e.exports=m},46342:(e,t,i)=>{"use strict";let n=i(82361),s=i(95687),r=i(13685),a=i(41808),o=i(24404),{randomBytes:l,createHash:c}=i(6113),{Duplex:d,Readable:u}=i(12781),{URL:p}=i(57310),h=i(97959),m=i(83958),f=i(74036),{isBlob:g}=i(94568),{BINARY_TYPES:v,EMPTY_BUFFER:b,GUID:y,kForOnEventAttribute:x,kListener:_,kStatusCode:w,kWebSocket:S,NOOP:k}=i(39353),{EventTarget:{addEventListener:E,removeEventListener:T}}=i(91368),{format:C,parse:R}=i(49964),{toBuffer:O}=i(17878),P=Symbol("kAborted"),j=[8,13],I=["CONNECTING","OPEN","CLOSING","CLOSED"],N=/^[!#$%&'*+\-.0-9A-Z^_`|a-z~]+$/;class D extends n{constructor(e,t,i){super(),this._binaryType=v[0],this._closeCode=1006,this._closeFrameReceived=!1,this._closeFrameSent=!1,this._closeMessage=b,this._closeTimer=null,this._errorEmitted=!1,this._extensions={},this._paused=!1,this._protocol="",this._readyState=D.CONNECTING,this._receiver=null,this._sender=null,this._socket=null,null!==e?(this._bufferedAmount=0,this._isServer=!1,this._redirects=0,void 0===t?t=[]:Array.isArray(t)||("object"==typeof t&&null!==t?(i=t,t=[]):t=[t]),function e(t,i,n,a){let o,d,u,m;let f={allowSynchronousEvents:!0,autoPong:!0,protocolVersion:j[1],maxPayload:104857600,skipUTF8Validation:!1,perMessageDeflate:!0,followRedirects:!1,maxRedirects:10,...a,socketPath:void 0,hostname:void 0,protocol:void 0,timeout:void 0,method:"GET",host:void 0,path:void 0,port:void 0};if(t._autoPong=f.autoPong,!j.includes(f.protocolVersion))throw RangeError(`Unsupported protocol version: ${f.protocolVersion} (supported versions: ${j.join(", ")})`);if(i instanceof p)o=i;else try{o=new p(i)}catch(e){throw SyntaxError(`Invalid URL: ${i}`)}"http:"===o.protocol?o.protocol="ws:":"https:"===o.protocol&&(o.protocol="wss:"),t._url=o.href;let g="wss:"===o.protocol,v="ws+unix:"===o.protocol;if("ws:"===o.protocol||g||v?v&&!o.pathname?d="The URL's pathname is empty":o.hash&&(d="The URL contains a fragment identifier"):d='The URL\'s protocol must be one of "ws:", "wss:", "http:", "https", or "ws+unix:"',d){let e=SyntaxError(d);if(0===t._redirects)throw e;A(t,e);return}let b=g?443:80,x=l(16).toString("base64"),_=g?s.request:r.request,w=new Set;if(f.createConnection=f.createConnection||(g?M:L),f.defaultPort=f.defaultPort||b,f.port=o.port||b,f.host=o.hostname.startsWith("[")?o.hostname.slice(1,-1):o.hostname,f.headers={...f.headers,"Sec-WebSocket-Version":f.protocolVersion,"Sec-WebSocket-Key":x,Connection:"Upgrade",Upgrade:"websocket"},f.path=o.pathname+o.search,f.timeout=f.handshakeTimeout,f.perMessageDeflate&&(u=new h(!0!==f.perMessageDeflate?f.perMessageDeflate:{},!1,f.maxPayload),f.headers["Sec-WebSocket-Extensions"]=C({[h.extensionName]:u.offer()})),n.length){for(let e of n){if("string"!=typeof e||!N.test(e)||w.has(e))throw SyntaxError("An invalid or duplicated subprotocol was specified");w.add(e)}f.headers["Sec-WebSocket-Protocol"]=n.join(",")}if(f.origin&&(f.protocolVersion<13?f.headers["Sec-WebSocket-Origin"]=f.origin:f.headers.Origin=f.origin),(o.username||o.password)&&(f.auth=`${o.username}:${o.password}`),v){let e=f.path.split(":");f.socketPath=e[0],f.path=e[1]}if(f.followRedirects){if(0===t._redirects){t._originalIpc=v,t._originalSecure=g,t._originalHostOrSocketPath=v?f.socketPath:o.host;let e=a&&a.headers;if(a={...a,headers:{}},e)for(let[t,i]of Object.entries(e))a.headers[t.toLowerCase()]=i}else if(0===t.listenerCount("redirect")){let e=v?!!t._originalIpc&&f.socketPath===t._originalHostOrSocketPath:!t._originalIpc&&o.host===t._originalHostOrSocketPath;e&&(!t._originalSecure||g)||(delete f.headers.authorization,delete f.headers.cookie,e||delete f.headers.host,f.auth=void 0)}f.auth&&!a.headers.authorization&&(a.headers.authorization="Basic "+Buffer.from(f.auth).toString("base64")),m=t._req=_(f),t._redirects&&t.emit("redirect",t.url,m)}else m=t._req=_(f);f.timeout&&m.on("timeout",()=>{U(t,m,"Opening handshake has timed out")}),m.on("error",e=>{null===m||m[P]||(m=t._req=null,A(t,e))}),m.on("response",s=>{let r=s.headers.location,o=s.statusCode;if(r&&f.followRedirects&&o>=300&&o<400){let s;if(++t._redirects>f.maxRedirects){U(t,m,"Maximum redirects exceeded");return}m.abort();try{s=new p(r,i)}catch(e){A(t,SyntaxError(`Invalid URL: ${r}`));return}e(t,s,n,a)}else t.emit("unexpected-response",m,s)||U(t,m,`Unexpected server response: ${s.statusCode}`)}),m.on("upgrade",(e,i,n)=>{let s;if(t.emit("upgrade",e),t.readyState!==D.CONNECTING)return;m=t._req=null;let r=e.headers.upgrade;if(void 0===r||"websocket"!==r.toLowerCase()){U(t,i,"Invalid Upgrade header");return}let a=c("sha1").update(x+y).digest("base64");if(e.headers["sec-websocket-accept"]!==a){U(t,i,"Invalid Sec-WebSocket-Accept header");return}let o=e.headers["sec-websocket-protocol"];if(void 0!==o?w.size?w.has(o)||(s="Server sent an invalid subprotocol"):s="Server sent a subprotocol but none was requested":w.size&&(s="Server sent no subprotocol"),s){U(t,i,s);return}o&&(t._protocol=o);let l=e.headers["sec-websocket-extensions"];if(void 0!==l){let e;if(!u){U(t,i,"Server sent a Sec-WebSocket-Extensions header but no extension was requested");return}try{e=R(l)}catch(e){U(t,i,"Invalid Sec-WebSocket-Extensions header");return}let n=Object.keys(e);if(1!==n.length||n[0]!==h.extensionName){U(t,i,"Server indicated an extension that was not requested");return}try{u.accept(e[h.extensionName])}catch(e){U(t,i,"Invalid Sec-WebSocket-Extensions header");return}t._extensions[h.extensionName]=u}t.setSocket(i,n,{allowSynchronousEvents:f.allowSynchronousEvents,generateMask:f.generateMask,maxPayload:f.maxPayload,skipUTF8Validation:f.skipUTF8Validation})}),f.finishRequest?f.finishRequest(m,t):m.end()}(this,e,t,i)):(this._autoPong=i.autoPong,this._isServer=!0)}get binaryType(){return this._binaryType}set binaryType(e){v.includes(e)&&(this._binaryType=e,this._receiver&&(this._receiver._binaryType=e))}get bufferedAmount(){return this._socket?this._socket._writableState.length+this._sender._bufferedBytes:this._bufferedAmount}get extensions(){return Object.keys(this._extensions).join()}get isPaused(){return this._paused}get onclose(){return null}get onerror(){return null}get onopen(){return null}get onmessage(){return null}get protocol(){return this._protocol}get readyState(){return this._readyState}get url(){return this._url}setSocket(e,t,i){let n=new m({allowSynchronousEvents:i.allowSynchronousEvents,binaryType:this.binaryType,extensions:this._extensions,isServer:this._isServer,maxPayload:i.maxPayload,skipUTF8Validation:i.skipUTF8Validation}),s=new f(e,this._extensions,i.generateMask);this._receiver=n,this._sender=s,this._socket=e,n[S]=this,s[S]=this,e[S]=this,n.on("conclude",B),n.on("drain",$),n.on("error",q),n.on("message",W),n.on("ping",z),n.on("pong",H),s.onerror=G,e.setTimeout&&e.setTimeout(0),e.setNoDelay&&e.setNoDelay(),t.length>0&&e.unshift(t),e.on("close",Y),e.on("data",Q),e.on("end",X),e.on("error",Z),this._readyState=D.OPEN,this.emit("open")}emitClose(){if(!this._socket){this._readyState=D.CLOSED,this.emit("close",this._closeCode,this._closeMessage);return}this._extensions[h.extensionName]&&this._extensions[h.extensionName].cleanup(),this._receiver.removeAllListeners(),this._readyState=D.CLOSED,this.emit("close",this._closeCode,this._closeMessage)}close(e,t){if(this.readyState!==D.CLOSED){if(this.readyState===D.CONNECTING){U(this,this._req,"WebSocket was closed before the connection was established");return}if(this.readyState===D.CLOSING){this._closeFrameSent&&(this._closeFrameReceived||this._receiver._writableState.errorEmitted)&&this._socket.end();return}this._readyState=D.CLOSING,this._sender.close(e,t,!this._isServer,e=>{!e&&(this._closeFrameSent=!0,(this._closeFrameReceived||this._receiver._writableState.errorEmitted)&&this._socket.end())}),J(this)}}pause(){this.readyState!==D.CONNECTING&&this.readyState!==D.CLOSED&&(this._paused=!0,this._socket.pause())}ping(e,t,i){if(this.readyState===D.CONNECTING)throw Error("WebSocket is not open: readyState 0 (CONNECTING)");if("function"==typeof e?(i=e,e=t=void 0):"function"==typeof t&&(i=t,t=void 0),"number"==typeof e&&(e=e.toString()),this.readyState!==D.OPEN){F(this,e,i);return}void 0===t&&(t=!this._isServer),this._sender.ping(e||b,t,i)}pong(e,t,i){if(this.readyState===D.CONNECTING)throw Error("WebSocket is not open: readyState 0 (CONNECTING)");if("function"==typeof e?(i=e,e=t=void 0):"function"==typeof t&&(i=t,t=void 0),"number"==typeof e&&(e=e.toString()),this.readyState!==D.OPEN){F(this,e,i);return}void 0===t&&(t=!this._isServer),this._sender.pong(e||b,t,i)}resume(){this.readyState!==D.CONNECTING&&this.readyState!==D.CLOSED&&(this._paused=!1,this._receiver._writableState.needDrain||this._socket.resume())}send(e,t,i){if(this.readyState===D.CONNECTING)throw Error("WebSocket is not open: readyState 0 (CONNECTING)");if("function"==typeof t&&(i=t,t={}),"number"==typeof e&&(e=e.toString()),this.readyState!==D.OPEN){F(this,e,i);return}let n={binary:"string"!=typeof e,mask:!this._isServer,compress:!0,fin:!0,...t};this._extensions[h.extensionName]||(n.compress=!1),this._sender.send(e||b,n,i)}terminate(){if(this.readyState!==D.CLOSED){if(this.readyState===D.CONNECTING){U(this,this._req,"WebSocket was closed before the connection was established");return}this._socket&&(this._readyState=D.CLOSING,this._socket.destroy())}}}function A(e,t){e._readyState=D.CLOSING,e._errorEmitted=!0,e.emit("error",t),e.emitClose()}function L(e){return e.path=e.socketPath,a.connect(e)}function M(e){return e.path=void 0,e.servername||""===e.servername||(e.servername=a.isIP(e.host)?"":e.host),o.connect(e)}function U(e,t,i){e._readyState=D.CLOSING;let n=Error(i);Error.captureStackTrace(n,U),t.setHeader?(t[P]=!0,t.abort(),t.socket&&!t.socket.destroyed&&t.socket.destroy(),process.nextTick(A,e,n)):(t.destroy(n),t.once("error",e.emit.bind(e,"error")),t.once("close",e.emitClose.bind(e)))}function F(e,t,i){if(t){let i=g(t)?t.size:O(t).length;e._socket?e._sender._bufferedBytes+=i:e._bufferedAmount+=i}if(i){let t=Error(`WebSocket is not open: readyState ${e.readyState} (${I[e.readyState]})`);process.nextTick(i,t)}}function B(e,t){let i=this[S];i._closeFrameReceived=!0,i._closeMessage=t,i._closeCode=e,void 0!==i._socket[S]&&(i._socket.removeListener("data",Q),process.nextTick(K,i._socket),1005===e?i.close():i.close(e,t))}function $(){let e=this[S];e.isPaused||e._socket.resume()}function q(e){let t=this[S];void 0!==t._socket[S]&&(t._socket.removeListener("data",Q),process.nextTick(K,t._socket),t.close(e[w])),t._errorEmitted||(t._errorEmitted=!0,t.emit("error",e))}function V(){this[S].emitClose()}function W(e,t){this[S].emit("message",e,t)}function z(e){let t=this[S];t._autoPong&&t.pong(e,!this._isServer,k),t.emit("ping",e)}function H(e){this[S].emit("pong",e)}function K(e){e.resume()}function G(e){let t=this[S];t.readyState===D.CLOSED||(t.readyState===D.OPEN&&(t._readyState=D.CLOSING,J(t)),this._socket.end(),t._errorEmitted||(t._errorEmitted=!0,t.emit("error",e)))}function J(e){e._closeTimer=setTimeout(e._socket.destroy.bind(e._socket),3e4)}function Y(){let e;let t=this[S];this.removeListener("close",Y),this.removeListener("data",Q),this.removeListener("end",X),t._readyState=D.CLOSING,this._readableState.endEmitted||t._closeFrameReceived||t._receiver._writableState.errorEmitted||null===(e=t._socket.read())||t._receiver.write(e),t._receiver.end(),this[S]=void 0,clearTimeout(t._closeTimer),t._receiver._writableState.finished||t._receiver._writableState.errorEmitted?t.emitClose():(t._receiver.on("error",V),t._receiver.on("finish",V))}function Q(e){this[S]._receiver.write(e)||this.pause()}function X(){let e=this[S];e._readyState=D.CLOSING,e._receiver.end(),this.end()}function Z(){let e=this[S];this.removeListener("error",Z),this.on("error",k),e&&(e._readyState=D.CLOSING,this.destroy())}Object.defineProperty(D,"CONNECTING",{enumerable:!0,value:I.indexOf("CONNECTING")}),Object.defineProperty(D.prototype,"CONNECTING",{enumerable:!0,value:I.indexOf("CONNECTING")}),Object.defineProperty(D,"OPEN",{enumerable:!0,value:I.indexOf("OPEN")}),Object.defineProperty(D.prototype,"OPEN",{enumerable:!0,value:I.indexOf("OPEN")}),Object.defineProperty(D,"CLOSING",{enumerable:!0,value:I.indexOf("CLOSING")}),Object.defineProperty(D.prototype,"CLOSING",{enumerable:!0,value:I.indexOf("CLOSING")}),Object.defineProperty(D,"CLOSED",{enumerable:!0,value:I.indexOf("CLOSED")}),Object.defineProperty(D.prototype,"CLOSED",{enumerable:!0,value:I.indexOf("CLOSED")}),["binaryType","bufferedAmount","extensions","isPaused","protocol","readyState","url"].forEach(e=>{Object.defineProperty(D.prototype,e,{enumerable:!0})}),["open","error","close","message"].forEach(e=>{Object.defineProperty(D.prototype,`on${e}`,{enumerable:!0,get(){for(let t of this.listeners(e))if(t[x])return t[_];return null},set(t){for(let t of this.listeners(e))if(t[x]){this.removeListener(e,t);break}"function"==typeof t&&this.addEventListener(e,t,{[x]:!0})}})}),D.prototype.addEventListener=E,D.prototype.removeEventListener=T,e.exports=D},2053:(e,t,i)=>{"use strict";i.d(t,{a:()=>i4});var n,s,r,a,o,l,c,d,u,p,h,m,f,g,v,b,y,x,_,w={InvalidSecretKey:"clerk_key_invalid"},S={TokenExpired:"token-expired",TokenInvalid:"token-invalid",TokenInvalidAlgorithm:"token-invalid-algorithm",TokenInvalidAuthorizedParties:"token-invalid-authorized-parties",TokenInvalidSignature:"token-invalid-signature",TokenNotActiveYet:"token-not-active-yet",TokenVerificationFailed:"token-verification-failed",InvalidSecretKey:"secret-key-invalid",LocalJWKMissing:"jwk-local-missing",RemoteJWKFailedToLoad:"jwk-remote-failed-to-load",JWKFailedToResolve:"jwk-failed-to-resolve",JWKKidMismatch:"jwk-kid-mismatch"},k={ContactSupport:"Contact support@clerk.com",EnsureClerkJWT:"Make sure that this is a valid Clerk generate JWT.",SetClerkJWTKey:"Set the CLERK_JWT_KEY environment variable.",SetClerkSecretKey:"Set the CLERK_SECRET_KEY environment variable."},E=class e extends Error{constructor({action:t,message:i,reason:n}){super(i),Object.setPrototypeOf(this,e.prototype),this.reason=n,this.message=i,this.action=t}getFullMessage(){return`${[this.message,this.action].filter(e=>e).join(" ")} (reason=${this.reason}, token-carrier=${this.tokenCarrier})`}},T=class extends Error{},C=i(6005),R=e=>"undefined"!=typeof atob&&"function"==typeof atob?atob(e):"undefined"!=typeof global&&global.Buffer?new global.Buffer(e,"base64").toString():e,O=(Object.getOwnPropertyDescriptor,Object.getOwnPropertyNames,Object.prototype.hasOwnProperty,e=>{throw TypeError(e)}),P=(e,t,i)=>t.has(e)||O("Cannot "+i),j=(e,t,i)=>(P(e,t,"read from private field"),i?i.call(e):t.get(e)),I=(e,t,i)=>t.has(e)?O("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,i),N=(e,t,i,n)=>(P(e,t,"write to private field"),n?n.call(e,i):t.set(e,i),i),D=(e,t,i)=>(P(e,t,"access private method"),i),A=fetch.bind(globalThis),L={crypto:C.webcrypto,fetch:A,AbortController:globalThis.AbortController,Blob:globalThis.Blob,FormData:globalThis.FormData,Headers:globalThis.Headers,Request:globalThis.Request,Response:globalThis.Response},M={parse:(e,t)=>(function(e,t,i={}){if(!t.codes){t.codes={};for(let e=0;e<t.chars.length;++e)t.codes[t.chars[e]]=e}if(!i.loose&&e.length*t.bits&7)throw SyntaxError("Invalid padding");let n=e.length;for(;"="===e[n-1];)if(--n,!i.loose&&!((e.length-n)*t.bits&7))throw SyntaxError("Invalid padding");let s=new(i.out??Uint8Array)(n*t.bits/8|0),r=0,a=0,o=0;for(let i=0;i<n;++i){let n=t.codes[e[i]];if(void 0===n)throw SyntaxError("Invalid character "+e[i]);a=a<<t.bits|n,(r+=t.bits)>=8&&(r-=8,s[o++]=255&a>>r)}if(r>=t.bits||255&a<<8-r)throw SyntaxError("Unexpected end of data");return s})(e,U,t),stringify:(e,t)=>(function(e,t,i={}){let{pad:n=!0}=i,s=(1<<t.bits)-1,r="",a=0,o=0;for(let i=0;i<e.length;++i)for(o=o<<8|255&e[i],a+=8;a>t.bits;)a-=t.bits,r+=t.chars[s&o>>a];if(a&&(r+=t.chars[s&o<<t.bits-a]),n)for(;r.length*t.bits&7;)r+="=";return r})(e,U,t)},U={chars:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bits:6},F={RS256:"SHA-256",RS384:"SHA-384",RS512:"SHA-512"},B="RSASSA-PKCS1-v1_5",$={RS256:B,RS384:B,RS512:B},q=Object.keys(F);function V(e){let t=F[e],i=$[e];if(!t||!i)throw Error(`Unsupported algorithm ${e}, expected one of ${q.join(",")}.`);return{hash:{name:F[e]},name:$[e]}}var W=e=>Array.isArray(e)&&e.length>0&&e.every(e=>"string"==typeof e),z=(e,t)=>{let i=[t].flat().filter(e=>!!e),n=[e].flat().filter(e=>!!e);if(i.length>0&&n.length>0){if("string"==typeof e){if(!i.includes(e))throw new E({action:k.EnsureClerkJWT,reason:S.TokenVerificationFailed,message:`Invalid JWT audience claim (aud) ${JSON.stringify(e)}. Is not included in "${JSON.stringify(i)}".`})}else if(W(e)&&!e.some(e=>i.includes(e)))throw new E({action:k.EnsureClerkJWT,reason:S.TokenVerificationFailed,message:`Invalid JWT audience claim array (aud) ${JSON.stringify(e)}. Is not included in "${JSON.stringify(i)}".`})}},H=e=>{if(void 0!==e&&"JWT"!==e)throw new E({action:k.EnsureClerkJWT,reason:S.TokenInvalid,message:`Invalid JWT type ${JSON.stringify(e)}. Expected "JWT".`})},K=e=>{if(!q.includes(e))throw new E({action:k.EnsureClerkJWT,reason:S.TokenInvalidAlgorithm,message:`Invalid JWT algorithm ${JSON.stringify(e)}. Supported: ${q}.`})},G=e=>{if("string"!=typeof e)throw new E({action:k.EnsureClerkJWT,reason:S.TokenVerificationFailed,message:`Subject claim (sub) is required and must be a string. Received ${JSON.stringify(e)}.`})},J=(e,t)=>{if(e&&t&&0!==t.length&&!t.includes(e))throw new E({reason:S.TokenInvalidAuthorizedParties,message:`Invalid JWT Authorized party claim (azp) ${JSON.stringify(e)}. Expected "${t}".`})},Y=(e,t)=>{if("number"!=typeof e)throw new E({action:k.EnsureClerkJWT,reason:S.TokenVerificationFailed,message:`Invalid JWT expiry date claim (exp) ${JSON.stringify(e)}. Expected number.`});let i=new Date(Date.now()),n=new Date(0);if(n.setUTCSeconds(e),n.getTime()<=i.getTime()-t)throw new E({reason:S.TokenExpired,message:`JWT is expired. Expiry date: ${n.toUTCString()}, Current date: ${i.toUTCString()}.`})},Q=(e,t)=>{if(void 0===e)return;if("number"!=typeof e)throw new E({action:k.EnsureClerkJWT,reason:S.TokenVerificationFailed,message:`Invalid JWT not before date claim (nbf) ${JSON.stringify(e)}. Expected number.`});let i=new Date(Date.now()),n=new Date(0);if(n.setUTCSeconds(e),n.getTime()>i.getTime()+t)throw new E({reason:S.TokenNotActiveYet,message:`JWT cannot be used prior to not before date claim (nbf). Not before date: ${n.toUTCString()}; Current date: ${i.toUTCString()};`})},X=(e,t)=>{if(void 0===e)return;if("number"!=typeof e)throw new E({action:k.EnsureClerkJWT,reason:S.TokenVerificationFailed,message:`Invalid JWT issued at date claim (iat) ${JSON.stringify(e)}. Expected number.`});let i=new Date(Date.now()),n=new Date(0);if(n.setUTCSeconds(e),n.getTime()>i.getTime()+t)throw new E({reason:S.TokenNotActiveYet,message:`JWT issued at date claim (iat) is in the future. Issued at date: ${n.toUTCString()}; Current date: ${i.toUTCString()};`})};function Z(e,t,i){if("object"==typeof e)return L.crypto.subtle.importKey("jwk",e,t,!1,[i]);let n=function(e){let t=R(e.replace(/-----BEGIN.*?-----/g,"").replace(/-----END.*?-----/g,"").replace(/\s/g,"")),i=new Uint8Array(new ArrayBuffer(t.length));for(let e=0,n=t.length;e<n;e++)i[e]=t.charCodeAt(e);return i}(e),s="sign"===i?"pkcs8":"spki";return L.crypto.subtle.importKey(s,n,t,!1,[i])}async function ee(e,t){let{header:i,signature:n,raw:s}=e,r=new TextEncoder().encode([s.header,s.payload].join(".")),a=V(i.alg);try{let e=await Z(t,a,"verify");return{data:await L.crypto.subtle.verify(a.name,e,n,r)}}catch(e){return{errors:[new E({reason:S.TokenInvalidSignature,message:e?.message})]}}}function et(e){let t=(e||"").toString().split(".");if(3!==t.length)return{errors:[new E({reason:S.TokenInvalid,message:"Invalid JWT form. A JWT consists of three parts separated by dots."})]};let[i,n,s]=t,r=new TextDecoder,a=JSON.parse(r.decode(M.parse(i,{loose:!0})));return{data:{header:a,payload:JSON.parse(r.decode(M.parse(n,{loose:!0}))),signature:M.parse(s,{loose:!0}),raw:{header:i,payload:n,signature:s,text:e}}}}async function ei(e,t){let{audience:i,authorizedParties:n,clockSkewInMs:s,key:r}=t,a=s||5e3,{data:o,errors:l}=et(e);if(l)return{errors:l};let{header:c,payload:d}=o;try{let{typ:e,alg:t}=c;H(e),K(t);let{azp:s,sub:r,aud:o,iat:l,exp:u,nbf:p}=d;G(r),z([o],[i]),J(s,n),Y(u,a),Q(p,a),X(l,a)}catch(e){return{errors:[e]}}let{data:u,errors:p}=await ee(o,r);return p?{errors:[new E({action:k.EnsureClerkJWT,reason:S.TokenVerificationFailed,message:`Error verifying JWT signature. ${p[0]}`})]}:u?{data:d}:{errors:[new E({reason:S.TokenInvalidSignature,message:"JWT signature is invalid."})]}}function en(e){var t,i,n,s,r;return{code:e.code,message:e.message,longMessage:e.long_message,meta:{paramName:null==(t=null==e?void 0:e.meta)?void 0:t.param_name,sessionId:null==(i=null==e?void 0:e.meta)?void 0:i.session_id,emailAddresses:null==(n=null==e?void 0:e.meta)?void 0:n.email_addresses,identifiers:null==(s=null==e?void 0:e.meta)?void 0:s.identifiers,zxcvbn:null==(r=null==e?void 0:e.meta)?void 0:r.zxcvbn}}}var es=class e extends Error{constructor(t,{data:i,status:n,clerkTraceId:s}){super(t),this.toString=()=>{let e=`[${this.name}]
Message:${this.message}
Status:${this.status}
Serialized errors: ${this.errors.map(e=>JSON.stringify(e))}`;return this.clerkTraceId&&(e+=`
Clerk Trace ID: ${this.clerkTraceId}`),e},Object.setPrototypeOf(this,e.prototype),this.status=n,this.message=t,this.clerkTraceId=s,this.clerkError=!0,this.errors=function(e=[]){return e.length>0?e.map(en):[]}(i)}},er=Object.freeze({InvalidProxyUrlErrorMessage:"The proxyUrl passed to Clerk is invalid. The expected value for proxyUrl is an absolute URL or a relative path with a leading '/'. (key={{url}})",InvalidPublishableKeyErrorMessage:"The publishableKey passed to Clerk is invalid. You can get your Publishable key at https://dashboard.clerk.com/last-active?path=api-keys. (key={{key}})",MissingPublishableKeyErrorMessage:"Missing publishableKey. You can get your key at https://dashboard.clerk.com/last-active?path=api-keys.",MissingSecretKeyErrorMessage:"Missing secretKey. You can get your key at https://dashboard.clerk.com/last-active?path=api-keys.",MissingClerkProvider:"{{source}} can only be used within the <ClerkProvider /> component. Learn more: https://clerk.com/docs/components/clerk-provider"}),ea=i(51241);async function eo(e,t=1,i=5){try{return await e()}catch(s){var n;if(t>=i)throw s;return await (n=2**t*100,new Promise(e=>setTimeout(e,n))),eo(e,t+1,i)}}var el=e=>"undefined"!=typeof btoa&&"function"==typeof btoa?btoa(e):"undefined"!=typeof global&&global.Buffer?new global.Buffer(e).toString("base64"):e,ec=[".lcl.dev",".lclstage.dev",".lclclerk.com"],ed=[".lcl.dev",".stg.dev",".lclstage.dev",".stgstage.dev",".dev.lclclerk.com",".stg.lclclerk.com",".accounts.lclclerk.com","accountsstage.dev","accounts.dev"],eu=[".lcl.dev","lclstage.dev",".lclclerk.com",".accounts.lclclerk.com"],ep=[".accountsstage.dev"],eh="https://api.clerk.com",em="pk_live_";function ef(e,t={}){if(!(e=e||"")||!function(e){let t=(e=e||"").startsWith(em)||e.startsWith("pk_test_"),i=R(e.split("_")[2]||"").endsWith("$");return t&&i}(e)){if(t.fatal)throw Error("Publishable key not valid.");return null}let i=e.startsWith(em)?"production":"development",n=R(e.split("_")[2]);return n=n.slice(0,-1),t.proxyUrl?n=t.proxyUrl:"development"!==i&&t.domain&&(n=`clerk.${t.domain}`),{instanceType:i,frontendApi:n}}async function eg(e,t=globalThis.crypto.subtle){let i=new TextEncoder().encode(e);return el(String.fromCharCode(...new Uint8Array(await t.digest("sha-1",i)))).replace(/\+/gi,"-").replace(/\//gi,"_").substring(0,8)}var ev=(e,t)=>`${e}_${t}`,eb=()=>!1,ey=()=>{try{return!0}catch(e){}return!1},ex=new Set,e_=(e,t,i)=>{let n=eb()||ey(),s=null!=i?i:e;ex.has(s)||n||(ex.add(s),console.warn(`Clerk - DEPRECATION WARNING: "${e}" is deprecated and will be removed in the next major release.
${t}`))},ew={"A1.10min":10,"A2.1hr":60,"A3.4hr":240,"A4.1day":1440,"A5.1wk":10080},eS=new Set(Object.keys(ew)),ek=new Set(["L1.firstFactor","L2.secondFactor","L3.multiFactor"]),eE=e=>eS.has(e),eT=e=>ek.has(e),eC=(e,t)=>{let{orgId:i,orgRole:n,orgPermissions:s}=t;return(e.role||e.permission)&&i&&n&&s?e.permission?s.includes(e.permission):e.role?n===e.role:null:null},eR=(e,{__experimental_factorVerificationAge:t})=>{if(!e.__experimental_assurance||!t)return null;let{level:i,maxAge:n}=e.__experimental_assurance;if(!eT(i)||!eE(n))return null;let[s,r]=t,a=ew[n],o=-1!==s?a>s:null,l=-1!==r?a>r:null;switch(i){case"L1.firstFactor":return o;case"L2.secondFactor":return -1!==r?l:o;case"L3.multiFactor":return -1===r?o:o&&l}},eO=e=>t=>{if(!e.userId)return!1;let i=eC(t,e),n=eR(t,e);return[i,n].some(e=>null===e)?[i,n].some(e=>!0===e):[i,n].every(e=>!0===e)},eP=i(21791),ej="https://api.clerk.com",eI={Session:"__session",Refresh:"__refresh",ClientUat:"__client_uat",Handshake:"__clerk_handshake",DevBrowser:"__clerk_db_jwt",RedirectCount:"__clerk_redirect_count"},eN={ClerkSynced:"__clerk_synced",ClerkRedirectUrl:"__clerk_redirect_url",DevBrowser:eI.DevBrowser,Handshake:eI.Handshake,HandshakeHelp:"__clerk_help",LegacyDevBrowser:"__dev_session"},eD={Attributes:{AuthToken:"__clerkAuthToken",AuthSignature:"__clerkAuthSignature",AuthStatus:"__clerkAuthStatus",AuthReason:"__clerkAuthReason",AuthMessage:"__clerkAuthMessage",ClerkUrl:"__clerkUrl"},Cookies:eI,Headers:{AuthToken:"x-clerk-auth-token",AuthSignature:"x-clerk-auth-signature",AuthStatus:"x-clerk-auth-status",AuthReason:"x-clerk-auth-reason",AuthMessage:"x-clerk-auth-message",ClerkUrl:"x-clerk-clerk-url",EnableDebug:"x-clerk-debug",ClerkRequestData:"x-clerk-request-data",ClerkRedirectTo:"x-clerk-redirect-to",CloudFrontForwardedProto:"cloudfront-forwarded-proto",Authorization:"authorization",ForwardedPort:"x-forwarded-port",ForwardedProto:"x-forwarded-proto",ForwardedHost:"x-forwarded-host",Accept:"accept",Referrer:"referer",UserAgent:"user-agent",Origin:"origin",Host:"host",ContentType:"content-type",SecFetchDest:"sec-fetch-dest",Location:"location",CacheControl:"cache-control"},ContentTypes:{Json:"application/json"},QueryParameters:eN},eA=class{constructor(e){this.request=e}requireId(e){if(!e)throw Error("A valid resource ID is required.")}},eL=RegExp("(?<!:)/{1,}","g");function eM(...e){return e.filter(e=>e).join("/").replace(eL,"/")}var eU="/allowlist_identifiers",eF=class extends eA{async getAllowlistIdentifierList(){return this.request({method:"GET",path:eU,queryParams:{paginated:!0}})}async createAllowlistIdentifier(e){return this.request({method:"POST",path:eU,bodyParams:e})}async deleteAllowlistIdentifier(e){return this.requireId(e),this.request({method:"DELETE",path:eM(eU,e)})}},eB="/clients",e$=class extends eA{async getClientList(e={}){return this.request({method:"GET",path:eB,queryParams:{...e,paginated:!0}})}async getClient(e){return this.requireId(e),this.request({method:"GET",path:eM(eB,e)})}verifyClient(e){return this.request({method:"POST",path:eM(eB,"verify"),bodyParams:{token:e}})}},eq=class extends eA{async deleteDomain(e){return this.request({method:"DELETE",path:eM("/domains",e)})}},eV="/email_addresses",eW=class extends eA{async getEmailAddress(e){return this.requireId(e),this.request({method:"GET",path:eM(eV,e)})}async createEmailAddress(e){return this.request({method:"POST",path:eV,bodyParams:e})}async updateEmailAddress(e,t={}){return this.requireId(e),this.request({method:"PATCH",path:eM(eV,e),bodyParams:t})}async deleteEmailAddress(e){return this.requireId(e),this.request({method:"DELETE",path:eM(eV,e)})}},ez="/invitations",eH=class extends eA{async getInvitationList(e={}){return this.request({method:"GET",path:ez,queryParams:{...e,paginated:!0}})}async createInvitation(e){return this.request({method:"POST",path:ez,bodyParams:e})}async revokeInvitation(e){return this.requireId(e),this.request({method:"POST",path:eM(ez,e,"revoke")})}},eK="/organizations",eG=class extends eA{async getOrganizationList(e){return this.request({method:"GET",path:eK,queryParams:e})}async createOrganization(e){return this.request({method:"POST",path:eK,bodyParams:e})}async getOrganization(e){let t="organizationId"in e?e.organizationId:e.slug;return this.requireId(t),this.request({method:"GET",path:eM(eK,t)})}async updateOrganization(e,t){return this.requireId(e),this.request({method:"PATCH",path:eM(eK,e),bodyParams:t})}async updateOrganizationLogo(e,t){this.requireId(e);let i=new L.FormData;return i.append("file",t?.file),i.append("uploader_user_id",t?.uploaderUserId),this.request({method:"PUT",path:eM(eK,e,"logo"),formData:i})}async deleteOrganizationLogo(e){return this.requireId(e),this.request({method:"DELETE",path:eM(eK,e,"logo")})}async updateOrganizationMetadata(e,t){return this.requireId(e),this.request({method:"PATCH",path:eM(eK,e,"metadata"),bodyParams:t})}async deleteOrganization(e){return this.request({method:"DELETE",path:eM(eK,e)})}async getOrganizationMembershipList(e){let{organizationId:t,limit:i,offset:n}=e;return this.requireId(t),this.request({method:"GET",path:eM(eK,t,"memberships"),queryParams:{limit:i,offset:n}})}async createOrganizationMembership(e){let{organizationId:t,userId:i,role:n}=e;return this.requireId(t),this.request({method:"POST",path:eM(eK,t,"memberships"),bodyParams:{userId:i,role:n}})}async updateOrganizationMembership(e){let{organizationId:t,userId:i,role:n}=e;return this.requireId(t),this.request({method:"PATCH",path:eM(eK,t,"memberships",i),bodyParams:{role:n}})}async updateOrganizationMembershipMetadata(e){let{organizationId:t,userId:i,publicMetadata:n,privateMetadata:s}=e;return this.request({method:"PATCH",path:eM(eK,t,"memberships",i,"metadata"),bodyParams:{publicMetadata:n,privateMetadata:s}})}async deleteOrganizationMembership(e){let{organizationId:t,userId:i}=e;return this.requireId(t),this.request({method:"DELETE",path:eM(eK,t,"memberships",i)})}async getOrganizationInvitationList(e){let{organizationId:t,status:i,limit:n,offset:s}=e;return this.requireId(t),this.request({method:"GET",path:eM(eK,t,"invitations"),queryParams:{status:i,limit:n,offset:s}})}async createOrganizationInvitation(e){let{organizationId:t,...i}=e;return this.requireId(t),this.request({method:"POST",path:eM(eK,t,"invitations"),bodyParams:{...i}})}async getOrganizationInvitation(e){let{organizationId:t,invitationId:i}=e;return this.requireId(t),this.requireId(i),this.request({method:"GET",path:eM(eK,t,"invitations",i)})}async revokeOrganizationInvitation(e){let{organizationId:t,invitationId:i,requestingUserId:n}=e;return this.requireId(t),this.request({method:"POST",path:eM(eK,t,"invitations",i,"revoke"),bodyParams:{requestingUserId:n}})}},eJ="/phone_numbers",eY=class extends eA{async getPhoneNumber(e){return this.requireId(e),this.request({method:"GET",path:eM(eJ,e)})}async createPhoneNumber(e){return this.request({method:"POST",path:eJ,bodyParams:e})}async updatePhoneNumber(e,t={}){return this.requireId(e),this.request({method:"PATCH",path:eM(eJ,e),bodyParams:t})}async deletePhoneNumber(e){return this.requireId(e),this.request({method:"DELETE",path:eM(eJ,e)})}},eQ="/redirect_urls",eX=class extends eA{async getRedirectUrlList(){return this.request({method:"GET",path:eQ,queryParams:{paginated:!0}})}async getRedirectUrl(e){return this.requireId(e),this.request({method:"GET",path:eM(eQ,e)})}async createRedirectUrl(e){return this.request({method:"POST",path:eQ,bodyParams:e})}async deleteRedirectUrl(e){return this.requireId(e),this.request({method:"DELETE",path:eM(eQ,e)})}},eZ="/sessions",e0=class extends eA{async getSessionList(e={}){return this.request({method:"GET",path:eZ,queryParams:{...e,paginated:!0}})}async getSession(e){return this.requireId(e),this.request({method:"GET",path:eM(eZ,e)})}async revokeSession(e){return this.requireId(e),this.request({method:"POST",path:eM(eZ,e,"revoke")})}async verifySession(e,t){return this.requireId(e),this.request({method:"POST",path:eM(eZ,e,"verify"),bodyParams:{token:t}})}async getToken(e,t){return this.requireId(e),this.request({method:"POST",path:eM(eZ,e,"tokens",t||"")})}async refreshSession(e,t){return this.requireId(e),this.request({method:"POST",path:eM(eZ,e,"refresh"),bodyParams:t})}},e1="/sign_in_tokens",e2=class extends eA{async createSignInToken(e){return this.request({method:"POST",path:e1,bodyParams:e})}async revokeSignInToken(e){return this.requireId(e),this.request({method:"POST",path:eM(e1,e,"revoke")})}},e3="/users",e4=class extends eA{async getUserList(e={}){let{limit:t,offset:i,orderBy:n,...s}=e,[r,a]=await Promise.all([this.request({method:"GET",path:e3,queryParams:e}),this.getCount(s)]);return{data:r,totalCount:a}}async getUser(e){return this.requireId(e),this.request({method:"GET",path:eM(e3,e)})}async createUser(e){return this.request({method:"POST",path:e3,bodyParams:e})}async updateUser(e,t={}){return this.requireId(e),this.request({method:"PATCH",path:eM(e3,e),bodyParams:t})}async updateUserProfileImage(e,t){this.requireId(e);let i=new L.FormData;return i.append("file",t?.file),this.request({method:"POST",path:eM(e3,e,"profile_image"),formData:i})}async updateUserMetadata(e,t){return this.requireId(e),this.request({method:"PATCH",path:eM(e3,e,"metadata"),bodyParams:t})}async deleteUser(e){return this.requireId(e),this.request({method:"DELETE",path:eM(e3,e)})}async getCount(e={}){return this.request({method:"GET",path:eM(e3,"count"),queryParams:e})}async getUserOauthAccessToken(e,t){return this.requireId(e),this.request({method:"GET",path:eM(e3,e,"oauth_access_tokens",t),queryParams:{paginated:!0}})}async disableUserMFA(e){return this.requireId(e),this.request({method:"DELETE",path:eM(e3,e,"mfa")})}async getOrganizationMembershipList(e){let{userId:t,limit:i,offset:n}=e;return this.requireId(t),this.request({method:"GET",path:eM(e3,t,"organization_memberships"),queryParams:{limit:i,offset:n}})}async verifyPassword(e){let{userId:t,password:i}=e;return this.requireId(t),this.request({method:"POST",path:eM(e3,t,"verify_password"),bodyParams:{password:i}})}async verifyTOTP(e){let{userId:t,code:i}=e;return this.requireId(t),this.request({method:"POST",path:eM(e3,t,"verify_totp"),bodyParams:{code:i}})}async banUser(e){return this.requireId(e),this.request({method:"POST",path:eM(e3,e,"ban")})}async unbanUser(e){return this.requireId(e),this.request({method:"POST",path:eM(e3,e,"unban")})}async lockUser(e){return this.requireId(e),this.request({method:"POST",path:eM(e3,e,"lock")})}async unlockUser(e){return this.requireId(e),this.request({method:"POST",path:eM(e3,e,"unlock")})}async deleteUserProfileImage(e){return this.requireId(e),this.request({method:"DELETE",path:eM(e3,e,"profile_image")})}},e5="/saml_connections",e6=class extends eA{async getSamlConnectionList(e={}){return this.request({method:"GET",path:e5,queryParams:e})}async createSamlConnection(e){return this.request({method:"POST",path:e5,bodyParams:e})}async getSamlConnection(e){return this.requireId(e),this.request({method:"GET",path:eM(e5,e)})}async updateSamlConnection(e,t={}){return this.requireId(e),this.request({method:"PATCH",path:eM(e5,e),bodyParams:t})}async deleteSamlConnection(e){return this.requireId(e),this.request({method:"DELETE",path:eM(e5,e)})}},e8=class extends eA{async createTestingToken(){return this.request({method:"POST",path:"/testing_tokens"})}},e9=function({packageName:e,customMessages:t}){let i=e,n={...er,...t};function s(e,t){if(!t)return`${i}: ${e}`;let n=e;for(let i of e.matchAll(/{{([a-zA-Z0-9-_]+)}}/g)){let e=(t[i[1]]||"").toString();n=n.replace(`{{${i[1]}}}`,e)}return`${i}: ${n}`}return{setPackageName({packageName:e}){return"string"==typeof e&&(i=e),this},setMessages({customMessages:e}){return Object.assign(n,e||{}),this},throwInvalidPublishableKeyError(e){throw Error(s(n.InvalidPublishableKeyErrorMessage,e))},throwInvalidProxyUrl(e){throw Error(s(n.InvalidProxyUrlErrorMessage,e))},throwMissingPublishableKeyError(){throw Error(s(n.MissingPublishableKeyErrorMessage))},throwMissingSecretKeyError(){throw Error(s(n.MissingSecretKeyErrorMessage))},throwMissingClerkProviderError(e){throw Error(s(n.MissingClerkProvider,e))},throw(e){throw Error(s(e))}}}({packageName:"@clerk/backend"}),{isDevOrStagingUrl:e7}=function(){let e=new Map;return{isDevOrStagingUrl:t=>{if(!t)return!1;let i="string"==typeof t?t:t.hostname,n=e.get(i);return void 0===n&&(n=ed.some(e=>i.endsWith(e)),e.set(i,n)),n}}}();function te(e){if(!e||"string"!=typeof e)throw Error("Missing Clerk Secret Key. Go to https://dashboard.clerk.com and get your key for your instance.")}var tt=class e{constructor(e,t,i,n,s){this.id=e,this.identifier=t,this.createdAt=i,this.updatedAt=n,this.invitationId=s}static fromJSON(t){return new e(t.id,t.identifier,t.created_at,t.updated_at,t.invitation_id)}},ti=class e{constructor(e,t,i,n,s,r,a,o,l){this.id=e,this.clientId=t,this.userId=i,this.status=n,this.lastActiveAt=s,this.expireAt=r,this.abandonAt=a,this.createdAt=o,this.updatedAt=l}static fromJSON(t){return new e(t.id,t.client_id,t.user_id,t.status,t.last_active_at,t.expire_at,t.abandon_at,t.created_at,t.updated_at)}},tn=class e{constructor(e,t,i,n,s,r,a,o){this.id=e,this.sessionIds=t,this.sessions=i,this.signInId=n,this.signUpId=s,this.lastActiveSessionId=r,this.createdAt=a,this.updatedAt=o}static fromJSON(t){return new e(t.id,t.session_ids,t.sessions.map(e=>ti.fromJSON(e)),t.sign_in_id,t.sign_up_id,t.last_active_session_id,t.created_at,t.updated_at)}},ts=class e{constructor(e,t,i,n){this.object=e,this.id=t,this.slug=i,this.deleted=n}static fromJSON(t){return new e(t.object,t.id||null,t.slug||null,t.deleted)}},tr=class e{constructor(e,t,i,n,s,r,a,o,l,c,d){this.id=e,this.fromEmailName=t,this.emailAddressId=i,this.toEmailAddress=n,this.subject=s,this.body=r,this.bodyPlain=a,this.status=o,this.slug=l,this.data=c,this.deliveredByClerk=d}static fromJSON(t){return new e(t.id,t.from_email_name,t.email_address_id,t.to_email_address,t.subject,t.body,t.body_plain,t.status,t.slug,t.data,t.delivered_by_clerk)}},ta=class e{constructor(e,t){this.id=e,this.type=t}static fromJSON(t){return new e(t.id,t.type)}},to=class e{constructor(e,t,i=null,n=null,s=null,r=null){this.status=e,this.strategy=t,this.externalVerificationRedirectURL=i,this.attempts=n,this.expireAt=s,this.nonce=r}static fromJSON(t){return new e(t.status,t.strategy,t.external_verification_redirect_url?new URL(t.external_verification_redirect_url):null,t.attempts,t.expire_at,t.nonce)}},tl=class e{constructor(e,t,i,n){this.id=e,this.emailAddress=t,this.verification=i,this.linkedTo=n}static fromJSON(t){return new e(t.id,t.email_address,t.verification&&to.fromJSON(t.verification),t.linked_to.map(e=>ta.fromJSON(e)))}},tc=class e{constructor(e,t,i,n,s,r,a,o,l,c,d={},u,p){this.id=e,this.provider=t,this.identificationId=i,this.externalId=n,this.approvedScopes=s,this.emailAddress=r,this.firstName=a,this.lastName=o,this.imageUrl=l,this.username=c,this.publicMetadata=d,this.label=u,this.verification=p}static fromJSON(t){return new e(t.id,t.provider,t.identification_id,t.provider_user_id,t.approved_scopes,t.email_address,t.first_name,t.last_name,t.image_url||"",t.username,t.public_metadata,t.label,t.verification&&to.fromJSON(t.verification))}},td=class e{constructor(e,t,i,n,s,r,a,o){this.id=e,this.emailAddress=t,this.publicMetadata=i,this.createdAt=n,this.updatedAt=s,this.status=r,this.url=a,this.revoked=o}static fromJSON(t){return new e(t.id,t.email_address,t.public_metadata,t.created_at,t.updated_at,t.status,t.url,t.revoked)}},tu={AllowlistIdentifier:"allowlist_identifier",Client:"client",Email:"email",EmailAddress:"email_address",Invitation:"invitation",OauthAccessToken:"oauth_access_token",Organization:"organization",OrganizationInvitation:"organization_invitation",OrganizationMembership:"organization_membership",PhoneNumber:"phone_number",RedirectUrl:"redirect_url",Session:"session",SignInToken:"sign_in_token",SmsMessage:"sms_message",User:"user",Token:"token",TotalCount:"total_count"},tp=class e{constructor(e,t,i,n={},s,r,a){this.externalAccountId=e,this.provider=t,this.token=i,this.publicMetadata=n,this.label=s,this.scopes=r,this.tokenSecret=a}static fromJSON(t){return new e(t.external_account_id,t.provider,t.token,t.public_metadata,t.label||"",t.scopes,t.token_secret)}},th=class e{constructor(e,t,i,n,s,r,a,o,l={},c={},d,u,p){this.id=e,this.name=t,this.slug=i,this.imageUrl=n,this.hasImage=s,this.createdBy=r,this.createdAt=a,this.updatedAt=o,this.publicMetadata=l,this.privateMetadata=c,this.maxAllowedMemberships=d,this.adminDeleteEnabled=u,this.membersCount=p}static fromJSON(t){return new e(t.id,t.name,t.slug,t.image_url||"",t.has_image,t.created_by,t.created_at,t.updated_at,t.public_metadata,t.private_metadata,t.max_allowed_memberships,t.admin_delete_enabled,t.members_count)}},tm=class e{constructor(e,t,i,n,s,r,a,o={},l={}){this.id=e,this.emailAddress=t,this.role=i,this.organizationId=n,this.createdAt=s,this.updatedAt=r,this.status=a,this.publicMetadata=o,this.privateMetadata=l}static fromJSON(t){return new e(t.id,t.email_address,t.role,t.organization_id,t.created_at,t.updated_at,t.status,t.public_metadata,t.private_metadata)}},tf=class e{constructor(e,t,i={},n={},s,r,a,o){this.id=e,this.role=t,this.publicMetadata=i,this.privateMetadata=n,this.createdAt=s,this.updatedAt=r,this.organization=a,this.publicUserData=o}static fromJSON(t){return new e(t.id,t.role,t.public_metadata,t.private_metadata,t.created_at,t.updated_at,th.fromJSON(t.organization),tg.fromJSON(t.public_user_data))}},tg=class e{constructor(e,t,i,n,s,r){this.identifier=e,this.firstName=t,this.lastName=i,this.imageUrl=n,this.hasImage=s,this.userId=r}static fromJSON(t){return new e(t.identifier,t.first_name,t.last_name,t.image_url,t.has_image,t.user_id)}},tv=class e{constructor(e,t,i,n,s,r){this.id=e,this.phoneNumber=t,this.reservedForSecondFactor=i,this.defaultSecondFactor=n,this.verification=s,this.linkedTo=r}static fromJSON(t){return new e(t.id,t.phone_number,t.reserved_for_second_factor,t.default_second_factor,t.verification&&to.fromJSON(t.verification),t.linked_to.map(e=>ta.fromJSON(e)))}},tb=class e{constructor(e,t,i,n){this.id=e,this.url=t,this.createdAt=i,this.updatedAt=n}static fromJSON(t){return new e(t.id,t.url,t.created_at,t.updated_at)}},ty=class e{constructor(e,t,i,n,s,r,a){this.id=e,this.userId=t,this.token=i,this.status=n,this.url=s,this.createdAt=r,this.updatedAt=a}static fromJSON(t){return new e(t.id,t.user_id,t.token,t.status,t.url,t.created_at,t.updated_at)}},tx=class e{constructor(e,t,i,n,s,r,a){this.id=e,this.fromPhoneNumber=t,this.toPhoneNumber=i,this.message=n,this.status=s,this.phoneNumberId=r,this.data=a}static fromJSON(t){return new e(t.id,t.from_phone_number,t.to_phone_number,t.message,t.status,t.phone_number_id,t.data)}},t_=class e{constructor(e){this.jwt=e}static fromJSON(t){return new e(t.jwt)}},tw=class e{constructor(e,t,i,n,s,r,a,o){this.id=e,this.provider=t,this.providerUserId=i,this.active=n,this.emailAddress=s,this.firstName=r,this.lastName=a,this.verification=o}static fromJSON(t){return new e(t.id,t.provider,t.provider_user_id,t.active,t.email_address,t.first_name,t.last_name,t.verification&&to.fromJSON(t.verification))}},tS=class e{constructor(e,t,i){this.id=e,this.web3Wallet=t,this.verification=i}static fromJSON(t){return new e(t.id,t.web3_wallet,t.verification&&to.fromJSON(t.verification))}},tk=class e{constructor(e,t,i,n,s,r,a,o,l,c,d,u,p,h,m,f,g,v,b,y={},x={},_={},w=[],S=[],k=[],E=[],T=[],C,R,O=null,P){this.id=e,this.passwordEnabled=t,this.totpEnabled=i,this.backupCodeEnabled=n,this.twoFactorEnabled=s,this.banned=r,this.locked=a,this.createdAt=o,this.updatedAt=l,this.imageUrl=c,this.hasImage=d,this.primaryEmailAddressId=u,this.primaryPhoneNumberId=p,this.primaryWeb3WalletId=h,this.lastSignInAt=m,this.externalId=f,this.username=g,this.firstName=v,this.lastName=b,this.publicMetadata=y,this.privateMetadata=x,this.unsafeMetadata=_,this.emailAddresses=w,this.phoneNumbers=S,this.web3Wallets=k,this.externalAccounts=E,this.samlAccounts=T,this.lastActiveAt=C,this.createOrganizationEnabled=R,this.createOrganizationsLimit=O,this.deleteSelfEnabled=P}static fromJSON(t){return new e(t.id,t.password_enabled,t.totp_enabled,t.backup_code_enabled,t.two_factor_enabled,t.banned,t.locked,t.created_at,t.updated_at,t.image_url,t.has_image,t.primary_email_address_id,t.primary_phone_number_id,t.primary_web3_wallet_id,t.last_sign_in_at,t.external_id,t.username,t.first_name,t.last_name,t.public_metadata,t.private_metadata,t.unsafe_metadata,(t.email_addresses||[]).map(e=>tl.fromJSON(e)),(t.phone_numbers||[]).map(e=>tv.fromJSON(e)),(t.web3_wallets||[]).map(e=>tS.fromJSON(e)),(t.external_accounts||[]).map(e=>tc.fromJSON(e)),(t.saml_accounts||[]).map(e=>tw.fromJSON(e)),t.last_active_at,t.create_organization_enabled,t.create_organizations_limit,t.delete_self_enabled)}get primaryEmailAddress(){return this.emailAddresses.find(({id:e})=>e===this.primaryEmailAddressId)??null}get primaryPhoneNumber(){return this.phoneNumbers.find(({id:e})=>e===this.primaryPhoneNumberId)??null}get primaryWeb3Wallet(){return this.web3Wallets.find(({id:e})=>e===this.primaryWeb3WalletId)??null}get fullName(){return[this.firstName,this.lastName].join(" ").trim()||null}};function tE(e){if("string"!=typeof e&&"object"in e&&"deleted"in e)return ts.fromJSON(e);switch(e.object){case tu.AllowlistIdentifier:return tt.fromJSON(e);case tu.Client:return tn.fromJSON(e);case tu.EmailAddress:return tl.fromJSON(e);case tu.Email:return tr.fromJSON(e);case tu.Invitation:return td.fromJSON(e);case tu.OauthAccessToken:return tp.fromJSON(e);case tu.Organization:return th.fromJSON(e);case tu.OrganizationInvitation:return tm.fromJSON(e);case tu.OrganizationMembership:return tf.fromJSON(e);case tu.PhoneNumber:return tv.fromJSON(e);case tu.RedirectUrl:return tb.fromJSON(e);case tu.SignInToken:return ty.fromJSON(e);case tu.Session:return ti.fromJSON(e);case tu.SmsMessage:return tx.fromJSON(e);case tu.Token:return t_.fromJSON(e);case tu.TotalCount:return e.total_count;case tu.User:return tk.fromJSON(e);default:return e}}function tT(e,t){return e&&"object"==typeof e&&"clerk_trace_id"in e&&"string"==typeof e.clerk_trace_id?e.clerk_trace_id:t?.get("cf-ray")||""}function tC(e){if(e&&"object"==typeof e&&"errors"in e){let t=e.errors;return t.length>0?t.map(en):[]}return[]}function tR(e){var t;let i=(t=async t=>{let i;let{secretKey:n,apiUrl:s=ej,apiVersion:r="v1",userAgent:a="@clerk/backend@1.13.0"}=e,{path:o,method:l,queryParams:c,headerParams:d,bodyParams:u,formData:p}=t;te(n);let h=new URL(eM(s,r,o));if(c)for(let[e,t]of Object.entries(ea({...c})))t&&[t].flat().forEach(t=>h.searchParams.append(e,t));let m={Authorization:`Bearer ${n}`,"User-Agent":a,...d};try{if(p)i=await L.fetch(h.href,{method:l,headers:m,body:p});else{m["Content-Type"]="application/json";let e="GET"!==l&&u&&Object.keys(u).length>0?{body:JSON.stringify(ea(u,{deep:!1}))}:null;i=await L.fetch(h.href,{method:l,headers:m,...e})}let e=i?.headers&&i.headers?.get(eD.Headers.ContentType)===eD.ContentTypes.Json,t=await (e?i.json():i.text());if(!i.ok)return{data:null,errors:tC(t),status:i?.status,statusText:i?.statusText,clerkTraceId:tT(t,i?.headers)};return{...Array.isArray(t)?{data:t.map(e=>tE(e))}:t&&"object"==typeof t&&"data"in t&&Array.isArray(t.data)&&void 0!==t.data?{data:t.data.map(e=>tE(e)),totalCount:t.total_count}:{data:tE(t)},errors:null}}catch(e){if(e instanceof Error)return{data:null,errors:[{code:"unexpected_error",message:e.message||"Unexpected error"}],clerkTraceId:tT(e,i?.headers)};return{data:null,errors:tC(e),status:i?.status,statusText:i?.statusText,clerkTraceId:tT(e,i?.headers)}}},async(...e)=>{let{data:i,errors:n,totalCount:s,status:r,statusText:a,clerkTraceId:o}=await t(...e);if(n){let e=new es(a||"",{data:[],status:r,clerkTraceId:o});throw e.errors=n,e}return void 0!==s?{data:i,totalCount:s}:i});return{allowlistIdentifiers:new eF(i),clients:new e$(i),emailAddresses:new eW(i),invitations:new eH(i),organizations:new eG(i),phoneNumbers:new eY(i),redirectUrls:new eX(i),sessions:new e0(i),signInTokens:new e2(i),users:new e4(i),domains:new eq(i),samlConnections:new e6(i),testingTokens:new e8(i)}}var tO=e=>()=>{let t={...e};return t.secretKey=(t.secretKey||"").substring(0,7),t.jwtKey=(t.jwtKey||"").substring(0,7),{...t}};function tP(e,t,i){let{act:n,sid:s,org_id:r,org_role:a,org_slug:o,org_permissions:l,sub:c,fva:d}=i,u=tR(e),p=tI({sessionId:s,sessionToken:t,fetcher:async(...e)=>(await u.sessions.getToken(...e)).jwt}),h=d??null;return{actor:n,sessionClaims:i,sessionId:s,userId:c,orgId:r,orgRole:a,orgSlug:o,orgPermissions:l,__experimental_factorVerificationAge:h,getToken:p,has:eO({orgId:r,orgRole:a,orgPermissions:l,userId:c,__experimental_factorVerificationAge:h}),debug:tO({...e,sessionToken:t})}}function tj(e){return{sessionClaims:null,sessionId:null,userId:null,actor:null,orgId:null,orgRole:null,orgSlug:null,orgPermissions:null,__experimental_factorVerificationAge:null,getToken:()=>Promise.resolve(null),has:()=>!1,debug:tO(e)}}var tI=e=>{let{fetcher:t,sessionToken:i,sessionId:n}=e||{};return async(e={})=>n?e.template?t(n,e.template):i:null},tN={SignedIn:"signed-in",SignedOut:"signed-out",Handshake:"handshake"},tD={ClientUATWithoutSessionToken:"client-uat-but-no-session-token",DevBrowserMissing:"dev-browser-missing",DevBrowserSync:"dev-browser-sync",PrimaryRespondsToSyncing:"primary-responds-to-syncing",SatelliteCookieNeedsSyncing:"satellite-needs-syncing",SessionTokenAndUATMissing:"session-token-and-uat-missing",SessionTokenMissing:"session-token-missing",SessionTokenOutdated:"session-token-outdated",SessionTokenWithoutClientUAT:"session-token-but-no-client-uat",UnexpectedError:"unexpected-error"};function tA(e,t,i=new Headers,n){let s=tP(e,n,t);return{status:tN.SignedIn,reason:null,message:null,proxyUrl:e.proxyUrl||"",publishableKey:e.publishableKey||"",isSatellite:e.isSatellite||!1,domain:e.domain||"",signInUrl:e.signInUrl||"",signUpUrl:e.signUpUrl||"",afterSignInUrl:e.afterSignInUrl||"",afterSignUpUrl:e.afterSignUpUrl||"",isSignedIn:!0,toAuth:()=>s,headers:i,token:n}}function tL(e,t,i="",n=new Headers){return tM({status:tN.SignedOut,reason:t,message:i,proxyUrl:e.proxyUrl||"",publishableKey:e.publishableKey||"",isSatellite:e.isSatellite||!1,domain:e.domain||"",signInUrl:e.signInUrl||"",signUpUrl:e.signUpUrl||"",afterSignInUrl:e.afterSignInUrl||"",afterSignUpUrl:e.afterSignUpUrl||"",isSignedIn:!1,headers:n,toAuth:()=>tj({...e,status:tN.SignedOut,reason:t,message:i}),token:null})}var tM=e=>{let t=new Headers(e.headers||{});return e.message&&t.set(eD.Headers.AuthMessage,e.message),e.reason&&t.set(eD.Headers.AuthReason,e.reason),e.status&&t.set(eD.Headers.AuthStatus,e.status),e.headers=t,e},tU=class extends URL{isCrossOrigin(e){return this.origin!==new URL(e.toString()).origin}},tF=(...e)=>new tU(...e),tB=class extends Request{constructor(e,t){super("string"!=typeof e&&"url"in e?e.url:String(e),t||"string"==typeof e?void 0:e),this.clerkUrl=this.deriveUrlFromHeaders(this),this.cookies=this.parseCookies(this)}toJSON(){return{url:this.clerkUrl.href,method:this.method,headers:JSON.stringify(Object.fromEntries(this.headers)),clerkUrl:this.clerkUrl.toString(),cookies:JSON.stringify(Object.fromEntries(this.cookies))}}deriveUrlFromHeaders(e){let t=new URL(e.url),i=e.headers.get(eD.Headers.ForwardedProto),n=e.headers.get(eD.Headers.ForwardedHost),s=e.headers.get(eD.Headers.Host),r=t.protocol,a=this.getFirstValueFromHeader(n)??s,o=this.getFirstValueFromHeader(i)??r?.replace(/[:/]/,""),l=a&&o?`${o}://${a}`:t.origin;return l===t.origin?tF(t):tF(t.pathname+t.search,l)}getFirstValueFromHeader(e){return e?.split(",")[0]}parseCookies(e){return new Map(Object.entries((0,eP.Q)(this.decodeCookieValue(e.headers.get("cookie")||""))))}decodeCookieValue(e){return e?e.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent):e}},t$=(...e)=>e[0]instanceof tB?e[0]:new tB(...e),tq={},tV=0;function tW(e,t=!0){tq[e.kid]=e,tV=t?Date.now():-1}var tz="local";function tH(e){if(!tq[tz]){if(!e)throw new E({action:k.SetClerkJWTKey,message:"Missing local JWK.",reason:S.LocalJWKMissing});tW({kid:"local",kty:"RSA",alg:"RS256",n:e.replace(/(\r\n|\n|\r)/gm,"").replace("-----BEGIN PUBLIC KEY-----","").replace("-----END PUBLIC KEY-----","").replace("MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEA","").replace("IDAQAB","").replace(/\+/g,"-").replace(/\//g,"_"),e:"AQAB"},!1)}return tq[tz]}async function tK({secretKey:e,apiUrl:t=ej,apiVersion:i="v1",kid:n,skipJwksCache:s}){if(s||function(){if(-1===tV)return!1;let e=Date.now()-tV>=3e5;return e&&(tq={}),e}()||!tq[n]){if(!e)throw new E({action:k.ContactSupport,message:"Failed to load JWKS from Clerk Backend or Frontend API.",reason:S.RemoteJWKFailedToLoad});let{keys:n}=await eo(()=>tG(t,e,i));if(!n||!n.length)throw new E({action:k.ContactSupport,message:"The JWKS endpoint did not contain any signing keys. Contact support@clerk.com.",reason:S.RemoteJWKFailedToLoad});n.forEach(e=>tW(e))}let r=tq[n];if(!r){let e=Object.values(tq).map(e=>e.kid).sort().join(", ");throw new E({action:`Go to your Dashboard and validate your secret and public keys are correct. ${k.ContactSupport} if the issue persists.`,message:`Unable to find a signing key in JWKS that matches the kid='${n}' of the provided session token. Please make sure that the __session cookie or the HTTP authorization header contain a Clerk-generated session JWT. The following kid is available: ${e}`,reason:S.JWKKidMismatch})}return r}async function tG(e,t,i){if(!t)throw new E({action:k.SetClerkSecretKey,message:"Missing Clerk Secret Key or API Key. Go to https://dashboard.clerk.com and get your key for your instance.",reason:S.RemoteJWKFailedToLoad});let n=new URL(e);n.pathname=eM(n.pathname,i,"/jwks");let s=await L.fetch(n.href,{headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"}});if(!s.ok){let e=await s.json(),t=tJ(e?.errors,w.InvalidSecretKey);if(t){let e=S.InvalidSecretKey;throw new E({action:k.ContactSupport,message:t.message,reason:e})}throw new E({action:k.ContactSupport,message:`Error loading Clerk JWKS from ${n.href} with code=${s.status}`,reason:S.RemoteJWKFailedToLoad})}return s.json()}var tJ=(e,t)=>e?e.find(e=>e.code===t):null;async function tY(e,t){let{data:i,errors:n}=et(e);if(n)return{errors:n};let{header:s}=i,{kid:r}=s;try{let i;if(t.jwtKey)i=tH(t.jwtKey);else{if(!t.secretKey)return{errors:[new E({action:k.SetClerkJWTKey,message:"Failed to resolve JWK during verification.",reason:S.JWKFailedToResolve})]};i=await tK({...t,kid:r})}return await ei(e,{...t,key:i})}catch(e){return{errors:[e]}}}var tQ=class{constructor(e,t,i){this.cookieSuffix=e,this.clerkRequest=t,this.initPublishableKeyValues(i),this.initHeaderValues(),this.initCookieValues(),this.initHandshakeValues(),Object.assign(this,i),this.clerkUrl=this.clerkRequest.clerkUrl}get sessionToken(){return this.sessionTokenInCookie||this.sessionTokenInHeader}initPublishableKeyValues(e){ef(e.publishableKey,{fatal:!0}),this.publishableKey=e.publishableKey;let t=ef(this.publishableKey,{fatal:!0,proxyUrl:e.proxyUrl,domain:e.domain});this.instanceType=t.instanceType,this.frontendApi=t.frontendApi}initHeaderValues(){this.sessionTokenInHeader=this.stripAuthorizationHeader(this.getHeader(eD.Headers.Authorization)),this.origin=this.getHeader(eD.Headers.Origin),this.host=this.getHeader(eD.Headers.Host),this.forwardedHost=this.getHeader(eD.Headers.ForwardedHost),this.forwardedProto=this.getHeader(eD.Headers.CloudFrontForwardedProto)||this.getHeader(eD.Headers.ForwardedProto),this.referrer=this.getHeader(eD.Headers.Referrer),this.userAgent=this.getHeader(eD.Headers.UserAgent),this.secFetchDest=this.getHeader(eD.Headers.SecFetchDest),this.accept=this.getHeader(eD.Headers.Accept)}initCookieValues(){this.suffixedCookies=this.shouldUseSuffixed(),this.sessionTokenInCookie=this.getSuffixedOrUnSuffixedCookie(eD.Cookies.Session),this.refreshTokenInCookie=this.getSuffixedCookie(eD.Cookies.Refresh),this.clientUat=Number.parseInt(this.getSuffixedOrUnSuffixedCookie(eD.Cookies.ClientUat)||"")||0}initHandshakeValues(){this.devBrowserToken=this.getQueryParam(eD.QueryParameters.DevBrowser)||this.getSuffixedOrUnSuffixedCookie(eD.Cookies.DevBrowser),this.handshakeToken=this.getQueryParam(eD.QueryParameters.Handshake)||this.getCookie(eD.Cookies.Handshake),this.handshakeRedirectLoopCounter=Number(this.getCookie(eD.Cookies.RedirectCount))||0}stripAuthorizationHeader(e){return e?.replace("Bearer ","")}getQueryParam(e){return this.clerkRequest.clerkUrl.searchParams.get(e)}getHeader(e){return this.clerkRequest.headers.get(e)||void 0}getCookie(e){return this.clerkRequest.cookies.get(e)||void 0}getSuffixedCookie(e){return this.getCookie(ev(e,this.cookieSuffix))||void 0}getSuffixedOrUnSuffixedCookie(e){return this.suffixedCookies?this.getSuffixedCookie(e):this.getCookie(e)}shouldUseSuffixed(){let e=this.getSuffixedCookie(eD.Cookies.ClientUat),t=this.getCookie(eD.Cookies.ClientUat),i=this.getSuffixedCookie(eD.Cookies.Session)||"",n=this.getCookie(eD.Cookies.Session)||"";if(n&&!this.tokenHasIssuer(n))return!1;if(n&&!this.tokenBelongsToInstance(n))return!0;if(!e&&!i)return!1;let{data:s}=et(n),r=s?.payload.iat||0,{data:a}=et(i),o=a?.payload.iat||0;if("0"!==e&&"0"!==t&&r>o||"0"===e&&"0"!==t)return!1;if("production"!==this.instanceType){let i=this.sessionExpired(a);if("0"!==e&&"0"===t&&i)return!1}return!!e||!i}tokenHasIssuer(e){let{data:t,errors:i}=et(e);return!i&&!!t.payload.iss}tokenBelongsToInstance(e){if(!e)return!1;let{data:t,errors:i}=et(e);if(i)return!1;let n=t.payload.iss.replace(/https?:\/\//gi,"");return this.frontendApi===n}sessionExpired(e){return!!e&&e?.payload.exp<=Date.now()/1e3>>0}},tX=async(e,t)=>new tQ(t.publishableKey?await eg(t.publishableKey,L.crypto.subtle):"",e,t),tZ=e=>e.split(";")[0]?.split("=")[0],t0=e=>e.split(";")[0]?.split("=")[1];async function t1(e,{key:t}){let{data:i,errors:n}=et(e);if(n)throw n[0];let{header:s,payload:r}=i,{typ:a,alg:o}=s;H(a),K(o);let{data:l,errors:c}=await ee(i,t);if(c)throw new E({reason:S.TokenVerificationFailed,message:`Error verifying handshake token. ${c[0]}`});if(!l)throw new E({reason:S.TokenInvalidSignature,message:"Handshake signature is invalid."});return r}async function t2(e,t){let i;let{secretKey:n,apiUrl:s,apiVersion:r,jwksCacheTtlInMs:a,jwtKey:o,skipJwksCache:l}=t,{data:c,errors:d}=et(e);if(d)throw d[0];let{kid:u}=c.header;if(o)i=tH(o);else if(n)i=await tK({secretKey:n,apiUrl:s,apiVersion:r,kid:u,jwksCacheTtlInMs:a,skipJwksCache:l});else throw new E({action:k.SetClerkJWTKey,message:"Failed to resolve JWK during handshake verification.",reason:S.JWKFailedToResolve});return await t1(e,{key:i})}async function t3(e,t){let i=await tX(t$(e),t);async function n(){let e=new Headers({"Access-Control-Allow-Origin":"null","Access-Control-Allow-Credentials":"true"}),t=(await t2(i.handshakeToken,i)).handshake,n="";if(t.forEach(t=>{e.append("Set-Cookie",t),tZ(t).startsWith(eD.Cookies.Session)&&(n=t0(t))}),"development"===i.instanceType){let t=new URL(i.clerkUrl);t.searchParams.delete(eD.QueryParameters.Handshake),t.searchParams.delete(eD.QueryParameters.HandshakeHelp),e.append(eD.Headers.Location,t.toString()),e.set(eD.Headers.CacheControl,"no-store")}if(""===n)return tL(i,tD.SessionTokenMissing,"",e);let{data:s,errors:[r]=[]}=await tY(n,i);if(s)return tA(i,s,e,n);if("development"===i.instanceType&&(r?.reason===S.TokenExpired||r?.reason===S.TokenNotActiveYet)){r.tokenCarrier="cookie",console.error(`Clerk: Clock skew detected. This usually means that your system clock is inaccurate. Clerk will attempt to account for the clock skew in development.

To resolve this issue, make sure your system's clock is set to the correct time (e.g. turn off and on automatic time synchronization).

---

${r.getFullMessage()}`);let{data:t,errors:[s]=[]}=await tY(n,{...i,clockSkewInMs:864e5});if(t)return tA(i,t,e,n);throw s}throw r}async function s(i){!function(e){if(!e)throw Error("Missing apiClient. An apiClient is needed to perform token refresh.")}(t.apiClient);let{sessionToken:n,refreshTokenInCookie:s}=i;if(!n||!s)throw Error("Clerk: refreshTokenInCookie and sessionToken must be provided.");let{data:r,errors:a}=et(n);if(!r||a)throw Error("Clerk: unable to decode session token.");return(await t.apiClient.sessions.refreshSession(r.payload.sid,{expired_token:n||"",refresh_token:s||"",request_origin:i.clerkUrl.origin,request_headers:Object.fromEntries(Array.from(e.headers.entries()).map(([e,t])=>[e,[t]]))})).jwt}async function r(e){let t=await s(e),{data:i,errors:n}=await tY(t,e);if(n)throw Error("Clerk: unable to verify refreshed session token.");return{data:i,sessionToken:t}}function a(e,t,n,s){if(function(e){let{accept:t,secFetchDest:i}=e;return!!("document"===i||"iframe"===i||!i&&t?.startsWith("text/html"))}(e)){let r=s??function(){let e=function(e){let t=new URL(e);return t.searchParams.delete(eD.QueryParameters.DevBrowser),t.searchParams.delete(eD.QueryParameters.LegacyDevBrowser),t}(i.clerkUrl),t=i.frontendApi.replace(/http(s)?:\/\//,""),n=new URL(`https://${t}/v1/client/handshake`);return n.searchParams.append("redirect_url",e?.href||""),n.searchParams.append("suffixed_cookies",i.suffixedCookies.toString()),"development"===i.instanceType&&i.devBrowserToken&&n.searchParams.append(eD.QueryParameters.DevBrowser,i.devBrowserToken),new Headers({[eD.Headers.Location]:n.href})}();return(r.get(eD.Headers.Location)&&r.set(eD.Headers.CacheControl,"no-store"),function(e){if(3===i.handshakeRedirectLoopCounter)return!0;let t=i.handshakeRedirectLoopCounter+1,n=eD.Cookies.RedirectCount;return e.append("Set-Cookie",`${n}=${t}; SameSite=Lax; HttpOnly; Max-Age=3`),!1}(r))?(console.log("Clerk: Refreshing the session token resulted in an infinite redirect loop. This usually means that your Clerk instance keys do not match - make sure to copy the correct publishable and secret keys from the Clerk dashboard."),tL(e,t,n)):function(e,t,i="",n){return tM({status:tN.Handshake,reason:t,message:i,publishableKey:e.publishableKey||"",isSatellite:e.isSatellite||!1,domain:e.domain||"",proxyUrl:e.proxyUrl||"",signInUrl:e.signInUrl||"",signUpUrl:e.signUpUrl||"",afterSignInUrl:e.afterSignInUrl||"",afterSignUpUrl:e.afterSignUpUrl||"",isSignedIn:!1,headers:n,toAuth:()=>null,token:null})}(e,t,n,r)}return tL(e,t,n)}async function o(){let{sessionTokenInHeader:e}=i;try{let{data:t,errors:n}=await tY(e,i);if(n)throw n[0];return tA(i,t,void 0,e)}catch(e){return c(e,"header")}}async function l(){let e=i.clientUat,t=!!i.sessionTokenInCookie,s=!!i.devBrowserToken,r=i.isSatellite&&"document"===i.secFetchDest&&!i.clerkUrl.searchParams.has(eD.QueryParameters.ClerkSynced);if(i.handshakeToken)try{return await n()}catch(e){e instanceof E&&"development"===i.instanceType?function(e){if(e.reason===S.TokenInvalidSignature)throw Error("Clerk: Handshake token verification failed due to an invalid signature. If you have switched Clerk keys locally, clear your cookies and try again.");throw Error(`Clerk: Handshake token verification failed: ${e.getFullMessage()}.`)}(e):console.error("Clerk: unable to resolve handshake:",e)}if("development"===i.instanceType&&i.clerkUrl.searchParams.has(eD.QueryParameters.DevBrowser))return a(i,tD.DevBrowserSync,"");if("production"===i.instanceType&&r)return a(i,tD.SatelliteCookieNeedsSyncing,"");if("development"===i.instanceType&&r){let e=new URL(i.signInUrl);e.searchParams.append(eD.QueryParameters.ClerkRedirectUrl,i.clerkUrl.toString());let t=new Headers({[eD.Headers.Location]:e.toString()});return a(i,tD.SatelliteCookieNeedsSyncing,"",t)}let o=new URL(i.clerkUrl).searchParams.get(eD.QueryParameters.ClerkRedirectUrl);if("development"===i.instanceType&&!i.isSatellite&&o){let e=new URL(o);i.devBrowserToken&&e.searchParams.append(eD.QueryParameters.DevBrowser,i.devBrowserToken),e.searchParams.append(eD.QueryParameters.ClerkSynced,"true");let t=new Headers({[eD.Headers.Location]:e.toString()});return a(i,tD.PrimaryRespondsToSyncing,"",t)}if("development"===i.instanceType&&!s)return a(i,tD.DevBrowserMissing,"");if(!e&&!t)return tL(i,tD.SessionTokenAndUATMissing,"");if(!e&&t)return a(i,tD.SessionTokenWithoutClientUAT,"");if(e&&!t)return a(i,tD.ClientUATWithoutSessionToken,"");let{data:l,errors:d}=et(i.sessionTokenInCookie);if(d)return c(d[0],"cookie");if(l.payload.iat<i.clientUat)return a(i,tD.SessionTokenOutdated,"");try{let{data:e,errors:t}=await tY(i.sessionTokenInCookie,i);if(t)throw t[0];return tA(i,e,void 0,i.sessionTokenInCookie)}catch(e){return c(e,"cookie")}return tL(i,tD.UnexpectedError)}async function c(t,n){if(!(t instanceof E))return tL(i,tD.UnexpectedError);if(t.reason===S.TokenExpired&&i.refreshTokenInCookie&&"GET"===e.method)try{let e=await r(i);return tA(i,e.data,void 0,e.sessionToken)}catch(e){console.error("Clerk: unable to refresh token:",e)}return(t.tokenCarrier=n,[S.TokenExpired,S.TokenNotActiveYet].includes(t.reason))?a(i,tD.SessionTokenOutdated,t.getFullMessage()):tL(i,t.reason,t.getFullMessage())}return te(i.secretKey),i.isSatellite&&(function(e,t){if(!e&&(t.startsWith("test_")||t.startsWith("sk_test_")))throw Error("Missing signInUrl. Pass a signInUrl for dev instances if an app is satellite")}(i.signInUrl,i.secretKey),i.signInUrl&&i.origin&&function(e,t){let i;try{i=new URL(e)}catch{throw Error("The signInUrl needs to have a absolute url format.")}if(i.origin===t)throw Error("The signInUrl needs to be on a different origin than your satellite application.")}(i.signInUrl,i.origin),function(e){if(!e)throw Error("Missing domain and proxyUrl. A satellite application needs to specify a domain or a proxyUrl")}(i.proxyUrl||i.domain)),i.sessionTokenInHeader?o():l()}var t4=e=>{let{isSignedIn:t,proxyUrl:i,reason:n,message:s,publishableKey:r,isSatellite:a,domain:o}=e;return{isSignedIn:t,proxyUrl:i,reason:n,message:s,publishableKey:r,isSatellite:a,domain:o}};function t5(e,t){return Object.keys(e).reduce((e,i)=>({...e,[i]:t[i]||e[i]}),{...e})}var t6={secretKey:"",jwtKey:"",apiUrl:void 0,apiVersion:void 0,proxyUrl:"",publishableKey:"",isSatellite:!1,domain:"",audience:""};function t8(e){return async(...t)=>{let{data:i,errors:n}=await e(...t);if(n)throw n[0];return i}}var t9=e=>{let t=i=>{if(!i)return i;if(Array.isArray(i))return i.map(e=>"object"==typeof e||Array.isArray(e)?t(e):e);let n={...i};for(let i of Object.keys(n)){let s=e(i.toString());s!==i&&(n[s]=n[i],delete n[i]),"object"==typeof n[s]&&(n[s]=t(n[s]))}return n};return t};function t7(e){if("boolean"==typeof e)return e;if(null==e)return!1;if("string"==typeof e){if("true"===e.toLowerCase())return!0;if("false"===e.toLowerCase())return!1}let t=parseInt(e,10);return!isNaN(t)&&t>0}t9(function(e){return e?e.replace(/[A-Z]/g,e=>`_${e.toLowerCase()}`):""}),t9(function(e){return e?e.replace(/([-_][a-z])/g,e=>e.toUpperCase().replace(/-|_/,"")):""});var ie=class{constructor(){I(this,r),I(this,n,"clerk_telemetry_throttler"),I(this,s,864e5)}isEventThrottled(e){var t;if(!j(this,r,l))return!1;let i=Date.now(),c=D(this,r,a).call(this,e),d=null==(t=j(this,r,o))?void 0:t[c];if(!d){let e={...j(this,r,o),[c]:i};localStorage.setItem(j(this,n),JSON.stringify(e))}if(d&&i-d>j(this,s)){let e=j(this,r,o);delete e[c],localStorage.setItem(j(this,n),JSON.stringify(e))}return!!d}};n=new WeakMap,s=new WeakMap,r=new WeakSet,a=function(e){let{sk:t,pk:i,payload:n,...s}=e,r={...n,...s};return JSON.stringify(Object.keys({...n,...s}).sort().map(e=>r[e]))},o=function(){let e=localStorage.getItem(j(this,n));return e?JSON.parse(e):{}},l=function(){if("undefined"==typeof window)return!1;let e=window.localStorage;if(!e)return!1;try{let t="test";return e.setItem(t,t),e.removeItem(t),!0}catch(t){return t instanceof DOMException&&("QuotaExceededError"===t.name||"NS_ERROR_DOM_QUOTA_REACHED"===t.name)&&e.length>0&&e.removeItem(j(this,n)),!1}};var it={samplingRate:1,maxBufferSize:5,endpoint:"https://clerk-telemetry.com"},ii=class{constructor(e){var t,i,n,s,r,a;I(this,m),I(this,c),I(this,d),I(this,u,{}),I(this,p,[]),I(this,h),N(this,c,{maxBufferSize:null!=(t=e.maxBufferSize)?t:it.maxBufferSize,samplingRate:null!=(i=e.samplingRate)?i:it.samplingRate,disabled:null!=(n=e.disabled)&&n,debug:null!=(s=e.debug)&&s,endpoint:it.endpoint}),e.clerkVersion||"undefined"!=typeof window?j(this,u).clerkVersion=null!=(r=e.clerkVersion)?r:"":j(this,u).clerkVersion="",j(this,u).sdk=e.sdk,j(this,u).sdkVersion=e.sdkVersion,j(this,u).publishableKey=null!=(a=e.publishableKey)?a:"";let o=ef(e.publishableKey);o&&(j(this,u).instanceType=o.instanceType),e.secretKey&&(j(this,u).secretKey=e.secretKey.substring(0,16)),N(this,d,new ie)}get isEnabled(){var e;return!("development"!==j(this,u).instanceType||j(this,c).disabled||"undefined"!=typeof process&&t7(process.env.CLERK_TELEMETRY_DISABLED))&&("undefined"==typeof window||null==(e=null==window?void 0:window.navigator)||!e.webdriver)}get isDebug(){return j(this,c).debug||"undefined"!=typeof process&&t7(process.env.CLERK_TELEMETRY_DEBUG)}record(e){let t=D(this,m,_).call(this,e.event,e.payload);D(this,m,y).call(this,t.event,t),D(this,m,f).call(this,t,e.eventSamplingRate)&&(j(this,p).push(t),D(this,m,v).call(this))}};function is(e){let t={...e},i=tR(t),n=function(e){let t=t5(t6,e.options),i=e.apiClient;return{authenticateRequest:(e,n={})=>{let{apiUrl:s,apiVersion:r}=t,a=t5(t,n);return t3(e,{...n,...a,apiUrl:s,apiVersion:r,apiClient:i})},debugRequestState:t4}}({options:t,apiClient:i}),s=new ii({...e.telemetry,publishableKey:t.publishableKey,secretKey:t.secretKey,...t.sdkMetadata?{sdk:t.sdkMetadata.name,sdkVersion:t.sdkMetadata.version}:{}});return{...i,...n,telemetry:s}}c=new WeakMap,d=new WeakMap,u=new WeakMap,p=new WeakMap,h=new WeakMap,m=new WeakSet,f=function(e,t){return this.isEnabled&&!this.isDebug&&D(this,m,g).call(this,e,t)},g=function(e,t){let i=Math.random();return!j(this,d).isEventThrottled(e)&&i<=j(this,c).samplingRate&&(void 0===t||i<=t)},v=function(){if("undefined"==typeof window){D(this,m,b).call(this);return}if(j(this,p).length>=j(this,c).maxBufferSize){j(this,h)&&("undefined"!=typeof cancelIdleCallback?cancelIdleCallback:clearTimeout)(j(this,h)),D(this,m,b).call(this);return}j(this,h)||("requestIdleCallback"in window?N(this,h,requestIdleCallback(()=>{D(this,m,b).call(this)})):N(this,h,setTimeout(()=>{D(this,m,b).call(this)},0)))},b=function(){fetch(new URL("/v1/event",j(this,c).endpoint),{method:"POST",body:JSON.stringify({events:j(this,p)}),headers:{"Content-Type":"application/json"}}).catch(()=>void 0).then(()=>{N(this,p,[])}).catch(()=>void 0)},y=function(e,t){this.isDebug&&(void 0!==console.groupCollapsed?(console.groupCollapsed("[clerk/telemetry]",e),console.log(t),console.groupEnd()):console.log("[clerk/telemetry]",e,t))},x=function(){let e={name:j(this,u).sdk,version:j(this,u).sdkVersion};return"undefined"!=typeof window&&window.Clerk&&(e={...e,...window.Clerk.constructor.sdkMetadata}),e},_=function(e,t){var i,n;let s=D(this,m,x).call(this);return{event:e,cv:null!=(i=j(this,u).clerkVersion)?i:"",it:null!=(n=j(this,u).instanceType)?n:"",sdk:s.name,sdkv:s.version,...j(this,u).publishableKey?{pk:j(this,u).publishableKey}:{},...j(this,u).secretKey?{sk:j(this,u).secretKey}:{},payload:t}},t8(tY);var ir=(e,t,i,n)=>{if(""===e)return ia(t.toString(),i?.toString());let s=new URL(e),r=i?new URL(i,s):void 0,a=new URL(t,s);return r&&a.searchParams.set("redirect_url",r.toString()),n&&s.hostname!==a.hostname&&a.searchParams.set(eD.QueryParameters.DevBrowser,n),a.toString()},ia=(e,t)=>{let i;if(e.startsWith("http"))i=new URL(e);else{if(!t||!t.startsWith("http"))throw Error("destination url or return back url should be an absolute path url!");let n=new URL(t);i=new URL(e,n.origin)}return t&&i.searchParams.set("redirect_url",t),i.toString()},io=e=>{if(!e)return"";let t=e.replace(/(clerk\.accountsstage\.)/,"accountsstage.").replace(/(clerk\.accounts\.|clerk\.)/,"accounts.");return`https://${t}`},il=e=>{let{publishableKey:t,redirectAdapter:i,signInUrl:n,signUpUrl:s,baseUrl:r}=e,a=ef(t),o=a?.frontendApi,l=a?.instanceType==="development",c=io(o);return{redirectToSignUp:({returnBackUrl:t}={})=>{s||c||e9.throwMissingPublishableKeyError();let n=`${c}/sign-up`;return i(ir(r,s||n,t,l?e.devBrowserToken:null))},redirectToSignIn:({returnBackUrl:t}={})=>{n||c||e9.throwMissingPublishableKeyError();let s=`${c}/sign-in`;return i(ir(r,n||s,t,l?e.devBrowserToken:null))}}},ic=i(54254);let id=e=>{if(!(e instanceof Error)||!("message"in e))return!1;let{message:t}=e,i=t.toLowerCase(),n=i.includes("dynamic server usage"),s=i.includes("this page needs to bail out of prerendering");return/Route .*? needs to bail out of prerendering at this point because it used .*?./.test(t)||n||s},iu=()=>{try{let{headers:e}=i(53973);return new ic.NextRequest("https://placeholder.com",{headers:e()})}catch(e){if(e&&id(e))throw e;throw Error(`Clerk: auth() and currentUser() are only supported in App Router (/app directory).
If you're using /pages, try getAuth() instead.
Original error: ${e}`)}},ip=new(i(92761)).AsyncLocalStorage;process.env.NEXT_PUBLIC_CLERK_JS_VERSION,process.env.NEXT_PUBLIC_CLERK_JS_URL;let ih=process.env.CLERK_API_VERSION||"v1",im=process.env.CLERK_SECRET_KEY||"",ig=process.env.NEXT_PUBLIC_CLERK_PUBLISHABLE_KEY||"",iv=process.env.CLERK_ENCRYPTION_KEY||"",ib=process.env.CLERK_API_URL||(e=>{var t;let i=null==(t=ef(e))?void 0:t.frontendApi;return(null==i?void 0:i.startsWith("clerk."))&&ec.some(e=>null==i?void 0:i.endsWith(e))?eh:eu.some(e=>null==i?void 0:i.endsWith(e))?"https://api.lclclerk.com":ep.some(e=>null==i?void 0:i.endsWith(e))?"https://api.clerkstage.dev":eh})(ig),iy=process.env.NEXT_PUBLIC_CLERK_DOMAIN||"",ix=process.env.NEXT_PUBLIC_CLERK_PROXY_URL||"",i_=t7(process.env.NEXT_PUBLIC_CLERK_IS_SATELLITE)||!1,iw=process.env.NEXT_PUBLIC_CLERK_SIGN_IN_URL||"",iS=process.env.NEXT_PUBLIC_CLERK_SIGN_UP_URL||"",ik=t7(process.env.NEXT_PUBLIC_CLERK_TELEMETRY_DISABLED),iE=t7(process.env.NEXT_PUBLIC_CLERK_TELEMETRY_DEBUG);var iT=i(82930),iC=i.n(iT),iR=i(63476),iO=i.n(iR),iP=i(37140),ij=i.n(iP);let iI=(e="auth")=>`Clerk: ${e}() was called but Clerk can't detect usage of clerkMiddleware() (or the deprecated authMiddleware()). Please ensure the following:
-  clerkMiddleware() (or the deprecated authMiddleware()) is used in your Next.js Middleware.
- Your Middleware matcher is configured to match this route or page.
- If you are using the src directory, make sure the Middleware file is inside of it.

For more details, see https://clerk.com/docs/quickstarts/nextjs
`;function iN(e,t){var i;return((i=eD.Attributes[t])in e?e[i]:void 0)||iD(e,eD.Headers[t])}function iD(e,t){var i,n;return!function(e){try{let{headers:t,nextUrl:i,cookies:n}=e||{};return"function"==typeof(null==t?void 0:t.get)&&"function"==typeof(null==i?void 0:i.searchParams.get)&&"function"==typeof(null==n?void 0:n.get)}catch(e){return!1}}(e)?e.headers[t]||e.headers[t.toLowerCase()]||(null==(n=null==(i=e.socket)?void 0:i._httpMessage)?void 0:n.getHeader(t)):e.headers.get(t)}function iA(e){if(!e)return{};try{let t=iC().decrypt(e,iv||im).toString(iO());return JSON.parse(t)}catch(e){throw Error("Clerk: Unable to decrypt request data, this usually means the encryption key is invalid. Ensure the encryption key is properly set. For more information, see: https://clerk.com/docs/references/nextjs/clerk-middleware#dynamic-keys. (code=encryption_key_invalid)")}}let iL={secretKey:im,publishableKey:ig,apiUrl:ib,apiVersion:ih,userAgent:"@clerk/nextjs@5.5.4",proxyUrl:ix,domain:iy,isSatellite:i_,sdkMetadata:{name:"@clerk/nextjs",version:"5.5.4",environment:"production"},telemetry:{disabled:ik,debug:iE}},iM=e=>is({...iL,...e}),iU=is(iL),iF=new Proxy(Object.assign(()=>{var e;let t;try{let e=iu(),i=iD(e,eD.Headers.ClerkRequestData);t=iA(i)}catch(e){if(e&&id(e))throw e}let i=null!=(e=ip.getStore())?e:t;return(null==i?void 0:i.secretKey)||(null==i?void 0:i.publishableKey)?iM(i):iU},iU),{get:(e,t,i)=>(e_("clerkClient singleton","Use `clerkClient()` as a function instead."),Reflect.get(e,t,i))});var iB=i(25649);function i$(e){let t=JSON.stringify(e),i=new TextEncoder().encode(t);return M.stringify(i,{pad:!1})}async function iq(e,t,i){if(!i.algorithm)throw Error("No algorithm specified");let n=new TextEncoder,s=V(i.algorithm);if(!s)return{errors:[new T(`Unsupported algorithm ${i.algorithm}`)]};let r=await Z(t,s,"sign"),a=i.header||{typ:"JWT"};a.alg=i.algorithm,e.iat=Math.floor(Date.now()/1e3);let o=i$(a),l=i$(e),c=`${o}.${l}`;try{let e=await L.crypto.subtle.sign(s,r,n.encode(c));return{data:`${c}.${M.stringify(new Uint8Array(e),{pad:!1})}`}}catch(e){return{errors:[new T(e?.message)]}}}t8(ei);var iV=(...e)=>{let{data:t,errors:i}=et(...e);if(i)throw i[0];return t};t8(iq),t8(ee);let iW={i8:"14.2.13"},iz=e=>{if(!e||"string"!=typeof e)return e;try{return(e||"").replace(/^(sk_(live|test)_)(.+?)(.{3})$/,"$1*********$4")}catch(e){return""}},iH=e=>(Array.isArray(e)?e:[e]).map(e=>"string"==typeof e?iz(e):JSON.stringify(Object.fromEntries(Object.entries(e).map(([e,t])=>[e,iz(t)])),null,2)).join(", "),iK=(e,t)=>()=>{let i=[],n=!1;return{enable:()=>{n=!0},debug:(...e)=>{n&&i.push(e.map(e=>"function"==typeof e?e():e))},commit:()=>{if(n){for(let n of(console.log(`[clerk debug start: ${e}]`),i)){let e=t(n);e=e.split("\n").map(e=>`  ${e}`).join("\n"),process.env.VERCEL&&(e=function(e,t){let i=new TextEncoder,n=new TextDecoder("utf-8"),s=i.encode(e).slice(0,4096);return n.decode(s).replace(/\uFFFD/g,"")}(e,0)),console.log(e)}console.log(`[clerk debug end: ${e}] (@clerk/nextjs=5.5.4,next=${iW.i8})`)}}}},iG=(e,t)=>(...i)=>{let n=("string"==typeof e?iK(e,iH):e)(),s=t(n);try{let e=s(...i);if("object"==typeof e&&"then"in e&&"function"==typeof e.then)return e.then(e=>(n.commit(),e)).catch(e=>{throw n.commit(),e});return n.commit(),e}catch(e){throw n.commit(),e}},iJ=({noAuthStatusMessage:e,debugLoggerName:t})=>iG(t,t=>(i,n)=>{"true"===iD(i,eD.Headers.EnableDebug)&&t.enable();let s=iN(i,"AuthToken"),r=iN(i,"AuthSignature"),a=iN(i,"AuthMessage"),o=iN(i,"AuthReason"),l=iN(i,"AuthStatus");if(t.debug("Headers debug",{authStatus:l,authMessage:a,authReason:o}),!l)throw Error(e);let c=iA(iD(i,eD.Headers.ClerkRequestData)),d={authStatus:l,apiUrl:ib,apiVersion:ih,authMessage:a,secretKey:(null==n?void 0:n.secretKey)||c.secretKey||im,authReason:o};if(t.debug("Options debug",d),l===tN.SignedIn){!function(e,t,i){if(!i||ij()(e,t).toString()!==i)throw Error("Clerk: Unable to verify request, this usually means the Clerk middleware did not run. Ensure Clerk's middleware is properly integrated and matches the current route. For more information, see: https://clerk.com/docs/nextjs/middleware. (code=auth_signature_invalid)")}(s,d.secretKey,r);let e=iV(s);return t.debug("JWT debug",e.raw.text),tP(d,e.raw.text,e.payload)}return tj(d)});iJ({debugLoggerName:"getAuth()",noAuthStatusMessage:iI("getAuth")});let iY={Headers:{NextRewrite:"x-middleware-rewrite",NextResume:"x-middleware-next",NextRedirect:"Location",NextUrl:"next-url",NextAction:"next-action",NextjsData:"x-nextjs-data"}},iQ=e=>{let{redirectToSignIn:t,authObject:i,redirect:n,notFound:s,request:r}=e;return(...e)=>{var a,o,l,c,d,u;let p=(null==(a=e[0])?void 0:a.unauthenticatedUrl)||(null==(o=e[0])?void 0:o.unauthorizedUrl)?void 0:e[0],h=(null==(l=e[0])?void 0:l.unauthenticatedUrl)||(null==(c=e[1])?void 0:c.unauthenticatedUrl),m=(null==(d=e[0])?void 0:d.unauthorizedUrl)||(null==(u=e[1])?void 0:u.unauthorizedUrl),f=()=>m?n(m):s();return i.userId?p?"function"==typeof p?p(i.has)?i:f():i.has(p)?i:f():i:h?n(h):iZ(r)?t():s()}},iX=e=>{var t,i;return!!e.headers.get(iY.Headers.NextUrl)&&((null==(t=e.headers.get(eD.Headers.Accept))?void 0:t.includes("text/x-component"))||(null==(i=e.headers.get(eD.Headers.ContentType))?void 0:i.includes("multipart/form-data"))||!!e.headers.get(iY.Headers.NextAction))},iZ=e=>{var t;return"document"===e.headers.get(eD.Headers.SecFetchDest)||"iframe"===e.headers.get(eD.Headers.SecFetchDest)||(null==(t=e.headers.get(eD.Headers.Accept))?void 0:t.includes("text/html"))||i0(e)||i2(e)},i0=e=>!!e.headers.get(iY.Headers.NextUrl)&&!iX(e)||i1(),i1=()=>{var e;let t=globalThis.fetch;return!!(function(e){return"__nextPatched"in e&&!0===e.__nextPatched}(t)&&(null==(e=t.__nextGetStaticStore().getStore())?void 0:e.pagePath))},i2=e=>!!e.headers.get(iY.Headers.NextjsData),i3=()=>{i(83204);let e=iu(),t=iJ({debugLoggerName:"auth()",noAuthStatusMessage:iI()})(e),n=iN(e,"ClerkUrl"),s=(t={})=>{let i=t$(e),s=i.clerkUrl.searchParams.get(eD.QueryParameters.DevBrowser)||i.cookies.get(eD.Cookies.DevBrowser),r=iA(iD(e,eD.Headers.ClerkRequestData));return il({redirectAdapter:iB.redirect,devBrowserToken:s,baseUrl:i.clerkUrl.toString(),publishableKey:r.publishableKey||ig,signInUrl:r.signInUrl||iw,signUpUrl:r.signUpUrl||iS}).redirectToSignIn({returnBackUrl:null===t.returnBackUrl?"":t.returnBackUrl||(null==n?void 0:n.toString())})},r=iQ({request:e,authObject:t,redirectToSignIn:s,notFound:iB.notFound,redirect:iB.redirect});return Object.assign(t,{protect:r,redirectToSignIn:s})};async function i4(){i(83204);let{userId:e}=i3();return e?iF().users.getUser(e):null}},94772:(e,t,i)=>{"use strict";i.d(t,{nV:()=>P});var n=i(57817),s=i.n(n),r=i(6113),a=i.n(r);let o={randomUUID:a().randomUUID},l=new Uint8Array(256),c=l.length,d=[];for(let e=0;e<256;++e)d.push((e+256).toString(16).slice(1));let u=function(e,t,i){if(o.randomUUID&&!t&&!e)return o.randomUUID();let n=(e=e||{}).random||(e.rng||function(){return c>l.length-16&&(a().randomFillSync(l),c=0),l.slice(c,c+=16)})();if(n[6]=15&n[6]|64,n[8]=63&n[8]|128,t){i=i||0;for(let e=0;e<16;++e)t[i+e]=n[e];return t}return function(e,t=0){return d[e[t+0]]+d[e[t+1]]+d[e[t+2]]+d[e[t+3]]+"-"+d[e[t+4]]+d[e[t+5]]+"-"+d[e[t+6]]+d[e[t+7]]+"-"+d[e[t+8]]+d[e[t+9]]+"-"+d[e[t+10]]+d[e[t+11]]+d[e[t+12]]+d[e[t+13]]+d[e[t+14]]+d[e[t+15]]}(n)};function p(e,t){if(null==s()||null==s().sign)throw Error("Unable to find jwt crypto, if you are getting this error is probably because you are trying to generate tokens on browser or React Native (or other environment where crypto functions are not available). Please Note: token should only be generated server-side.");let i=Object.assign({algorithm:"HS256",noTimestamp:!0});return t.iat&&(i.noTimestamp=!1),s().sign(t,e,i)}function h(e,t,i,n){return new(i||(i=Promise))(function(s,r){function a(e){try{l(n.next(e))}catch(e){r(e)}}function o(e){try{l(n.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?s(e.value):((t=e.value)instanceof i?t:new i(function(e){e(t)})).then(a,o)}l((n=n.apply(e,t||[])).next())})}class m extends Error{constructor(e,t,i,n){super(e,n),this.metadata=t,this.code=i}}let f=e=>{let t=e.has("x-ratelimit-limit")?+e.get("x-ratelimit-limit"):void 0;return{rateLimit:t,rateLimitRemaining:e.has("x-ratelimit-remaining")?+e.get("x-ratelimit-remaining"):void 0,rateLimitReset:e.has("x-ratelimit-reset")?new Date(1e3*+e.get("x-ratelimit-reset")):void 0}};class g{constructor(e){this.apiConfig=e,this.sendRequest=(e,t,i,n,s)=>h(this,void 0,void 0,function*(){(n=null!=n?n:{}).api_key=this.apiConfig.apiKey;let r=this.queryParamsStringify(n);i&&Object.keys(i).forEach(e=>{t=t.replace(`{${e}}`,i[e])}),t+=`?${r}`;let a=u(),o={Authorization:this.apiConfig.token,"stream-auth-type":"jwt","Content-Type":"application/json","X-Stream-Client":"stream-node-0.4.2","Accept-Encoding":"gzip","x-client-request-id":a},l=AbortSignal.timeout(this.apiConfig.timeout);try{let i=yield fetch(`${this.apiConfig.baseUrl}${t}`,{signal:l,method:e,body:JSON.stringify(s),headers:o}),n=i.headers,r={clientRequestId:a,responseHeaders:n,responseCode:i.status,rateLimit:f(n)};if(i.status<200||i.status>=300){let e;try{e=yield i.json()}catch(e){throw new m(`Stream error: ${i.status} - ${i.statusText}`,r,i.status)}throw new m(`Stream error code ${e.code}: ${e.message}`,r,e.code,void 0)}return{body:yield i.json(),metadata:r}}catch(t){if(t instanceof m)throw t;let e={clientRequestId:a,responseCode:t.status};if("AbortError"===t.name||"TimeoutError"===t.name)throw new m(`The request was aborted due to to the ${this.apiConfig.timeout}ms timeout, you can set the timeout in the StreamClient constructor`,e,void 0,t);throw new m("The request failed due to an unexpected error",e,t)}}),this.queryParamsStringify=e=>{let t=[];for(let i in e){let n=e[i];Array.isArray(n)?t.push(`${i}=${encodeURIComponent(n.join(","))}`):n instanceof Date?t.push(n.toISOString()):"object"==typeof n?t.push(`${i}=${encodeURIComponent(JSON.stringify(n))}`):("string"==typeof n||"number"==typeof n||"boolean"==typeof n)&&t.push(`${i}=${encodeURIComponent(n)}`)}return t.join("&")}}}let v={};v.DatetimeType=e=>new Date(Math.floor(e/1e6));let b=(e,t)=>(t&&0!==Object.keys(e).length&&Object.keys(e).forEach(i=>{if(null!=t[i]&&e[i]){let n=v[e[i].type];n&&(e[i].isSingle?t[i]=n(t[i]):Object.keys(t[i]).forEach(e=>{t[i][e]=n(t[i][e])}))}}),t);v.ActionLog=e=>b({created_at:{type:"DatetimeType",isSingle:!0},review_queue_item:{type:"ReviewQueueItem",isSingle:!0},target_user:{type:"UserObject",isSingle:!0},user:{type:"UserObject",isSingle:!0}},e),v.ActionLogResponse=e=>b({created_at:{type:"DatetimeType",isSingle:!0},review_queue_item:{type:"ReviewQueueItem",isSingle:!0},target_user:{type:"UserResponse",isSingle:!0},user:{type:"UserResponse",isSingle:!0}},e),v.AppResponseFields=e=>b({call_types:{type:"CallType",isSingle:!1},channel_configs:{type:"ChannelConfig",isSingle:!1},push_notifications:{type:"PushNotificationFields",isSingle:!0},revoke_tokens_issued_before:{type:"DatetimeType",isSingle:!0}},e),v.AutomodDetails=e=>b({result:{type:"MessageModerationResult",isSingle:!0}},e),v.Ban=e=>b({created_at:{type:"DatetimeType",isSingle:!0},expires:{type:"DatetimeType",isSingle:!0},channel:{type:"Channel",isSingle:!0},created_by:{type:"UserObject",isSingle:!0},target:{type:"UserObject",isSingle:!0}},e),v.BanResponse=e=>b({created_at:{type:"DatetimeType",isSingle:!0},expires:{type:"DatetimeType",isSingle:!0},banned_by:{type:"UserResponse",isSingle:!0},channel:{type:"ChannelResponse",isSingle:!0},user:{type:"UserResponse",isSingle:!0}},e),v.BlockListResponse=e=>b({created_at:{type:"DatetimeType",isSingle:!0},updated_at:{type:"DatetimeType",isSingle:!0}},e),v.BlockUsersResponse=e=>b({created_at:{type:"DatetimeType",isSingle:!0}},e),v.BlockedUserResponse=e=>b({created_at:{type:"DatetimeType",isSingle:!0},blocked_user:{type:"UserResponse",isSingle:!0},user:{type:"UserResponse",isSingle:!0}},e),v.CallParticipantResponse=e=>b({joined_at:{type:"DatetimeType",isSingle:!0},user:{type:"UserResponse",isSingle:!0}},e),v.CallRecording=e=>b({end_time:{type:"DatetimeType",isSingle:!0},start_time:{type:"DatetimeType",isSingle:!0}},e),v.CallResponse=e=>b({created_at:{type:"DatetimeType",isSingle:!0},updated_at:{type:"DatetimeType",isSingle:!0},created_by:{type:"UserResponse",isSingle:!0},ended_at:{type:"DatetimeType",isSingle:!0},starts_at:{type:"DatetimeType",isSingle:!0},session:{type:"CallSessionResponse",isSingle:!0}},e),v.CallSessionResponse=e=>b({participants:{type:"CallParticipantResponse",isSingle:!1},accepted_by:{type:"DatetimeType",isSingle:!1},missed_by:{type:"DatetimeType",isSingle:!1},rejected_by:{type:"DatetimeType",isSingle:!1},ended_at:{type:"DatetimeType",isSingle:!0},live_ended_at:{type:"DatetimeType",isSingle:!0},live_started_at:{type:"DatetimeType",isSingle:!0},started_at:{type:"DatetimeType",isSingle:!0},timer_ends_at:{type:"DatetimeType",isSingle:!0}},e),v.CallStateResponseFields=e=>b({members:{type:"MemberResponse",isSingle:!1},call:{type:"CallResponse",isSingle:!0}},e),v.CallStatsReportSummaryResponse=e=>b({first_stats_time:{type:"DatetimeType",isSingle:!0},created_at:{type:"DatetimeType",isSingle:!0}},e),v.CallTranscription=e=>b({end_time:{type:"DatetimeType",isSingle:!0},start_time:{type:"DatetimeType",isSingle:!0}},e),v.CallType=e=>b({created_at:{type:"DatetimeType",isSingle:!0},updated_at:{type:"DatetimeType",isSingle:!0}},e),v.CallTypeResponse=e=>b({created_at:{type:"DatetimeType",isSingle:!0},updated_at:{type:"DatetimeType",isSingle:!0}},e),v.Channel=e=>b({created_at:{type:"DatetimeType",isSingle:!0},updated_at:{type:"DatetimeType",isSingle:!0},deleted_at:{type:"DatetimeType",isSingle:!0},last_message_at:{type:"DatetimeType",isSingle:!0},invites:{type:"ChannelMember",isSingle:!1},members:{type:"ChannelMember",isSingle:!1},config:{type:"ChannelConfig",isSingle:!0},config_overrides:{type:"ChannelConfig",isSingle:!0},created_by:{type:"UserObject",isSingle:!0},truncated_by:{type:"UserObject",isSingle:!0}},e),v.ChannelConfig=e=>b({created_at:{type:"DatetimeType",isSingle:!0},updated_at:{type:"DatetimeType",isSingle:!0}},e),v.ChannelConfigWithInfo=e=>b({created_at:{type:"DatetimeType",isSingle:!0},updated_at:{type:"DatetimeType",isSingle:!0},commands:{type:"Command",isSingle:!1}},e),v.ChannelMember=e=>b({created_at:{type:"DatetimeType",isSingle:!0},updated_at:{type:"DatetimeType",isSingle:!0},ban_expires:{type:"DatetimeType",isSingle:!0},deleted_at:{type:"DatetimeType",isSingle:!0},invite_accepted_at:{type:"DatetimeType",isSingle:!0},invite_rejected_at:{type:"DatetimeType",isSingle:!0},user:{type:"UserObject",isSingle:!0}},e),v.ChannelMemberResponse=e=>b({created_at:{type:"DatetimeType",isSingle:!0},updated_at:{type:"DatetimeType",isSingle:!0},ban_expires:{type:"DatetimeType",isSingle:!0},deleted_at:{type:"DatetimeType",isSingle:!0},invite_accepted_at:{type:"DatetimeType",isSingle:!0},invite_rejected_at:{type:"DatetimeType",isSingle:!0},user:{type:"UserResponse",isSingle:!0}},e),v.ChannelMute=e=>b({created_at:{type:"DatetimeType",isSingle:!0},updated_at:{type:"DatetimeType",isSingle:!0},expires:{type:"DatetimeType",isSingle:!0},channel:{type:"ChannelResponse",isSingle:!0},user:{type:"UserObject",isSingle:!0}},e),v.ChannelResponse=e=>b({created_at:{type:"DatetimeType",isSingle:!0},updated_at:{type:"DatetimeType",isSingle:!0},deleted_at:{type:"DatetimeType",isSingle:!0},hide_messages_before:{type:"DatetimeType",isSingle:!0},last_message_at:{type:"DatetimeType",isSingle:!0},mute_expires_at:{type:"DatetimeType",isSingle:!0},truncated_at:{type:"DatetimeType",isSingle:!0},members:{type:"ChannelMember",isSingle:!1},config:{type:"ChannelConfigWithInfo",isSingle:!0},created_by:{type:"UserObject",isSingle:!0},truncated_by:{type:"UserObject",isSingle:!0}},e),v.ChannelStateResponse=e=>b({members:{type:"ChannelMember",isSingle:!1},messages:{type:"MessageResponse",isSingle:!1},pinned_messages:{type:"MessageResponse",isSingle:!1},threads:{type:"ThreadState",isSingle:!1},hide_messages_before:{type:"DatetimeType",isSingle:!0},pending_messages:{type:"PendingMessage",isSingle:!1},read:{type:"ReadStateResponse",isSingle:!1},watchers:{type:"UserResponse",isSingle:!1},channel:{type:"ChannelResponse",isSingle:!0},membership:{type:"ChannelMember",isSingle:!0}},e),v.ChannelStateResponseFields=e=>b({members:{type:"ChannelMember",isSingle:!1},messages:{type:"MessageResponse",isSingle:!1},pinned_messages:{type:"MessageResponse",isSingle:!1},threads:{type:"ThreadState",isSingle:!1},hide_messages_before:{type:"DatetimeType",isSingle:!0},pending_messages:{type:"PendingMessage",isSingle:!1},read:{type:"ReadStateResponse",isSingle:!1},watchers:{type:"UserResponse",isSingle:!1},channel:{type:"ChannelResponse",isSingle:!0},membership:{type:"ChannelMember",isSingle:!0}},e),v.ChannelTypeConfig=e=>b({created_at:{type:"DatetimeType",isSingle:!0},updated_at:{type:"DatetimeType",isSingle:!0},commands:{type:"Command",isSingle:!1}},e),v.CheckResponse=e=>b({item:{type:"ReviewQueueItem",isSingle:!0}},e),v.Command=e=>b({created_at:{type:"DatetimeType",isSingle:!0},updated_at:{type:"DatetimeType",isSingle:!0}},e),v.ConfigResponse=e=>b({created_at:{type:"DatetimeType",isSingle:!0},updated_at:{type:"DatetimeType",isSingle:!0}},e),v.CreateCallTypeResponse=e=>b({created_at:{type:"DatetimeType",isSingle:!0},updated_at:{type:"DatetimeType",isSingle:!0}},e),v.CreateChannelTypeResponse=e=>b({created_at:{type:"DatetimeType",isSingle:!0},updated_at:{type:"DatetimeType",isSingle:!0}},e),v.CreateCommandResponse=e=>b({command:{type:"Command",isSingle:!0}},e),v.CreateGuestResponse=e=>b({user:{type:"UserResponse",isSingle:!0}},e),v.CreateImportResponse=e=>b({import_task:{type:"ImportTask",isSingle:!0}},e),v.CreateRoleResponse=e=>b({role:{type:"Role",isSingle:!0}},e),v.CustomCheckResponse=e=>b({scored_at:{type:"DatetimeType",isSingle:!0},reviewed_at:{type:"DatetimeType",isSingle:!0}},e),v.DeactivateUserResponse=e=>b({user:{type:"UserResponse",isSingle:!0}},e),v.DeleteCallResponse=e=>b({call:{type:"CallResponse",isSingle:!0}},e),v.DeleteChannelResponse=e=>b({channel:{type:"ChannelResponse",isSingle:!0}},e),v.DeleteMessageResponse=e=>b({message:{type:"MessageResponse",isSingle:!0}},e),v.Device=e=>b({created_at:{type:"DatetimeType",isSingle:!0}},e),v.EgressRTMPResponse=e=>b({started_at:{type:"DatetimeType",isSingle:!0}},e),v.EventResponse=e=>b({event:{type:"WSEvent",isSingle:!0}},e),v.ExportUserResponse=e=>b({messages:{type:"Message",isSingle:!1},reactions:{type:"Reaction",isSingle:!1},user:{type:"UserResponse",isSingle:!0}},e),v.Flag2=e=>b({created_at:{type:"DatetimeType",isSingle:!0},updated_at:{type:"DatetimeType",isSingle:!0},moderation_payload:{type:"ModerationPayload",isSingle:!0},user:{type:"UserObject",isSingle:!0}},e),v.FlagDetails=e=>b({automod:{type:"AutomodDetails",isSingle:!0}},e),v.FlagFeedback=e=>b({created_at:{type:"DatetimeType",isSingle:!0}},e),v.FullUserResponse=e=>b({created_at:{type:"DatetimeType",isSingle:!0},updated_at:{type:"DatetimeType",isSingle:!0},channel_mutes:{type:"ChannelMute",isSingle:!1},devices:{type:"Device",isSingle:!1},mutes:{type:"UserMuteResponse",isSingle:!1},deactivated_at:{type:"DatetimeType",isSingle:!0},deleted_at:{type:"DatetimeType",isSingle:!0},last_active:{type:"DatetimeType",isSingle:!0},revoke_tokens_issued_before:{type:"DatetimeType",isSingle:!0},push_notifications:{type:"PushNotificationSettingsResponse",isSingle:!0}},e),v.GetApplicationResponse=e=>b({app:{type:"AppResponseFields",isSingle:!0}},e),v.GetBlockListResponse=e=>b({blocklist:{type:"BlockListResponse",isSingle:!0}},e),v.GetBlockedUsersResponse=e=>b({blocks:{type:"BlockedUserResponse",isSingle:!1}},e),v.GetCallResponse=e=>b({members:{type:"MemberResponse",isSingle:!1},call:{type:"CallResponse",isSingle:!0}},e),v.GetCallTypeResponse=e=>b({created_at:{type:"DatetimeType",isSingle:!0},updated_at:{type:"DatetimeType",isSingle:!0}},e),v.GetChannelTypeResponse=e=>b({created_at:{type:"DatetimeType",isSingle:!0},updated_at:{type:"DatetimeType",isSingle:!0},commands:{type:"Command",isSingle:!1}},e),v.GetCommandResponse=e=>b({created_at:{type:"DatetimeType",isSingle:!0},updated_at:{type:"DatetimeType",isSingle:!0}},e),v.GetConfigResponse=e=>b({config:{type:"ConfigResponse",isSingle:!0}},e),v.GetExportChannelsStatusResponse=e=>b({created_at:{type:"DatetimeType",isSingle:!0},updated_at:{type:"DatetimeType",isSingle:!0}},e),v.GetImportResponse=e=>b({import_task:{type:"ImportTask",isSingle:!0}},e),v.GetManyMessagesResponse=e=>b({messages:{type:"Message",isSingle:!1}},e),v.GetMessageResponse=e=>b({message:{type:"MessageWithChannelResponse",isSingle:!0}},e),v.GetOrCreateCallResponse=e=>b({members:{type:"MemberResponse",isSingle:!1},call:{type:"CallResponse",isSingle:!0}},e),v.GetReactionsResponse=e=>b({reactions:{type:"Reaction",isSingle:!1}},e),v.GetRepliesResponse=e=>b({messages:{type:"MessageResponse",isSingle:!1}},e),v.GetReviewQueueItemResponse=e=>b({history:{type:"ReviewQueueItem",isSingle:!1},item:{type:"ReviewQueueItem",isSingle:!0}},e),v.GetTaskResponse=e=>b({created_at:{type:"DatetimeType",isSingle:!0},updated_at:{type:"DatetimeType",isSingle:!0}},e),v.GetThreadResponse=e=>b({thread:{type:"ThreadStateResponse",isSingle:!0}},e),v.GetUserModerationReportResponse=e=>b({user_blocks:{type:"UserBlock",isSingle:!1},user_mutes:{type:"UserMute",isSingle:!1},user:{type:"UserResponse",isSingle:!0}},e),v.GoLiveResponse=e=>b({call:{type:"CallResponse",isSingle:!0}},e),v.ImportTask=e=>b({created_at:{type:"DatetimeType",isSingle:!0},updated_at:{type:"DatetimeType",isSingle:!0},history:{type:"ImportTaskHistory",isSingle:!1}},e),v.ImportTaskHistory=e=>b({created_at:{type:"DatetimeType",isSingle:!0}},e),v.ListBlockListResponse=e=>b({blocklists:{type:"BlockListResponse",isSingle:!1}},e),v.ListCallTypeResponse=e=>b({call_types:{type:"CallTypeResponse",isSingle:!1}},e),v.ListChannelTypesResponse=e=>b({channel_types:{type:"ChannelTypeConfig",isSingle:!1}},e),v.ListCommandsResponse=e=>b({commands:{type:"Command",isSingle:!1}},e),v.ListDevicesResponse=e=>b({devices:{type:"Device",isSingle:!1}},e),v.ListImportsResponse=e=>b({import_tasks:{type:"ImportTask",isSingle:!1}},e),v.ListPushProvidersResponse=e=>b({push_providers:{type:"PushProviderResponse",isSingle:!1}},e),v.ListRecordingsResponse=e=>b({recordings:{type:"CallRecording",isSingle:!1}},e),v.ListRolesResponse=e=>b({roles:{type:"Role",isSingle:!1}},e),v.ListTranscriptionsResponse=e=>b({transcriptions:{type:"CallTranscription",isSingle:!1}},e),v.MarkReadResponse=e=>b({event:{type:"MessageReadEvent",isSingle:!0}},e),v.MemberResponse=e=>b({created_at:{type:"DatetimeType",isSingle:!0},updated_at:{type:"DatetimeType",isSingle:!0},user:{type:"UserResponse",isSingle:!0},deleted_at:{type:"DatetimeType",isSingle:!0}},e),v.MembersResponse=e=>b({members:{type:"ChannelMember",isSingle:!1}},e),v.Message=e=>b({created_at:{type:"DatetimeType",isSingle:!0},updated_at:{type:"DatetimeType",isSingle:!0},latest_reactions:{type:"Reaction",isSingle:!1},mentioned_users:{type:"UserObject",isSingle:!1},own_reactions:{type:"Reaction",isSingle:!1},reaction_groups:{type:"ReactionGroupResponse",isSingle:!1},deleted_at:{type:"DatetimeType",isSingle:!0},message_text_updated_at:{type:"DatetimeType",isSingle:!0},pin_expires:{type:"DatetimeType",isSingle:!0},pinned_at:{type:"DatetimeType",isSingle:!0},thread_participants:{type:"UserObject",isSingle:!1},pinned_by:{type:"UserObject",isSingle:!0},poll:{type:"Poll",isSingle:!0},quoted_message:{type:"Message",isSingle:!0},user:{type:"UserObject",isSingle:!0}},e),v.MessageFlagResponse=e=>b({created_at:{type:"DatetimeType",isSingle:!0},updated_at:{type:"DatetimeType",isSingle:!0},approved_at:{type:"DatetimeType",isSingle:!0},rejected_at:{type:"DatetimeType",isSingle:!0},reviewed_at:{type:"DatetimeType",isSingle:!0},details:{type:"FlagDetails",isSingle:!0},message:{type:"Message",isSingle:!0},moderation_feedback:{type:"FlagFeedback",isSingle:!0},moderation_result:{type:"MessageModerationResult",isSingle:!0},reviewed_by:{type:"UserResponse",isSingle:!0},user:{type:"UserResponse",isSingle:!0}},e),v.MessageHistoryEntryResponse=e=>b({message_updated_at:{type:"DatetimeType",isSingle:!0}},e),v.MessageModerationResult=e=>b({created_at:{type:"DatetimeType",isSingle:!0},updated_at:{type:"DatetimeType",isSingle:!0}},e),v.MessageReadEvent=e=>b({created_at:{type:"DatetimeType",isSingle:!0},thread:{type:"ThreadResponse",isSingle:!0},user:{type:"UserObject",isSingle:!0}},e),v.MessageResponse=e=>b({created_at:{type:"DatetimeType",isSingle:!0},updated_at:{type:"DatetimeType",isSingle:!0},latest_reactions:{type:"ReactionResponse",isSingle:!1},mentioned_users:{type:"UserResponse",isSingle:!1},own_reactions:{type:"ReactionResponse",isSingle:!1},user:{type:"UserResponse",isSingle:!0},deleted_at:{type:"DatetimeType",isSingle:!0},message_text_updated_at:{type:"DatetimeType",isSingle:!0},pin_expires:{type:"DatetimeType",isSingle:!0},pinned_at:{type:"DatetimeType",isSingle:!0},thread_participants:{type:"UserResponse",isSingle:!1},pinned_by:{type:"UserResponse",isSingle:!0},poll:{type:"Poll",isSingle:!0},quoted_message:{type:"Message",isSingle:!0},reaction_groups:{type:"ReactionGroupResponse",isSingle:!1}},e),v.MessageWithChannelResponse=e=>b({created_at:{type:"DatetimeType",isSingle:!0},updated_at:{type:"DatetimeType",isSingle:!0},latest_reactions:{type:"ReactionResponse",isSingle:!1},mentioned_users:{type:"UserResponse",isSingle:!1},own_reactions:{type:"ReactionResponse",isSingle:!1},channel:{type:"ChannelResponse",isSingle:!0},user:{type:"UserResponse",isSingle:!0},deleted_at:{type:"DatetimeType",isSingle:!0},message_text_updated_at:{type:"DatetimeType",isSingle:!0},pin_expires:{type:"DatetimeType",isSingle:!0},pinned_at:{type:"DatetimeType",isSingle:!0},thread_participants:{type:"UserResponse",isSingle:!1},pinned_by:{type:"UserResponse",isSingle:!0},poll:{type:"Poll",isSingle:!0},quoted_message:{type:"Message",isSingle:!0},reaction_groups:{type:"ReactionGroupResponse",isSingle:!1}},e),v.ModerationPayload=e=>b({created_at:{type:"DatetimeType",isSingle:!0}},e),v.ModerationUsageStats=e=>b({updated_at:{type:"DatetimeType",isSingle:!0}},e),v.MuteChannelResponse=e=>b({channel_mutes:{type:"ChannelMute",isSingle:!1},channel_mute:{type:"ChannelMute",isSingle:!0},own_user:{type:"OwnUser",isSingle:!0}},e),v.MuteResponse=e=>b({mutes:{type:"UserMute",isSingle:!1},own_user:{type:"OwnUser",isSingle:!0}},e),v.NullTime=e=>b({value:{type:"DatetimeType",isSingle:!0}},e),v.OwnUser=e=>b({created_at:{type:"DatetimeType",isSingle:!0},updated_at:{type:"DatetimeType",isSingle:!0},channel_mutes:{type:"ChannelMute",isSingle:!1},devices:{type:"Device",isSingle:!1},mutes:{type:"UserMute",isSingle:!1},deactivated_at:{type:"DatetimeType",isSingle:!0},deleted_at:{type:"DatetimeType",isSingle:!0},last_active:{type:"DatetimeType",isSingle:!0},push_notifications:{type:"PushNotificationSettings",isSingle:!0}},e),v.PendingMessage=e=>b({channel:{type:"Channel",isSingle:!0},message:{type:"Message",isSingle:!0},user:{type:"UserObject",isSingle:!0}},e),v.Poll=e=>b({created_at:{type:"DatetimeType",isSingle:!0},updated_at:{type:"DatetimeType",isSingle:!0},latest_answers:{type:"PollVote",isSingle:!1},own_votes:{type:"PollVote",isSingle:!1},created_by:{type:"UserObject",isSingle:!0}},e),v.PollResponse=e=>b({poll:{type:"PollResponseData",isSingle:!0}},e),v.PollResponseData=e=>b({created_at:{type:"DatetimeType",isSingle:!0},updated_at:{type:"DatetimeType",isSingle:!0},own_votes:{type:"PollVoteResponseData",isSingle:!1},created_by:{type:"UserResponse",isSingle:!0}},e),v.PollVote=e=>b({created_at:{type:"DatetimeType",isSingle:!0},updated_at:{type:"DatetimeType",isSingle:!0},user:{type:"UserObject",isSingle:!0}},e),v.PollVoteResponse=e=>b({vote:{type:"PollVoteResponseData",isSingle:!0}},e),v.PollVoteResponseData=e=>b({created_at:{type:"DatetimeType",isSingle:!0},updated_at:{type:"DatetimeType",isSingle:!0},user:{type:"UserResponse",isSingle:!0}},e),v.PollVotesResponse=e=>b({votes:{type:"PollVoteResponseData",isSingle:!1}},e),v.PushNotificationFields=e=>b({providers:{type:"PushProvider",isSingle:!1}},e),v.PushNotificationSettings=e=>b({disabled_until:{type:"DatetimeType",isSingle:!0}},e),v.PushNotificationSettingsResponse=e=>b({disabled_until:{type:"DatetimeType",isSingle:!0}},e),v.PushProvider=e=>b({created_at:{type:"DatetimeType",isSingle:!0},updated_at:{type:"DatetimeType",isSingle:!0},disabled_at:{type:"DatetimeType",isSingle:!0}},e),v.PushProviderResponse=e=>b({created_at:{type:"DatetimeType",isSingle:!0},updated_at:{type:"DatetimeType",isSingle:!0},disabled_at:{type:"DatetimeType",isSingle:!0}},e),v.QueryBannedUsersResponse=e=>b({bans:{type:"BanResponse",isSingle:!1}},e),v.QueryCallMembersResponse=e=>b({members:{type:"MemberResponse",isSingle:!1}},e),v.QueryCallStatsResponse=e=>b({reports:{type:"CallStatsReportSummaryResponse",isSingle:!1}},e),v.QueryCallsResponse=e=>b({calls:{type:"CallStateResponseFields",isSingle:!1}},e),v.QueryChannelsResponse=e=>b({channels:{type:"ChannelStateResponseFields",isSingle:!1}},e),v.QueryFeedModerationTemplate=e=>b({created_at:{type:"DatetimeType",isSingle:!0},updated_at:{type:"DatetimeType",isSingle:!0}},e),v.QueryFeedModerationTemplatesResponse=e=>b({templates:{type:"QueryFeedModerationTemplate",isSingle:!1}},e),v.QueryMessageFlagsResponse=e=>b({flags:{type:"MessageFlagResponse",isSingle:!1}},e),v.QueryMessageHistoryResponse=e=>b({message_history:{type:"MessageHistoryEntryResponse",isSingle:!1}},e),v.QueryModerationLogsResponse=e=>b({l_og_s:{type:"ActionLogResponse",isSingle:!1}},e),v.QueryPollsResponse=e=>b({polls:{type:"PollResponseData",isSingle:!1}},e),v.QueryReactionsResponse=e=>b({reactions:{type:"ReactionResponse",isSingle:!1}},e),v.QueryReviewQueueResponse=e=>b({items:{type:"ReviewQueueItem",isSingle:!1}},e),v.QueryThreadsResponse=e=>b({threads:{type:"ThreadStateResponse",isSingle:!1}},e),v.QueryUsageStatsResponse=e=>b({items:{type:"ModerationUsageStats",isSingle:!1}},e),v.QueryUsersResponse=e=>b({users:{type:"FullUserResponse",isSingle:!1}},e),v.Reaction=e=>b({created_at:{type:"DatetimeType",isSingle:!0},updated_at:{type:"DatetimeType",isSingle:!0},user:{type:"UserObject",isSingle:!0}},e),v.ReactionGroupResponse=e=>b({first_reaction_at:{type:"DatetimeType",isSingle:!0},last_reaction_at:{type:"DatetimeType",isSingle:!0}},e),v.ReactionRemovalResponse=e=>b({message:{type:"Message",isSingle:!0},reaction:{type:"Reaction",isSingle:!0}},e),v.ReactionResponse=e=>b({created_at:{type:"DatetimeType",isSingle:!0},updated_at:{type:"DatetimeType",isSingle:!0},user:{type:"UserResponse",isSingle:!0}},e),v.ReactivateUserResponse=e=>b({user:{type:"UserResponse",isSingle:!0}},e),v.Read=e=>b({last_read:{type:"DatetimeType",isSingle:!0},user:{type:"UserObject",isSingle:!0}},e),v.ReadStateResponse=e=>b({last_read:{type:"DatetimeType",isSingle:!0},user:{type:"UserResponse",isSingle:!0}},e),v.ReviewQueueItem=e=>b({created_at:{type:"DatetimeType",isSingle:!0},updated_at:{type:"DatetimeType",isSingle:!0},actions:{type:"ActionLog",isSingle:!1},bans:{type:"Ban",isSingle:!1},flags:{type:"Flag2",isSingle:!1},completed_at:{type:"NullTime",isSingle:!0},reviewed_at:{type:"NullTime",isSingle:!0},assigned_to:{type:"UserObject",isSingle:!0},entity_creator:{type:"UserObject",isSingle:!0},feeds_v2_reaction:{type:"Reaction",isSingle:!0},message:{type:"Message",isSingle:!0},moderation_payload:{type:"ModerationPayload",isSingle:!0}},e),v.Role=e=>b({created_at:{type:"DatetimeType",isSingle:!0},updated_at:{type:"DatetimeType",isSingle:!0}},e),v.SearchResult=e=>b({message:{type:"SearchResultMessage",isSingle:!0}},e),v.SearchResultMessage=e=>b({created_at:{type:"DatetimeType",isSingle:!0},updated_at:{type:"DatetimeType",isSingle:!0},latest_reactions:{type:"Reaction",isSingle:!1},mentioned_users:{type:"UserObject",isSingle:!1},own_reactions:{type:"Reaction",isSingle:!1},reaction_groups:{type:"ReactionGroupResponse",isSingle:!1},deleted_at:{type:"DatetimeType",isSingle:!0},message_text_updated_at:{type:"DatetimeType",isSingle:!0},pin_expires:{type:"DatetimeType",isSingle:!0},pinned_at:{type:"DatetimeType",isSingle:!0},thread_participants:{type:"UserObject",isSingle:!1},channel:{type:"ChannelResponse",isSingle:!0},pinned_by:{type:"UserObject",isSingle:!0},poll:{type:"Poll",isSingle:!0},quoted_message:{type:"Message",isSingle:!0},user:{type:"UserObject",isSingle:!0}},e),v.SendMessageResponse=e=>b({message:{type:"MessageResponse",isSingle:!0}},e),v.SendReactionResponse=e=>b({message:{type:"MessageResponse",isSingle:!0},reaction:{type:"ReactionResponse",isSingle:!0}},e),v.StopLiveResponse=e=>b({call:{type:"CallResponse",isSingle:!0}},e),v.SubmitActionResponse=e=>b({item:{type:"ReviewQueueItem",isSingle:!0}},e),v.ThreadParticipant=e=>b({created_at:{type:"DatetimeType",isSingle:!0},last_read_at:{type:"DatetimeType",isSingle:!0},last_thread_message_at:{type:"DatetimeType",isSingle:!0},left_thread_at:{type:"DatetimeType",isSingle:!0},user:{type:"UserObject",isSingle:!0}},e),v.ThreadResponse=e=>b({created_at:{type:"DatetimeType",isSingle:!0},updated_at:{type:"DatetimeType",isSingle:!0},deleted_at:{type:"DatetimeType",isSingle:!0},last_message_at:{type:"DatetimeType",isSingle:!0},thread_participants:{type:"ThreadParticipant",isSingle:!1},channel:{type:"ChannelResponse",isSingle:!0},created_by:{type:"UserObject",isSingle:!0},parent_message:{type:"Message",isSingle:!0}},e),v.ThreadState=e=>b({created_at:{type:"DatetimeType",isSingle:!0},updated_at:{type:"DatetimeType",isSingle:!0},latest_replies:{type:"Message",isSingle:!1},deleted_at:{type:"DatetimeType",isSingle:!0},last_message_at:{type:"DatetimeType",isSingle:!0},read:{type:"Read",isSingle:!1},thread_participants:{type:"ThreadParticipant",isSingle:!1},channel:{type:"Channel",isSingle:!0},created_by:{type:"UserObject",isSingle:!0},parent_message:{type:"Message",isSingle:!0}},e),v.ThreadStateResponse=e=>b({created_at:{type:"DatetimeType",isSingle:!0},updated_at:{type:"DatetimeType",isSingle:!0},latest_replies:{type:"Message",isSingle:!1},deleted_at:{type:"DatetimeType",isSingle:!0},last_message_at:{type:"DatetimeType",isSingle:!0},read:{type:"Read",isSingle:!1},thread_participants:{type:"ThreadParticipant",isSingle:!1},channel:{type:"ChannelResponse",isSingle:!0},created_by:{type:"UserResponse",isSingle:!0},parent_message:{type:"Message",isSingle:!0}},e),v.TruncateChannelResponse=e=>b({channel:{type:"ChannelResponse",isSingle:!0},message:{type:"Message",isSingle:!0}},e),v.UnreadCountsBatchResponse=e=>b({counts_by_user:{type:"UnreadCountsResponse",isSingle:!1}},e),v.UnreadCountsChannel=e=>b({last_read:{type:"DatetimeType",isSingle:!0}},e),v.UnreadCountsResponse=e=>b({channels:{type:"UnreadCountsChannel",isSingle:!1},threads:{type:"UnreadCountsThread",isSingle:!1}},e),v.UnreadCountsThread=e=>b({last_read:{type:"DatetimeType",isSingle:!0}},e),v.UpdateCallMembersResponse=e=>b({members:{type:"MemberResponse",isSingle:!1}},e),v.UpdateCallResponse=e=>b({members:{type:"MemberResponse",isSingle:!1},call:{type:"CallResponse",isSingle:!0}},e),v.UpdateCallTypeResponse=e=>b({created_at:{type:"DatetimeType",isSingle:!0},updated_at:{type:"DatetimeType",isSingle:!0}},e),v.UpdateChannelPartialResponse=e=>b({members:{type:"ChannelMemberResponse",isSingle:!1},channel:{type:"ChannelResponse",isSingle:!0}},e),v.UpdateChannelResponse=e=>b({members:{type:"ChannelMember",isSingle:!1},channel:{type:"ChannelResponse",isSingle:!0},message:{type:"Message",isSingle:!0}},e),v.UpdateChannelTypeResponse=e=>b({created_at:{type:"DatetimeType",isSingle:!0},updated_at:{type:"DatetimeType",isSingle:!0}},e),v.UpdateCommandResponse=e=>b({command:{type:"Command",isSingle:!0}},e),v.UpdateMessagePartialResponse=e=>b({message:{type:"Message",isSingle:!0}},e),v.UpdateMessageResponse=e=>b({message:{type:"Message",isSingle:!0}},e),v.UpdateThreadPartialResponse=e=>b({thread:{type:"ThreadResponse",isSingle:!0}},e),v.UpdateUsersResponse=e=>b({users:{type:"FullUserResponse",isSingle:!1}},e),v.UpsertConfigResponse=e=>b({config:{type:"ConfigResponse",isSingle:!0}},e),v.UpsertModerationTemplateResponse=e=>b({created_at:{type:"DatetimeType",isSingle:!0},updated_at:{type:"DatetimeType",isSingle:!0}},e),v.UpsertPushProviderResponse=e=>b({push_provider:{type:"PushProviderResponse",isSingle:!0}},e),v.UserBlock=e=>b({created_at:{type:"DatetimeType",isSingle:!0}},e),v.UserMute=e=>b({created_at:{type:"DatetimeType",isSingle:!0},updated_at:{type:"DatetimeType",isSingle:!0},expires:{type:"DatetimeType",isSingle:!0},target:{type:"UserObject",isSingle:!0},user:{type:"UserObject",isSingle:!0}},e),v.UserMuteResponse=e=>b({created_at:{type:"DatetimeType",isSingle:!0},updated_at:{type:"DatetimeType",isSingle:!0},expires:{type:"DatetimeType",isSingle:!0},target:{type:"UserResponse",isSingle:!0},user:{type:"UserResponse",isSingle:!0}},e),v.UserObject=e=>b({ban_expires:{type:"DatetimeType",isSingle:!0},created_at:{type:"DatetimeType",isSingle:!0},deactivated_at:{type:"DatetimeType",isSingle:!0},deleted_at:{type:"DatetimeType",isSingle:!0},last_active:{type:"DatetimeType",isSingle:!0},revoke_tokens_issued_before:{type:"DatetimeType",isSingle:!0},updated_at:{type:"DatetimeType",isSingle:!0},push_notifications:{type:"PushNotificationSettings",isSingle:!0}},e),v.UserResponse=e=>b({created_at:{type:"DatetimeType",isSingle:!0},updated_at:{type:"DatetimeType",isSingle:!0},devices:{type:"Device",isSingle:!1},ban_expires:{type:"DatetimeType",isSingle:!0},deactivated_at:{type:"DatetimeType",isSingle:!0},deleted_at:{type:"DatetimeType",isSingle:!0},last_active:{type:"DatetimeType",isSingle:!0},revoke_tokens_issued_before:{type:"DatetimeType",isSingle:!0},push_notifications:{type:"PushNotificationSettingsResponse",isSingle:!0}},e),v.WSEvent=e=>b({created_at:{type:"DatetimeType",isSingle:!0},channel:{type:"ChannelResponse",isSingle:!0},created_by:{type:"UserObject",isSingle:!0},me:{type:"OwnUser",isSingle:!0},member:{type:"ChannelMember",isSingle:!0},message:{type:"Message",isSingle:!0},poll:{type:"Poll",isSingle:!0},poll_vote:{type:"PollVote",isSingle:!0},reaction:{type:"Reaction",isSingle:!0},thread:{type:"ThreadResponse",isSingle:!0},user:{type:"UserObject",isSingle:!0}},e),v.WrappedUnreadCountsResponse=e=>b({channels:{type:"UnreadCountsChannel",isSingle:!1},threads:{type:"UnreadCountsThread",isSingle:!1}},e);class y extends g{constructor(){super(...arguments),this.getApp=()=>h(this,void 0,void 0,function*(){var e;let t=yield this.sendRequest("GET","/api/v2/app",void 0,void 0);return null===(e=v.GetApplicationResponse)||void 0===e||e.call(v,t.body),Object.assign(Object.assign({},t.body),{metadata:t.metadata})}),this.updateApp=e=>h(this,void 0,void 0,function*(){var t;let i={async_url_enrich_enabled:null==e?void 0:e.async_url_enrich_enabled,auto_translation_enabled:null==e?void 0:e.auto_translation_enabled,before_message_send_hook_url:null==e?void 0:e.before_message_send_hook_url,cdn_expiration_seconds:null==e?void 0:e.cdn_expiration_seconds,channel_hide_members_only:null==e?void 0:e.channel_hide_members_only,custom_action_handler_url:null==e?void 0:e.custom_action_handler_url,disable_auth_checks:null==e?void 0:e.disable_auth_checks,disable_permissions_checks:null==e?void 0:e.disable_permissions_checks,enforce_unique_usernames:null==e?void 0:e.enforce_unique_usernames,feeds_moderation_enabled:null==e?void 0:e.feeds_moderation_enabled,feeds_v2_region:null==e?void 0:e.feeds_v2_region,image_moderation_enabled:null==e?void 0:e.image_moderation_enabled,migrate_permissions_to_v2:null==e?void 0:e.migrate_permissions_to_v2,moderation_enabled:null==e?void 0:e.moderation_enabled,moderation_webhook_url:null==e?void 0:e.moderation_webhook_url,multi_tenant_enabled:null==e?void 0:e.multi_tenant_enabled,permission_version:null==e?void 0:e.permission_version,reminders_interval:null==e?void 0:e.reminders_interval,reminders_max_members:null==e?void 0:e.reminders_max_members,revoke_tokens_issued_before:null==e?void 0:e.revoke_tokens_issued_before,sns_key:null==e?void 0:e.sns_key,sns_secret:null==e?void 0:e.sns_secret,sns_topic_arn:null==e?void 0:e.sns_topic_arn,sqs_key:null==e?void 0:e.sqs_key,sqs_secret:null==e?void 0:e.sqs_secret,sqs_url:null==e?void 0:e.sqs_url,video_provider:null==e?void 0:e.video_provider,webhook_url:null==e?void 0:e.webhook_url,allowed_flag_reasons:null==e?void 0:e.allowed_flag_reasons,image_moderation_block_labels:null==e?void 0:e.image_moderation_block_labels,image_moderation_labels:null==e?void 0:e.image_moderation_labels,user_search_disallowed_roles:null==e?void 0:e.user_search_disallowed_roles,webhook_events:null==e?void 0:e.webhook_events,agora_options:null==e?void 0:e.agora_options,apn_config:null==e?void 0:e.apn_config,async_moderation_config:null==e?void 0:e.async_moderation_config,datadog_info:null==e?void 0:e.datadog_info,file_upload_config:null==e?void 0:e.file_upload_config,firebase_config:null==e?void 0:e.firebase_config,grants:null==e?void 0:e.grants,hms_options:null==e?void 0:e.hms_options,huawei_config:null==e?void 0:e.huawei_config,image_upload_config:null==e?void 0:e.image_upload_config,push_config:null==e?void 0:e.push_config,xiaomi_config:null==e?void 0:e.xiaomi_config},n=yield this.sendRequest("PATCH","/api/v2/app",void 0,void 0,i);return null===(t=v.Response)||void 0===t||t.call(v,n.body),Object.assign(Object.assign({},n.body),{metadata:n.metadata})}),this.listBlockLists=()=>h(this,void 0,void 0,function*(){var e;let t=yield this.sendRequest("GET","/api/v2/blocklists",void 0,void 0);return null===(e=v.ListBlockListResponse)||void 0===e||e.call(v,t.body),Object.assign(Object.assign({},t.body),{metadata:t.metadata})}),this.createBlockList=e=>h(this,void 0,void 0,function*(){var t;let i={name:null==e?void 0:e.name,words:null==e?void 0:e.words,type:null==e?void 0:e.type},n=yield this.sendRequest("POST","/api/v2/blocklists",void 0,void 0,i);return null===(t=v.Response)||void 0===t||t.call(v,n.body),Object.assign(Object.assign({},n.body),{metadata:n.metadata})}),this.deleteBlockList=e=>h(this,void 0,void 0,function*(){var t;let i={name:null==e?void 0:e.name},n=yield this.sendRequest("DELETE","/api/v2/blocklists/{name}",i,void 0);return null===(t=v.Response)||void 0===t||t.call(v,n.body),Object.assign(Object.assign({},n.body),{metadata:n.metadata})}),this.getBlockList=e=>h(this,void 0,void 0,function*(){var t;let i={name:null==e?void 0:e.name},n=yield this.sendRequest("GET","/api/v2/blocklists/{name}",i,void 0);return null===(t=v.GetBlockListResponse)||void 0===t||t.call(v,n.body),Object.assign(Object.assign({},n.body),{metadata:n.metadata})}),this.updateBlockList=e=>h(this,void 0,void 0,function*(){var t;let i={name:null==e?void 0:e.name},n={words:null==e?void 0:e.words},s=yield this.sendRequest("PUT","/api/v2/blocklists/{name}",i,void 0,n);return null===(t=v.Response)||void 0===t||t.call(v,s.body),Object.assign(Object.assign({},s.body),{metadata:s.metadata})}),this.checkPush=e=>h(this,void 0,void 0,function*(){var t;let i={apn_template:null==e?void 0:e.apn_template,firebase_data_template:null==e?void 0:e.firebase_data_template,firebase_template:null==e?void 0:e.firebase_template,message_id:null==e?void 0:e.message_id,push_provider_name:null==e?void 0:e.push_provider_name,push_provider_type:null==e?void 0:e.push_provider_type,skip_devices:null==e?void 0:e.skip_devices,user_id:null==e?void 0:e.user_id,user:null==e?void 0:e.user},n=yield this.sendRequest("POST","/api/v2/check_push",void 0,void 0,i);return null===(t=v.CheckPushResponse)||void 0===t||t.call(v,n.body),Object.assign(Object.assign({},n.body),{metadata:n.metadata})}),this.checkSNS=e=>h(this,void 0,void 0,function*(){var t;let i={sns_key:null==e?void 0:e.sns_key,sns_secret:null==e?void 0:e.sns_secret,sns_topic_arn:null==e?void 0:e.sns_topic_arn},n=yield this.sendRequest("POST","/api/v2/check_sns",void 0,void 0,i);return null===(t=v.CheckSNSResponse)||void 0===t||t.call(v,n.body),Object.assign(Object.assign({},n.body),{metadata:n.metadata})}),this.checkSQS=e=>h(this,void 0,void 0,function*(){var t;let i={sqs_key:null==e?void 0:e.sqs_key,sqs_secret:null==e?void 0:e.sqs_secret,sqs_url:null==e?void 0:e.sqs_url},n=yield this.sendRequest("POST","/api/v2/check_sqs",void 0,void 0,i);return null===(t=v.CheckSQSResponse)||void 0===t||t.call(v,n.body),Object.assign(Object.assign({},n.body),{metadata:n.metadata})}),this.deleteDevice=e=>h(this,void 0,void 0,function*(){var t;let i={id:null==e?void 0:e.id,user_id:null==e?void 0:e.user_id},n=yield this.sendRequest("DELETE","/api/v2/devices",void 0,i);return null===(t=v.Response)||void 0===t||t.call(v,n.body),Object.assign(Object.assign({},n.body),{metadata:n.metadata})}),this.listDevices=e=>h(this,void 0,void 0,function*(){var t;let i={user_id:null==e?void 0:e.user_id},n=yield this.sendRequest("GET","/api/v2/devices",void 0,i);return null===(t=v.ListDevicesResponse)||void 0===t||t.call(v,n.body),Object.assign(Object.assign({},n.body),{metadata:n.metadata})}),this.createDevice=e=>h(this,void 0,void 0,function*(){var t;let i={id:null==e?void 0:e.id,push_provider:null==e?void 0:e.push_provider,push_provider_name:null==e?void 0:e.push_provider_name,user_id:null==e?void 0:e.user_id,voip_token:null==e?void 0:e.voip_token,user:null==e?void 0:e.user},n=yield this.sendRequest("POST","/api/v2/devices",void 0,void 0,i);return null===(t=v.Response)||void 0===t||t.call(v,n.body),Object.assign(Object.assign({},n.body),{metadata:n.metadata})}),this.exportUsers=e=>h(this,void 0,void 0,function*(){var t;let i={user_ids:null==e?void 0:e.user_ids},n=yield this.sendRequest("POST","/api/v2/export/users",void 0,void 0,i);return null===(t=v.ExportUsersResponse)||void 0===t||t.call(v,n.body),Object.assign(Object.assign({},n.body),{metadata:n.metadata})}),this.listExternalStorage=()=>h(this,void 0,void 0,function*(){var e;let t=yield this.sendRequest("GET","/api/v2/external_storage",void 0,void 0);return null===(e=v.ListExternalStorageResponse)||void 0===e||e.call(v,t.body),Object.assign(Object.assign({},t.body),{metadata:t.metadata})}),this.createExternalStorage=e=>h(this,void 0,void 0,function*(){var t;let i={bucket:null==e?void 0:e.bucket,name:null==e?void 0:e.name,storage_type:null==e?void 0:e.storage_type,gcs_credentials:null==e?void 0:e.gcs_credentials,path:null==e?void 0:e.path,aws_s3:null==e?void 0:e.aws_s3,azure_blob:null==e?void 0:e.azure_blob},n=yield this.sendRequest("POST","/api/v2/external_storage",void 0,void 0,i);return null===(t=v.CreateExternalStorageResponse)||void 0===t||t.call(v,n.body),Object.assign(Object.assign({},n.body),{metadata:n.metadata})}),this.deleteExternalStorage=e=>h(this,void 0,void 0,function*(){var t;let i={name:null==e?void 0:e.name},n=yield this.sendRequest("DELETE","/api/v2/external_storage/{name}",i,void 0);return null===(t=v.DeleteExternalStorageResponse)||void 0===t||t.call(v,n.body),Object.assign(Object.assign({},n.body),{metadata:n.metadata})}),this.updateExternalStorage=e=>h(this,void 0,void 0,function*(){var t;let i={name:null==e?void 0:e.name},n={bucket:null==e?void 0:e.bucket,storage_type:null==e?void 0:e.storage_type,gcs_credentials:null==e?void 0:e.gcs_credentials,path:null==e?void 0:e.path,aws_s3:null==e?void 0:e.aws_s3,azure_blob:null==e?void 0:e.azure_blob},s=yield this.sendRequest("PUT","/api/v2/external_storage/{name}",i,void 0,n);return null===(t=v.UpdateExternalStorageResponse)||void 0===t||t.call(v,s.body),Object.assign(Object.assign({},s.body),{metadata:s.metadata})}),this.checkExternalStorage=e=>h(this,void 0,void 0,function*(){var t;let i={name:null==e?void 0:e.name},n=yield this.sendRequest("GET","/api/v2/external_storage/{name}/check",i,void 0);return null===(t=v.CheckExternalStorageResponse)||void 0===t||t.call(v,n.body),Object.assign(Object.assign({},n.body),{metadata:n.metadata})}),this.createGuest=e=>h(this,void 0,void 0,function*(){var t;let i={user:null==e?void 0:e.user},n=yield this.sendRequest("POST","/api/v2/guest",void 0,void 0,i);return null===(t=v.CreateGuestResponse)||void 0===t||t.call(v,n.body),Object.assign(Object.assign({},n.body),{metadata:n.metadata})}),this.createImportURL=e=>h(this,void 0,void 0,function*(){var t;let i={filename:null==e?void 0:e.filename},n=yield this.sendRequest("POST","/api/v2/import_urls",void 0,void 0,i);return null===(t=v.CreateImportURLResponse)||void 0===t||t.call(v,n.body),Object.assign(Object.assign({},n.body),{metadata:n.metadata})}),this.listImports=()=>h(this,void 0,void 0,function*(){var e;let t=yield this.sendRequest("GET","/api/v2/imports",void 0,void 0);return null===(e=v.ListImportsResponse)||void 0===e||e.call(v,t.body),Object.assign(Object.assign({},t.body),{metadata:t.metadata})}),this.createImport=e=>h(this,void 0,void 0,function*(){var t;let i={mode:null==e?void 0:e.mode,path:null==e?void 0:e.path},n=yield this.sendRequest("POST","/api/v2/imports",void 0,void 0,i);return null===(t=v.CreateImportResponse)||void 0===t||t.call(v,n.body),Object.assign(Object.assign({},n.body),{metadata:n.metadata})}),this.getImport=e=>h(this,void 0,void 0,function*(){var t;let i={id:null==e?void 0:e.id},n=yield this.sendRequest("GET","/api/v2/imports/{id}",i,void 0);return null===(t=v.GetImportResponse)||void 0===t||t.call(v,n.body),Object.assign(Object.assign({},n.body),{metadata:n.metadata})}),this.getOG=e=>h(this,void 0,void 0,function*(){var t;let i={url:null==e?void 0:e.url},n=yield this.sendRequest("GET","/api/v2/og",void 0,i);return null===(t=v.GetOGResponse)||void 0===t||t.call(v,n.body),Object.assign(Object.assign({},n.body),{metadata:n.metadata})}),this.listPermissions=()=>h(this,void 0,void 0,function*(){var e;let t=yield this.sendRequest("GET","/api/v2/permissions",void 0,void 0);return null===(e=v.ListPermissionsResponse)||void 0===e||e.call(v,t.body),Object.assign(Object.assign({},t.body),{metadata:t.metadata})}),this.getPermission=e=>h(this,void 0,void 0,function*(){var t;let i={id:null==e?void 0:e.id},n=yield this.sendRequest("GET","/api/v2/permissions/{id}",i,void 0);return null===(t=v.GetCustomPermissionResponse)||void 0===t||t.call(v,n.body),Object.assign(Object.assign({},n.body),{metadata:n.metadata})}),this.listPushProviders=()=>h(this,void 0,void 0,function*(){var e;let t=yield this.sendRequest("GET","/api/v2/push_providers",void 0,void 0);return null===(e=v.ListPushProvidersResponse)||void 0===e||e.call(v,t.body),Object.assign(Object.assign({},t.body),{metadata:t.metadata})}),this.upsertPushProvider=e=>h(this,void 0,void 0,function*(){var t;let i={push_provider:null==e?void 0:e.push_provider},n=yield this.sendRequest("POST","/api/v2/push_providers",void 0,void 0,i);return null===(t=v.UpsertPushProviderResponse)||void 0===t||t.call(v,n.body),Object.assign(Object.assign({},n.body),{metadata:n.metadata})}),this.deletePushProvider=e=>h(this,void 0,void 0,function*(){var t;let i={type:null==e?void 0:e.type,name:null==e?void 0:e.name},n=yield this.sendRequest("DELETE","/api/v2/push_providers/{type}/{name}",i,void 0);return null===(t=v.Response)||void 0===t||t.call(v,n.body),Object.assign(Object.assign({},n.body),{metadata:n.metadata})}),this.getRateLimits=e=>h(this,void 0,void 0,function*(){var t;let i={server_side:null==e?void 0:e.server_side,android:null==e?void 0:e.android,ios:null==e?void 0:e.ios,web:null==e?void 0:e.web,endpoints:null==e?void 0:e.endpoints},n=yield this.sendRequest("GET","/api/v2/rate_limits",void 0,i);return null===(t=v.GetRateLimitsResponse)||void 0===t||t.call(v,n.body),Object.assign(Object.assign({},n.body),{metadata:n.metadata})}),this.listRoles=()=>h(this,void 0,void 0,function*(){var e;let t=yield this.sendRequest("GET","/api/v2/roles",void 0,void 0);return null===(e=v.ListRolesResponse)||void 0===e||e.call(v,t.body),Object.assign(Object.assign({},t.body),{metadata:t.metadata})}),this.createRole=e=>h(this,void 0,void 0,function*(){var t;let i={name:null==e?void 0:e.name},n=yield this.sendRequest("POST","/api/v2/roles",void 0,void 0,i);return null===(t=v.CreateRoleResponse)||void 0===t||t.call(v,n.body),Object.assign(Object.assign({},n.body),{metadata:n.metadata})}),this.deleteRole=e=>h(this,void 0,void 0,function*(){var t;let i={name:null==e?void 0:e.name},n=yield this.sendRequest("DELETE","/api/v2/roles/{name}",i,void 0);return null===(t=v.Response)||void 0===t||t.call(v,n.body),Object.assign(Object.assign({},n.body),{metadata:n.metadata})}),this.getTask=e=>h(this,void 0,void 0,function*(){var t;let i={id:null==e?void 0:e.id},n=yield this.sendRequest("GET","/api/v2/tasks/{id}",i,void 0);return null===(t=v.GetTaskResponse)||void 0===t||t.call(v,n.body),Object.assign(Object.assign({},n.body),{metadata:n.metadata})}),this.queryUsers=e=>h(this,void 0,void 0,function*(){var t;let i={payload:null==e?void 0:e.payload},n=yield this.sendRequest("GET","/api/v2/users",void 0,i);return null===(t=v.QueryUsersResponse)||void 0===t||t.call(v,n.body),Object.assign(Object.assign({},n.body),{metadata:n.metadata})}),this.updateUsersPartial=e=>h(this,void 0,void 0,function*(){var t;let i={users:null==e?void 0:e.users},n=yield this.sendRequest("PATCH","/api/v2/users",void 0,void 0,i);return null===(t=v.UpdateUsersResponse)||void 0===t||t.call(v,n.body),Object.assign(Object.assign({},n.body),{metadata:n.metadata})}),this.updateUsers=e=>h(this,void 0,void 0,function*(){var t;let i={users:null==e?void 0:e.users},n=yield this.sendRequest("POST","/api/v2/users",void 0,void 0,i);return null===(t=v.UpdateUsersResponse)||void 0===t||t.call(v,n.body),Object.assign(Object.assign({},n.body),{metadata:n.metadata})}),this.getBlockedUsers=e=>h(this,void 0,void 0,function*(){var t;let i={user_id:null==e?void 0:e.user_id},n=yield this.sendRequest("GET","/api/v2/users/block",void 0,i);return null===(t=v.GetBlockedUsersResponse)||void 0===t||t.call(v,n.body),Object.assign(Object.assign({},n.body),{metadata:n.metadata})}),this.blockUsers=e=>h(this,void 0,void 0,function*(){var t;let i={blocked_user_id:null==e?void 0:e.blocked_user_id,user_id:null==e?void 0:e.user_id,user:null==e?void 0:e.user},n=yield this.sendRequest("POST","/api/v2/users/block",void 0,void 0,i);return null===(t=v.BlockUsersResponse)||void 0===t||t.call(v,n.body),Object.assign(Object.assign({},n.body),{metadata:n.metadata})}),this.deactivateUsers=e=>h(this,void 0,void 0,function*(){var t;let i={user_ids:null==e?void 0:e.user_ids,created_by_id:null==e?void 0:e.created_by_id,mark_channels_deleted:null==e?void 0:e.mark_channels_deleted,mark_messages_deleted:null==e?void 0:e.mark_messages_deleted},n=yield this.sendRequest("POST","/api/v2/users/deactivate",void 0,void 0,i);return null===(t=v.DeactivateUsersResponse)||void 0===t||t.call(v,n.body),Object.assign(Object.assign({},n.body),{metadata:n.metadata})}),this.deleteUsers=e=>h(this,void 0,void 0,function*(){var t;let i={user_ids:null==e?void 0:e.user_ids,calls:null==e?void 0:e.calls,conversations:null==e?void 0:e.conversations,messages:null==e?void 0:e.messages,new_call_owner_id:null==e?void 0:e.new_call_owner_id,new_channel_owner_id:null==e?void 0:e.new_channel_owner_id,user:null==e?void 0:e.user},n=yield this.sendRequest("POST","/api/v2/users/delete",void 0,void 0,i);return null===(t=v.DeleteUsersResponse)||void 0===t||t.call(v,n.body),Object.assign(Object.assign({},n.body),{metadata:n.metadata})}),this.reactivateUsers=e=>h(this,void 0,void 0,function*(){var t;let i={user_ids:null==e?void 0:e.user_ids,created_by_id:null==e?void 0:e.created_by_id,restore_channels:null==e?void 0:e.restore_channels,restore_messages:null==e?void 0:e.restore_messages},n=yield this.sendRequest("POST","/api/v2/users/reactivate",void 0,void 0,i);return null===(t=v.ReactivateUsersResponse)||void 0===t||t.call(v,n.body),Object.assign(Object.assign({},n.body),{metadata:n.metadata})}),this.restoreUsers=e=>h(this,void 0,void 0,function*(){var t;let i={user_ids:null==e?void 0:e.user_ids},n=yield this.sendRequest("POST","/api/v2/users/restore",void 0,void 0,i);return null===(t=v.Response)||void 0===t||t.call(v,n.body),Object.assign(Object.assign({},n.body),{metadata:n.metadata})}),this.unblockUsers=e=>h(this,void 0,void 0,function*(){var t;let i={blocked_user_id:null==e?void 0:e.blocked_user_id,user_id:null==e?void 0:e.user_id,user:null==e?void 0:e.user},n=yield this.sendRequest("POST","/api/v2/users/unblock",void 0,void 0,i);return null===(t=v.UnblockUsersResponse)||void 0===t||t.call(v,n.body),Object.assign(Object.assign({},n.body),{metadata:n.metadata})}),this.deactivateUser=e=>h(this,void 0,void 0,function*(){var t;let i={user_id:null==e?void 0:e.user_id},n={created_by_id:null==e?void 0:e.created_by_id,mark_messages_deleted:null==e?void 0:e.mark_messages_deleted},s=yield this.sendRequest("POST","/api/v2/users/{user_id}/deactivate",i,void 0,n);return null===(t=v.DeactivateUserResponse)||void 0===t||t.call(v,s.body),Object.assign(Object.assign({},s.body),{metadata:s.metadata})}),this.exportUser=e=>h(this,void 0,void 0,function*(){var t;let i={user_id:null==e?void 0:e.user_id},n=yield this.sendRequest("GET","/api/v2/users/{user_id}/export",i,void 0);return null===(t=v.ExportUserResponse)||void 0===t||t.call(v,n.body),Object.assign(Object.assign({},n.body),{metadata:n.metadata})}),this.reactivateUser=e=>h(this,void 0,void 0,function*(){var t;let i={user_id:null==e?void 0:e.user_id},n={created_by_id:null==e?void 0:e.created_by_id,name:null==e?void 0:e.name,restore_messages:null==e?void 0:e.restore_messages},s=yield this.sendRequest("POST","/api/v2/users/{user_id}/reactivate",i,void 0,n);return null===(t=v.ReactivateUserResponse)||void 0===t||t.call(v,s.body),Object.assign(Object.assign({},s.body),{metadata:s.metadata})})}}class x extends g{constructor(){super(...arguments),this.queryCallMembers=e=>h(this,void 0,void 0,function*(){var t;let i={id:null==e?void 0:e.id,type:null==e?void 0:e.type,limit:null==e?void 0:e.limit,next:null==e?void 0:e.next,prev:null==e?void 0:e.prev,sort:null==e?void 0:e.sort,filter_conditions:null==e?void 0:e.filter_conditions},n=yield this.sendRequest("POST","/api/v2/video/call/members",void 0,void 0,i);return null===(t=v.QueryCallMembersResponse)||void 0===t||t.call(v,n.body),Object.assign(Object.assign({},n.body),{metadata:n.metadata})}),this.queryCallStats=e=>h(this,void 0,void 0,function*(){var t;let i={limit:null==e?void 0:e.limit,next:null==e?void 0:e.next,prev:null==e?void 0:e.prev,sort:null==e?void 0:e.sort,filter_conditions:null==e?void 0:e.filter_conditions},n=yield this.sendRequest("POST","/api/v2/video/call/stats",void 0,void 0,i);return null===(t=v.QueryCallStatsResponse)||void 0===t||t.call(v,n.body),Object.assign(Object.assign({},n.body),{metadata:n.metadata})}),this.getCall=e=>h(this,void 0,void 0,function*(){var t;let i={members_limit:null==e?void 0:e.members_limit,ring:null==e?void 0:e.ring,notify:null==e?void 0:e.notify,video:null==e?void 0:e.video},n={type:null==e?void 0:e.type,id:null==e?void 0:e.id},s=yield this.sendRequest("GET","/api/v2/video/call/{type}/{id}",n,i);return null===(t=v.GetCallResponse)||void 0===t||t.call(v,s.body),Object.assign(Object.assign({},s.body),{metadata:s.metadata})}),this.updateCall=e=>h(this,void 0,void 0,function*(){var t;let i={type:null==e?void 0:e.type,id:null==e?void 0:e.id},n={starts_at:null==e?void 0:e.starts_at,custom:null==e?void 0:e.custom,settings_override:null==e?void 0:e.settings_override},s=yield this.sendRequest("PATCH","/api/v2/video/call/{type}/{id}",i,void 0,n);return null===(t=v.UpdateCallResponse)||void 0===t||t.call(v,s.body),Object.assign(Object.assign({},s.body),{metadata:s.metadata})}),this.getOrCreateCall=e=>h(this,void 0,void 0,function*(){var t;let i={type:null==e?void 0:e.type,id:null==e?void 0:e.id},n={members_limit:null==e?void 0:e.members_limit,notify:null==e?void 0:e.notify,ring:null==e?void 0:e.ring,video:null==e?void 0:e.video,data:null==e?void 0:e.data},s=yield this.sendRequest("POST","/api/v2/video/call/{type}/{id}",i,void 0,n);return null===(t=v.GetOrCreateCallResponse)||void 0===t||t.call(v,s.body),Object.assign(Object.assign({},s.body),{metadata:s.metadata})}),this.blockUser=e=>h(this,void 0,void 0,function*(){var t;let i={type:null==e?void 0:e.type,id:null==e?void 0:e.id},n={user_id:null==e?void 0:e.user_id},s=yield this.sendRequest("POST","/api/v2/video/call/{type}/{id}/block",i,void 0,n);return null===(t=v.BlockUserResponse)||void 0===t||t.call(v,s.body),Object.assign(Object.assign({},s.body),{metadata:s.metadata})}),this.deleteCall=e=>h(this,void 0,void 0,function*(){var t;let i={type:null==e?void 0:e.type,id:null==e?void 0:e.id},n={hard:null==e?void 0:e.hard},s=yield this.sendRequest("POST","/api/v2/video/call/{type}/{id}/delete",i,void 0,n);return null===(t=v.DeleteCallResponse)||void 0===t||t.call(v,s.body),Object.assign(Object.assign({},s.body),{metadata:s.metadata})}),this.sendCallEvent=e=>h(this,void 0,void 0,function*(){var t;let i={type:null==e?void 0:e.type,id:null==e?void 0:e.id},n={user_id:null==e?void 0:e.user_id,custom:null==e?void 0:e.custom,user:null==e?void 0:e.user},s=yield this.sendRequest("POST","/api/v2/video/call/{type}/{id}/event",i,void 0,n);return null===(t=v.SendCallEventResponse)||void 0===t||t.call(v,s.body),Object.assign(Object.assign({},s.body),{metadata:s.metadata})}),this.collectUserFeedback=e=>h(this,void 0,void 0,function*(){var t;let i={type:null==e?void 0:e.type,id:null==e?void 0:e.id,session:null==e?void 0:e.session},n={rating:null==e?void 0:e.rating,sdk:null==e?void 0:e.sdk,sdk_version:null==e?void 0:e.sdk_version,user_session_id:null==e?void 0:e.user_session_id,reason:null==e?void 0:e.reason,custom:null==e?void 0:e.custom},s=yield this.sendRequest("POST","/api/v2/video/call/{type}/{id}/feedback/{session}",i,void 0,n);return null===(t=v.CollectUserFeedbackResponse)||void 0===t||t.call(v,s.body),Object.assign(Object.assign({},s.body),{metadata:s.metadata})}),this.goLive=e=>h(this,void 0,void 0,function*(){var t;let i={type:null==e?void 0:e.type,id:null==e?void 0:e.id},n={recording_storage_name:null==e?void 0:e.recording_storage_name,start_hls:null==e?void 0:e.start_hls,start_recording:null==e?void 0:e.start_recording,start_rtmp_broadcasts:null==e?void 0:e.start_rtmp_broadcasts,start_transcription:null==e?void 0:e.start_transcription,transcription_storage_name:null==e?void 0:e.transcription_storage_name},s=yield this.sendRequest("POST","/api/v2/video/call/{type}/{id}/go_live",i,void 0,n);return null===(t=v.GoLiveResponse)||void 0===t||t.call(v,s.body),Object.assign(Object.assign({},s.body),{metadata:s.metadata})}),this.endCall=e=>h(this,void 0,void 0,function*(){var t;let i={type:null==e?void 0:e.type,id:null==e?void 0:e.id},n=yield this.sendRequest("POST","/api/v2/video/call/{type}/{id}/mark_ended",i,void 0);return null===(t=v.EndCallResponse)||void 0===t||t.call(v,n.body),Object.assign(Object.assign({},n.body),{metadata:n.metadata})}),this.updateCallMembers=e=>h(this,void 0,void 0,function*(){var t;let i={type:null==e?void 0:e.type,id:null==e?void 0:e.id},n={remove_members:null==e?void 0:e.remove_members,update_members:null==e?void 0:e.update_members},s=yield this.sendRequest("POST","/api/v2/video/call/{type}/{id}/members",i,void 0,n);return null===(t=v.UpdateCallMembersResponse)||void 0===t||t.call(v,s.body),Object.assign(Object.assign({},s.body),{metadata:s.metadata})}),this.muteUsers=e=>h(this,void 0,void 0,function*(){var t;let i={type:null==e?void 0:e.type,id:null==e?void 0:e.id},n={audio:null==e?void 0:e.audio,mute_all_users:null==e?void 0:e.mute_all_users,muted_by_id:null==e?void 0:e.muted_by_id,screenshare:null==e?void 0:e.screenshare,screenshare_audio:null==e?void 0:e.screenshare_audio,video:null==e?void 0:e.video,user_ids:null==e?void 0:e.user_ids,muted_by:null==e?void 0:e.muted_by},s=yield this.sendRequest("POST","/api/v2/video/call/{type}/{id}/mute_users",i,void 0,n);return null===(t=v.MuteUsersResponse)||void 0===t||t.call(v,s.body),Object.assign(Object.assign({},s.body),{metadata:s.metadata})}),this.videoPin=e=>h(this,void 0,void 0,function*(){var t;let i={type:null==e?void 0:e.type,id:null==e?void 0:e.id},n={session_id:null==e?void 0:e.session_id,user_id:null==e?void 0:e.user_id},s=yield this.sendRequest("POST","/api/v2/video/call/{type}/{id}/pin",i,void 0,n);return null===(t=v.PinResponse)||void 0===t||t.call(v,s.body),Object.assign(Object.assign({},s.body),{metadata:s.metadata})}),this.listRecordings=e=>h(this,void 0,void 0,function*(){var t;let i={type:null==e?void 0:e.type,id:null==e?void 0:e.id},n=yield this.sendRequest("GET","/api/v2/video/call/{type}/{id}/recordings",i,void 0);return null===(t=v.ListRecordingsResponse)||void 0===t||t.call(v,n.body),Object.assign(Object.assign({},n.body),{metadata:n.metadata})}),this.startRTMPBroadcasts=e=>h(this,void 0,void 0,function*(){var t;let i={type:null==e?void 0:e.type,id:null==e?void 0:e.id},n={broadcasts:null==e?void 0:e.broadcasts},s=yield this.sendRequest("POST","/api/v2/video/call/{type}/{id}/rtmp_broadcasts",i,void 0,n);return null===(t=v.StartRTMPBroadcastsResponse)||void 0===t||t.call(v,s.body),Object.assign(Object.assign({},s.body),{metadata:s.metadata})}),this.stopAllRTMPBroadcasts=e=>h(this,void 0,void 0,function*(){var t;let i={type:null==e?void 0:e.type,id:null==e?void 0:e.id},n=yield this.sendRequest("POST","/api/v2/video/call/{type}/{id}/rtmp_broadcasts/stop",i,void 0);return null===(t=v.StopAllRTMPBroadcastsResponse)||void 0===t||t.call(v,n.body),Object.assign(Object.assign({},n.body),{metadata:n.metadata})}),this.stopRTMPBroadcast=e=>h(this,void 0,void 0,function*(){var t;let i={type:null==e?void 0:e.type,id:null==e?void 0:e.id,name:null==e?void 0:e.name},n=yield this.sendRequest("POST","/api/v2/video/call/{type}/{id}/rtmp_broadcasts/{name}/stop",i,void 0,{});return null===(t=v.StopRTMPBroadcastsResponse)||void 0===t||t.call(v,n.body),Object.assign(Object.assign({},n.body),{metadata:n.metadata})}),this.startHLSBroadcasting=e=>h(this,void 0,void 0,function*(){var t;let i={type:null==e?void 0:e.type,id:null==e?void 0:e.id},n=yield this.sendRequest("POST","/api/v2/video/call/{type}/{id}/start_broadcasting",i,void 0);return null===(t=v.StartHLSBroadcastingResponse)||void 0===t||t.call(v,n.body),Object.assign(Object.assign({},n.body),{metadata:n.metadata})}),this.startRecording=e=>h(this,void 0,void 0,function*(){var t;let i={type:null==e?void 0:e.type,id:null==e?void 0:e.id},n={recording_external_storage:null==e?void 0:e.recording_external_storage},s=yield this.sendRequest("POST","/api/v2/video/call/{type}/{id}/start_recording",i,void 0,n);return null===(t=v.StartRecordingResponse)||void 0===t||t.call(v,s.body),Object.assign(Object.assign({},s.body),{metadata:s.metadata})}),this.startTranscription=e=>h(this,void 0,void 0,function*(){var t;let i={type:null==e?void 0:e.type,id:null==e?void 0:e.id},n={transcription_external_storage:null==e?void 0:e.transcription_external_storage},s=yield this.sendRequest("POST","/api/v2/video/call/{type}/{id}/start_transcription",i,void 0,n);return null===(t=v.StartTranscriptionResponse)||void 0===t||t.call(v,s.body),Object.assign(Object.assign({},s.body),{metadata:s.metadata})}),this.getCallStats=e=>h(this,void 0,void 0,function*(){var t;let i={type:null==e?void 0:e.type,id:null==e?void 0:e.id,session:null==e?void 0:e.session},n=yield this.sendRequest("GET","/api/v2/video/call/{type}/{id}/stats/{session}",i,void 0);return null===(t=v.GetCallStatsResponse)||void 0===t||t.call(v,n.body),Object.assign(Object.assign({},n.body),{metadata:n.metadata})}),this.stopHLSBroadcasting=e=>h(this,void 0,void 0,function*(){var t;let i={type:null==e?void 0:e.type,id:null==e?void 0:e.id},n=yield this.sendRequest("POST","/api/v2/video/call/{type}/{id}/stop_broadcasting",i,void 0);return null===(t=v.StopHLSBroadcastingResponse)||void 0===t||t.call(v,n.body),Object.assign(Object.assign({},n.body),{metadata:n.metadata})}),this.stopLive=e=>h(this,void 0,void 0,function*(){var t;let i={type:null==e?void 0:e.type,id:null==e?void 0:e.id},n=yield this.sendRequest("POST","/api/v2/video/call/{type}/{id}/stop_live",i,void 0);return null===(t=v.StopLiveResponse)||void 0===t||t.call(v,n.body),Object.assign(Object.assign({},n.body),{metadata:n.metadata})}),this.stopRecording=e=>h(this,void 0,void 0,function*(){var t;let i={type:null==e?void 0:e.type,id:null==e?void 0:e.id},n=yield this.sendRequest("POST","/api/v2/video/call/{type}/{id}/stop_recording",i,void 0);return null===(t=v.StopRecordingResponse)||void 0===t||t.call(v,n.body),Object.assign(Object.assign({},n.body),{metadata:n.metadata})}),this.stopTranscription=e=>h(this,void 0,void 0,function*(){var t;let i={type:null==e?void 0:e.type,id:null==e?void 0:e.id},n=yield this.sendRequest("POST","/api/v2/video/call/{type}/{id}/stop_transcription",i,void 0);return null===(t=v.StopTranscriptionResponse)||void 0===t||t.call(v,n.body),Object.assign(Object.assign({},n.body),{metadata:n.metadata})}),this.listTranscriptions=e=>h(this,void 0,void 0,function*(){var t;let i={type:null==e?void 0:e.type,id:null==e?void 0:e.id},n=yield this.sendRequest("GET","/api/v2/video/call/{type}/{id}/transcriptions",i,void 0);return null===(t=v.ListTranscriptionsResponse)||void 0===t||t.call(v,n.body),Object.assign(Object.assign({},n.body),{metadata:n.metadata})}),this.unblockUser=e=>h(this,void 0,void 0,function*(){var t;let i={type:null==e?void 0:e.type,id:null==e?void 0:e.id},n={user_id:null==e?void 0:e.user_id},s=yield this.sendRequest("POST","/api/v2/video/call/{type}/{id}/unblock",i,void 0,n);return null===(t=v.UnblockUserResponse)||void 0===t||t.call(v,s.body),Object.assign(Object.assign({},s.body),{metadata:s.metadata})}),this.videoUnpin=e=>h(this,void 0,void 0,function*(){var t;let i={type:null==e?void 0:e.type,id:null==e?void 0:e.id},n={session_id:null==e?void 0:e.session_id,user_id:null==e?void 0:e.user_id},s=yield this.sendRequest("POST","/api/v2/video/call/{type}/{id}/unpin",i,void 0,n);return null===(t=v.UnpinResponse)||void 0===t||t.call(v,s.body),Object.assign(Object.assign({},s.body),{metadata:s.metadata})}),this.updateUserPermissions=e=>h(this,void 0,void 0,function*(){var t;let i={type:null==e?void 0:e.type,id:null==e?void 0:e.id},n={user_id:null==e?void 0:e.user_id,grant_permissions:null==e?void 0:e.grant_permissions,revoke_permissions:null==e?void 0:e.revoke_permissions},s=yield this.sendRequest("POST","/api/v2/video/call/{type}/{id}/user_permissions",i,void 0,n);return null===(t=v.UpdateUserPermissionsResponse)||void 0===t||t.call(v,s.body),Object.assign(Object.assign({},s.body),{metadata:s.metadata})}),this.deleteRecording=e=>h(this,void 0,void 0,function*(){var t;let i={type:null==e?void 0:e.type,id:null==e?void 0:e.id,session:null==e?void 0:e.session,filename:null==e?void 0:e.filename},n=yield this.sendRequest("DELETE","/api/v2/video/call/{type}/{id}/{session}/recordings/{filename}",i,void 0);return null===(t=v.DeleteRecordingResponse)||void 0===t||t.call(v,n.body),Object.assign(Object.assign({},n.body),{metadata:n.metadata})}),this.deleteTranscription=e=>h(this,void 0,void 0,function*(){var t;let i={type:null==e?void 0:e.type,id:null==e?void 0:e.id,session:null==e?void 0:e.session,filename:null==e?void 0:e.filename},n=yield this.sendRequest("DELETE","/api/v2/video/call/{type}/{id}/{session}/transcriptions/{filename}",i,void 0);return null===(t=v.DeleteTranscriptionResponse)||void 0===t||t.call(v,n.body),Object.assign(Object.assign({},n.body),{metadata:n.metadata})}),this.queryCalls=e=>h(this,void 0,void 0,function*(){var t;let i={limit:null==e?void 0:e.limit,next:null==e?void 0:e.next,prev:null==e?void 0:e.prev,sort:null==e?void 0:e.sort,filter_conditions:null==e?void 0:e.filter_conditions},n=yield this.sendRequest("POST","/api/v2/video/calls",void 0,void 0,i);return null===(t=v.QueryCallsResponse)||void 0===t||t.call(v,n.body),Object.assign(Object.assign({},n.body),{metadata:n.metadata})}),this.listCallTypes=()=>h(this,void 0,void 0,function*(){var e;let t=yield this.sendRequest("GET","/api/v2/video/calltypes",void 0,void 0);return null===(e=v.ListCallTypeResponse)||void 0===e||e.call(v,t.body),Object.assign(Object.assign({},t.body),{metadata:t.metadata})}),this.createCallType=e=>h(this,void 0,void 0,function*(){var t;let i={name:null==e?void 0:e.name,external_storage:null==e?void 0:e.external_storage,grants:null==e?void 0:e.grants,notification_settings:null==e?void 0:e.notification_settings,settings:null==e?void 0:e.settings},n=yield this.sendRequest("POST","/api/v2/video/calltypes",void 0,void 0,i);return null===(t=v.CreateCallTypeResponse)||void 0===t||t.call(v,n.body),Object.assign(Object.assign({},n.body),{metadata:n.metadata})}),this.deleteCallType=e=>h(this,void 0,void 0,function*(){var t;let i={name:null==e?void 0:e.name},n=yield this.sendRequest("DELETE","/api/v2/video/calltypes/{name}",i,void 0);return null===(t=v.Response)||void 0===t||t.call(v,n.body),Object.assign(Object.assign({},n.body),{metadata:n.metadata})}),this.getCallType=e=>h(this,void 0,void 0,function*(){var t;let i={name:null==e?void 0:e.name},n=yield this.sendRequest("GET","/api/v2/video/calltypes/{name}",i,void 0);return null===(t=v.GetCallTypeResponse)||void 0===t||t.call(v,n.body),Object.assign(Object.assign({},n.body),{metadata:n.metadata})}),this.updateCallType=e=>h(this,void 0,void 0,function*(){var t;let i={name:null==e?void 0:e.name},n={external_storage:null==e?void 0:e.external_storage,grants:null==e?void 0:e.grants,notification_settings:null==e?void 0:e.notification_settings,settings:null==e?void 0:e.settings},s=yield this.sendRequest("PUT","/api/v2/video/calltypes/{name}",i,void 0,n);return null===(t=v.UpdateCallTypeResponse)||void 0===t||t.call(v,s.body),Object.assign(Object.assign({},s.body),{metadata:s.metadata})}),this.getEdges=()=>h(this,void 0,void 0,function*(){var e;let t=yield this.sendRequest("GET","/api/v2/video/edges",void 0,void 0);return null===(e=v.GetEdgesResponse)||void 0===e||e.call(v,t.body),Object.assign(Object.assign({},t.body),{metadata:t.metadata})})}}class _{constructor(e,t,i){this.videoApi=e,this.type=t,this.id=i,this.get=e=>this.videoApi.getCall(Object.assign({id:this.id,type:this.type},e)),this.update=e=>this.videoApi.updateCall(Object.assign({id:this.id,type:this.type},e)),this.getOrCreate=e=>this.videoApi.getOrCreateCall(Object.assign({id:this.id,type:this.type},e)),this.blockUser=e=>this.videoApi.blockUser(Object.assign({id:this.id,type:this.type},e)),this.delete=e=>this.videoApi.deleteCall(Object.assign({id:this.id,type:this.type},e)),this.sendCallEvent=e=>this.videoApi.sendCallEvent(Object.assign({id:this.id,type:this.type},e)),this.collectUserFeedback=e=>this.videoApi.collectUserFeedback(Object.assign({id:this.id,type:this.type},e)),this.goLive=e=>this.videoApi.goLive(Object.assign({id:this.id,type:this.type},e)),this.end=()=>this.videoApi.endCall({id:this.id,type:this.type}),this.updateCallMembers=e=>this.videoApi.updateCallMembers(Object.assign({id:this.id,type:this.type},e)),this.muteUsers=e=>this.videoApi.muteUsers(Object.assign({id:this.id,type:this.type},e)),this.videoPin=e=>this.videoApi.videoPin(Object.assign({id:this.id,type:this.type},e)),this.listRecordings=()=>this.videoApi.listRecordings({id:this.id,type:this.type}),this.startRTMPBroadcasts=e=>this.videoApi.startRTMPBroadcasts(Object.assign({id:this.id,type:this.type},e)),this.stopAllRTMPBroadcasts=()=>this.videoApi.stopAllRTMPBroadcasts({id:this.id,type:this.type}),this.stopRTMPBroadcast=e=>this.videoApi.stopRTMPBroadcast(Object.assign({id:this.id,type:this.type},e)),this.startHLSBroadcasting=()=>this.videoApi.startHLSBroadcasting({id:this.id,type:this.type}),this.startRecording=e=>this.videoApi.startRecording(Object.assign({id:this.id,type:this.type},e)),this.startTranscription=e=>this.videoApi.startTranscription(Object.assign({id:this.id,type:this.type},e)),this.getCallStats=e=>this.videoApi.getCallStats(Object.assign({id:this.id,type:this.type},e)),this.stopHLSBroadcasting=()=>this.videoApi.stopHLSBroadcasting({id:this.id,type:this.type}),this.stopLive=()=>this.videoApi.stopLive({id:this.id,type:this.type}),this.stopRecording=()=>this.videoApi.stopRecording({id:this.id,type:this.type}),this.stopTranscription=()=>this.videoApi.stopTranscription({id:this.id,type:this.type}),this.listTranscriptions=()=>this.videoApi.listTranscriptions({id:this.id,type:this.type}),this.unblockUser=e=>this.videoApi.unblockUser(Object.assign({id:this.id,type:this.type},e)),this.videoUnpin=e=>this.videoApi.videoUnpin(Object.assign({id:this.id,type:this.type},e)),this.updateUserPermissions=e=>this.videoApi.updateUserPermissions(Object.assign({id:this.id,type:this.type},e)),this.deleteRecording=e=>this.videoApi.deleteRecording(Object.assign({id:this.id,type:this.type},e)),this.deleteTranscription=e=>this.videoApi.deleteTranscription(Object.assign({id:this.id,type:this.type},e))}}class w extends _{constructor(){super(...arguments),this.create=this.getOrCreate,this.queryMembers=e=>this.videoApi.queryCallMembers(Object.assign({id:this.id,type:this.type},null!=e?e:{}))}get cid(){return`${this.type}:${this.id}`}}class S extends x{constructor(){super(...arguments),this.call=(e,t)=>new w(this,e,t)}}class k extends g{constructor(){super(...arguments),this.queryChannels=e=>h(this,void 0,void 0,function*(){var t;let i={limit:null==e?void 0:e.limit,member_limit:null==e?void 0:e.member_limit,message_limit:null==e?void 0:e.message_limit,offset:null==e?void 0:e.offset,state:null==e?void 0:e.state,user_id:null==e?void 0:e.user_id,sort:null==e?void 0:e.sort,filter_conditions:null==e?void 0:e.filter_conditions,user:null==e?void 0:e.user},n=yield this.sendRequest("POST","/api/v2/chat/channels",void 0,void 0,i);return null===(t=v.QueryChannelsResponse)||void 0===t||t.call(v,n.body),Object.assign(Object.assign({},n.body),{metadata:n.metadata})}),this.deleteChannels=e=>h(this,void 0,void 0,function*(){var t;let i={cids:null==e?void 0:e.cids,hard_delete:null==e?void 0:e.hard_delete},n=yield this.sendRequest("POST","/api/v2/chat/channels/delete",void 0,void 0,i);return null===(t=v.DeleteChannelsResponse)||void 0===t||t.call(v,n.body),Object.assign(Object.assign({},n.body),{metadata:n.metadata})}),this.markChannelsRead=e=>h(this,void 0,void 0,function*(){var t;let i={user_id:null==e?void 0:e.user_id,read_by_channel:null==e?void 0:e.read_by_channel,user:null==e?void 0:e.user},n=yield this.sendRequest("POST","/api/v2/chat/channels/read",void 0,void 0,i);return null===(t=v.MarkReadResponse)||void 0===t||t.call(v,n.body),Object.assign(Object.assign({},n.body),{metadata:n.metadata})}),this.getOrCreateDistinctChannel=e=>h(this,void 0,void 0,function*(){var t;let i={type:null==e?void 0:e.type},n={hide_for_creator:null==e?void 0:e.hide_for_creator,state:null==e?void 0:e.state,thread_unread_counts:null==e?void 0:e.thread_unread_counts,data:null==e?void 0:e.data,members:null==e?void 0:e.members,messages:null==e?void 0:e.messages,watchers:null==e?void 0:e.watchers},s=yield this.sendRequest("POST","/api/v2/chat/channels/{type}/query",i,void 0,n);return null===(t=v.ChannelStateResponse)||void 0===t||t.call(v,s.body),Object.assign(Object.assign({},s.body),{metadata:s.metadata})}),this.deleteChannel=e=>h(this,void 0,void 0,function*(){var t;let i={hard_delete:null==e?void 0:e.hard_delete},n={type:null==e?void 0:e.type,id:null==e?void 0:e.id},s=yield this.sendRequest("DELETE","/api/v2/chat/channels/{type}/{id}",n,i);return null===(t=v.DeleteChannelResponse)||void 0===t||t.call(v,s.body),Object.assign(Object.assign({},s.body),{metadata:s.metadata})}),this.updateChannelPartial=e=>h(this,void 0,void 0,function*(){var t;let i={type:null==e?void 0:e.type,id:null==e?void 0:e.id},n={user_id:null==e?void 0:e.user_id,unset:null==e?void 0:e.unset,set:null==e?void 0:e.set,user:null==e?void 0:e.user},s=yield this.sendRequest("PATCH","/api/v2/chat/channels/{type}/{id}",i,void 0,n);return null===(t=v.UpdateChannelPartialResponse)||void 0===t||t.call(v,s.body),Object.assign(Object.assign({},s.body),{metadata:s.metadata})}),this.updateChannel=e=>h(this,void 0,void 0,function*(){var t;let i={type:null==e?void 0:e.type,id:null==e?void 0:e.id},n={accept_invite:null==e?void 0:e.accept_invite,cooldown:null==e?void 0:e.cooldown,hide_history:null==e?void 0:e.hide_history,reject_invite:null==e?void 0:e.reject_invite,skip_push:null==e?void 0:e.skip_push,user_id:null==e?void 0:e.user_id,add_members:null==e?void 0:e.add_members,add_moderators:null==e?void 0:e.add_moderators,assign_roles:null==e?void 0:e.assign_roles,demote_moderators:null==e?void 0:e.demote_moderators,invites:null==e?void 0:e.invites,remove_members:null==e?void 0:e.remove_members,data:null==e?void 0:e.data,message:null==e?void 0:e.message,user:null==e?void 0:e.user},s=yield this.sendRequest("POST","/api/v2/chat/channels/{type}/{id}",i,void 0,n);return null===(t=v.UpdateChannelResponse)||void 0===t||t.call(v,s.body),Object.assign(Object.assign({},s.body),{metadata:s.metadata})}),this.sendEvent=e=>h(this,void 0,void 0,function*(){var t;let i={type:null==e?void 0:e.type,id:null==e?void 0:e.id},n={event:null==e?void 0:e.event},s=yield this.sendRequest("POST","/api/v2/chat/channels/{type}/{id}/event",i,void 0,n);return null===(t=v.EventResponse)||void 0===t||t.call(v,s.body),Object.assign(Object.assign({},s.body),{metadata:s.metadata})}),this.deleteFile=e=>h(this,void 0,void 0,function*(){var t;let i={url:null==e?void 0:e.url},n={type:null==e?void 0:e.type,id:null==e?void 0:e.id},s=yield this.sendRequest("DELETE","/api/v2/chat/channels/{type}/{id}/file",n,i);return null===(t=v.Response)||void 0===t||t.call(v,s.body),Object.assign(Object.assign({},s.body),{metadata:s.metadata})}),this.uploadFile=e=>h(this,void 0,void 0,function*(){var t;let i={type:null==e?void 0:e.type,id:null==e?void 0:e.id},n={file:null==e?void 0:e.file,user:null==e?void 0:e.user},s=yield this.sendRequest("POST","/api/v2/chat/channels/{type}/{id}/file",i,void 0,n);return null===(t=v.FileUploadResponse)||void 0===t||t.call(v,s.body),Object.assign(Object.assign({},s.body),{metadata:s.metadata})}),this.hideChannel=e=>h(this,void 0,void 0,function*(){var t;let i={type:null==e?void 0:e.type,id:null==e?void 0:e.id},n={clear_history:null==e?void 0:e.clear_history,user_id:null==e?void 0:e.user_id,user:null==e?void 0:e.user},s=yield this.sendRequest("POST","/api/v2/chat/channels/{type}/{id}/hide",i,void 0,n);return null===(t=v.HideChannelResponse)||void 0===t||t.call(v,s.body),Object.assign(Object.assign({},s.body),{metadata:s.metadata})}),this.deleteImage=e=>h(this,void 0,void 0,function*(){var t;let i={url:null==e?void 0:e.url},n={type:null==e?void 0:e.type,id:null==e?void 0:e.id},s=yield this.sendRequest("DELETE","/api/v2/chat/channels/{type}/{id}/image",n,i);return null===(t=v.Response)||void 0===t||t.call(v,s.body),Object.assign(Object.assign({},s.body),{metadata:s.metadata})}),this.uploadImage=e=>h(this,void 0,void 0,function*(){var t;let i={type:null==e?void 0:e.type,id:null==e?void 0:e.id},n={file:null==e?void 0:e.file,upload_sizes:null==e?void 0:e.upload_sizes,user:null==e?void 0:e.user},s=yield this.sendRequest("POST","/api/v2/chat/channels/{type}/{id}/image",i,void 0,n);return null===(t=v.ImageUploadResponse)||void 0===t||t.call(v,s.body),Object.assign(Object.assign({},s.body),{metadata:s.metadata})}),this.sendMessage=e=>h(this,void 0,void 0,function*(){var t;let i={type:null==e?void 0:e.type,id:null==e?void 0:e.id},n={message:null==e?void 0:e.message,force_moderation:null==e?void 0:e.force_moderation,keep_channel_hidden:null==e?void 0:e.keep_channel_hidden,pending:null==e?void 0:e.pending,skip_enrich_url:null==e?void 0:e.skip_enrich_url,skip_push:null==e?void 0:e.skip_push,pending_message_metadata:null==e?void 0:e.pending_message_metadata},s=yield this.sendRequest("POST","/api/v2/chat/channels/{type}/{id}/message",i,void 0,n);return null===(t=v.SendMessageResponse)||void 0===t||t.call(v,s.body),Object.assign(Object.assign({},s.body),{metadata:s.metadata})}),this.getManyMessages=e=>h(this,void 0,void 0,function*(){var t;let i={ids:null==e?void 0:e.ids},n={type:null==e?void 0:e.type,id:null==e?void 0:e.id},s=yield this.sendRequest("GET","/api/v2/chat/channels/{type}/{id}/messages",n,i);return null===(t=v.GetManyMessagesResponse)||void 0===t||t.call(v,s.body),Object.assign(Object.assign({},s.body),{metadata:s.metadata})}),this.getOrCreateChannel=e=>h(this,void 0,void 0,function*(){var t;let i={type:null==e?void 0:e.type,id:null==e?void 0:e.id},n={hide_for_creator:null==e?void 0:e.hide_for_creator,state:null==e?void 0:e.state,thread_unread_counts:null==e?void 0:e.thread_unread_counts,data:null==e?void 0:e.data,members:null==e?void 0:e.members,messages:null==e?void 0:e.messages,watchers:null==e?void 0:e.watchers},s=yield this.sendRequest("POST","/api/v2/chat/channels/{type}/{id}/query",i,void 0,n);return null===(t=v.ChannelStateResponse)||void 0===t||t.call(v,s.body),Object.assign(Object.assign({},s.body),{metadata:s.metadata})}),this.markRead=e=>h(this,void 0,void 0,function*(){var t;let i={type:null==e?void 0:e.type,id:null==e?void 0:e.id},n={message_id:null==e?void 0:e.message_id,thread_id:null==e?void 0:e.thread_id,user_id:null==e?void 0:e.user_id,user:null==e?void 0:e.user},s=yield this.sendRequest("POST","/api/v2/chat/channels/{type}/{id}/read",i,void 0,n);return null===(t=v.MarkReadResponse)||void 0===t||t.call(v,s.body),Object.assign(Object.assign({},s.body),{metadata:s.metadata})}),this.showChannel=e=>h(this,void 0,void 0,function*(){var t;let i={type:null==e?void 0:e.type,id:null==e?void 0:e.id},n={user_id:null==e?void 0:e.user_id,user:null==e?void 0:e.user},s=yield this.sendRequest("POST","/api/v2/chat/channels/{type}/{id}/show",i,void 0,n);return null===(t=v.ShowChannelResponse)||void 0===t||t.call(v,s.body),Object.assign(Object.assign({},s.body),{metadata:s.metadata})}),this.truncateChannel=e=>h(this,void 0,void 0,function*(){var t;let i={type:null==e?void 0:e.type,id:null==e?void 0:e.id},n={hard_delete:null==e?void 0:e.hard_delete,skip_push:null==e?void 0:e.skip_push,truncated_at:null==e?void 0:e.truncated_at,user_id:null==e?void 0:e.user_id,message:null==e?void 0:e.message,user:null==e?void 0:e.user},s=yield this.sendRequest("POST","/api/v2/chat/channels/{type}/{id}/truncate",i,void 0,n);return null===(t=v.TruncateChannelResponse)||void 0===t||t.call(v,s.body),Object.assign(Object.assign({},s.body),{metadata:s.metadata})}),this.markUnread=e=>h(this,void 0,void 0,function*(){var t;let i={type:null==e?void 0:e.type,id:null==e?void 0:e.id},n={message_id:null==e?void 0:e.message_id,thread_id:null==e?void 0:e.thread_id,user_id:null==e?void 0:e.user_id,user:null==e?void 0:e.user},s=yield this.sendRequest("POST","/api/v2/chat/channels/{type}/{id}/unread",i,void 0,n);return null===(t=v.Response)||void 0===t||t.call(v,s.body),Object.assign(Object.assign({},s.body),{metadata:s.metadata})}),this.listChannelTypes=()=>h(this,void 0,void 0,function*(){var e;let t=yield this.sendRequest("GET","/api/v2/chat/channeltypes",void 0,void 0);return null===(e=v.ListChannelTypesResponse)||void 0===e||e.call(v,t.body),Object.assign(Object.assign({},t.body),{metadata:t.metadata})}),this.createChannelType=e=>h(this,void 0,void 0,function*(){var t;let i={automod:null==e?void 0:e.automod,automod_behavior:null==e?void 0:e.automod_behavior,max_message_length:null==e?void 0:e.max_message_length,name:null==e?void 0:e.name,blocklist:null==e?void 0:e.blocklist,blocklist_behavior:null==e?void 0:e.blocklist_behavior,connect_events:null==e?void 0:e.connect_events,custom_events:null==e?void 0:e.custom_events,mark_messages_pending:null==e?void 0:e.mark_messages_pending,message_retention:null==e?void 0:e.message_retention,mutes:null==e?void 0:e.mutes,partition_size:null==e?void 0:e.partition_size,partition_ttl:null==e?void 0:e.partition_ttl,polls:null==e?void 0:e.polls,push_notifications:null==e?void 0:e.push_notifications,reactions:null==e?void 0:e.reactions,read_events:null==e?void 0:e.read_events,replies:null==e?void 0:e.replies,search:null==e?void 0:e.search,typing_events:null==e?void 0:e.typing_events,uploads:null==e?void 0:e.uploads,url_enrichment:null==e?void 0:e.url_enrichment,blocklists:null==e?void 0:e.blocklists,commands:null==e?void 0:e.commands,permissions:null==e?void 0:e.permissions,grants:null==e?void 0:e.grants},n=yield this.sendRequest("POST","/api/v2/chat/channeltypes",void 0,void 0,i);return null===(t=v.CreateChannelTypeResponse)||void 0===t||t.call(v,n.body),Object.assign(Object.assign({},n.body),{metadata:n.metadata})}),this.deleteChannelType=e=>h(this,void 0,void 0,function*(){var t;let i={name:null==e?void 0:e.name},n=yield this.sendRequest("DELETE","/api/v2/chat/channeltypes/{name}",i,void 0);return null===(t=v.Response)||void 0===t||t.call(v,n.body),Object.assign(Object.assign({},n.body),{metadata:n.metadata})}),this.getChannelType=e=>h(this,void 0,void 0,function*(){var t;let i={name:null==e?void 0:e.name},n=yield this.sendRequest("GET","/api/v2/chat/channeltypes/{name}",i,void 0);return null===(t=v.GetChannelTypeResponse)||void 0===t||t.call(v,n.body),Object.assign(Object.assign({},n.body),{metadata:n.metadata})}),this.updateChannelType=e=>h(this,void 0,void 0,function*(){var t;let i={name:null==e?void 0:e.name},n={automod:null==e?void 0:e.automod,automod_behavior:null==e?void 0:e.automod_behavior,max_message_length:null==e?void 0:e.max_message_length,blocklist:null==e?void 0:e.blocklist,blocklist_behavior:null==e?void 0:e.blocklist_behavior,connect_events:null==e?void 0:e.connect_events,custom_events:null==e?void 0:e.custom_events,mark_messages_pending:null==e?void 0:e.mark_messages_pending,mutes:null==e?void 0:e.mutes,partition_size:null==e?void 0:e.partition_size,partition_ttl:null==e?void 0:e.partition_ttl,polls:null==e?void 0:e.polls,push_notifications:null==e?void 0:e.push_notifications,quotes:null==e?void 0:e.quotes,reactions:null==e?void 0:e.reactions,read_events:null==e?void 0:e.read_events,reminders:null==e?void 0:e.reminders,replies:null==e?void 0:e.replies,search:null==e?void 0:e.search,typing_events:null==e?void 0:e.typing_events,uploads:null==e?void 0:e.uploads,url_enrichment:null==e?void 0:e.url_enrichment,allowed_flag_reasons:null==e?void 0:e.allowed_flag_reasons,blocklists:null==e?void 0:e.blocklists,commands:null==e?void 0:e.commands,permissions:null==e?void 0:e.permissions,automod_thresholds:null==e?void 0:e.automod_thresholds,grants:null==e?void 0:e.grants},s=yield this.sendRequest("PUT","/api/v2/chat/channeltypes/{name}",i,void 0,n);return null===(t=v.UpdateChannelTypeResponse)||void 0===t||t.call(v,s.body),Object.assign(Object.assign({},s.body),{metadata:s.metadata})}),this.listCommands=()=>h(this,void 0,void 0,function*(){var e;let t=yield this.sendRequest("GET","/api/v2/chat/commands",void 0,void 0);return null===(e=v.ListCommandsResponse)||void 0===e||e.call(v,t.body),Object.assign(Object.assign({},t.body),{metadata:t.metadata})}),this.createCommand=e=>h(this,void 0,void 0,function*(){var t;let i={description:null==e?void 0:e.description,name:null==e?void 0:e.name,args:null==e?void 0:e.args,set:null==e?void 0:e.set},n=yield this.sendRequest("POST","/api/v2/chat/commands",void 0,void 0,i);return null===(t=v.CreateCommandResponse)||void 0===t||t.call(v,n.body),Object.assign(Object.assign({},n.body),{metadata:n.metadata})}),this.deleteCommand=e=>h(this,void 0,void 0,function*(){var t;let i={name:null==e?void 0:e.name},n=yield this.sendRequest("DELETE","/api/v2/chat/commands/{name}",i,void 0);return null===(t=v.DeleteCommandResponse)||void 0===t||t.call(v,n.body),Object.assign(Object.assign({},n.body),{metadata:n.metadata})}),this.getCommand=e=>h(this,void 0,void 0,function*(){var t;let i={name:null==e?void 0:e.name},n=yield this.sendRequest("GET","/api/v2/chat/commands/{name}",i,void 0);return null===(t=v.GetCommandResponse)||void 0===t||t.call(v,n.body),Object.assign(Object.assign({},n.body),{metadata:n.metadata})}),this.updateCommand=e=>h(this,void 0,void 0,function*(){var t;let i={name:null==e?void 0:e.name},n={description:null==e?void 0:e.description,args:null==e?void 0:e.args,set:null==e?void 0:e.set},s=yield this.sendRequest("PUT","/api/v2/chat/commands/{name}",i,void 0,n);return null===(t=v.UpdateCommandResponse)||void 0===t||t.call(v,s.body),Object.assign(Object.assign({},s.body),{metadata:s.metadata})}),this.exportChannels=e=>h(this,void 0,void 0,function*(){var t;let i={channels:null==e?void 0:e.channels,clear_deleted_message_text:null==e?void 0:e.clear_deleted_message_text,export_users:null==e?void 0:e.export_users,include_soft_deleted_channels:null==e?void 0:e.include_soft_deleted_channels,include_truncated_messages:null==e?void 0:e.include_truncated_messages,version:null==e?void 0:e.version},n=yield this.sendRequest("POST","/api/v2/chat/export_channels",void 0,void 0,i);return null===(t=v.ExportChannelsResponse)||void 0===t||t.call(v,n.body),Object.assign(Object.assign({},n.body),{metadata:n.metadata})}),this.getExportChannelsStatus=e=>h(this,void 0,void 0,function*(){var t;let i={id:null==e?void 0:e.id},n=yield this.sendRequest("GET","/api/v2/chat/export_channels/{id}",i,void 0);return null===(t=v.GetExportChannelsStatusResponse)||void 0===t||t.call(v,n.body),Object.assign(Object.assign({},n.body),{metadata:n.metadata})}),this.queryMembers=e=>h(this,void 0,void 0,function*(){var t;let i={payload:null==e?void 0:e.payload},n=yield this.sendRequest("GET","/api/v2/chat/members",void 0,i);return null===(t=v.MembersResponse)||void 0===t||t.call(v,n.body),Object.assign(Object.assign({},n.body),{metadata:n.metadata})}),this.queryMessageHistory=e=>h(this,void 0,void 0,function*(){var t;let i={filter:null==e?void 0:e.filter,limit:null==e?void 0:e.limit,next:null==e?void 0:e.next,prev:null==e?void 0:e.prev,sort:null==e?void 0:e.sort},n=yield this.sendRequest("POST","/api/v2/chat/messages/history",void 0,void 0,i);return null===(t=v.QueryMessageHistoryResponse)||void 0===t||t.call(v,n.body),Object.assign(Object.assign({},n.body),{metadata:n.metadata})}),this.deleteMessage=e=>h(this,void 0,void 0,function*(){var t;let i={hard:null==e?void 0:e.hard,deleted_by:null==e?void 0:e.deleted_by},n={id:null==e?void 0:e.id},s=yield this.sendRequest("DELETE","/api/v2/chat/messages/{id}",n,i);return null===(t=v.DeleteMessageResponse)||void 0===t||t.call(v,s.body),Object.assign(Object.assign({},s.body),{metadata:s.metadata})}),this.getMessage=e=>h(this,void 0,void 0,function*(){var t;let i={show_deleted_message:null==e?void 0:e.show_deleted_message},n={id:null==e?void 0:e.id},s=yield this.sendRequest("GET","/api/v2/chat/messages/{id}",n,i);return null===(t=v.GetMessageResponse)||void 0===t||t.call(v,s.body),Object.assign(Object.assign({},s.body),{metadata:s.metadata})}),this.updateMessage=e=>h(this,void 0,void 0,function*(){var t;let i={id:null==e?void 0:e.id},n={message:null==e?void 0:e.message,skip_enrich_url:null==e?void 0:e.skip_enrich_url},s=yield this.sendRequest("POST","/api/v2/chat/messages/{id}",i,void 0,n);return null===(t=v.UpdateMessageResponse)||void 0===t||t.call(v,s.body),Object.assign(Object.assign({},s.body),{metadata:s.metadata})}),this.updateMessagePartial=e=>h(this,void 0,void 0,function*(){var t;let i={id:null==e?void 0:e.id},n={skip_enrich_url:null==e?void 0:e.skip_enrich_url,user_id:null==e?void 0:e.user_id,unset:null==e?void 0:e.unset,set:null==e?void 0:e.set,user:null==e?void 0:e.user},s=yield this.sendRequest("PUT","/api/v2/chat/messages/{id}",i,void 0,n);return null===(t=v.UpdateMessagePartialResponse)||void 0===t||t.call(v,s.body),Object.assign(Object.assign({},s.body),{metadata:s.metadata})}),this.runMessageAction=e=>h(this,void 0,void 0,function*(){var t;let i={id:null==e?void 0:e.id},n={form_data:null==e?void 0:e.form_data,user_id:null==e?void 0:e.user_id,user:null==e?void 0:e.user},s=yield this.sendRequest("POST","/api/v2/chat/messages/{id}/action",i,void 0,n);return null===(t=v.MessageResponse)||void 0===t||t.call(v,s.body),Object.assign(Object.assign({},s.body),{metadata:s.metadata})}),this.commitMessage=e=>h(this,void 0,void 0,function*(){var t;let i={id:null==e?void 0:e.id},n=yield this.sendRequest("POST","/api/v2/chat/messages/{id}/commit",i,void 0,{});return null===(t=v.MessageResponse)||void 0===t||t.call(v,n.body),Object.assign(Object.assign({},n.body),{metadata:n.metadata})}),this.sendReaction=e=>h(this,void 0,void 0,function*(){var t;let i={id:null==e?void 0:e.id},n={reaction:null==e?void 0:e.reaction,enforce_unique:null==e?void 0:e.enforce_unique,skip_push:null==e?void 0:e.skip_push},s=yield this.sendRequest("POST","/api/v2/chat/messages/{id}/reaction",i,void 0,n);return null===(t=v.SendReactionResponse)||void 0===t||t.call(v,s.body),Object.assign(Object.assign({},s.body),{metadata:s.metadata})}),this.deleteReaction=e=>h(this,void 0,void 0,function*(){var t;let i={user_id:null==e?void 0:e.user_id},n={id:null==e?void 0:e.id,type:null==e?void 0:e.type},s=yield this.sendRequest("DELETE","/api/v2/chat/messages/{id}/reaction/{type}",n,i);return null===(t=v.ReactionRemovalResponse)||void 0===t||t.call(v,s.body),Object.assign(Object.assign({},s.body),{metadata:s.metadata})}),this.getReactions=e=>h(this,void 0,void 0,function*(){var t;let i={limit:null==e?void 0:e.limit,offset:null==e?void 0:e.offset},n={id:null==e?void 0:e.id},s=yield this.sendRequest("GET","/api/v2/chat/messages/{id}/reactions",n,i);return null===(t=v.GetReactionsResponse)||void 0===t||t.call(v,s.body),Object.assign(Object.assign({},s.body),{metadata:s.metadata})}),this.queryReactions=e=>h(this,void 0,void 0,function*(){var t;let i={id:null==e?void 0:e.id},n={limit:null==e?void 0:e.limit,next:null==e?void 0:e.next,prev:null==e?void 0:e.prev,user_id:null==e?void 0:e.user_id,sort:null==e?void 0:e.sort,filter:null==e?void 0:e.filter,user:null==e?void 0:e.user},s=yield this.sendRequest("POST","/api/v2/chat/messages/{id}/reactions",i,void 0,n);return null===(t=v.QueryReactionsResponse)||void 0===t||t.call(v,s.body),Object.assign(Object.assign({},s.body),{metadata:s.metadata})}),this.translateMessage=e=>h(this,void 0,void 0,function*(){var t;let i={id:null==e?void 0:e.id},n={language:null==e?void 0:e.language},s=yield this.sendRequest("POST","/api/v2/chat/messages/{id}/translate",i,void 0,n);return null===(t=v.MessageResponse)||void 0===t||t.call(v,s.body),Object.assign(Object.assign({},s.body),{metadata:s.metadata})}),this.undeleteMessage=e=>h(this,void 0,void 0,function*(){var t;let i={id:null==e?void 0:e.id},n={message:null==e?void 0:e.message,skip_enrich_url:null==e?void 0:e.skip_enrich_url},s=yield this.sendRequest("POST","/api/v2/chat/messages/{id}/undelete",i,void 0,n);return null===(t=v.UpdateMessageResponse)||void 0===t||t.call(v,s.body),Object.assign(Object.assign({},s.body),{metadata:s.metadata})}),this.castPollVote=e=>h(this,void 0,void 0,function*(){var t;let i={message_id:null==e?void 0:e.message_id,poll_id:null==e?void 0:e.poll_id},n={user_id:null==e?void 0:e.user_id,user:null==e?void 0:e.user,vote:null==e?void 0:e.vote},s=yield this.sendRequest("POST","/api/v2/chat/messages/{message_id}/polls/{poll_id}/vote",i,void 0,n);return null===(t=v.PollVoteResponse)||void 0===t||t.call(v,s.body),Object.assign(Object.assign({},s.body),{metadata:s.metadata})}),this.removePollVote=e=>h(this,void 0,void 0,function*(){var t;let i={user_id:null==e?void 0:e.user_id},n={message_id:null==e?void 0:e.message_id,poll_id:null==e?void 0:e.poll_id,vote_id:null==e?void 0:e.vote_id},s=yield this.sendRequest("DELETE","/api/v2/chat/messages/{message_id}/polls/{poll_id}/vote/{vote_id}",n,i);return null===(t=v.PollVoteResponse)||void 0===t||t.call(v,s.body),Object.assign(Object.assign({},s.body),{metadata:s.metadata})}),this.getReplies=e=>h(this,void 0,void 0,function*(){var t;let i={limit:null==e?void 0:e.limit,offset:null==e?void 0:e.offset,id_gte:null==e?void 0:e.id_gte,id_gt:null==e?void 0:e.id_gt,id_lte:null==e?void 0:e.id_lte,id_lt:null==e?void 0:e.id_lt,created_at_after_or_equal:null==e?void 0:e.created_at_after_or_equal,created_at_after:null==e?void 0:e.created_at_after,created_at_before_or_equal:null==e?void 0:e.created_at_before_or_equal,created_at_before:null==e?void 0:e.created_at_before,id_around:null==e?void 0:e.id_around,created_at_around:null==e?void 0:e.created_at_around,sort:null==e?void 0:e.sort},n={parent_id:null==e?void 0:e.parent_id},s=yield this.sendRequest("GET","/api/v2/chat/messages/{parent_id}/replies",n,i);return null===(t=v.GetRepliesResponse)||void 0===t||t.call(v,s.body),Object.assign(Object.assign({},s.body),{metadata:s.metadata})}),this.queryMessageFlags=e=>h(this,void 0,void 0,function*(){var t;let i={payload:null==e?void 0:e.payload},n=yield this.sendRequest("GET","/api/v2/chat/moderation/flags/message",void 0,i);return null===(t=v.QueryMessageFlagsResponse)||void 0===t||t.call(v,n.body),Object.assign(Object.assign({},n.body),{metadata:n.metadata})}),this.muteChannel=e=>h(this,void 0,void 0,function*(){var t;let i={expiration:null==e?void 0:e.expiration,user_id:null==e?void 0:e.user_id,channel_cids:null==e?void 0:e.channel_cids,user:null==e?void 0:e.user},n=yield this.sendRequest("POST","/api/v2/chat/moderation/mute/channel",void 0,void 0,i);return null===(t=v.MuteChannelResponse)||void 0===t||t.call(v,n.body),Object.assign(Object.assign({},n.body),{metadata:n.metadata})}),this.unmuteChannel=e=>h(this,void 0,void 0,function*(){var t;let i={expiration:null==e?void 0:e.expiration,user_id:null==e?void 0:e.user_id,channel_cids:null==e?void 0:e.channel_cids,user:null==e?void 0:e.user},n=yield this.sendRequest("POST","/api/v2/chat/moderation/unmute/channel",void 0,void 0,i);return null===(t=v.UnmuteResponse)||void 0===t||t.call(v,n.body),Object.assign(Object.assign({},n.body),{metadata:n.metadata})}),this.createPoll=e=>h(this,void 0,void 0,function*(){var t;let i={name:null==e?void 0:e.name,allow_answers:null==e?void 0:e.allow_answers,allow_user_suggested_options:null==e?void 0:e.allow_user_suggested_options,description:null==e?void 0:e.description,enforce_unique_vote:null==e?void 0:e.enforce_unique_vote,id:null==e?void 0:e.id,is_closed:null==e?void 0:e.is_closed,max_votes_allowed:null==e?void 0:e.max_votes_allowed,user_id:null==e?void 0:e.user_id,voting_visibility:null==e?void 0:e.voting_visibility,options:null==e?void 0:e.options,custom:null==e?void 0:e.custom,user:null==e?void 0:e.user},n=yield this.sendRequest("POST","/api/v2/chat/polls",void 0,void 0,i);return null===(t=v.PollResponse)||void 0===t||t.call(v,n.body),Object.assign(Object.assign({},n.body),{metadata:n.metadata})}),this.updatePoll=e=>h(this,void 0,void 0,function*(){var t;let i={id:null==e?void 0:e.id,name:null==e?void 0:e.name,allow_answers:null==e?void 0:e.allow_answers,allow_user_suggested_options:null==e?void 0:e.allow_user_suggested_options,description:null==e?void 0:e.description,enforce_unique_vote:null==e?void 0:e.enforce_unique_vote,is_closed:null==e?void 0:e.is_closed,max_votes_allowed:null==e?void 0:e.max_votes_allowed,user_id:null==e?void 0:e.user_id,voting_visibility:null==e?void 0:e.voting_visibility,options:null==e?void 0:e.options,custom:null==e?void 0:e.custom,user:null==e?void 0:e.user},n=yield this.sendRequest("PUT","/api/v2/chat/polls",void 0,void 0,i);return null===(t=v.PollResponse)||void 0===t||t.call(v,n.body),Object.assign(Object.assign({},n.body),{metadata:n.metadata})}),this.queryPolls=e=>h(this,void 0,void 0,function*(){var t;let i={user_id:null==e?void 0:e.user_id},n={limit:null==e?void 0:e.limit,next:null==e?void 0:e.next,prev:null==e?void 0:e.prev,sort:null==e?void 0:e.sort,filter:null==e?void 0:e.filter},s=yield this.sendRequest("POST","/api/v2/chat/polls/query",void 0,i,n);return null===(t=v.QueryPollsResponse)||void 0===t||t.call(v,s.body),Object.assign(Object.assign({},s.body),{metadata:s.metadata})}),this.deletePoll=e=>h(this,void 0,void 0,function*(){var t;let i={user_id:null==e?void 0:e.user_id},n={poll_id:null==e?void 0:e.poll_id},s=yield this.sendRequest("DELETE","/api/v2/chat/polls/{poll_id}",n,i);return null===(t=v.Response)||void 0===t||t.call(v,s.body),Object.assign(Object.assign({},s.body),{metadata:s.metadata})}),this.getPoll=e=>h(this,void 0,void 0,function*(){var t;let i={user_id:null==e?void 0:e.user_id},n={poll_id:null==e?void 0:e.poll_id},s=yield this.sendRequest("GET","/api/v2/chat/polls/{poll_id}",n,i);return null===(t=v.PollResponse)||void 0===t||t.call(v,s.body),Object.assign(Object.assign({},s.body),{metadata:s.metadata})}),this.updatePollPartial=e=>h(this,void 0,void 0,function*(){var t;let i={poll_id:null==e?void 0:e.poll_id},n={user_id:null==e?void 0:e.user_id,unset:null==e?void 0:e.unset,set:null==e?void 0:e.set,user:null==e?void 0:e.user},s=yield this.sendRequest("PATCH","/api/v2/chat/polls/{poll_id}",i,void 0,n);return null===(t=v.PollResponse)||void 0===t||t.call(v,s.body),Object.assign(Object.assign({},s.body),{metadata:s.metadata})}),this.createPollOption=e=>h(this,void 0,void 0,function*(){var t;let i={poll_id:null==e?void 0:e.poll_id},n={text:null==e?void 0:e.text,position:null==e?void 0:e.position,user_id:null==e?void 0:e.user_id,custom:null==e?void 0:e.custom,user:null==e?void 0:e.user},s=yield this.sendRequest("POST","/api/v2/chat/polls/{poll_id}/options",i,void 0,n);return null===(t=v.PollOptionResponse)||void 0===t||t.call(v,s.body),Object.assign(Object.assign({},s.body),{metadata:s.metadata})}),this.updatePollOption=e=>h(this,void 0,void 0,function*(){var t;let i={poll_id:null==e?void 0:e.poll_id},n={id:null==e?void 0:e.id,text:null==e?void 0:e.text,user_id:null==e?void 0:e.user_id,custom:null==e?void 0:e.custom,user:null==e?void 0:e.user},s=yield this.sendRequest("PUT","/api/v2/chat/polls/{poll_id}/options",i,void 0,n);return null===(t=v.PollOptionResponse)||void 0===t||t.call(v,s.body),Object.assign(Object.assign({},s.body),{metadata:s.metadata})}),this.deletePollOption=e=>h(this,void 0,void 0,function*(){var t;let i={user_id:null==e?void 0:e.user_id},n={poll_id:null==e?void 0:e.poll_id,option_id:null==e?void 0:e.option_id},s=yield this.sendRequest("DELETE","/api/v2/chat/polls/{poll_id}/options/{option_id}",n,i);return null===(t=v.Response)||void 0===t||t.call(v,s.body),Object.assign(Object.assign({},s.body),{metadata:s.metadata})}),this.getPollOption=e=>h(this,void 0,void 0,function*(){var t;let i={user_id:null==e?void 0:e.user_id},n={poll_id:null==e?void 0:e.poll_id,option_id:null==e?void 0:e.option_id},s=yield this.sendRequest("GET","/api/v2/chat/polls/{poll_id}/options/{option_id}",n,i);return null===(t=v.PollOptionResponse)||void 0===t||t.call(v,s.body),Object.assign(Object.assign({},s.body),{metadata:s.metadata})}),this.queryPollVotes=e=>h(this,void 0,void 0,function*(){var t;let i={user_id:null==e?void 0:e.user_id},n={poll_id:null==e?void 0:e.poll_id},s={limit:null==e?void 0:e.limit,next:null==e?void 0:e.next,prev:null==e?void 0:e.prev,sort:null==e?void 0:e.sort,filter:null==e?void 0:e.filter},r=yield this.sendRequest("POST","/api/v2/chat/polls/{poll_id}/votes",n,i,s);return null===(t=v.PollVotesResponse)||void 0===t||t.call(v,r.body),Object.assign(Object.assign({},r.body),{metadata:r.metadata})}),this.queryBannedUsers=e=>h(this,void 0,void 0,function*(){var t;let i={payload:null==e?void 0:e.payload},n=yield this.sendRequest("GET","/api/v2/chat/query_banned_users",void 0,i);return null===(t=v.QueryBannedUsersResponse)||void 0===t||t.call(v,n.body),Object.assign(Object.assign({},n.body),{metadata:n.metadata})}),this.search=e=>h(this,void 0,void 0,function*(){var t;let i={payload:null==e?void 0:e.payload},n=yield this.sendRequest("GET","/api/v2/chat/search",void 0,i);return null===(t=v.SearchResponse)||void 0===t||t.call(v,n.body),Object.assign(Object.assign({},n.body),{metadata:n.metadata})}),this.queryThreads=e=>h(this,void 0,void 0,function*(){var t;let i={limit:null==e?void 0:e.limit,member_limit:null==e?void 0:e.member_limit,next:null==e?void 0:e.next,participant_limit:null==e?void 0:e.participant_limit,prev:null==e?void 0:e.prev,reply_limit:null==e?void 0:e.reply_limit,user_id:null==e?void 0:e.user_id,user:null==e?void 0:e.user},n=yield this.sendRequest("POST","/api/v2/chat/threads",void 0,void 0,i);return null===(t=v.QueryThreadsResponse)||void 0===t||t.call(v,n.body),Object.assign(Object.assign({},n.body),{metadata:n.metadata})}),this.getThread=e=>h(this,void 0,void 0,function*(){var t;let i={connection_id:null==e?void 0:e.connection_id,reply_limit:null==e?void 0:e.reply_limit,participant_limit:null==e?void 0:e.participant_limit,member_limit:null==e?void 0:e.member_limit},n={message_id:null==e?void 0:e.message_id},s=yield this.sendRequest("GET","/api/v2/chat/threads/{message_id}",n,i);return null===(t=v.GetThreadResponse)||void 0===t||t.call(v,s.body),Object.assign(Object.assign({},s.body),{metadata:s.metadata})}),this.updateThreadPartial=e=>h(this,void 0,void 0,function*(){var t;let i={message_id:null==e?void 0:e.message_id},n={user_id:null==e?void 0:e.user_id,unset:null==e?void 0:e.unset,set:null==e?void 0:e.set,user:null==e?void 0:e.user},s=yield this.sendRequest("PATCH","/api/v2/chat/threads/{message_id}",i,void 0,n);return null===(t=v.UpdateThreadPartialResponse)||void 0===t||t.call(v,s.body),Object.assign(Object.assign({},s.body),{metadata:s.metadata})}),this.unreadCounts=()=>h(this,void 0,void 0,function*(){var e;let t=yield this.sendRequest("GET","/api/v2/chat/unread",void 0,void 0);return null===(e=v.WrappedUnreadCountsResponse)||void 0===e||e.call(v,t.body),Object.assign(Object.assign({},t.body),{metadata:t.metadata})}),this.unreadCountsBatch=e=>h(this,void 0,void 0,function*(){var t;let i={user_ids:null==e?void 0:e.user_ids},n=yield this.sendRequest("POST","/api/v2/chat/unread_batch",void 0,void 0,i);return null===(t=v.UnreadCountsBatchResponse)||void 0===t||t.call(v,n.body),Object.assign(Object.assign({},n.body),{metadata:n.metadata})}),this.sendUserCustomEvent=e=>h(this,void 0,void 0,function*(){var t;let i={user_id:null==e?void 0:e.user_id},n={event:null==e?void 0:e.event},s=yield this.sendRequest("POST","/api/v2/chat/users/{user_id}/event",i,void 0,n);return null===(t=v.Response)||void 0===t||t.call(v,s.body),Object.assign(Object.assign({},s.body),{metadata:s.metadata})})}}class E{constructor(e,t,i){this.chatApi=e,this.type=t,this.id=i,this.delete=e=>{if(!this.id)throw Error("Channel isn't yet created, call getOrCreateDistinctChannel() before this operation");return this.chatApi.deleteChannel(Object.assign({id:this.id,type:this.type},e))},this.updateChannelPartial=e=>{if(!this.id)throw Error("Channel isn't yet created, call getOrCreateDistinctChannel() before this operation");return this.chatApi.updateChannelPartial(Object.assign({id:this.id,type:this.type},e))},this.update=e=>{if(!this.id)throw Error("Channel isn't yet created, call getOrCreateDistinctChannel() before this operation");return this.chatApi.updateChannel(Object.assign({id:this.id,type:this.type},e))},this.sendEvent=e=>{if(!this.id)throw Error("Channel isn't yet created, call getOrCreateDistinctChannel() before this operation");return this.chatApi.sendEvent(Object.assign({id:this.id,type:this.type},e))},this.deleteFile=e=>{if(!this.id)throw Error("Channel isn't yet created, call getOrCreateDistinctChannel() before this operation");return this.chatApi.deleteFile(Object.assign({id:this.id,type:this.type},e))},this.uploadFile=e=>{if(!this.id)throw Error("Channel isn't yet created, call getOrCreateDistinctChannel() before this operation");return this.chatApi.uploadFile(Object.assign({id:this.id,type:this.type},e))},this.hide=e=>{if(!this.id)throw Error("Channel isn't yet created, call getOrCreateDistinctChannel() before this operation");return this.chatApi.hideChannel(Object.assign({id:this.id,type:this.type},e))},this.deleteImage=e=>{if(!this.id)throw Error("Channel isn't yet created, call getOrCreateDistinctChannel() before this operation");return this.chatApi.deleteImage(Object.assign({id:this.id,type:this.type},e))},this.uploadImage=e=>{if(!this.id)throw Error("Channel isn't yet created, call getOrCreateDistinctChannel() before this operation");return this.chatApi.uploadImage(Object.assign({id:this.id,type:this.type},e))},this.sendMessage=e=>{if(!this.id)throw Error("Channel isn't yet created, call getOrCreateDistinctChannel() before this operation");return this.chatApi.sendMessage(Object.assign({id:this.id,type:this.type},e))},this.getManyMessages=e=>{if(!this.id)throw Error("Channel isn't yet created, call getOrCreateDistinctChannel() before this operation");return this.chatApi.getManyMessages(Object.assign({id:this.id,type:this.type},e))},this.getOrCreate=e=>{if(!this.id)throw Error("Channel isn't yet created, call getOrCreateDistinctChannel() before this operation");return this.chatApi.getOrCreateChannel(Object.assign({id:this.id,type:this.type},e))},this.markRead=e=>{if(!this.id)throw Error("Channel isn't yet created, call getOrCreateDistinctChannel() before this operation");return this.chatApi.markRead(Object.assign({id:this.id,type:this.type},e))},this.show=e=>{if(!this.id)throw Error("Channel isn't yet created, call getOrCreateDistinctChannel() before this operation");return this.chatApi.showChannel(Object.assign({id:this.id,type:this.type},e))},this.truncate=e=>{if(!this.id)throw Error("Channel isn't yet created, call getOrCreateDistinctChannel() before this operation");return this.chatApi.truncateChannel(Object.assign({id:this.id,type:this.type},e))},this.markUnread=e=>{if(!this.id)throw Error("Channel isn't yet created, call getOrCreateDistinctChannel() before this operation");return this.chatApi.markUnread(Object.assign({id:this.id,type:this.type},e))}}}class T extends E{constructor(){super(...arguments),this.getOrCreate=e=>this.id?this.chatApi.getOrCreateChannel(Object.assign({id:this.id,type:this.type},e)):this.chatApi.getOrCreateDistinctChannel(Object.assign({type:this.type},e)).then(e=>{var t;return this.id=null===(t=e.channel)||void 0===t?void 0:t.id,e})}get cid(){return`${this.type}:${this.id}`}queryMembers(e){var t;return this.chatApi.queryMembers({payload:Object.assign({id:this.id,type:this.type},null!==(t=null==e?void 0:e.payload)&&void 0!==t?t:{filter_conditions:{}})})}}class C extends k{constructor(){super(...arguments),this.channel=(e,t)=>new T(this,e,t)}}class R extends g{constructor(){super(...arguments),this.ban=e=>h(this,void 0,void 0,function*(){var t;let i={target_user_id:null==e?void 0:e.target_user_id,banned_by_id:null==e?void 0:e.banned_by_id,channel_cid:null==e?void 0:e.channel_cid,ip_ban:null==e?void 0:e.ip_ban,reason:null==e?void 0:e.reason,shadow:null==e?void 0:e.shadow,timeout:null==e?void 0:e.timeout,banned_by:null==e?void 0:e.banned_by},n=yield this.sendRequest("POST","/api/v2/moderation/ban",void 0,void 0,i);return null===(t=v.BanResponse)||void 0===t||t.call(v,n.body),Object.assign(Object.assign({},n.body),{metadata:n.metadata})}),this.check=e=>h(this,void 0,void 0,function*(){var t;let i={config_key:null==e?void 0:e.config_key,entity_creator_id:null==e?void 0:e.entity_creator_id,entity_id:null==e?void 0:e.entity_id,entity_type:null==e?void 0:e.entity_type,user_id:null==e?void 0:e.user_id,moderation_payload:null==e?void 0:e.moderation_payload,options:null==e?void 0:e.options,user:null==e?void 0:e.user},n=yield this.sendRequest("POST","/api/v2/moderation/check",void 0,void 0,i);return null===(t=v.CheckResponse)||void 0===t||t.call(v,n.body),Object.assign(Object.assign({},n.body),{metadata:n.metadata})}),this.upsertConfig=e=>h(this,void 0,void 0,function*(){var t;let i={key:null==e?void 0:e.key,async:null==e?void 0:e.async,automod_platform_circumvention_config:null==e?void 0:e.automod_platform_circumvention_config,automod_semantic_filters_config:null==e?void 0:e.automod_semantic_filters_config,automod_toxicity_config:null==e?void 0:e.automod_toxicity_config,aws_rek_og_nition_config:null==e?void 0:e.aws_rek_og_nition_config,block_list_config:null==e?void 0:e.block_list_config,bodyguard_config:null==e?void 0:e.bodyguard_config,go_og_le_vision_config:null==e?void 0:e.go_og_le_vision_config},n=yield this.sendRequest("POST","/api/v2/moderation/config",void 0,void 0,i);return null===(t=v.UpsertConfigResponse)||void 0===t||t.call(v,n.body),Object.assign(Object.assign({},n.body),{metadata:n.metadata})}),this.getConfig=e=>h(this,void 0,void 0,function*(){var t;let i={key:null==e?void 0:e.key},n=yield this.sendRequest("GET","/api/v2/moderation/config/{key}",i,void 0);return null===(t=v.GetConfigResponse)||void 0===t||t.call(v,n.body),Object.assign(Object.assign({},n.body),{metadata:n.metadata})}),this.customCheck=e=>h(this,void 0,void 0,function*(){var t;let i={entity_creator_id:null==e?void 0:e.entity_creator_id,entity_id:null==e?void 0:e.entity_id,entity_type:null==e?void 0:e.entity_type,name:null==e?void 0:e.name,reason:null==e?void 0:e.reason,recommended_action:null==e?void 0:e.recommended_action,user_id:null==e?void 0:e.user_id,moderation_payload:null==e?void 0:e.moderation_payload,user:null==e?void 0:e.user},n=yield this.sendRequest("POST","/api/v2/moderation/custom_check",void 0,void 0,i);return null===(t=v.CustomCheckResponse)||void 0===t||t.call(v,n.body),Object.assign(Object.assign({},n.body),{metadata:n.metadata})}),this.v2DeleteTemplate=()=>h(this,void 0,void 0,function*(){var e;let t=yield this.sendRequest("DELETE","/api/v2/moderation/feeds_moderation_template",void 0,void 0);return null===(e=v.DeleteModerationTemplateResponse)||void 0===e||e.call(v,t.body),Object.assign(Object.assign({},t.body),{metadata:t.metadata})}),this.v2QueryTemplates=()=>h(this,void 0,void 0,function*(){var e;let t=yield this.sendRequest("GET","/api/v2/moderation/feeds_moderation_template",void 0,void 0);return null===(e=v.QueryFeedModerationTemplatesResponse)||void 0===e||e.call(v,t.body),Object.assign(Object.assign({},t.body),{metadata:t.metadata})}),this.v2UpsertTemplate=e=>h(this,void 0,void 0,function*(){var t;let i={name:null==e?void 0:e.name,config:null==e?void 0:e.config},n=yield this.sendRequest("POST","/api/v2/moderation/feeds_moderation_template",void 0,void 0,i);return null===(t=v.UpsertModerationTemplateResponse)||void 0===t||t.call(v,n.body),Object.assign(Object.assign({},n.body),{metadata:n.metadata})}),this.flag=e=>h(this,void 0,void 0,function*(){var t;let i={entity_id:null==e?void 0:e.entity_id,entity_type:null==e?void 0:e.entity_type,reason:null==e?void 0:e.reason,entity_creator_id:null==e?void 0:e.entity_creator_id,user_id:null==e?void 0:e.user_id,custom:null==e?void 0:e.custom,moderation_payload:null==e?void 0:e.moderation_payload,user:null==e?void 0:e.user},n=yield this.sendRequest("POST","/api/v2/moderation/flag",void 0,void 0,i);return null===(t=v.FlagResponse)||void 0===t||t.call(v,n.body),Object.assign(Object.assign({},n.body),{metadata:n.metadata})}),this.queryModerationLogs=e=>h(this,void 0,void 0,function*(){var t;let i={limit:null==e?void 0:e.limit,next:null==e?void 0:e.next,prev:null==e?void 0:e.prev,user_id:null==e?void 0:e.user_id,sort:null==e?void 0:e.sort,filter:null==e?void 0:e.filter,user:null==e?void 0:e.user},n=yield this.sendRequest("POST","/api/v2/moderation/logs",void 0,void 0,i);return null===(t=v.QueryModerationLogsResponse)||void 0===t||t.call(v,n.body),Object.assign(Object.assign({},n.body),{metadata:n.metadata})}),this.getModeratorStats=()=>h(this,void 0,void 0,function*(){var e;let t=yield this.sendRequest("GET","/api/v2/moderation/moderator_stats",void 0,void 0);return null===(e=v.ModeratorStatsResponse)||void 0===e||e.call(v,t.body),Object.assign(Object.assign({},t.body),{metadata:t.metadata})}),this.mute=e=>h(this,void 0,void 0,function*(){var t;let i={target_ids:null==e?void 0:e.target_ids,timeout:null==e?void 0:e.timeout,user_id:null==e?void 0:e.user_id,user:null==e?void 0:e.user},n=yield this.sendRequest("POST","/api/v2/moderation/mute",void 0,void 0,i);return null===(t=v.MuteResponse)||void 0===t||t.call(v,n.body),Object.assign(Object.assign({},n.body),{metadata:n.metadata})}),this.getQueueStats=()=>h(this,void 0,void 0,function*(){var e;let t=yield this.sendRequest("GET","/api/v2/moderation/queue_stats",void 0,void 0);return null===(e=v.QueueStatsResponse)||void 0===e||e.call(v,t.body),Object.assign(Object.assign({},t.body),{metadata:t.metadata})}),this.queryReviewQueue=e=>h(this,void 0,void 0,function*(){var t;let i={limit:null==e?void 0:e.limit,lock_moderator_duration:null==e?void 0:e.lock_moderator_duration,lock_moderator_id:null==e?void 0:e.lock_moderator_id,next:null==e?void 0:e.next,prev:null==e?void 0:e.prev,stats_only:null==e?void 0:e.stats_only,user_id:null==e?void 0:e.user_id,sort:null==e?void 0:e.sort,filter:null==e?void 0:e.filter,user:null==e?void 0:e.user},n=yield this.sendRequest("POST","/api/v2/moderation/review_queue",void 0,void 0,i);return null===(t=v.QueryReviewQueueResponse)||void 0===t||t.call(v,n.body),Object.assign(Object.assign({},n.body),{metadata:n.metadata})}),this.getReviewQueueItem=e=>h(this,void 0,void 0,function*(){var t;let i={id:null==e?void 0:e.id},n=yield this.sendRequest("GET","/api/v2/moderation/review_queue/{id}",i,void 0);return null===(t=v.GetReviewQueueItemResponse)||void 0===t||t.call(v,n.body),Object.assign(Object.assign({},n.body),{metadata:n.metadata})}),this.submitAction=e=>h(this,void 0,void 0,function*(){var t;let i={action_type:null==e?void 0:e.action_type,item_id:null==e?void 0:e.item_id,user_id:null==e?void 0:e.user_id,ban:null==e?void 0:e.ban,custom:null==e?void 0:e.custom,delete_message:null==e?void 0:e.delete_message,delete_reaction:null==e?void 0:e.delete_reaction,delete_user:null==e?void 0:e.delete_user,unban:null==e?void 0:e.unban,user:null==e?void 0:e.user},n=yield this.sendRequest("POST","/api/v2/moderation/submit_action",void 0,void 0,i);return null===(t=v.SubmitActionResponse)||void 0===t||t.call(v,n.body),Object.assign(Object.assign({},n.body),{metadata:n.metadata})}),this.unban=e=>h(this,void 0,void 0,function*(){var t;let i={target_user_id:null==e?void 0:e.target_user_id,channel_cid:null==e?void 0:e.channel_cid,created_by:null==e?void 0:e.created_by},n={unbanned_by_id:null==e?void 0:e.unbanned_by_id,unbanned_by:null==e?void 0:e.unbanned_by},s=yield this.sendRequest("POST","/api/v2/moderation/unban",void 0,i,n);return null===(t=v.UnbanResponse)||void 0===t||t.call(v,s.body),Object.assign(Object.assign({},s.body),{metadata:s.metadata})}),this.unmute=e=>h(this,void 0,void 0,function*(){var t;let i={target_ids:null==e?void 0:e.target_ids,user_id:null==e?void 0:e.user_id,user:null==e?void 0:e.user},n=yield this.sendRequest("POST","/api/v2/moderation/unmute",void 0,void 0,i);return null===(t=v.UnmuteResponse)||void 0===t||t.call(v,n.body),Object.assign(Object.assign({},n.body),{metadata:n.metadata})}),this.queryUsageStats=e=>h(this,void 0,void 0,function*(){var t;let i={limit:null==e?void 0:e.limit,next:null==e?void 0:e.next,prev:null==e?void 0:e.prev,user_id:null==e?void 0:e.user_id,sort:null==e?void 0:e.sort,filter:null==e?void 0:e.filter,user:null==e?void 0:e.user},n=yield this.sendRequest("POST","/api/v2/moderation/usage_stats",void 0,void 0,i);return null===(t=v.QueryUsageStatsResponse)||void 0===t||t.call(v,n.body),Object.assign(Object.assign({},n.body),{metadata:n.metadata})}),this.getUserReport=e=>h(this,void 0,void 0,function*(){var t;let i={user_id:null==e?void 0:e.user_id,create_user_if_not_exists:null==e?void 0:e.create_user_if_not_exists,include_user_mutes:null==e?void 0:e.include_user_mutes,include_user_blocks:null==e?void 0:e.include_user_blocks},n=yield this.sendRequest("GET","/api/v2/moderation/user_report",void 0,i);return null===(t=v.GetUserModerationReportResponse)||void 0===t||t.call(v,n.body),Object.assign(Object.assign({},n.body),{metadata:n.metadata})})}}class O extends R{}class P extends y{constructor(e,t,i){var n,r,o;let l=function(e,t={}){let i=Object.assign({algorithm:"HS256",noTimestamp:!0},t);return s().sign({server:!0},e,i)}(t),c=null!==(n=null==i?void 0:i.timeout)&&void 0!==n?n:P.DEFAULT_TIMEOUT,d=null!==(r=null==i?void 0:i.basePath)&&void 0!==r?r:"https://chat.stream-io-api.com",u=null!==(o=null==i?void 0:i.basePath)&&void 0!==o?o:"https://video.stream-io-api.com";super({apiKey:e,token:l,timeout:c,baseUrl:d}),this.apiKey=e,this.secret=t,this.config=i,this.options={},this.upsertUsers=e=>{let t={};return e.forEach(e=>{t[e.id]=e}),this.updateUsers({users:t})},this.queryBannedUsers=e=>this.chat.queryBannedUsers(e),this.generateUserToken=e=>{var t,i,n;let s=Math.floor((Date.now()-1e3)/1e3);e.iat=null!==(t=e.iat)&&void 0!==t?t:s;let r=null!==(i=e.validity_in_seconds)&&void 0!==i?i:3600;return e.exp=null!==(n=e.exp)&&void 0!==n?n:e.iat+r,p(this.secret,e)},this.generateCallToken=e=>this.generateUserToken(e),this.createToken=(e,t=Math.round(Date.now()/1e3)+3600,i=Math.floor((Date.now()-1e3)/1e3))=>p(this.secret,{user_id:e,exp:t,iat:i}),this.createCallToken=(e,t,i=Math.round(Date.now()/1e3)+3600,n=Math.floor((Date.now()-1e3)/1e3))=>{let s={exp:i,iat:n,call_cids:t,user_id:"string"==typeof e?e:e.user_id};return"object"==typeof e&&e.role&&(s.role=e.role),p(this.secret,s)},this.verifyWebhook=(e,t)=>{let i=Buffer.from(this.secret,"utf8"),n=a().createHmac("sha256",i).update(e).digest("hex");try{return a().timingSafeEqual(Buffer.from(n),Buffer.from(t))}catch(e){return!1}},this.video=new S({apiKey:e,token:l,timeout:c,baseUrl:u}),this.chat=new C({apiKey:e,token:l,timeout:c,baseUrl:d}),this.moderation=new O({apiKey:e,token:l,timeout:c,baseUrl:d})}}P.DEFAULT_TIMEOUT=3e3},6073:(e,t,i)=>{"use strict";var n=i(14300).Buffer,s=i(14300).SlowBuffer;function r(e,t){if(!n.isBuffer(e)||!n.isBuffer(t)||e.length!==t.length)return!1;for(var i=0,s=0;s<e.length;s++)i|=e[s]^t[s];return 0===i}e.exports=r,r.install=function(){n.prototype.equal=s.prototype.equal=function(e){return r(this,e)}};var a=n.prototype.equal,o=s.prototype.equal;r.restore=function(){n.prototype.equal=a,s.prototype.equal=o}},21791:(e,t)=>{"use strict";function i(e){return -1!==e.indexOf("%")?decodeURIComponent(e):e}t.Q=function(e,t){if("string"!=typeof e)throw TypeError("argument str must be a string");for(var n={},s=(t||{}).decode||i,r=0;r<e.length;){var a=e.indexOf("=",r);if(-1===a)break;var o=e.indexOf(";",r);if(-1===o)o=e.length;else if(o<a){r=e.lastIndexOf(";",a-1)+1;continue}var l=e.slice(r,a).trim();if(void 0===n[l]){var c=e.slice(a+1,o).trim();34===c.charCodeAt(0)&&(c=c.slice(1,-1)),n[l]=function(e,t){try{return t(e)}catch(t){return e}}(c,s)}r=o+1}return n},Object.prototype.toString},82930:function(e,t,i){var n;n=function(e){var t,i,n,s,r,a,o,l,c,d,u,p,h,m;return t=e.lib.BlockCipher,i=e.algo,n=[],s=[],r=[],a=[],o=[],l=[],c=[],d=[],u=[],p=[],function(){for(var e=[],t=0;t<256;t++)t<128?e[t]=t<<1:e[t]=t<<1^283;for(var i=0,h=0,t=0;t<256;t++){var m=h^h<<1^h<<2^h<<3^h<<4;m=m>>>8^255&m^99,n[i]=m,s[m]=i;var f=e[i],g=e[f],v=e[g],b=257*e[m]^16843008*m;r[i]=b<<24|b>>>8,a[i]=b<<16|b>>>16,o[i]=b<<8|b>>>24,l[i]=b;var b=16843009*v^65537*g^257*f^16843008*i;c[m]=b<<24|b>>>8,d[m]=b<<16|b>>>16,u[m]=b<<8|b>>>24,p[m]=b,i?(i=f^e[e[e[v^f]]],h^=e[e[h]]):i=h=1}}(),h=[0,1,2,4,8,16,32,64,128,27,54],m=i.AES=t.extend({_doReset:function(){if(!this._nRounds||this._keyPriorReset!==this._key){for(var e,t=this._keyPriorReset=this._key,i=t.words,s=t.sigBytes/4,r=((this._nRounds=s+6)+1)*4,a=this._keySchedule=[],o=0;o<r;o++)o<s?a[o]=i[o]:(e=a[o-1],o%s?s>6&&o%s==4&&(e=n[e>>>24]<<24|n[e>>>16&255]<<16|n[e>>>8&255]<<8|n[255&e]):e=(n[(e=e<<8|e>>>24)>>>24]<<24|n[e>>>16&255]<<16|n[e>>>8&255]<<8|n[255&e])^h[o/s|0]<<24,a[o]=a[o-s]^e);for(var l=this._invKeySchedule=[],m=0;m<r;m++){var o=r-m;if(m%4)var e=a[o];else var e=a[o-4];m<4||o<=4?l[m]=e:l[m]=c[n[e>>>24]]^d[n[e>>>16&255]]^u[n[e>>>8&255]]^p[n[255&e]]}}},encryptBlock:function(e,t){this._doCryptBlock(e,t,this._keySchedule,r,a,o,l,n)},decryptBlock:function(e,t){var i=e[t+1];e[t+1]=e[t+3],e[t+3]=i,this._doCryptBlock(e,t,this._invKeySchedule,c,d,u,p,s);var i=e[t+1];e[t+1]=e[t+3],e[t+3]=i},_doCryptBlock:function(e,t,i,n,s,r,a,o){for(var l=this._nRounds,c=e[t]^i[0],d=e[t+1]^i[1],u=e[t+2]^i[2],p=e[t+3]^i[3],h=4,m=1;m<l;m++){var f=n[c>>>24]^s[d>>>16&255]^r[u>>>8&255]^a[255&p]^i[h++],g=n[d>>>24]^s[u>>>16&255]^r[p>>>8&255]^a[255&c]^i[h++],v=n[u>>>24]^s[p>>>16&255]^r[c>>>8&255]^a[255&d]^i[h++],b=n[p>>>24]^s[c>>>16&255]^r[d>>>8&255]^a[255&u]^i[h++];c=f,d=g,u=v,p=b}var f=(o[c>>>24]<<24|o[d>>>16&255]<<16|o[u>>>8&255]<<8|o[255&p])^i[h++],g=(o[d>>>24]<<24|o[u>>>16&255]<<16|o[p>>>8&255]<<8|o[255&c])^i[h++],v=(o[u>>>24]<<24|o[p>>>16&255]<<16|o[c>>>8&255]<<8|o[255&d])^i[h++],b=(o[p>>>24]<<24|o[c>>>16&255]<<16|o[d>>>8&255]<<8|o[255&u])^i[h++];e[t]=f,e[t+1]=g,e[t+2]=v,e[t+3]=b},keySize:8}),e.AES=t._createHelper(m),e.AES},e.exports=n(i(15257),i(394),i(1638),i(12824),i(15170))},15170:function(e,t,i){var n;n=function(e){var t,i,n,s,r,a,o,l,c,d,u,p,h,m,f,g,v;e.lib.Cipher||(i=(t=e.lib).Base,n=t.WordArray,s=t.BufferedBlockAlgorithm,(r=e.enc).Utf8,a=r.Base64,o=e.algo.EvpKDF,l=t.Cipher=s.extend({cfg:i.extend(),createEncryptor:function(e,t){return this.create(this._ENC_XFORM_MODE,e,t)},createDecryptor:function(e,t){return this.create(this._DEC_XFORM_MODE,e,t)},init:function(e,t,i){this.cfg=this.cfg.extend(i),this._xformMode=e,this._key=t,this.reset()},reset:function(){s.reset.call(this),this._doReset()},process:function(e){return this._append(e),this._process()},finalize:function(e){return e&&this._append(e),this._doFinalize()},keySize:4,ivSize:4,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function e(e){return"string"==typeof e?v:f}return function(t){return{encrypt:function(i,n,s){return e(n).encrypt(t,i,n,s)},decrypt:function(i,n,s){return e(n).decrypt(t,i,n,s)}}}}()}),t.StreamCipher=l.extend({_doFinalize:function(){return this._process(!0)},blockSize:1}),c=e.mode={},d=t.BlockCipherMode=i.extend({createEncryptor:function(e,t){return this.Encryptor.create(e,t)},createDecryptor:function(e,t){return this.Decryptor.create(e,t)},init:function(e,t){this._cipher=e,this._iv=t}}),u=c.CBC=function(){var e=d.extend();function t(e,t,i){var n,s=this._iv;s?(n=s,this._iv=void 0):n=this._prevBlock;for(var r=0;r<i;r++)e[t+r]^=n[r]}return e.Encryptor=e.extend({processBlock:function(e,i){var n=this._cipher,s=n.blockSize;t.call(this,e,i,s),n.encryptBlock(e,i),this._prevBlock=e.slice(i,i+s)}}),e.Decryptor=e.extend({processBlock:function(e,i){var n=this._cipher,s=n.blockSize,r=e.slice(i,i+s);n.decryptBlock(e,i),t.call(this,e,i,s),this._prevBlock=r}}),e}(),p=(e.pad={}).Pkcs7={pad:function(e,t){for(var i=4*t,s=i-e.sigBytes%i,r=s<<24|s<<16|s<<8|s,a=[],o=0;o<s;o+=4)a.push(r);var l=n.create(a,s);e.concat(l)},unpad:function(e){var t=255&e.words[e.sigBytes-1>>>2];e.sigBytes-=t}},t.BlockCipher=l.extend({cfg:l.cfg.extend({mode:u,padding:p}),reset:function(){l.reset.call(this);var e,t=this.cfg,i=t.iv,n=t.mode;this._xformMode==this._ENC_XFORM_MODE?e=n.createEncryptor:(e=n.createDecryptor,this._minBufferSize=1),this._mode&&this._mode.__creator==e?this._mode.init(this,i&&i.words):(this._mode=e.call(n,this,i&&i.words),this._mode.__creator=e)},_doProcessBlock:function(e,t){this._mode.processBlock(e,t)},_doFinalize:function(){var e,t=this.cfg.padding;return this._xformMode==this._ENC_XFORM_MODE?(t.pad(this._data,this.blockSize),e=this._process(!0)):(e=this._process(!0),t.unpad(e)),e},blockSize:4}),h=t.CipherParams=i.extend({init:function(e){this.mixIn(e)},toString:function(e){return(e||this.formatter).stringify(this)}}),m=(e.format={}).OpenSSL={stringify:function(e){var t=e.ciphertext,i=e.salt;return(i?n.create([1398893684,1701076831]).concat(i).concat(t):t).toString(a)},parse:function(e){var t,i=a.parse(e),s=i.words;return 1398893684==s[0]&&1701076831==s[1]&&(t=n.create(s.slice(2,4)),s.splice(0,4),i.sigBytes-=16),h.create({ciphertext:i,salt:t})}},f=t.SerializableCipher=i.extend({cfg:i.extend({format:m}),encrypt:function(e,t,i,n){n=this.cfg.extend(n);var s=e.createEncryptor(i,n),r=s.finalize(t),a=s.cfg;return h.create({ciphertext:r,key:i,iv:a.iv,algorithm:e,mode:a.mode,padding:a.padding,blockSize:e.blockSize,formatter:n.format})},decrypt:function(e,t,i,n){return n=this.cfg.extend(n),t=this._parse(t,n.format),e.createDecryptor(i,n).finalize(t.ciphertext)},_parse:function(e,t){return"string"==typeof e?t.parse(e,this):e}}),g=(e.kdf={}).OpenSSL={execute:function(e,t,i,s,r){if(s||(s=n.random(8)),r)var a=o.create({keySize:t+i,hasher:r}).compute(e,s);else var a=o.create({keySize:t+i}).compute(e,s);var l=n.create(a.words.slice(t),4*i);return a.sigBytes=4*t,h.create({key:a,iv:l,salt:s})}},v=t.PasswordBasedCipher=f.extend({cfg:f.cfg.extend({kdf:g}),encrypt:function(e,t,i,n){var s=(n=this.cfg.extend(n)).kdf.execute(i,e.keySize,e.ivSize,n.salt,n.hasher);n.iv=s.iv;var r=f.encrypt.call(this,e,t,s.key,n);return r.mixIn(s),r},decrypt:function(e,t,i,n){n=this.cfg.extend(n),t=this._parse(t,n.format);var s=n.kdf.execute(i,e.keySize,e.ivSize,t.salt,n.hasher);return n.iv=s.iv,f.decrypt.call(this,e,t,s.key,n)}}))},e.exports=n(i(15257),i(12824))},15257:function(e,t,i){var n;n=function(){var e=e||function(e,t){if("undefined"!=typeof window&&window.crypto&&(n=window.crypto),"undefined"!=typeof self&&self.crypto&&(n=self.crypto),"undefined"!=typeof globalThis&&globalThis.crypto&&(n=globalThis.crypto),!n&&"undefined"!=typeof window&&window.msCrypto&&(n=window.msCrypto),!n&&"undefined"!=typeof global&&global.crypto&&(n=global.crypto),!n)try{n=i(6113)}catch(e){}var n,s=function(){if(n){if("function"==typeof n.getRandomValues)try{return n.getRandomValues(new Uint32Array(1))[0]}catch(e){}if("function"==typeof n.randomBytes)try{return n.randomBytes(4).readInt32LE()}catch(e){}}throw Error("Native crypto module could not be used to get secure random number.")},r=Object.create||function(){function e(){}return function(t){var i;return e.prototype=t,i=new e,e.prototype=null,i}}(),a={},o=a.lib={},l=o.Base={extend:function(e){var t=r(this);return e&&t.mixIn(e),t.hasOwnProperty("init")&&this.init!==t.init||(t.init=function(){t.$super.init.apply(this,arguments)}),t.init.prototype=t,t.$super=this,t},create:function(){var e=this.extend();return e.init.apply(e,arguments),e},init:function(){},mixIn:function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);e.hasOwnProperty("toString")&&(this.toString=e.toString)},clone:function(){return this.init.prototype.extend(this)}},c=o.WordArray=l.extend({init:function(e,i){e=this.words=e||[],t!=i?this.sigBytes=i:this.sigBytes=4*e.length},toString:function(e){return(e||u).stringify(this)},concat:function(e){var t=this.words,i=e.words,n=this.sigBytes,s=e.sigBytes;if(this.clamp(),n%4)for(var r=0;r<s;r++){var a=i[r>>>2]>>>24-r%4*8&255;t[n+r>>>2]|=a<<24-(n+r)%4*8}else for(var o=0;o<s;o+=4)t[n+o>>>2]=i[o>>>2];return this.sigBytes+=s,this},clamp:function(){var t=this.words,i=this.sigBytes;t[i>>>2]&=4294967295<<32-i%4*8,t.length=e.ceil(i/4)},clone:function(){var e=l.clone.call(this);return e.words=this.words.slice(0),e},random:function(e){for(var t=[],i=0;i<e;i+=4)t.push(s());return new c.init(t,e)}}),d=a.enc={},u=d.Hex={stringify:function(e){for(var t=e.words,i=e.sigBytes,n=[],s=0;s<i;s++){var r=t[s>>>2]>>>24-s%4*8&255;n.push((r>>>4).toString(16)),n.push((15&r).toString(16))}return n.join("")},parse:function(e){for(var t=e.length,i=[],n=0;n<t;n+=2)i[n>>>3]|=parseInt(e.substr(n,2),16)<<24-n%8*4;return new c.init(i,t/2)}},p=d.Latin1={stringify:function(e){for(var t=e.words,i=e.sigBytes,n=[],s=0;s<i;s++){var r=t[s>>>2]>>>24-s%4*8&255;n.push(String.fromCharCode(r))}return n.join("")},parse:function(e){for(var t=e.length,i=[],n=0;n<t;n++)i[n>>>2]|=(255&e.charCodeAt(n))<<24-n%4*8;return new c.init(i,t)}},h=d.Utf8={stringify:function(e){try{return decodeURIComponent(escape(p.stringify(e)))}catch(e){throw Error("Malformed UTF-8 data")}},parse:function(e){return p.parse(unescape(encodeURIComponent(e)))}},m=o.BufferedBlockAlgorithm=l.extend({reset:function(){this._data=new c.init,this._nDataBytes=0},_append:function(e){"string"==typeof e&&(e=h.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes},_process:function(t){var i,n=this._data,s=n.words,r=n.sigBytes,a=this.blockSize,o=r/(4*a),l=(o=t?e.ceil(o):e.max((0|o)-this._minBufferSize,0))*a,d=e.min(4*l,r);if(l){for(var u=0;u<l;u+=a)this._doProcessBlock(s,u);i=s.splice(0,l),n.sigBytes-=d}return new c.init(i,d)},clone:function(){var e=l.clone.call(this);return e._data=this._data.clone(),e},_minBufferSize:0});o.Hasher=m.extend({cfg:l.extend(),init:function(e){this.cfg=this.cfg.extend(e),this.reset()},reset:function(){m.reset.call(this),this._doReset()},update:function(e){return this._append(e),this._process(),this},finalize:function(e){return e&&this._append(e),this._doFinalize()},blockSize:16,_createHelper:function(e){return function(t,i){return new e.init(i).finalize(t)}},_createHmacHelper:function(e){return function(t,i){return new f.HMAC.init(e,i).finalize(t)}}});var f=a.algo={};return a}(Math);return e},e.exports=n()},394:function(e,t,i){var n;n=function(e){var t;return t=e.lib.WordArray,e.enc.Base64={stringify:function(e){var t=e.words,i=e.sigBytes,n=this._map;e.clamp();for(var s=[],r=0;r<i;r+=3)for(var a=(t[r>>>2]>>>24-r%4*8&255)<<16|(t[r+1>>>2]>>>24-(r+1)%4*8&255)<<8|t[r+2>>>2]>>>24-(r+2)%4*8&255,o=0;o<4&&r+.75*o<i;o++)s.push(n.charAt(a>>>6*(3-o)&63));var l=n.charAt(64);if(l)for(;s.length%4;)s.push(l);return s.join("")},parse:function(e){var i=e.length,n=this._map,s=this._reverseMap;if(!s){s=this._reverseMap=[];for(var r=0;r<n.length;r++)s[n.charCodeAt(r)]=r}var a=n.charAt(64);if(a){var o=e.indexOf(a);-1!==o&&(i=o)}return function(e,i,n){for(var s=[],r=0,a=0;a<i;a++)if(a%4){var o=n[e.charCodeAt(a-1)]<<a%4*2|n[e.charCodeAt(a)]>>>6-a%4*2;s[r>>>2]|=o<<24-r%4*8,r++}return t.create(s,r)}(e,i,s)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="},e.enc.Base64},e.exports=n(i(15257))},63476:function(e,t,i){var n;n=function(e){return e.enc.Utf8},e.exports=n(i(15257))},12824:function(e,t,i){var n;n=function(e){var t,i,n,s,r,a;return i=(t=e.lib).Base,n=t.WordArray,r=(s=e.algo).MD5,a=s.EvpKDF=i.extend({cfg:i.extend({keySize:4,hasher:r,iterations:1}),init:function(e){this.cfg=this.cfg.extend(e)},compute:function(e,t){for(var i,s=this.cfg,r=s.hasher.create(),a=n.create(),o=a.words,l=s.keySize,c=s.iterations;o.length<l;){i&&r.update(i),i=r.update(e).finalize(t),r.reset();for(var d=1;d<c;d++)i=r.finalize(i),r.reset();a.concat(i)}return a.sigBytes=4*l,a}}),e.EvpKDF=function(e,t,i){return a.create(i).compute(e,t)},e.EvpKDF},e.exports=n(i(15257),i(45201),i(55834))},37140:function(e,t,i){var n;n=function(e){return e.HmacSHA1},e.exports=n(i(15257),i(45201),i(55834))},55834:function(e,t,i){var n;n=function(e){var t,i;t=e.lib.Base,i=e.enc.Utf8,e.algo.HMAC=t.extend({init:function(e,t){e=this._hasher=new e.init,"string"==typeof t&&(t=i.parse(t));var n=e.blockSize,s=4*n;t.sigBytes>s&&(t=e.finalize(t)),t.clamp();for(var r=this._oKey=t.clone(),a=this._iKey=t.clone(),o=r.words,l=a.words,c=0;c<n;c++)o[c]^=1549556828,l[c]^=909522486;r.sigBytes=a.sigBytes=s,this.reset()},reset:function(){var e=this._hasher;e.reset(),e.update(this._iKey)},update:function(e){return this._hasher.update(e),this},finalize:function(e){var t=this._hasher,i=t.finalize(e);return t.reset(),t.finalize(this._oKey.clone().concat(i))}})},e.exports=n(i(15257))},1638:function(e,t,i){var n;n=function(e){return function(t){var i=e.lib,n=i.WordArray,s=i.Hasher,r=e.algo,a=[];!function(){for(var e=0;e<64;e++)a[e]=4294967296*t.abs(t.sin(e+1))|0}();var o=r.MD5=s.extend({_doReset:function(){this._hash=new n.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(e,t){for(var i=0;i<16;i++){var n=t+i,s=e[n];e[n]=(s<<8|s>>>24)&16711935|(s<<24|s>>>8)&4278255360}var r=this._hash.words,o=e[t+0],p=e[t+1],h=e[t+2],m=e[t+3],f=e[t+4],g=e[t+5],v=e[t+6],b=e[t+7],y=e[t+8],x=e[t+9],_=e[t+10],w=e[t+11],S=e[t+12],k=e[t+13],E=e[t+14],T=e[t+15],C=r[0],R=r[1],O=r[2],P=r[3];C=l(C,R,O,P,o,7,a[0]),P=l(P,C,R,O,p,12,a[1]),O=l(O,P,C,R,h,17,a[2]),R=l(R,O,P,C,m,22,a[3]),C=l(C,R,O,P,f,7,a[4]),P=l(P,C,R,O,g,12,a[5]),O=l(O,P,C,R,v,17,a[6]),R=l(R,O,P,C,b,22,a[7]),C=l(C,R,O,P,y,7,a[8]),P=l(P,C,R,O,x,12,a[9]),O=l(O,P,C,R,_,17,a[10]),R=l(R,O,P,C,w,22,a[11]),C=l(C,R,O,P,S,7,a[12]),P=l(P,C,R,O,k,12,a[13]),O=l(O,P,C,R,E,17,a[14]),R=l(R,O,P,C,T,22,a[15]),C=c(C,R,O,P,p,5,a[16]),P=c(P,C,R,O,v,9,a[17]),O=c(O,P,C,R,w,14,a[18]),R=c(R,O,P,C,o,20,a[19]),C=c(C,R,O,P,g,5,a[20]),P=c(P,C,R,O,_,9,a[21]),O=c(O,P,C,R,T,14,a[22]),R=c(R,O,P,C,f,20,a[23]),C=c(C,R,O,P,x,5,a[24]),P=c(P,C,R,O,E,9,a[25]),O=c(O,P,C,R,m,14,a[26]),R=c(R,O,P,C,y,20,a[27]),C=c(C,R,O,P,k,5,a[28]),P=c(P,C,R,O,h,9,a[29]),O=c(O,P,C,R,b,14,a[30]),R=c(R,O,P,C,S,20,a[31]),C=d(C,R,O,P,g,4,a[32]),P=d(P,C,R,O,y,11,a[33]),O=d(O,P,C,R,w,16,a[34]),R=d(R,O,P,C,E,23,a[35]),C=d(C,R,O,P,p,4,a[36]),P=d(P,C,R,O,f,11,a[37]),O=d(O,P,C,R,b,16,a[38]),R=d(R,O,P,C,_,23,a[39]),C=d(C,R,O,P,k,4,a[40]),P=d(P,C,R,O,o,11,a[41]),O=d(O,P,C,R,m,16,a[42]),R=d(R,O,P,C,v,23,a[43]),C=d(C,R,O,P,x,4,a[44]),P=d(P,C,R,O,S,11,a[45]),O=d(O,P,C,R,T,16,a[46]),R=d(R,O,P,C,h,23,a[47]),C=u(C,R,O,P,o,6,a[48]),P=u(P,C,R,O,b,10,a[49]),O=u(O,P,C,R,E,15,a[50]),R=u(R,O,P,C,g,21,a[51]),C=u(C,R,O,P,S,6,a[52]),P=u(P,C,R,O,m,10,a[53]),O=u(O,P,C,R,_,15,a[54]),R=u(R,O,P,C,p,21,a[55]),C=u(C,R,O,P,y,6,a[56]),P=u(P,C,R,O,T,10,a[57]),O=u(O,P,C,R,v,15,a[58]),R=u(R,O,P,C,k,21,a[59]),C=u(C,R,O,P,f,6,a[60]),P=u(P,C,R,O,w,10,a[61]),O=u(O,P,C,R,h,15,a[62]),R=u(R,O,P,C,x,21,a[63]),r[0]=r[0]+C|0,r[1]=r[1]+R|0,r[2]=r[2]+O|0,r[3]=r[3]+P|0},_doFinalize:function(){var e=this._data,i=e.words,n=8*this._nDataBytes,s=8*e.sigBytes;i[s>>>5]|=128<<24-s%32;var r=t.floor(n/4294967296);i[(s+64>>>9<<4)+15]=(r<<8|r>>>24)&16711935|(r<<24|r>>>8)&4278255360,i[(s+64>>>9<<4)+14]=(n<<8|n>>>24)&16711935|(n<<24|n>>>8)&4278255360,e.sigBytes=(i.length+1)*4,this._process();for(var a=this._hash,o=a.words,l=0;l<4;l++){var c=o[l];o[l]=(c<<8|c>>>24)&16711935|(c<<24|c>>>8)&4278255360}return a},clone:function(){var e=s.clone.call(this);return e._hash=this._hash.clone(),e}});function l(e,t,i,n,s,r,a){var o=e+(t&i|~t&n)+s+a;return(o<<r|o>>>32-r)+t}function c(e,t,i,n,s,r,a){var o=e+(t&n|i&~n)+s+a;return(o<<r|o>>>32-r)+t}function d(e,t,i,n,s,r,a){var o=e+(t^i^n)+s+a;return(o<<r|o>>>32-r)+t}function u(e,t,i,n,s,r,a){var o=e+(i^(t|~n))+s+a;return(o<<r|o>>>32-r)+t}e.MD5=s._createHelper(o),e.HmacMD5=s._createHmacHelper(o)}(Math),e.MD5},e.exports=n(i(15257))},45201:function(e,t,i){var n;n=function(e){var t,i,n,s,r,a;return i=(t=e.lib).WordArray,n=t.Hasher,s=e.algo,r=[],a=s.SHA1=n.extend({_doReset:function(){this._hash=new i.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(e,t){for(var i=this._hash.words,n=i[0],s=i[1],a=i[2],o=i[3],l=i[4],c=0;c<80;c++){if(c<16)r[c]=0|e[t+c];else{var d=r[c-3]^r[c-8]^r[c-14]^r[c-16];r[c]=d<<1|d>>>31}var u=(n<<5|n>>>27)+l+r[c];c<20?u+=(s&a|~s&o)+1518500249:c<40?u+=(s^a^o)+1859775393:c<60?u+=(s&a|s&o|a&o)-1894007588:u+=(s^a^o)-899497514,l=o,o=a,a=s<<30|s>>>2,s=n,n=u}i[0]=i[0]+n|0,i[1]=i[1]+s|0,i[2]=i[2]+a|0,i[3]=i[3]+o|0,i[4]=i[4]+l|0},_doFinalize:function(){var e=this._data,t=e.words,i=8*this._nDataBytes,n=8*e.sigBytes;return t[n>>>5]|=128<<24-n%32,t[(n+64>>>9<<4)+14]=Math.floor(i/4294967296),t[(n+64>>>9<<4)+15]=i,e.sigBytes=4*t.length,this._process(),this._hash},clone:function(){var e=n.clone.call(this);return e._hash=this._hash.clone(),e}}),e.SHA1=n._createHelper(a),e.HmacSHA1=n._createHmacHelper(a),e.SHA1},e.exports=n(i(15257))},88633:(e,t,i)=>{"use strict";var n=i(16496).Buffer,s=i(35521);function r(e){if(n.isBuffer(e))return e;if("string"==typeof e)return n.from(e,"base64");throw TypeError("ECDSA signature must be a Base64 string or a Buffer")}function a(e,t,i){for(var n=0;t+n<i&&0===e[t+n];)++n;return e[t+n]>=128&&--n,n}e.exports={derToJose:function(e,t){e=r(e);var i=s(t),a=i+1,o=e.length,l=0;if(48!==e[l++])throw Error('Could not find expected "seq"');var c=e[l++];if(129===c&&(c=e[l++]),o-l<c)throw Error('"seq" specified length of "'+c+'", only "'+(o-l)+'" remaining');if(2!==e[l++])throw Error('Could not find expected "int" for "r"');var d=e[l++];if(o-l-2<d)throw Error('"r" specified length of "'+d+'", only "'+(o-l-2)+'" available');if(a<d)throw Error('"r" specified length of "'+d+'", max of "'+a+'" is acceptable');var u=l;if(l+=d,2!==e[l++])throw Error('Could not find expected "int" for "s"');var p=e[l++];if(o-l!==p)throw Error('"s" specified length of "'+p+'", expected "'+(o-l)+'"');if(a<p)throw Error('"s" specified length of "'+p+'", max of "'+a+'" is acceptable');var h=l;if((l+=p)!==o)throw Error('Expected to consume entire buffer, but "'+(o-l)+'" bytes remain');var m=i-d,f=i-p,g=n.allocUnsafe(m+d+f+p);for(l=0;l<m;++l)g[l]=0;e.copy(g,l,u+Math.max(-m,0),u+d),l=i;for(var v=l;l<v+f;++l)g[l]=0;return e.copy(g,l,h+Math.max(-f,0),h+p),g=(g=g.toString("base64")).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")},joseToDer:function(e,t){e=r(e);var i=s(t),o=e.length;if(o!==2*i)throw TypeError('"'+t+'" signatures must be "'+2*i+'" bytes, saw "'+o+'"');var l=a(e,0,i),c=a(e,i,e.length),d=i-l,u=i-c,p=2+d+1+1+u,h=p<128,m=n.allocUnsafe((h?2:3)+p),f=0;return m[f++]=48,h?m[f++]=p:(m[f++]=129,m[f++]=255&p),m[f++]=2,m[f++]=d,l<0?(m[f++]=0,f+=e.copy(m,f,0,i)):f+=e.copy(m,f,l,i),m[f++]=2,m[f++]=u,c<0?(m[f++]=0,e.copy(m,f,i)):e.copy(m,f,i+c),m}}},35521:e=>{"use strict";function t(e){return(e/8|0)+(e%8==0?0:1)}var i={ES256:t(256),ES384:t(384),ES512:t(521)};e.exports=function(e){var t=i[e];if(t)return t;throw Error('Unknown algorithm "'+e+'"')}},45153:(e,t,i)=>{var n=i(90274);e.exports=function(e,t){t=t||{};var i=n.decode(e,t);if(!i)return null;var s=i.payload;if("string"==typeof s)try{var r=JSON.parse(s);null!==r&&"object"==typeof r&&(s=r)}catch(e){}return!0===t.complete?{header:i.header,payload:s,signature:i.signature}:s}},57817:(e,t,i)=>{e.exports={decode:i(45153),verify:i(77541),sign:i(6733),JsonWebTokenError:i(35104),NotBeforeError:i(92698),TokenExpiredError:i(75636)}},35104:e=>{var t=function(e,t){Error.call(this,e),Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor),this.name="JsonWebTokenError",this.message=e,t&&(this.inner=t)};t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,e.exports=t},92698:(e,t,i)=>{var n=i(35104),s=function(e,t){n.call(this,e),this.name="NotBeforeError",this.date=t};s.prototype=Object.create(n.prototype),s.prototype.constructor=s,e.exports=s},75636:(e,t,i)=>{var n=i(35104),s=function(e,t){n.call(this,e),this.name="TokenExpiredError",this.expiredAt=t};s.prototype=Object.create(n.prototype),s.prototype.constructor=s,e.exports=s},21181:(e,t,i)=>{let n=i(17140);e.exports=n.satisfies(process.version,">=15.7.0")},29548:(e,t,i)=>{var n=i(17140);e.exports=n.satisfies(process.version,"^6.12.0 || >=8.0.0")},87931:(e,t,i)=>{let n=i(17140);e.exports=n.satisfies(process.version,">=16.9.0")},56611:(e,t,i)=>{var n=i(8901);e.exports=function(e,t){var i=t||Math.floor(Date.now()/1e3);if("string"==typeof e){var s=n(e);if(void 0===s)return;return Math.floor(i+s/1e3)}if("number"==typeof e)return i+e}},54822:(e,t,i)=>{let n=i(21181),s=i(87931),r={ec:["ES256","ES384","ES512"],rsa:["RS256","PS256","RS384","PS384","RS512","PS512"],"rsa-pss":["PS256","PS384","PS512"]},a={ES256:"prime256v1",ES384:"secp384r1",ES512:"secp521r1"};e.exports=function(e,t){if(!e||!t)return;let i=t.asymmetricKeyType;if(!i)return;let o=r[i];if(!o)throw Error(`Unknown key type "${i}".`);if(!o.includes(e))throw Error(`"alg" parameter for "${i}" key type must be one of: ${o.join(", ")}.`);if(n)switch(i){case"ec":let l=t.asymmetricKeyDetails.namedCurve,c=a[e];if(l!==c)throw Error(`"alg" parameter "${e}" requires curve "${c}".`);break;case"rsa-pss":if(s){let i=parseInt(e.slice(-3),10),{hashAlgorithm:n,mgf1HashAlgorithm:s,saltLength:r}=t.asymmetricKeyDetails;if(n!==`sha${i}`||s!==n)throw Error(`Invalid key for this operation, its RSA-PSS parameters do not meet the requirements of "alg" ${e}.`);if(void 0!==r&&r>i>>3)throw Error(`Invalid key for this operation, its RSA-PSS parameter saltLength does not meet the requirements of "alg" ${e}.`)}}}},6733:(e,t,i)=>{let n=i(56611),s=i(29548),r=i(54822),a=i(90274),o=i(57776),l=i(22187),c=i(93819),d=i(11554),u=i(20254),p=i(71461),h=i(911),{KeyObject:m,createSecretKey:f,createPrivateKey:g}=i(6113),v=["RS256","RS384","RS512","ES256","ES384","ES512","HS256","HS384","HS512","none"];s&&v.splice(3,0,"PS256","PS384","PS512");let b={expiresIn:{isValid:function(e){return c(e)||p(e)&&e},message:'"expiresIn" should be a number of seconds or string representing a timespan'},notBefore:{isValid:function(e){return c(e)||p(e)&&e},message:'"notBefore" should be a number of seconds or string representing a timespan'},audience:{isValid:function(e){return p(e)||Array.isArray(e)},message:'"audience" must be a string or array'},algorithm:{isValid:o.bind(null,v),message:'"algorithm" must be a valid string enum value'},header:{isValid:u,message:'"header" must be an object'},encoding:{isValid:p,message:'"encoding" must be a string'},issuer:{isValid:p,message:'"issuer" must be a string'},subject:{isValid:p,message:'"subject" must be a string'},jwtid:{isValid:p,message:'"jwtid" must be a string'},noTimestamp:{isValid:l,message:'"noTimestamp" must be a boolean'},keyid:{isValid:p,message:'"keyid" must be a string'},mutatePayload:{isValid:l,message:'"mutatePayload" must be a boolean'},allowInsecureKeySizes:{isValid:l,message:'"allowInsecureKeySizes" must be a boolean'},allowInvalidAsymmetricKeyTypes:{isValid:l,message:'"allowInvalidAsymmetricKeyTypes" must be a boolean'}},y={iat:{isValid:d,message:'"iat" should be a number of seconds'},exp:{isValid:d,message:'"exp" should be a number of seconds'},nbf:{isValid:d,message:'"nbf" should be a number of seconds'}};function x(e,t,i,n){if(!u(i))throw Error('Expected "'+n+'" to be a plain object.');Object.keys(i).forEach(function(s){let r=e[s];if(!r){if(!t)throw Error('"'+s+'" is not allowed in "'+n+'"');return}if(!r.isValid(i[s]))throw Error(r.message)})}let _={audience:"aud",issuer:"iss",subject:"sub",jwtid:"jti"},w=["expiresIn","notBefore","noTimestamp","audience","issuer","subject","jwtid"];e.exports=function(e,t,i,s){var o,l;"function"==typeof i?(s=i,i={}):i=i||{};let c="object"==typeof e&&!Buffer.isBuffer(e),d=Object.assign({alg:i.algorithm||"HS256",typ:c?"JWT":void 0,kid:i.keyid},i.header);function u(e){if(s)return s(e);throw e}if(!t&&"none"!==i.algorithm)return u(Error("secretOrPrivateKey must have a value"));if(null!=t&&!(t instanceof m))try{t=g(t)}catch(e){try{t=f("string"==typeof t?Buffer.from(t):t)}catch(e){return u(Error("secretOrPrivateKey is not valid key material"))}}if(d.alg.startsWith("HS")&&"secret"!==t.type)return u(Error(`secretOrPrivateKey must be a symmetric key when using ${d.alg}`));if(/^(?:RS|PS|ES)/.test(d.alg)){if("private"!==t.type)return u(Error(`secretOrPrivateKey must be an asymmetric key when using ${d.alg}`));if(!i.allowInsecureKeySizes&&!d.alg.startsWith("ES")&&void 0!==t.asymmetricKeyDetails&&t.asymmetricKeyDetails.modulusLength<2048)return u(Error(`secretOrPrivateKey has a minimum key size of 2048 bits for ${d.alg}`))}if(void 0===e)return u(Error("payload is required"));if(c){try{o=e,x(y,!0,o,"payload")}catch(e){return u(e)}i.mutatePayload||(e=Object.assign({},e))}else{let t=w.filter(function(e){return void 0!==i[e]});if(t.length>0)return u(Error("invalid "+t.join(",")+" option for "+typeof e+" payload"))}if(void 0!==e.exp&&void 0!==i.expiresIn)return u(Error('Bad "options.expiresIn" option the payload already has an "exp" property.'));if(void 0!==e.nbf&&void 0!==i.notBefore)return u(Error('Bad "options.notBefore" option the payload already has an "nbf" property.'));try{l=i,x(b,!1,l,"options")}catch(e){return u(e)}if(!i.allowInvalidAsymmetricKeyTypes)try{r(d.alg,t)}catch(e){return u(e)}let p=e.iat||Math.floor(Date.now()/1e3);if(i.noTimestamp?delete e.iat:c&&(e.iat=p),void 0!==i.notBefore){try{e.nbf=n(i.notBefore,p)}catch(e){return u(e)}if(void 0===e.nbf)return u(Error('"notBefore" should be a number of seconds or string representing a timespan eg: "1d", "20h", 60'))}if(void 0!==i.expiresIn&&"object"==typeof e){try{e.exp=n(i.expiresIn,p)}catch(e){return u(e)}if(void 0===e.exp)return u(Error('"expiresIn" should be a number of seconds or string representing a timespan eg: "1d", "20h", 60'))}Object.keys(_).forEach(function(t){let n=_[t];if(void 0!==i[t]){if(void 0!==e[n])return u(Error('Bad "options.'+t+'" option. The payload already has an "'+n+'" property.'));e[n]=i[t]}});let v=i.encoding||"utf8";if("function"==typeof s)s=s&&h(s),a.createSign({header:d,privateKey:t,payload:e,encoding:v}).once("error",s).once("done",function(e){if(!i.allowInsecureKeySizes&&/^(?:RS|PS)/.test(d.alg)&&e.length<256)return s(Error(`secretOrPrivateKey has a minimum key size of 2048 bits for ${d.alg}`));s(null,e)});else{let n=a.sign({header:d,payload:e,secret:t,encoding:v});if(!i.allowInsecureKeySizes&&/^(?:RS|PS)/.test(d.alg)&&n.length<256)throw Error(`secretOrPrivateKey has a minimum key size of 2048 bits for ${d.alg}`);return n}}},77541:(e,t,i)=>{let n=i(35104),s=i(92698),r=i(75636),a=i(45153),o=i(56611),l=i(54822),c=i(29548),d=i(90274),{KeyObject:u,createSecretKey:p,createPublicKey:h}=i(6113),m=["RS256","RS384","RS512"],f=["ES256","ES384","ES512"],g=["RS256","RS384","RS512"],v=["HS256","HS384","HS512"];c&&(m.splice(m.length,0,"PS256","PS384","PS512"),g.splice(g.length,0,"PS256","PS384","PS512")),e.exports=function(e,t,i,c){let b,y,x;if("function"!=typeof i||c||(c=i,i={}),i||(i={}),i=Object.assign({},i),b=c||function(e,t){if(e)throw e;return t},i.clockTimestamp&&"number"!=typeof i.clockTimestamp)return b(new n("clockTimestamp must be a number"));if(void 0!==i.nonce&&("string"!=typeof i.nonce||""===i.nonce.trim()))return b(new n("nonce must be a non-empty string"));if(void 0!==i.allowInvalidAsymmetricKeyTypes&&"boolean"!=typeof i.allowInvalidAsymmetricKeyTypes)return b(new n("allowInvalidAsymmetricKeyTypes must be a boolean"));let _=i.clockTimestamp||Math.floor(Date.now()/1e3);if(!e)return b(new n("jwt must be provided"));if("string"!=typeof e)return b(new n("jwt must be a string"));let w=e.split(".");if(3!==w.length)return b(new n("jwt malformed"));try{y=a(e,{complete:!0})}catch(e){return b(e)}if(!y)return b(new n("invalid token"));let S=y.header;if("function"==typeof t){if(!c)return b(new n("verify must be called asynchronous if secret or public key is provided as a callback"));x=t}else x=function(e,i){return i(null,t)};return x(S,function(t,a){let c;if(t)return b(new n("error in secret or public key callback: "+t.message));let x=""!==w[2].trim();if(!x&&a)return b(new n("jwt signature is required"));if(x&&!a)return b(new n("secret or public key must be provided"));if(!x&&!i.algorithms)return b(new n('please specify "none" in "algorithms" to verify unsigned tokens'));if(null!=a&&!(a instanceof u))try{a=h(a)}catch(e){try{a=p("string"==typeof a?Buffer.from(a):a)}catch(e){return b(new n("secretOrPublicKey is not valid key material"))}}if(i.algorithms||("secret"===a.type?i.algorithms=v:["rsa","rsa-pss"].includes(a.asymmetricKeyType)?i.algorithms=g:"ec"===a.asymmetricKeyType?i.algorithms=f:i.algorithms=m),-1===i.algorithms.indexOf(y.header.alg))return b(new n("invalid algorithm"));if(S.alg.startsWith("HS")&&"secret"!==a.type)return b(new n(`secretOrPublicKey must be a symmetric key when using ${S.alg}`));if(/^(?:RS|PS|ES)/.test(S.alg)&&"public"!==a.type)return b(new n(`secretOrPublicKey must be an asymmetric key when using ${S.alg}`));if(!i.allowInvalidAsymmetricKeyTypes)try{l(S.alg,a)}catch(e){return b(e)}try{c=d.verify(e,y.header.alg,a)}catch(e){return b(e)}if(!c)return b(new n("invalid signature"));let k=y.payload;if(void 0!==k.nbf&&!i.ignoreNotBefore){if("number"!=typeof k.nbf)return b(new n("invalid nbf value"));if(k.nbf>_+(i.clockTolerance||0))return b(new s("jwt not active",new Date(1e3*k.nbf)))}if(void 0!==k.exp&&!i.ignoreExpiration){if("number"!=typeof k.exp)return b(new n("invalid exp value"));if(_>=k.exp+(i.clockTolerance||0))return b(new r("jwt expired",new Date(1e3*k.exp)))}if(i.audience){let e=Array.isArray(i.audience)?i.audience:[i.audience];if(!(Array.isArray(k.aud)?k.aud:[k.aud]).some(function(t){return e.some(function(e){return e instanceof RegExp?e.test(t):e===t})}))return b(new n("jwt audience invalid. expected: "+e.join(" or ")))}if(i.issuer&&("string"==typeof i.issuer&&k.iss!==i.issuer||Array.isArray(i.issuer)&&-1===i.issuer.indexOf(k.iss)))return b(new n("jwt issuer invalid. expected: "+i.issuer));if(i.subject&&k.sub!==i.subject)return b(new n("jwt subject invalid. expected: "+i.subject));if(i.jwtid&&k.jti!==i.jwtid)return b(new n("jwt jwtid invalid. expected: "+i.jwtid));if(i.nonce&&k.nonce!==i.nonce)return b(new n("jwt nonce invalid. expected: "+i.nonce));if(i.maxAge){if("number"!=typeof k.iat)return b(new n("iat required when maxAge is specified"));let e=o(i.maxAge,k.iat);if(void 0===e)return b(new n('"maxAge" should be a number of seconds or string representing a timespan eg: "1d", "20h", 60'));if(_>=e+(i.clockTolerance||0))return b(new r("maxAge exceeded",new Date(1e3*e)))}return!0===i.complete?b(null,{header:S,payload:k,signature:y.signature}):b(null,k)})}},83589:(e,t,i)=>{var n=i(6073),s=i(16496).Buffer,r=i(6113),a=i(88633),o=i(73837),l="secret must be a string or buffer",c="key must be a string or a buffer",d="function"==typeof r.createPublicKey;function u(e){if(!s.isBuffer(e)&&"string"!=typeof e&&(!d||"object"!=typeof e||"string"!=typeof e.type||"string"!=typeof e.asymmetricKeyType||"function"!=typeof e.export))throw f(c)}function p(e){if(!s.isBuffer(e)&&"string"!=typeof e&&"object"!=typeof e)throw f("key must be a string, a buffer or an object")}function h(e){return e.replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function m(e){var t=4-(e=e.toString()).length%4;if(4!==t)for(var i=0;i<t;++i)e+="=";return e.replace(/\-/g,"+").replace(/_/g,"/")}function f(e){var t=[].slice.call(arguments,1);return TypeError(o.format.bind(o,e).apply(null,t))}function g(e){var t;return t=e,s.isBuffer(t)||"string"==typeof t||(e=JSON.stringify(e)),e}function v(e){return function(t,i){(function(e){if(!s.isBuffer(e)&&"string"!=typeof e&&(!d||"object"!=typeof e||"secret"!==e.type||"function"!=typeof e.export))throw f(l)})(i),t=g(t);var n=r.createHmac("sha"+e,i);return h((n.update(t),n.digest("base64")))}}function b(e){return function(t,i,r){var a=v(e)(t,r);return n(s.from(i),s.from(a))}}function y(e){return function(t,i){p(i),t=g(t);var n=r.createSign("RSA-SHA"+e);return h((n.update(t),n.sign(i,"base64")))}}function x(e){return function(t,i,n){u(n),t=g(t),i=m(i);var s=r.createVerify("RSA-SHA"+e);return s.update(t),s.verify(n,i,"base64")}}function _(e){return function(t,i){p(i),t=g(t);var n=r.createSign("RSA-SHA"+e);return h((n.update(t),n.sign({key:i,padding:r.constants.RSA_PKCS1_PSS_PADDING,saltLength:r.constants.RSA_PSS_SALTLEN_DIGEST},"base64")))}}function w(e){return function(t,i,n){u(n),t=g(t),i=m(i);var s=r.createVerify("RSA-SHA"+e);return s.update(t),s.verify({key:n,padding:r.constants.RSA_PKCS1_PSS_PADDING,saltLength:r.constants.RSA_PSS_SALTLEN_DIGEST},i,"base64")}}function S(e){var t=y(e);return function(){var i=t.apply(null,arguments);return a.derToJose(i,"ES"+e)}}function k(e){var t=x(e);return function(i,n,s){return t(i,n=a.joseToDer(n,"ES"+e).toString("base64"),s)}}function E(){return function(){return""}}function T(){return function(e,t){return""===t}}d&&(c+=" or a KeyObject",l+="or a KeyObject"),e.exports=function(e){var t=e.match(/^(RS|PS|ES|HS)(256|384|512)$|^(none)$/i);if(!t)throw f('"%s" is not a valid algorithm.\n  Supported algorithms are:\n  "HS256", "HS384", "HS512", "RS256", "RS384", "RS512", "PS256", "PS384", "PS512", "ES256", "ES384", "ES512" and "none".',e);var i=(t[1]||t[3]).toLowerCase(),n=t[2];return{sign:({hs:v,rs:y,ps:_,es:S,none:E})[i](n),verify:({hs:b,rs:x,ps:w,es:k,none:T})[i](n)}}},90274:(e,t,i)=>{var n=i(71044),s=i(79078);t.ALGORITHMS=["HS256","HS384","HS512","RS256","RS384","RS512","PS256","PS384","PS512","ES256","ES384","ES512"],t.sign=n.sign,t.verify=s.verify,t.decode=s.decode,t.isValid=s.isValid,t.createSign=function(e){return new n(e)},t.createVerify=function(e){return new s(e)}},33166:(e,t,i)=>{var n=i(16496).Buffer,s=i(12781);function r(e){if(this.buffer=null,this.writable=!0,this.readable=!0,!e)return this.buffer=n.alloc(0),this;if("function"==typeof e.pipe)return this.buffer=n.alloc(0),e.pipe(this),this;if(e.length||"object"==typeof e)return this.buffer=e,this.writable=!1,process.nextTick((function(){this.emit("end",e),this.readable=!1,this.emit("close")}).bind(this)),this;throw TypeError("Unexpected data type ("+typeof e+")")}i(73837).inherits(r,s),r.prototype.write=function(e){this.buffer=n.concat([this.buffer,n.from(e)]),this.emit("data",e)},r.prototype.end=function(e){e&&this.write(e),this.emit("end",e),this.emit("close"),this.writable=!1,this.readable=!1},e.exports=r},71044:(e,t,i)=>{var n=i(16496).Buffer,s=i(33166),r=i(83589),a=i(12781),o=i(61927),l=i(73837);function c(e,t){return n.from(e,t).toString("base64").replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function d(e){var t,i,n,s=e.header,a=e.payload,d=e.secret||e.privateKey,u=e.encoding,p=r(s.alg),h=(t=(t=u)||"utf8",i=c(o(s),"binary"),n=c(o(a),t),l.format("%s.%s",i,n)),m=p.sign(h,d);return l.format("%s.%s",h,m)}function u(e){var t=new s(e.secret||e.privateKey||e.key);this.readable=!0,this.header=e.header,this.encoding=e.encoding,this.secret=this.privateKey=this.key=t,this.payload=new s(e.payload),this.secret.once("close",(function(){!this.payload.writable&&this.readable&&this.sign()}).bind(this)),this.payload.once("close",(function(){!this.secret.writable&&this.readable&&this.sign()}).bind(this))}l.inherits(u,a),u.prototype.sign=function(){try{var e=d({header:this.header,payload:this.payload.buffer,secret:this.secret.buffer,encoding:this.encoding});return this.emit("done",e),this.emit("data",e),this.emit("end"),this.readable=!1,e}catch(e){this.readable=!1,this.emit("error",e),this.emit("close")}},u.sign=d,e.exports=u},61927:(e,t,i)=>{var n=i(14300).Buffer;e.exports=function(e){return"string"==typeof e?e:"number"==typeof e||n.isBuffer(e)?e.toString():JSON.stringify(e)}},79078:(e,t,i)=>{var n=i(16496).Buffer,s=i(33166),r=i(83589),a=i(12781),o=i(61927),l=i(73837),c=/^[a-zA-Z0-9\-_]+?\.[a-zA-Z0-9\-_]+?\.([a-zA-Z0-9\-_]+)?$/;function d(e){var t=e.split(".",1)[0];return function(e){if("[object Object]"===Object.prototype.toString.call(e))return e;try{return JSON.parse(e)}catch(e){return}}(n.from(t,"base64").toString("binary"))}function u(e){return e.split(".")[2]}function p(e){return c.test(e)&&!!d(e)}function h(e,t,i){if(!t){var n=Error("Missing algorithm parameter for jws.verify");throw n.code="MISSING_ALGORITHM",n}var s=u(e=o(e)),a=e.split(".",2).join(".");return r(t).verify(a,s,i)}function m(e,t){if(t=t||{},!p(e=o(e)))return null;var i,s,r=d(e);if(!r)return null;var a=(i=i||"utf8",s=e.split(".")[1],n.from(s,"base64").toString(i));return("JWT"===r.typ||t.json)&&(a=JSON.parse(a,t.encoding)),{header:r,payload:a,signature:u(e)}}function f(e){var t=new s((e=e||{}).secret||e.publicKey||e.key);this.readable=!0,this.algorithm=e.algorithm,this.encoding=e.encoding,this.secret=this.publicKey=this.key=t,this.signature=new s(e.signature),this.secret.once("close",(function(){!this.signature.writable&&this.readable&&this.verify()}).bind(this)),this.signature.once("close",(function(){!this.secret.writable&&this.readable&&this.verify()}).bind(this))}l.inherits(f,a),f.prototype.verify=function(){try{var e=h(this.signature.buffer,this.algorithm,this.key.buffer),t=m(this.signature.buffer,this.encoding);return this.emit("done",e,t),this.emit("data",e),this.emit("end"),this.readable=!1,e}catch(e){this.readable=!1,this.emit("error",e),this.emit("close")}},f.decode=m,f.isValid=p,f.verify=h,e.exports=f},57776:e=>{var t,i,n=1/0,s=0/0,r=/^\s+|\s+$/g,a=/^[-+]0x[0-9a-f]+$/i,o=/^0b[01]+$/i,l=/^0o[0-7]+$/i,c=/^(?:0|[1-9]\d*)$/,d=parseInt;function u(e){return e!=e}var p=Object.prototype,h=p.hasOwnProperty,m=p.toString,f=p.propertyIsEnumerable,g=(t=Object.keys,i=Object,function(e){return t(i(e))}),v=Math.max,b=Array.isArray;function y(e){var t,i;return null!=e&&"number"==typeof(t=e.length)&&t>-1&&t%1==0&&t<=9007199254740991&&!("[object Function]"==(i=x(e)?m.call(e):"")||"[object GeneratorFunction]"==i)}function x(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function _(e){return!!e&&"object"==typeof e}e.exports=function(e,t,i,w){e=y(e)?e:(S=e)?function(e,t){for(var i=-1,n=e?e.length:0,s=Array(n);++i<n;)s[i]=t(e[i],i,e);return s}(y(S)?function(e,t){var i,n=b(e)||_(e)&&y(e)&&h.call(e,"callee")&&(!f.call(e,"callee")||"[object Arguments]"==m.call(e))?function(e,t){for(var i=-1,n=Array(e);++i<e;)n[i]=t(i);return n}(e.length,String):[],s=n.length,r=!!s;for(var a in e)h.call(e,a)&&!(r&&("length"==a||(i=null==(i=s)?9007199254740991:i)&&("number"==typeof a||c.test(a))&&a>-1&&a%1==0&&a<i))&&n.push(a);return n}(S):function(e){if(t=e&&e.constructor,e!==("function"==typeof t&&t.prototype||p))return g(e);var t,i=[];for(var n in Object(e))h.call(e,n)&&"constructor"!=n&&i.push(n);return i}(S),function(e){return S[e]}):[],i=i&&!w?(T=(E=(k=i)?(k=function(e){if("number"==typeof e)return e;if("symbol"==typeof(t=e)||_(t)&&"[object Symbol]"==m.call(t))return s;if(x(e)){var t,i="function"==typeof e.valueOf?e.valueOf():e;e=x(i)?i+"":i}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(r,"");var n=o.test(e);return n||l.test(e)?d(e.slice(2),n?2:8):a.test(e)?s:+e}(k))===n||k===-n?(k<0?-1:1)*17976931348623157e292:k==k?k:0:0===k?k:0)%1,E==E?T?E-T:E:0):0;var S,k,E,T,C,R=e.length;return i<0&&(i=v(R+i,0)),"string"==typeof(C=e)||!b(C)&&_(C)&&"[object String]"==m.call(C)?i<=R&&e.indexOf(t,i)>-1:!!R&&function(e,t,i){if(t!=t)return function(e,t,i,n){for(var s=e.length,r=i+-1;++r<s;)if(t(e[r],r,e))return r;return -1}(e,u,i);for(var n=i-1,s=e.length;++n<s;)if(e[n]===t)return n;return -1}(e,t,i)>-1}},22187:e=>{var t=Object.prototype.toString;e.exports=function(e){return!0===e||!1===e||!!e&&"object"==typeof e&&"[object Boolean]"==t.call(e)}},93819:e=>{var t=1/0,i=0/0,n=/^\s+|\s+$/g,s=/^[-+]0x[0-9a-f]+$/i,r=/^0b[01]+$/i,a=/^0o[0-7]+$/i,o=parseInt,l=Object.prototype.toString;function c(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}e.exports=function(e){var d,u,p;return"number"==typeof e&&e==(p=(u=(d=e)?(d=function(e){if("number"==typeof e)return e;if("symbol"==typeof(t=e)||t&&"object"==typeof t&&"[object Symbol]"==l.call(t))return i;if(c(e)){var t,d="function"==typeof e.valueOf?e.valueOf():e;e=c(d)?d+"":d}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(n,"");var u=r.test(e);return u||a.test(e)?o(e.slice(2),u?2:8):s.test(e)?i:+e}(d))===t||d===-t?(d<0?-1:1)*17976931348623157e292:d==d?d:0:0===d?d:0)%1,u==u?p?u-p:u:0)}},11554:e=>{var t=Object.prototype.toString;e.exports=function(e){return"number"==typeof e||!!e&&"object"==typeof e&&"[object Number]"==t.call(e)}},20254:e=>{var t,i,n=Object.prototype,s=Function.prototype.toString,r=n.hasOwnProperty,a=s.call(Object),o=n.toString,l=(t=Object.getPrototypeOf,i=Object,function(e){return t(i(e))});e.exports=function(e){if(!(e&&"object"==typeof e)||"[object Object]"!=o.call(e)||function(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(e){}return t}(e))return!1;var t=l(e);if(null===t)return!0;var i=r.call(t,"constructor")&&t.constructor;return"function"==typeof i&&i instanceof i&&s.call(i)==a}},71461:e=>{var t=Object.prototype.toString,i=Array.isArray;e.exports=function(e){var n;return"string"==typeof e||!i(e)&&!!(n=e)&&"object"==typeof n&&"[object String]"==t.call(e)}},911:e=>{var t=1/0,i=0/0,n=/^\s+|\s+$/g,s=/^[-+]0x[0-9a-f]+$/i,r=/^0b[01]+$/i,a=/^0o[0-7]+$/i,o=parseInt,l=Object.prototype.toString;function c(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}e.exports=function(e){return function(e,d){var u,p,h,m;if("function"!=typeof d)throw TypeError("Expected a function");return m=(h=(p=e)?(p=function(e){if("number"==typeof e)return e;if("symbol"==typeof(t=e)||t&&"object"==typeof t&&"[object Symbol]"==l.call(t))return i;if(c(e)){var t,d="function"==typeof e.valueOf?e.valueOf():e;e=c(d)?d+"":d}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(n,"");var u=r.test(e);return u||a.test(e)?o(e.slice(2),u?2:8):s.test(e)?i:+e}(p))===t||p===-t?(p<0?-1:1)*17976931348623157e292:p==p?p:0:0===p?p:0)%1,e=h==h?m?h-m:h:0,function(){return--e>0&&(u=d.apply(this,arguments)),e<=1&&(d=void 0),u}}(2,e)}},28297:e=>{"use strict";let t=e=>"object"==typeof e&&null!==e,i=Symbol("skip"),n=e=>t(e)&&!(e instanceof RegExp)&&!(e instanceof Error)&&!(e instanceof Date),s=(e,t,r,a=new WeakMap)=>{if(r={deep:!1,target:{},...r},a.has(e))return a.get(e);a.set(e,r.target);let{target:o}=r;delete r.target;let l=e=>e.map(e=>n(e)?s(e,t,r,a):e);if(Array.isArray(e))return l(e);for(let[c,d]of Object.entries(e)){let u=t(c,d,e);if(u===i)continue;let[p,h,{shouldRecurse:m=!0}={}]=u;"__proto__"!==p&&(r.deep&&m&&n(h)&&(h=Array.isArray(h)?l(h):s(h,t,r,a)),o[p]=h)}return o};e.exports=(e,i,n)=>{if(!t(e))throw TypeError(`Expected an object, got \`${e}\` (${typeof e})`);return s(e,i,n)},e.exports.mapObjectSkip=i},8901:e=>{function t(e,t,i,n){return Math.round(e/i)+" "+n+(t>=1.5*i?"s":"")}e.exports=function(e,i){i=i||{};var n,s,r=typeof e;if("string"===r&&e.length>0)return function(e){if(!((e=String(e)).length>100)){var t=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(t){var i=parseFloat(t[1]);switch((t[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*i;case"weeks":case"week":case"w":return 6048e5*i;case"days":case"day":case"d":return 864e5*i;case"hours":case"hour":case"hrs":case"hr":case"h":return 36e5*i;case"minutes":case"minute":case"mins":case"min":case"m":return 6e4*i;case"seconds":case"second":case"secs":case"sec":case"s":return 1e3*i;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return i;default:return}}}}(e);if("number"===r&&isFinite(e))return i.long?(n=Math.abs(e))>=864e5?t(e,n,864e5,"day"):n>=36e5?t(e,n,36e5,"hour"):n>=6e4?t(e,n,6e4,"minute"):n>=1e3?t(e,n,1e3,"second"):e+" ms":(s=Math.abs(e))>=864e5?Math.round(e/864e5)+"d":s>=36e5?Math.round(e/36e5)+"h":s>=6e4?Math.round(e/6e4)+"m":s>=1e3?Math.round(e/1e3)+"s":e+"ms";throw Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},17710:(e,t,i)=>{"use strict";i.d(t,{default:()=>s.a});var n=i(66794),s=i.n(n)},57371:(e,t,i)=>{"use strict";i.d(t,{default:()=>s.a});var n=i(670),s=i.n(n)},25649:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var i in t)Object.defineProperty(e,i,{enumerable:!0,get:t[i]})}(t,{ReadonlyURLSearchParams:function(){return a},RedirectType:function(){return n.RedirectType},notFound:function(){return s.notFound},permanentRedirect:function(){return n.permanentRedirect},redirect:function(){return n.redirect}});let n=i(12863),s=i(722);class r extends Error{constructor(){super("Method unavailable on `ReadonlyURLSearchParams`. Read more: https://nextjs.org/docs/app/api-reference/functions/use-search-params#updating-searchparams")}}class a extends URLSearchParams{append(){throw new r}delete(){throw new r}set(){throw new r}sort(){throw new r}}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},722:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var i in t)Object.defineProperty(e,i,{enumerable:!0,get:t[i]})}(t,{isNotFoundError:function(){return s},notFound:function(){return n}});let i="NEXT_NOT_FOUND";function n(){let e=Error(i);throw e.digest=i,e}function s(e){return"object"==typeof e&&null!==e&&"digest"in e&&e.digest===i}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},13809:(e,t)=>{"use strict";var i;Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"RedirectStatusCode",{enumerable:!0,get:function(){return i}}),function(e){e[e.SeeOther=303]="SeeOther",e[e.TemporaryRedirect=307]="TemporaryRedirect",e[e.PermanentRedirect=308]="PermanentRedirect"}(i||(i={})),("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},12863:(e,t,i)=>{"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var i in t)Object.defineProperty(e,i,{enumerable:!0,get:t[i]})}(t,{RedirectType:function(){return n},getRedirectError:function(){return l},getRedirectStatusCodeFromError:function(){return m},getRedirectTypeFromError:function(){return h},getURLFromRedirectError:function(){return p},isRedirectError:function(){return u},permanentRedirect:function(){return d},redirect:function(){return c}});let s=i(54580),r=i(72934),a=i(13809),o="NEXT_REDIRECT";function l(e,t,i){void 0===i&&(i=a.RedirectStatusCode.TemporaryRedirect);let n=Error(o);n.digest=o+";"+t+";"+e+";"+i+";";let r=s.requestAsyncStorage.getStore();return r&&(n.mutableCookies=r.mutableCookies),n}function c(e,t){void 0===t&&(t="replace");let i=r.actionAsyncStorage.getStore();throw l(e,t,(null==i?void 0:i.isAction)?a.RedirectStatusCode.SeeOther:a.RedirectStatusCode.TemporaryRedirect)}function d(e,t){void 0===t&&(t="replace");let i=r.actionAsyncStorage.getStore();throw l(e,t,(null==i?void 0:i.isAction)?a.RedirectStatusCode.SeeOther:a.RedirectStatusCode.PermanentRedirect)}function u(e){if("object"!=typeof e||null===e||!("digest"in e)||"string"!=typeof e.digest)return!1;let[t,i,n,s]=e.digest.split(";",4),r=Number(s);return t===o&&("replace"===i||"push"===i)&&"string"==typeof n&&!isNaN(r)&&r in a.RedirectStatusCode}function p(e){return u(e)?e.digest.split(";",3)[2]:null}function h(e){if(!u(e))throw Error("Not a redirect error");return e.digest.split(";",2)[1]}function m(e){if(!u(e))throw Error("Not a redirect error");return Number(e.digest.split(";",4)[3])}(function(e){e.push="push",e.replace="replace"})(n||(n={})),("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},10221:(e,t,i)=>{"use strict";let{createProxy:n}=i(68570);e.exports=n("/Users/srinivasanp/meetup/node_modules/next/dist/client/image-component.js")},670:(e,t,i)=>{"use strict";let{createProxy:n}=i(68570);e.exports=n("/Users/srinivasanp/meetup/node_modules/next/dist/client/link.js")},23592:(e,t,i)=>{var n;(()=>{var s={226:function(s,r){!function(a,o){"use strict";var l="function",c="undefined",d="object",u="string",p="major",h="model",m="name",f="type",g="vendor",v="version",b="architecture",y="console",x="mobile",_="tablet",w="smarttv",S="wearable",k="embedded",E="Amazon",T="Apple",C="ASUS",R="BlackBerry",O="Browser",P="Chrome",j="Firefox",I="Google",N="Huawei",D="Microsoft",A="Motorola",L="Opera",M="Samsung",U="Sharp",F="Sony",B="Xiaomi",$="Zebra",q="Facebook",V="Chromium OS",W="Mac OS",z=function(e,t){var i={};for(var n in e)t[n]&&t[n].length%2==0?i[n]=t[n].concat(e[n]):i[n]=e[n];return i},H=function(e){for(var t={},i=0;i<e.length;i++)t[e[i].toUpperCase()]=e[i];return t},K=function(e,t){return typeof e===u&&-1!==G(t).indexOf(G(e))},G=function(e){return e.toLowerCase()},J=function(e,t){if(typeof e===u)return e=e.replace(/^\s\s*/,""),typeof t===c?e:e.substring(0,350)},Y=function(e,t){for(var i,n,s,r,a,c,u=0;u<t.length&&!a;){var p=t[u],h=t[u+1];for(i=n=0;i<p.length&&!a&&p[i];)if(a=p[i++].exec(e))for(s=0;s<h.length;s++)c=a[++n],typeof(r=h[s])===d&&r.length>0?2===r.length?typeof r[1]==l?this[r[0]]=r[1].call(this,c):this[r[0]]=r[1]:3===r.length?typeof r[1]!==l||r[1].exec&&r[1].test?this[r[0]]=c?c.replace(r[1],r[2]):void 0:this[r[0]]=c?r[1].call(this,c,r[2]):void 0:4===r.length&&(this[r[0]]=c?r[3].call(this,c.replace(r[1],r[2])):void 0):this[r]=c||o;u+=2}},Q=function(e,t){for(var i in t)if(typeof t[i]===d&&t[i].length>0){for(var n=0;n<t[i].length;n++)if(K(t[i][n],e))return"?"===i?o:i}else if(K(t[i],e))return"?"===i?o:i;return e},X={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},Z={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[v,[m,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[v,[m,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[m,v],[/opios[\/ ]+([\w\.]+)/i],[v,[m,L+" Mini"]],[/\bopr\/([\w\.]+)/i],[v,[m,L]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/ ]?([\w\.]*)/i,/(avant |iemobile|slim)(?:browser)?[\/ ]?([\w\.]*)/i,/(ba?idubrowser)[\/ ]?([\w\.]+)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|qq|duckduckgo)\/([-\w\.]+)/i,/(heytap|ovi)browser\/([\d\.]+)/i,/(weibo)__([\d\.]+)/i],[m,v],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[v,[m,"UC"+O]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i],[v,[m,"WeChat(Win) Desktop"]],[/micromessenger\/([\w\.]+)/i],[v,[m,"WeChat"]],[/konqueror\/([\w\.]+)/i],[v,[m,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[v,[m,"IE"]],[/ya(?:search)?browser\/([\w\.]+)/i],[v,[m,"Yandex"]],[/(avast|avg)\/([\w\.]+)/i],[[m,/(.+)/,"$1 Secure "+O],v],[/\bfocus\/([\w\.]+)/i],[v,[m,j+" Focus"]],[/\bopt\/([\w\.]+)/i],[v,[m,L+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[v,[m,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[v,[m,"Dolphin"]],[/coast\/([\w\.]+)/i],[v,[m,L+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[v,[m,"MIUI "+O]],[/fxios\/([-\w\.]+)/i],[v,[m,j]],[/\bqihu|(qi?ho?o?|360)browser/i],[[m,"360 "+O]],[/(oculus|samsung|sailfish|huawei)browser\/([\w\.]+)/i],[[m,/(.+)/,"$1 "+O],v],[/(comodo_dragon)\/([\w\.]+)/i],[[m,/_/g," "],v],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|baiduboxapp|2345Explorer)[\/ ]?([\w\.]+)/i],[m,v],[/(metasr)[\/ ]?([\w\.]+)/i,/(lbbrowser)/i,/\[(linkedin)app\]/i],[m],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[m,q],v],[/(kakao(?:talk|story))[\/ ]([\w\.]+)/i,/(naver)\(.*?(\d+\.[\w\.]+).*\)/i,/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(chromium|instagram)[\/ ]([-\w\.]+)/i],[m,v],[/\bgsa\/([\w\.]+) .*safari\//i],[v,[m,"GSA"]],[/musical_ly(?:.+app_?version\/|_)([\w\.]+)/i],[v,[m,"TikTok"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[v,[m,P+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[m,P+" WebView"],v],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[v,[m,"Android "+O]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[m,v],[/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i],[v,[m,"Mobile Safari"]],[/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i],[v,m],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[m,[v,Q,{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}]],[/(webkit|khtml)\/([\w\.]+)/i],[m,v],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[m,"Netscape"],v],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[v,[m,j+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror|klar)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i,/panasonic;(viera)/i],[m,v],[/(cobalt)\/([\w\.]+)/i],[m,[v,/master.|lts./,""]]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[b,"amd64"]],[/(ia32(?=;))/i],[[b,G]],[/((?:i[346]|x)86)[;\)]/i],[[b,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[b,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[b,"armhf"]],[/windows (ce|mobile); ppc;/i],[[b,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[b,/ower/,"",G]],[/(sun4\w)[;\)]/i],[[b,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[b,G]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[h,[g,M],[f,_]],[/\b((?:s[cgp]h|gt|sm)-\w+|sc[g-]?[\d]+a?|galaxy nexus)/i,/samsung[- ]([-\w]+)/i,/sec-(sgh\w+)/i],[h,[g,M],[f,x]],[/(?:\/|\()(ip(?:hone|od)[\w, ]*)(?:\/|;)/i],[h,[g,T],[f,x]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[h,[g,T],[f,_]],[/(macintosh);/i],[h,[g,T]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[h,[g,U],[f,x]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[h,[g,N],[f,_]],[/(?:huawei|honor)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[h,[g,N],[f,x]],[/\b(poco[\w ]+)(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite)?)(?: bui|\))/i],[[h,/_/g," "],[g,B],[f,x]],[/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[h,/_/g," "],[g,B],[f,_]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[h,[g,"OPPO"],[f,x]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[h,[g,"Vivo"],[f,x]],[/\b(rmx[12]\d{3})(?: bui|;|\))/i],[h,[g,"Realme"],[f,x]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[h,[g,A],[f,x]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[h,[g,A],[f,_]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[h,[g,"LG"],[f,_]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[h,[g,"LG"],[f,x]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[h,[g,"Lenovo"],[f,_]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[h,/_/g," "],[g,"Nokia"],[f,x]],[/(pixel c)\b/i],[h,[g,I],[f,_]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[h,[g,I],[f,x]],[/droid.+ (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[h,[g,F],[f,x]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[h,"Xperia Tablet"],[g,F],[f,_]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[h,[g,"OnePlus"],[f,x]],[/(alexa)webm/i,/(kf[a-z]{2}wi|aeo[c-r]{2})( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[h,[g,E],[f,_]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[h,/(.+)/g,"Fire Phone $1"],[g,E],[f,x]],[/(playbook);[-\w\),; ]+(rim)/i],[h,g,[f,_]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[h,[g,R],[f,x]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[h,[g,C],[f,_]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[h,[g,C],[f,x]],[/(nexus 9)/i],[h,[g,"HTC"],[f,_]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic(?!(?:;|\.))|sony(?!-bra))[-_ ]?([-\w]*)/i],[g,[h,/_/g," "],[f,x]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[h,[g,"Acer"],[f,_]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[h,[g,"Meizu"],[f,x]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[-_ ]?([-\w]*)/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[g,h,[f,x]],[/(kobo)\s(ereader|touch)/i,/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[g,h,[f,_]],[/(surface duo)/i],[h,[g,D],[f,_]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[h,[g,"Fairphone"],[f,x]],[/(u304aa)/i],[h,[g,"AT&T"],[f,x]],[/\bsie-(\w*)/i],[h,[g,"Siemens"],[f,x]],[/\b(rct\w+) b/i],[h,[g,"RCA"],[f,_]],[/\b(venue[\d ]{2,7}) b/i],[h,[g,"Dell"],[f,_]],[/\b(q(?:mv|ta)\w+) b/i],[h,[g,"Verizon"],[f,_]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[h,[g,"Barnes & Noble"],[f,_]],[/\b(tm\d{3}\w+) b/i],[h,[g,"NuVision"],[f,_]],[/\b(k88) b/i],[h,[g,"ZTE"],[f,_]],[/\b(nx\d{3}j) b/i],[h,[g,"ZTE"],[f,x]],[/\b(gen\d{3}) b.+49h/i],[h,[g,"Swiss"],[f,x]],[/\b(zur\d{3}) b/i],[h,[g,"Swiss"],[f,_]],[/\b((zeki)?tb.*\b) b/i],[h,[g,"Zeki"],[f,_]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[g,"Dragon Touch"],h,[f,_]],[/\b(ns-?\w{0,9}) b/i],[h,[g,"Insignia"],[f,_]],[/\b((nxa|next)-?\w{0,9}) b/i],[h,[g,"NextBook"],[f,_]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[g,"Voice"],h,[f,x]],[/\b(lvtel\-)?(v1[12]) b/i],[[g,"LvTel"],h,[f,x]],[/\b(ph-1) /i],[h,[g,"Essential"],[f,x]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[h,[g,"Envizen"],[f,_]],[/\b(trio[-\w\. ]+) b/i],[h,[g,"MachSpeed"],[f,_]],[/\btu_(1491) b/i],[h,[g,"Rotor"],[f,_]],[/(shield[\w ]+) b/i],[h,[g,"Nvidia"],[f,_]],[/(sprint) (\w+)/i],[g,h,[f,x]],[/(kin\.[onetw]{3})/i],[[h,/\./g," "],[g,D],[f,x]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[h,[g,$],[f,_]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[h,[g,$],[f,x]],[/smart-tv.+(samsung)/i],[g,[f,w]],[/hbbtv.+maple;(\d+)/i],[[h,/^/,"SmartTV"],[g,M],[f,w]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[g,"LG"],[f,w]],[/(apple) ?tv/i],[g,[h,T+" TV"],[f,w]],[/crkey/i],[[h,P+"cast"],[g,I],[f,w]],[/droid.+aft(\w)( bui|\))/i],[h,[g,E],[f,w]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[h,[g,U],[f,w]],[/(bravia[\w ]+)( bui|\))/i],[h,[g,F],[f,w]],[/(mitv-\w{5}) bui/i],[h,[g,B],[f,w]],[/Hbbtv.*(technisat) (.*);/i],[g,h,[f,w]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w\+ ]*; *([\w\d][^;]*);([^;]*)/i],[[g,J],[h,J],[f,w]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[f,w]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[g,h,[f,y]],[/droid.+; (shield) bui/i],[h,[g,"Nvidia"],[f,y]],[/(playstation [345portablevi]+)/i],[h,[g,F],[f,y]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[h,[g,D],[f,y]],[/((pebble))app/i],[g,h,[f,S]],[/(watch)(?: ?os[,\/]|\d,\d\/)[\d\.]+/i],[h,[g,T],[f,S]],[/droid.+; (glass) \d/i],[h,[g,I],[f,S]],[/droid.+; (wt63?0{2,3})\)/i],[h,[g,$],[f,S]],[/(quest( 2| pro)?)/i],[h,[g,q],[f,S]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[g,[f,k]],[/(aeobc)\b/i],[h,[g,E],[f,k]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+? mobile safari/i],[h,[f,x]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[h,[f,_]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[f,_]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[f,x]],[/(android[-\w\. ]{0,9});.+buil/i],[h,[g,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[v,[m,"EdgeHTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[v,[m,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i,/\b(libweb)/i],[m,v],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[v,m]],os:[[/microsoft (windows) (vista|xp)/i],[m,v],[/(windows) nt 6\.2; (arm)/i,/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i,/(windows)[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i],[m,[v,Q,X]],[/(win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[m,"Windows"],[v,Q,X]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/ios;fbsv\/([\d\.]+)/i,/cfnetwork\/.+darwin/i],[[v,/_/g,"."],[m,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[m,W],[v,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[v,m],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[m,v],[/\(bb(10);/i],[v,[m,R]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[v,[m,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[v,[m,j+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[v,[m,"webOS"]],[/watch(?: ?os[,\/]|\d,\d\/)([\d\.]+)/i],[v,[m,"watchOS"]],[/crkey\/([\d\.]+)/i],[v,[m,P+"cast"]],[/(cros) [\w]+(?:\)| ([\w\.]+)\b)/i],[[m,V],v],[/panasonic;(viera)/i,/(netrange)mmh/i,/(nettv)\/(\d+\.[\w\.]+)/i,/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[m,v],[/(sunos) ?([\w\.\d]*)/i],[[m,"Solaris"],v],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux|serenityos)/i,/(unix) ?([\w\.]*)/i],[m,v]]},ee=function(e,t){if(typeof e===d&&(t=e,e=o),!(this instanceof ee))return new ee(e,t).getResult();var i=typeof a!==c&&a.navigator?a.navigator:o,n=e||(i&&i.userAgent?i.userAgent:""),s=i&&i.userAgentData?i.userAgentData:o,r=t?z(Z,t):Z,y=i&&i.userAgent==n;return this.getBrowser=function(){var e,t={};return t[m]=o,t[v]=o,Y.call(t,n,r.browser),t[p]=typeof(e=t[v])===u?e.replace(/[^\d\.]/g,"").split(".")[0]:o,y&&i&&i.brave&&typeof i.brave.isBrave==l&&(t[m]="Brave"),t},this.getCPU=function(){var e={};return e[b]=o,Y.call(e,n,r.cpu),e},this.getDevice=function(){var e={};return e[g]=o,e[h]=o,e[f]=o,Y.call(e,n,r.device),y&&!e[f]&&s&&s.mobile&&(e[f]=x),y&&"Macintosh"==e[h]&&i&&typeof i.standalone!==c&&i.maxTouchPoints&&i.maxTouchPoints>2&&(e[h]="iPad",e[f]=_),e},this.getEngine=function(){var e={};return e[m]=o,e[v]=o,Y.call(e,n,r.engine),e},this.getOS=function(){var e={};return e[m]=o,e[v]=o,Y.call(e,n,r.os),y&&!e[m]&&s&&"Unknown"!=s.platform&&(e[m]=s.platform.replace(/chrome os/i,V).replace(/macos/i,W)),e},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return n},this.setUA=function(e){return n=typeof e===u&&e.length>350?J(e,350):e,this},this.setUA(n),this};ee.VERSION="1.0.35",ee.BROWSER=H([m,v,p]),ee.CPU=H([b]),ee.DEVICE=H([h,g,f,y,x,w,_,S,k]),ee.ENGINE=ee.OS=H([m,v]),typeof r!==c?(s.exports&&(r=s.exports=ee),r.UAParser=ee):i.amdO?void 0!==(n=(function(){return ee}).call(t,i,t,e))&&(e.exports=n):typeof a!==c&&(a.UAParser=ee);var et=typeof a!==c&&(a.jQuery||a.Zepto);if(et&&!et.ua){var ei=new ee;et.ua=ei.getResult(),et.ua.get=function(){return ei.getUA()},et.ua.set=function(e){ei.setUA(e);var t=ei.getResult();for(var i in t)et.ua[i]=t[i]}}}("object"==typeof window?window:this)}},r={};function a(e){var t=r[e];if(void 0!==t)return t.exports;var i=r[e]={exports:{}},n=!0;try{s[e].call(i.exports,i,i.exports,a),n=!1}finally{n&&delete r[e]}return i.exports}a.ab=__dirname+"/";var o=a(226);e.exports=o})()},2228:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var i in t)Object.defineProperty(e,i,{enumerable:!0,get:t[i]})}(t,{PageSignatureError:function(){return i},RemovedPageError:function(){return n},RemovedUAError:function(){return s}});class i extends Error{constructor({page:e}){super(`The middleware "${e}" accepts an async API directly with the form:
  
  export function middleware(request, event) {
    return NextResponse.redirect('/new-location')
  }
  
  Read more: https://nextjs.org/docs/messages/middleware-new-signature
  `)}}class n extends Error{constructor(){super(`The request.page has been deprecated in favour of \`URLPattern\`.
  Read more: https://nextjs.org/docs/messages/middleware-request-page
  `)}}class s extends Error{constructor(){super(`The request.ua has been removed in favour of \`userAgent\` function.
  Read more: https://nextjs.org/docs/messages/middleware-parse-user-agent
  `)}}},54254:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var i in t)Object.defineProperty(e,i,{enumerable:!0,get:t[i]})}(t,{ImageResponse:function(){return n.ImageResponse},NextRequest:function(){return s.NextRequest},NextResponse:function(){return r.NextResponse},URLPattern:function(){return o.URLPattern},userAgent:function(){return a.userAgent},userAgentFromString:function(){return a.userAgentFromString}});let n=i(73167),s=i(98430),r=i(96679),a=i(8589),o=i(64179)},35750:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"NextURL",{enumerable:!0,get:function(){return d}});let n=i(82698),s=i(89272),r=i(45583),a=i(35424),o=/(?!^https?:\/\/)(127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}|\[::1\]|localhost)/;function l(e,t){return new URL(String(e).replace(o,"localhost"),t&&String(t).replace(o,"localhost"))}let c=Symbol("NextURLInternal");class d{constructor(e,t,i){let n,s;"object"==typeof t&&"pathname"in t||"string"==typeof t?(n=t,s=i||{}):s=i||t||{},this[c]={url:l(e,n??s.base),options:s,basePath:""},this.analyze()}analyze(){var e,t,i,s,o;let l=(0,a.getNextPathnameInfo)(this[c].url.pathname,{nextConfig:this[c].options.nextConfig,parseData:!0,i18nProvider:this[c].options.i18nProvider}),d=(0,r.getHostname)(this[c].url,this[c].options.headers);this[c].domainLocale=this[c].options.i18nProvider?this[c].options.i18nProvider.detectDomainLocale(d):(0,n.detectDomainLocale)(null==(t=this[c].options.nextConfig)?void 0:null==(e=t.i18n)?void 0:e.domains,d);let u=(null==(i=this[c].domainLocale)?void 0:i.defaultLocale)||(null==(o=this[c].options.nextConfig)?void 0:null==(s=o.i18n)?void 0:s.defaultLocale);this[c].url.pathname=l.pathname,this[c].defaultLocale=u,this[c].basePath=l.basePath??"",this[c].buildId=l.buildId,this[c].locale=l.locale??u,this[c].trailingSlash=l.trailingSlash}formatPathname(){return(0,s.formatNextPathnameInfo)({basePath:this[c].basePath,buildId:this[c].buildId,defaultLocale:this[c].options.forceLocale?void 0:this[c].defaultLocale,locale:this[c].locale,pathname:this[c].url.pathname,trailingSlash:this[c].trailingSlash})}formatSearch(){return this[c].url.search}get buildId(){return this[c].buildId}set buildId(e){this[c].buildId=e}get locale(){return this[c].locale??""}set locale(e){var t,i;if(!this[c].locale||!(null==(i=this[c].options.nextConfig)?void 0:null==(t=i.i18n)?void 0:t.locales.includes(e)))throw TypeError(`The NextURL configuration includes no locale "${e}"`);this[c].locale=e}get defaultLocale(){return this[c].defaultLocale}get domainLocale(){return this[c].domainLocale}get searchParams(){return this[c].url.searchParams}get host(){return this[c].url.host}set host(e){this[c].url.host=e}get hostname(){return this[c].url.hostname}set hostname(e){this[c].url.hostname=e}get port(){return this[c].url.port}set port(e){this[c].url.port=e}get protocol(){return this[c].url.protocol}set protocol(e){this[c].url.protocol=e}get href(){let e=this.formatPathname(),t=this.formatSearch();return`${this.protocol}//${this.host}${e}${t}${this.hash}`}set href(e){this[c].url=l(e),this.analyze()}get origin(){return this[c].url.origin}get pathname(){return this[c].url.pathname}set pathname(e){this[c].url.pathname=e}get hash(){return this[c].url.hash}set hash(e){this[c].url.hash=e}get search(){return this[c].url.search}set search(e){this[c].url.search=e}get password(){return this[c].url.password}set password(e){this[c].url.password=e}get username(){return this[c].url.username}set username(e){this[c].url.username=e}get basePath(){return this[c].basePath}set basePath(e){this[c].basePath=e.startsWith("/")?e:`/${e}`}toString(){return this.href}toJSON(){return this.href}[Symbol.for("edge-runtime.inspect.custom")](){return{href:this.href,origin:this.origin,protocol:this.protocol,username:this.username,password:this.password,host:this.host,hostname:this.hostname,port:this.port,pathname:this.pathname,search:this.search,searchParams:this.searchParams,hash:this.hash}}clone(){return new d(String(this),this[c].options)}}},73167:(e,t)=>{"use strict";function i(){throw Error('ImageResponse moved from "next/server" to "next/og" since Next.js 14, please import from "next/og" instead')}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"ImageResponse",{enumerable:!0,get:function(){return i}})},98430:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var i in t)Object.defineProperty(e,i,{enumerable:!0,get:t[i]})}(t,{INTERNALS:function(){return o},NextRequest:function(){return l}});let n=i(35750),s=i(99652),r=i(2228),a=i(4465),o=Symbol("internal request");class l extends Request{constructor(e,t={}){let i="string"!=typeof e&&"url"in e?e.url:String(e);(0,s.validateURL)(i),e instanceof Request?super(e,t):super(i,t);let r=new n.NextURL(i,{headers:(0,s.toNodeOutgoingHttpHeaders)(this.headers),nextConfig:t.nextConfig});this[o]={cookies:new a.RequestCookies(this.headers),geo:t.geo||{},ip:t.ip,nextUrl:r,url:r.toString()}}[Symbol.for("edge-runtime.inspect.custom")](){return{cookies:this.cookies,geo:this.geo,ip:this.ip,nextUrl:this.nextUrl,url:this.url,bodyUsed:this.bodyUsed,cache:this.cache,credentials:this.credentials,destination:this.destination,headers:Object.fromEntries(this.headers),integrity:this.integrity,keepalive:this.keepalive,method:this.method,mode:this.mode,redirect:this.redirect,referrer:this.referrer,referrerPolicy:this.referrerPolicy,signal:this.signal}}get cookies(){return this[o].cookies}get geo(){return this[o].geo}get ip(){return this[o].ip}get nextUrl(){return this[o].nextUrl}get page(){throw new r.RemovedPageError}get ua(){throw new r.RemovedUAError}get url(){return this[o].url}}},96679:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"NextResponse",{enumerable:!0,get:function(){return u}});let n=i(4465),s=i(35750),r=i(99652),a=i(87901),o=i(4465),l=Symbol("internal response"),c=new Set([301,302,303,307,308]);function d(e,t){var i;if(null==e?void 0:null==(i=e.request)?void 0:i.headers){if(!(e.request.headers instanceof Headers))throw Error("request.headers must be an instance of Headers");let i=[];for(let[n,s]of e.request.headers)t.set("x-middleware-request-"+n,s),i.push(n);t.set("x-middleware-override-headers",i.join(","))}}class u extends Response{constructor(e,t={}){super(e,t);let i=this.headers,c=new Proxy(new o.ResponseCookies(i),{get(e,s,r){switch(s){case"delete":case"set":return(...r)=>{let a=Reflect.apply(e[s],e,r),l=new Headers(i);return a instanceof o.ResponseCookies&&i.set("x-middleware-set-cookie",a.getAll().map(e=>(0,n.stringifyCookie)(e)).join(",")),d(t,l),a};default:return a.ReflectAdapter.get(e,s,r)}}});this[l]={cookies:c,url:t.url?new s.NextURL(t.url,{headers:(0,r.toNodeOutgoingHttpHeaders)(i),nextConfig:t.nextConfig}):void 0}}[Symbol.for("edge-runtime.inspect.custom")](){return{cookies:this.cookies,url:this.url,body:this.body,bodyUsed:this.bodyUsed,headers:Object.fromEntries(this.headers),ok:this.ok,redirected:this.redirected,status:this.status,statusText:this.statusText,type:this.type}}get cookies(){return this[l].cookies}static json(e,t){let i=Response.json(e,t);return new u(i.body,i)}static redirect(e,t){let i="number"==typeof t?t:(null==t?void 0:t.status)??307;if(!c.has(i))throw RangeError('Failed to execute "redirect" on "response": Invalid status code');let n="object"==typeof t?t:{},s=new Headers(null==n?void 0:n.headers);return s.set("Location",(0,r.validateURL)(e)),new u(null,{...n,headers:s,status:i})}static rewrite(e,t){let i=new Headers(null==t?void 0:t.headers);return i.set("x-middleware-rewrite",(0,r.validateURL)(e)),d(t,i),new u(null,{...t,headers:i})}static next(e){let t=new Headers(null==e?void 0:e.headers);return t.set("x-middleware-next","1"),d(e,t),new u(null,{...e,headers:t})}}},64179:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"URLPattern",{enumerable:!0,get:function(){return i}});let i="undefined"==typeof URLPattern?void 0:URLPattern},8589:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var i in t)Object.defineProperty(e,i,{enumerable:!0,get:t[i]})}(t,{isBot:function(){return s},userAgent:function(){return a},userAgentFromString:function(){return r}});let n=function(e){return e&&e.__esModule?e:{default:e}}(i(23592));function s(e){return/Googlebot|Mediapartners-Google|AdsBot-Google|googleweblight|Storebot-Google|Google-PageRenderer|Google-InspectionTool|Bingbot|BingPreview|Slurp|DuckDuckBot|baiduspider|yandex|sogou|LinkedInBot|bitlybot|tumblr|vkShare|quora link preview|facebookexternalhit|facebookcatalog|Twitterbot|applebot|redditbot|Slackbot|Discordbot|WhatsApp|SkypeUriPreview|ia_archiver/i.test(e)}function r(e){return{...(0,n.default)(e),isBot:void 0!==e&&s(e)}}function a({headers:e}){return r(e.get("user-agent")||void 0)}},99652:(e,t)=>{"use strict";function i(e){let t=new Headers;for(let[i,n]of Object.entries(e))for(let e of Array.isArray(n)?n:[n])void 0!==e&&("number"==typeof e&&(e=e.toString()),t.append(i,e));return t}function n(e){var t,i,n,s,r,a=[],o=0;function l(){for(;o<e.length&&/\s/.test(e.charAt(o));)o+=1;return o<e.length}for(;o<e.length;){for(t=o,r=!1;l();)if(","===(i=e.charAt(o))){for(n=o,o+=1,l(),s=o;o<e.length&&"="!==(i=e.charAt(o))&&";"!==i&&","!==i;)o+=1;o<e.length&&"="===e.charAt(o)?(r=!0,o=s,a.push(e.substring(t,n)),t=o):o=n+1}else o+=1;(!r||o>=e.length)&&a.push(e.substring(t,e.length))}return a}function s(e){let t={},i=[];if(e)for(let[s,r]of e.entries())"set-cookie"===s.toLowerCase()?(i.push(...n(r)),t[s]=1===i.length?i[0]:i):t[s]=r;return t}function r(e){try{return String(new URL(String(e)))}catch(t){throw Error(`URL is malformed "${String(e)}". Please use only absolute URLs - https://nextjs.org/docs/messages/middleware-relative-urls`,{cause:t})}}Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var i in t)Object.defineProperty(e,i,{enumerable:!0,get:t[i]})}(t,{fromNodeOutgoingHttpHeaders:function(){return i},splitCookiesString:function(){return n},toNodeOutgoingHttpHeaders:function(){return s},validateURL:function(){return r}})},45583:(e,t)=>{"use strict";function i(e,t){let i;if((null==t?void 0:t.host)&&!Array.isArray(t.host))i=t.host.toString().split(":",1)[0];else{if(!e.hostname)return;i=e.hostname}return i.toLowerCase()}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"getHostname",{enumerable:!0,get:function(){return i}})},79241:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"getImgProps",{enumerable:!0,get:function(){return o}}),i(96501);let n=i(95728),s=i(29472);function r(e){return void 0!==e.default}function a(e){return void 0===e?e:"number"==typeof e?Number.isFinite(e)?e:NaN:"string"==typeof e&&/^[0-9]+$/.test(e)?parseInt(e,10):NaN}function o(e,t){var i;let o,l,c,{src:d,sizes:u,unoptimized:p=!1,priority:h=!1,loading:m,className:f,quality:g,width:v,height:b,fill:y=!1,style:x,overrideSrc:_,onLoad:w,onLoadingComplete:S,placeholder:k="empty",blurDataURL:E,fetchPriority:T,layout:C,objectFit:R,objectPosition:O,lazyBoundary:P,lazyRoot:j,...I}=e,{imgConf:N,showAltText:D,blurComplete:A,defaultLoader:L}=t,M=N||s.imageConfigDefault;if("allSizes"in M)o=M;else{let e=[...M.deviceSizes,...M.imageSizes].sort((e,t)=>e-t),t=M.deviceSizes.sort((e,t)=>e-t);o={...M,allSizes:e,deviceSizes:t}}if(void 0===L)throw Error("images.loaderFile detected but the file is missing default export.\nRead more: https://nextjs.org/docs/messages/invalid-images-config");let U=I.loader||L;delete I.loader,delete I.srcSet;let F="__next_img_default"in U;if(F){if("custom"===o.loader)throw Error('Image with src "'+d+'" is missing "loader" prop.\nRead more: https://nextjs.org/docs/messages/next-image-missing-loader')}else{let e=U;U=t=>{let{config:i,...n}=t;return e(n)}}if(C){"fill"===C&&(y=!0);let e={intrinsic:{maxWidth:"100%",height:"auto"},responsive:{width:"100%",height:"auto"}}[C];e&&(x={...x,...e});let t={responsive:"100vw",fill:"100vw"}[C];t&&!u&&(u=t)}let B="",$=a(v),q=a(b);if("object"==typeof(i=d)&&(r(i)||void 0!==i.src)){let e=r(d)?d.default:d;if(!e.src)throw Error("An object should only be passed to the image component src parameter if it comes from a static image import. It must include src. Received "+JSON.stringify(e));if(!e.height||!e.width)throw Error("An object should only be passed to the image component src parameter if it comes from a static image import. It must include height and width. Received "+JSON.stringify(e));if(l=e.blurWidth,c=e.blurHeight,E=E||e.blurDataURL,B=e.src,!y){if($||q){if($&&!q){let t=$/e.width;q=Math.round(e.height*t)}else if(!$&&q){let t=q/e.height;$=Math.round(e.width*t)}}else $=e.width,q=e.height}}let V=!h&&("lazy"===m||void 0===m);(!(d="string"==typeof d?d:B)||d.startsWith("data:")||d.startsWith("blob:"))&&(p=!0,V=!1),o.unoptimized&&(p=!0),F&&d.endsWith(".svg")&&!o.dangerouslyAllowSVG&&(p=!0),h&&(T="high");let W=a(g),z=Object.assign(y?{position:"absolute",height:"100%",width:"100%",left:0,top:0,right:0,bottom:0,objectFit:R,objectPosition:O}:{},D?{}:{color:"transparent"},x),H=A||"empty"===k?null:"blur"===k?'url("data:image/svg+xml;charset=utf-8,'+(0,n.getImageBlurSvg)({widthInt:$,heightInt:q,blurWidth:l,blurHeight:c,blurDataURL:E||"",objectFit:z.objectFit})+'")':'url("'+k+'")',K=H?{backgroundSize:z.objectFit||"cover",backgroundPosition:z.objectPosition||"50% 50%",backgroundRepeat:"no-repeat",backgroundImage:H}:{},G=function(e){let{config:t,src:i,unoptimized:n,width:s,quality:r,sizes:a,loader:o}=e;if(n)return{src:i,srcSet:void 0,sizes:void 0};let{widths:l,kind:c}=function(e,t,i){let{deviceSizes:n,allSizes:s}=e;if(i){let e=/(^|\s)(1?\d?\d)vw/g,t=[];for(let n;n=e.exec(i);n)t.push(parseInt(n[2]));if(t.length){let e=.01*Math.min(...t);return{widths:s.filter(t=>t>=n[0]*e),kind:"w"}}return{widths:s,kind:"w"}}return"number"!=typeof t?{widths:n,kind:"w"}:{widths:[...new Set([t,2*t].map(e=>s.find(t=>t>=e)||s[s.length-1]))],kind:"x"}}(t,s,a),d=l.length-1;return{sizes:a||"w"!==c?a:"100vw",srcSet:l.map((e,n)=>o({config:t,src:i,quality:r,width:e})+" "+("w"===c?e:n+1)+c).join(", "),src:o({config:t,src:i,quality:r,width:l[d]})}}({config:o,src:d,unoptimized:p,width:$,quality:W,sizes:u,loader:U});return{props:{...I,loading:V?"lazy":m,fetchPriority:T,width:$,height:q,decoding:"async",className:f,style:{...z,...K},sizes:G.sizes,srcSet:G.srcSet,src:_||G.src},meta:{unoptimized:p,priority:h,placeholder:k,fill:y}}}},82698:(e,t)=>{"use strict";function i(e,t,i){if(e)for(let r of(i&&(i=i.toLowerCase()),e)){var n,s;if(t===(null==(n=r.domain)?void 0:n.split(":",1)[0].toLowerCase())||i===r.defaultLocale.toLowerCase()||(null==(s=r.locales)?void 0:s.some(e=>e.toLowerCase()===i)))return r}}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"detectDomainLocale",{enumerable:!0,get:function(){return i}})},9130:(e,t)=>{"use strict";function i(e,t){let i;let n=e.split("/");return(t||[]).some(t=>!!n[1]&&n[1].toLowerCase()===t.toLowerCase()&&(i=t,n.splice(1,1),e=n.join("/")||"/",!0)),{pathname:e,detectedLocale:i}}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"normalizeLocalePath",{enumerable:!0,get:function(){return i}})},95728:(e,t)=>{"use strict";function i(e){let{widthInt:t,heightInt:i,blurWidth:n,blurHeight:s,blurDataURL:r,objectFit:a}=e,o=n?40*n:t,l=s?40*s:i,c=o&&l?"viewBox='0 0 "+o+" "+l+"'":"";return"%3Csvg xmlns='http://www.w3.org/2000/svg' "+c+"%3E%3Cfilter id='b' color-interpolation-filters='sRGB'%3E%3CfeGaussianBlur stdDeviation='20'/%3E%3CfeColorMatrix values='1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 100 -1' result='s'/%3E%3CfeFlood x='0' y='0' width='100%25' height='100%25'/%3E%3CfeComposite operator='out' in='s'/%3E%3CfeComposite in2='SourceGraphic'/%3E%3CfeGaussianBlur stdDeviation='20'/%3E%3C/filter%3E%3Cimage width='100%25' height='100%25' x='0' y='0' preserveAspectRatio='"+(c?"none":"contain"===a?"xMidYMid":"cover"===a?"xMidYMid slice":"none")+"' style='filter: url(%23b);' href='"+r+"'/%3E%3C/svg%3E"}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"getImageBlurSvg",{enumerable:!0,get:function(){return i}})},29472:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var i in t)Object.defineProperty(e,i,{enumerable:!0,get:t[i]})}(t,{VALID_LOADERS:function(){return i},imageConfigDefault:function(){return n}});let i=["default","imgix","cloudinary","akamai","custom"],n={deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[16,32,48,64,96,128,256,384],path:"/_next/image",loader:"default",loaderFile:"",domains:[],disableStaticImages:!1,minimumCacheTTL:60,formats:["image/webp"],dangerouslyAllowSVG:!1,contentSecurityPolicy:"script-src 'none'; frame-src 'none'; sandbox;",contentDispositionType:"inline",remotePatterns:[],unoptimized:!1}},66794:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var i in t)Object.defineProperty(e,i,{enumerable:!0,get:t[i]})}(t,{default:function(){return l},getImageProps:function(){return o}});let n=i(53370),s=i(79241),r=i(10221),a=n._(i(52049));function o(e){let{props:t}=(0,s.getImgProps)(e,{defaultLoader:a.default,imgConf:{deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[16,32,48,64,96,128,256,384],path:"/_next/image",loader:"default",dangerouslyAllowSVG:!1,unoptimized:!1}});for(let[e,i]of Object.entries(t))void 0===i&&delete t[e];return{props:t}}let l=r.Image},52049:(e,t)=>{"use strict";function i(e){let{config:t,src:i,width:n,quality:s}=e;return t.path+"?url="+encodeURIComponent(i)+"&w="+n+"&q="+(s||75)}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return n}}),i.__next_img_default=!0;let n=i},91729:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"addLocale",{enumerable:!0,get:function(){return r}});let n=i(39081),s=i(87198);function r(e,t,i,r){if(!t||t===i)return e;let a=e.toLowerCase();return!r&&((0,s.pathHasPrefix)(a,"/api")||(0,s.pathHasPrefix)(a,"/"+t.toLowerCase()))?e:(0,n.addPathPrefix)(e,"/"+t)}},39081:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"addPathPrefix",{enumerable:!0,get:function(){return s}});let n=i(34402);function s(e,t){if(!e.startsWith("/")||!t)return e;let{pathname:i,query:s,hash:r}=(0,n.parsePath)(e);return""+t+i+s+r}},79023:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"addPathSuffix",{enumerable:!0,get:function(){return s}});let n=i(34402);function s(e,t){if(!e.startsWith("/")||!t)return e;let{pathname:i,query:s,hash:r}=(0,n.parsePath)(e);return""+i+t+s+r}},89272:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"formatNextPathnameInfo",{enumerable:!0,get:function(){return o}});let n=i(30908),s=i(39081),r=i(79023),a=i(91729);function o(e){let t=(0,a.addLocale)(e.pathname,e.locale,e.buildId?void 0:e.defaultLocale,e.ignorePrefix);return(e.buildId||!e.trailingSlash)&&(t=(0,n.removeTrailingSlash)(t)),e.buildId&&(t=(0,r.addPathSuffix)((0,s.addPathPrefix)(t,"/_next/data/"+e.buildId),"/"===e.pathname?"index.json":".json")),t=(0,s.addPathPrefix)(t,e.basePath),!e.buildId&&e.trailingSlash?t.endsWith("/")?t:(0,r.addPathSuffix)(t,"/"):(0,n.removeTrailingSlash)(t)}},35424:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"getNextPathnameInfo",{enumerable:!0,get:function(){return a}});let n=i(9130),s=i(96528),r=i(87198);function a(e,t){var i,a;let{basePath:o,i18n:l,trailingSlash:c}=null!=(i=t.nextConfig)?i:{},d={pathname:e,trailingSlash:"/"!==e?e.endsWith("/"):c};o&&(0,r.pathHasPrefix)(d.pathname,o)&&(d.pathname=(0,s.removePathPrefix)(d.pathname,o),d.basePath=o);let u=d.pathname;if(d.pathname.startsWith("/_next/data/")&&d.pathname.endsWith(".json")){let e=d.pathname.replace(/^\/_next\/data\//,"").replace(/\.json$/,"").split("/"),i=e[0];d.buildId=i,u="index"!==e[1]?"/"+e.slice(1).join("/"):"/",!0===t.parseData&&(d.pathname=u)}if(l){let e=t.i18nProvider?t.i18nProvider.analyze(d.pathname):(0,n.normalizeLocalePath)(d.pathname,l.locales);d.locale=e.detectedLocale,d.pathname=null!=(a=e.pathname)?a:d.pathname,!e.detectedLocale&&d.buildId&&(e=t.i18nProvider?t.i18nProvider.analyze(u):(0,n.normalizeLocalePath)(u,l.locales)).detectedLocale&&(d.locale=e.detectedLocale)}return d}},34402:(e,t)=>{"use strict";function i(e){let t=e.indexOf("#"),i=e.indexOf("?"),n=i>-1&&(t<0||i<t);return n||t>-1?{pathname:e.substring(0,n?i:t),query:n?e.substring(i,t>-1?t:void 0):"",hash:t>-1?e.slice(t):""}:{pathname:e,query:"",hash:""}}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"parsePath",{enumerable:!0,get:function(){return i}})},87198:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"pathHasPrefix",{enumerable:!0,get:function(){return s}});let n=i(34402);function s(e,t){if("string"!=typeof e)return!1;let{pathname:i}=(0,n.parsePath)(e);return i===t||i.startsWith(t+"/")}},96528:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"removePathPrefix",{enumerable:!0,get:function(){return s}});let n=i(87198);function s(e,t){if(!(0,n.pathHasPrefix)(e,t))return e;let i=e.slice(t.length);return i.startsWith("/")?i:"/"+i}},30908:(e,t)=>{"use strict";function i(e){return e.replace(/\/$/,"")||"/"}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"removeTrailingSlash",{enumerable:!0,get:function(){return i}})},96501:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"warnOnce",{enumerable:!0,get:function(){return i}});let i=e=>{}},16496:(e,t,i)=>{var n=i(14300),s=n.Buffer;function r(e,t){for(var i in e)t[i]=e[i]}function a(e,t,i){return s(e,t,i)}s.from&&s.alloc&&s.allocUnsafe&&s.allocUnsafeSlow?e.exports=n:(r(n,t),t.Buffer=a),a.prototype=Object.create(s.prototype),r(s,a),a.from=function(e,t,i){if("number"==typeof e)throw TypeError("Argument must not be a number");return s(e,t,i)},a.alloc=function(e,t,i){if("number"!=typeof e)throw TypeError("Argument must be a number");var n=s(e);return void 0!==t?"string"==typeof i?n.fill(t,i):n.fill(t):n.fill(0),n},a.allocUnsafe=function(e){if("number"!=typeof e)throw TypeError("Argument must be a number");return s(e)},a.allocUnsafeSlow=function(e){if("number"!=typeof e)throw TypeError("Argument must be a number");return n.SlowBuffer(e)}},32512:(e,t,i)=>{let n=Symbol("SemVer ANY");class s{static get ANY(){return n}constructor(e,t){if(t=r(t),e instanceof s){if(!!t.loose===e.loose)return e;e=e.value}c("comparator",e=e.trim().split(/\s+/).join(" "),t),this.options=t,this.loose=!!t.loose,this.parse(e),this.semver===n?this.value="":this.value=this.operator+this.semver.version,c("comp",this)}parse(e){let t=this.options.loose?a[o.COMPARATORLOOSE]:a[o.COMPARATOR],i=e.match(t);if(!i)throw TypeError(`Invalid comparator: ${e}`);this.operator=void 0!==i[1]?i[1]:"","="===this.operator&&(this.operator=""),i[2]?this.semver=new d(i[2],this.options.loose):this.semver=n}toString(){return this.value}test(e){if(c("Comparator.test",e,this.options.loose),this.semver===n||e===n)return!0;if("string"==typeof e)try{e=new d(e,this.options)}catch(e){return!1}return l(e,this.operator,this.semver,this.options)}intersects(e,t){if(!(e instanceof s))throw TypeError("a Comparator is required");return""===this.operator?""===this.value||new u(e.value,t).test(this.value):""===e.operator?""===e.value||new u(this.value,t).test(e.semver):!((t=r(t)).includePrerelease&&("<0.0.0-0"===this.value||"<0.0.0-0"===e.value)||!t.includePrerelease&&(this.value.startsWith("<0.0.0")||e.value.startsWith("<0.0.0")))&&!!(this.operator.startsWith(">")&&e.operator.startsWith(">")||this.operator.startsWith("<")&&e.operator.startsWith("<")||this.semver.version===e.semver.version&&this.operator.includes("=")&&e.operator.includes("=")||l(this.semver,"<",e.semver,t)&&this.operator.startsWith(">")&&e.operator.startsWith("<")||l(this.semver,">",e.semver,t)&&this.operator.startsWith("<")&&e.operator.startsWith(">"))}}e.exports=s;let r=i(6057),{safeRe:a,t:o}=i(20803),l=i(80682),c=i(50012),d=i(74049),u=i(46303)},46303:(e,t,i)=>{let n=/\s+/g;class s{constructor(e,t){if(t=a(t),e instanceof s){if(!!t.loose===e.loose&&!!t.includePrerelease===e.includePrerelease)return e;return new s(e.raw,t)}if(e instanceof o)return this.raw=e.value,this.set=[[e]],this.formatted=void 0,this;if(this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease,this.raw=e.trim().replace(n," "),this.set=this.raw.split("||").map(e=>this.parseRange(e.trim())).filter(e=>e.length),!this.set.length)throw TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){let e=this.set[0];if(this.set=this.set.filter(e=>!v(e[0])),0===this.set.length)this.set=[e];else if(this.set.length>1){for(let e of this.set)if(1===e.length&&b(e[0])){this.set=[e];break}}}this.formatted=void 0}get range(){if(void 0===this.formatted){this.formatted="";for(let e=0;e<this.set.length;e++){e>0&&(this.formatted+="||");let t=this.set[e];for(let e=0;e<t.length;e++)e>0&&(this.formatted+=" "),this.formatted+=t[e].toString().trim()}}return this.formatted}format(){return this.range}toString(){return this.range}parseRange(e){let t=((this.options.includePrerelease&&f)|(this.options.loose&&g))+":"+e,i=r.get(t);if(i)return i;let n=this.options.loose,s=n?d[u.HYPHENRANGELOOSE]:d[u.HYPHENRANGE];l("hyphen replace",e=e.replace(s,P(this.options.includePrerelease))),l("comparator trim",e=e.replace(d[u.COMPARATORTRIM],p)),l("tilde trim",e=e.replace(d[u.TILDETRIM],h)),l("caret trim",e=e.replace(d[u.CARETTRIM],m));let a=e.split(" ").map(e=>x(e,this.options)).join(" ").split(/\s+/).map(e=>O(e,this.options));n&&(a=a.filter(e=>(l("loose invalid filter",e,this.options),!!e.match(d[u.COMPARATORLOOSE])))),l("range list",a);let c=new Map;for(let e of a.map(e=>new o(e,this.options))){if(v(e))return[e];c.set(e.value,e)}c.size>1&&c.has("")&&c.delete("");let b=[...c.values()];return r.set(t,b),b}intersects(e,t){if(!(e instanceof s))throw TypeError("a Range is required");return this.set.some(i=>y(i,t)&&e.set.some(e=>y(e,t)&&i.every(i=>e.every(e=>i.intersects(e,t)))))}test(e){if(!e)return!1;if("string"==typeof e)try{e=new c(e,this.options)}catch(e){return!1}for(let t=0;t<this.set.length;t++)if(j(this.set[t],e,this.options))return!0;return!1}}e.exports=s;let r=new(i(90271)),a=i(6057),o=i(32512),l=i(50012),c=i(74049),{safeRe:d,t:u,comparatorTrimReplace:p,tildeTrimReplace:h,caretTrimReplace:m}=i(20803),{FLAG_INCLUDE_PRERELEASE:f,FLAG_LOOSE:g}=i(60090),v=e=>"<0.0.0-0"===e.value,b=e=>""===e.value,y=(e,t)=>{let i=!0,n=e.slice(),s=n.pop();for(;i&&n.length;)i=n.every(e=>s.intersects(e,t)),s=n.pop();return i},x=(e,t)=>(l("comp",e,t),l("caret",e=k(e,t)),l("tildes",e=w(e,t)),l("xrange",e=T(e,t)),l("stars",e=R(e,t)),e),_=e=>!e||"x"===e.toLowerCase()||"*"===e,w=(e,t)=>e.trim().split(/\s+/).map(e=>S(e,t)).join(" "),S=(e,t)=>{let i=t.loose?d[u.TILDELOOSE]:d[u.TILDE];return e.replace(i,(t,i,n,s,r)=>{let a;return l("tilde",e,t,i,n,s,r),_(i)?a="":_(n)?a=`>=${i}.0.0 <${+i+1}.0.0-0`:_(s)?a=`>=${i}.${n}.0 <${i}.${+n+1}.0-0`:r?(l("replaceTilde pr",r),a=`>=${i}.${n}.${s}-${r} <${i}.${+n+1}.0-0`):a=`>=${i}.${n}.${s} <${i}.${+n+1}.0-0`,l("tilde return",a),a})},k=(e,t)=>e.trim().split(/\s+/).map(e=>E(e,t)).join(" "),E=(e,t)=>{l("caret",e,t);let i=t.loose?d[u.CARETLOOSE]:d[u.CARET],n=t.includePrerelease?"-0":"";return e.replace(i,(t,i,s,r,a)=>{let o;return l("caret",e,t,i,s,r,a),_(i)?o="":_(s)?o=`>=${i}.0.0${n} <${+i+1}.0.0-0`:_(r)?o="0"===i?`>=${i}.${s}.0${n} <${i}.${+s+1}.0-0`:`>=${i}.${s}.0${n} <${+i+1}.0.0-0`:a?(l("replaceCaret pr",a),o="0"===i?"0"===s?`>=${i}.${s}.${r}-${a} <${i}.${s}.${+r+1}-0`:`>=${i}.${s}.${r}-${a} <${i}.${+s+1}.0-0`:`>=${i}.${s}.${r}-${a} <${+i+1}.0.0-0`):(l("no pr"),o="0"===i?"0"===s?`>=${i}.${s}.${r}${n} <${i}.${s}.${+r+1}-0`:`>=${i}.${s}.${r}${n} <${i}.${+s+1}.0-0`:`>=${i}.${s}.${r} <${+i+1}.0.0-0`),l("caret return",o),o})},T=(e,t)=>(l("replaceXRanges",e,t),e.split(/\s+/).map(e=>C(e,t)).join(" ")),C=(e,t)=>{e=e.trim();let i=t.loose?d[u.XRANGELOOSE]:d[u.XRANGE];return e.replace(i,(i,n,s,r,a,o)=>{l("xRange",e,i,n,s,r,a,o);let c=_(s),d=c||_(r),u=d||_(a);return"="===n&&u&&(n=""),o=t.includePrerelease?"-0":"",c?i=">"===n||"<"===n?"<0.0.0-0":"*":n&&u?(d&&(r=0),a=0,">"===n?(n=">=",d?(s=+s+1,r=0):r=+r+1,a=0):"<="===n&&(n="<",d?s=+s+1:r=+r+1),"<"===n&&(o="-0"),i=`${n+s}.${r}.${a}${o}`):d?i=`>=${s}.0.0${o} <${+s+1}.0.0-0`:u&&(i=`>=${s}.${r}.0${o} <${s}.${+r+1}.0-0`),l("xRange return",i),i})},R=(e,t)=>(l("replaceStars",e,t),e.trim().replace(d[u.STAR],"")),O=(e,t)=>(l("replaceGTE0",e,t),e.trim().replace(d[t.includePrerelease?u.GTE0PRE:u.GTE0],"")),P=e=>(t,i,n,s,r,a,o,l,c,d,u,p)=>(i=_(n)?"":_(s)?`>=${n}.0.0${e?"-0":""}`:_(r)?`>=${n}.${s}.0${e?"-0":""}`:a?`>=${i}`:`>=${i}${e?"-0":""}`,l=_(c)?"":_(d)?`<${+c+1}.0.0-0`:_(u)?`<${c}.${+d+1}.0-0`:p?`<=${c}.${d}.${u}-${p}`:e?`<${c}.${d}.${+u+1}-0`:`<=${l}`,`${i} ${l}`.trim()),j=(e,t,i)=>{for(let i=0;i<e.length;i++)if(!e[i].test(t))return!1;if(t.prerelease.length&&!i.includePrerelease){for(let i=0;i<e.length;i++)if(l(e[i].semver),e[i].semver!==o.ANY&&e[i].semver.prerelease.length>0){let n=e[i].semver;if(n.major===t.major&&n.minor===t.minor&&n.patch===t.patch)return!0}return!1}return!0}},74049:(e,t,i)=>{let n=i(50012),{MAX_LENGTH:s,MAX_SAFE_INTEGER:r}=i(60090),{safeRe:a,t:o}=i(20803),l=i(6057),{compareIdentifiers:c}=i(16933);class d{constructor(e,t){if(t=l(t),e instanceof d){if(!!t.loose===e.loose&&!!t.includePrerelease===e.includePrerelease)return e;e=e.version}else if("string"!=typeof e)throw TypeError(`Invalid version. Must be a string. Got type "${typeof e}".`);if(e.length>s)throw TypeError(`version is longer than ${s} characters`);n("SemVer",e,t),this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease;let i=e.trim().match(t.loose?a[o.LOOSE]:a[o.FULL]);if(!i)throw TypeError(`Invalid Version: ${e}`);if(this.raw=e,this.major=+i[1],this.minor=+i[2],this.patch=+i[3],this.major>r||this.major<0)throw TypeError("Invalid major version");if(this.minor>r||this.minor<0)throw TypeError("Invalid minor version");if(this.patch>r||this.patch<0)throw TypeError("Invalid patch version");i[4]?this.prerelease=i[4].split(".").map(e=>{if(/^[0-9]+$/.test(e)){let t=+e;if(t>=0&&t<r)return t}return e}):this.prerelease=[],this.build=i[5]?i[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(e){if(n("SemVer.compare",this.version,this.options,e),!(e instanceof d)){if("string"==typeof e&&e===this.version)return 0;e=new d(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return e instanceof d||(e=new d(e,this.options)),c(this.major,e.major)||c(this.minor,e.minor)||c(this.patch,e.patch)}comparePre(e){if(e instanceof d||(e=new d(e,this.options)),this.prerelease.length&&!e.prerelease.length)return -1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let t=0;do{let i=this.prerelease[t],s=e.prerelease[t];if(n("prerelease compare",t,i,s),void 0===i&&void 0===s)return 0;if(void 0===s)return 1;if(void 0===i)return -1;if(i===s)continue;else return c(i,s)}while(++t)}compareBuild(e){e instanceof d||(e=new d(e,this.options));let t=0;do{let i=this.build[t],s=e.build[t];if(n("build compare",t,i,s),void 0===i&&void 0===s)return 0;if(void 0===s)return 1;if(void 0===i)return -1;if(i===s)continue;else return c(i,s)}while(++t)}inc(e,t,i){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",t,i);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",t,i);break;case"prepatch":this.prerelease.length=0,this.inc("patch",t,i),this.inc("pre",t,i);break;case"prerelease":0===this.prerelease.length&&this.inc("patch",t,i),this.inc("pre",t,i);break;case"major":(0!==this.minor||0!==this.patch||0===this.prerelease.length)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(0!==this.patch||0===this.prerelease.length)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":0===this.prerelease.length&&this.patch++,this.prerelease=[];break;case"pre":{let e=Number(i)?1:0;if(!t&&!1===i)throw Error("invalid increment argument: identifier is empty");if(0===this.prerelease.length)this.prerelease=[e];else{let n=this.prerelease.length;for(;--n>=0;)"number"==typeof this.prerelease[n]&&(this.prerelease[n]++,n=-2);if(-1===n){if(t===this.prerelease.join(".")&&!1===i)throw Error("invalid increment argument: identifier already exists");this.prerelease.push(e)}}if(t){let n=[t,e];!1===i&&(n=[t]),0===c(this.prerelease[0],t)?isNaN(this.prerelease[1])&&(this.prerelease=n):this.prerelease=n}break}default:throw Error(`invalid increment argument: ${e}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}}e.exports=d},7380:(e,t,i)=>{let n=i(37270);e.exports=(e,t)=>{let i=n(e.trim().replace(/^[=v]+/,""),t);return i?i.version:null}},80682:(e,t,i)=>{let n=i(55813),s=i(14668),r=i(99741),a=i(15148),o=i(99479),l=i(37970);e.exports=(e,t,i,c)=>{switch(t){case"===":return"object"==typeof e&&(e=e.version),"object"==typeof i&&(i=i.version),e===i;case"!==":return"object"==typeof e&&(e=e.version),"object"==typeof i&&(i=i.version),e!==i;case"":case"=":case"==":return n(e,i,c);case"!=":return s(e,i,c);case">":return r(e,i,c);case">=":return a(e,i,c);case"<":return o(e,i,c);case"<=":return l(e,i,c);default:throw TypeError(`Invalid operator: ${t}`)}}},47417:(e,t,i)=>{let n=i(74049),s=i(37270),{safeRe:r,t:a}=i(20803);e.exports=(e,t)=>{if(e instanceof n)return e;if("number"==typeof e&&(e=String(e)),"string"!=typeof e)return null;let i=null;if((t=t||{}).rtl){let n;let s=t.includePrerelease?r[a.COERCERTLFULL]:r[a.COERCERTL];for(;(n=s.exec(e))&&(!i||i.index+i[0].length!==e.length);)i&&n.index+n[0].length===i.index+i[0].length||(i=n),s.lastIndex=n.index+n[1].length+n[2].length;s.lastIndex=-1}else i=e.match(t.includePrerelease?r[a.COERCEFULL]:r[a.COERCE]);if(null===i)return null;let o=i[2],l=i[3]||"0",c=i[4]||"0",d=t.includePrerelease&&i[5]?`-${i[5]}`:"",u=t.includePrerelease&&i[6]?`+${i[6]}`:"";return s(`${o}.${l}.${c}${d}${u}`,t)}},88710:(e,t,i)=>{let n=i(74049);e.exports=(e,t,i)=>{let s=new n(e,i),r=new n(t,i);return s.compare(r)||s.compareBuild(r)}},63753:(e,t,i)=>{let n=i(1176);e.exports=(e,t)=>n(e,t,!0)},1176:(e,t,i)=>{let n=i(74049);e.exports=(e,t,i)=>new n(e,i).compare(new n(t,i))},89160:(e,t,i)=>{let n=i(37270);e.exports=(e,t)=>{let i=n(e,null,!0),s=n(t,null,!0),r=i.compare(s);if(0===r)return null;let a=r>0,o=a?i:s,l=a?s:i,c=!!o.prerelease.length;if(l.prerelease.length&&!c)return l.patch||l.minor?o.patch?"patch":o.minor?"minor":"major":"major";let d=c?"pre":"";return i.major!==s.major?d+"major":i.minor!==s.minor?d+"minor":i.patch!==s.patch?d+"patch":"prerelease"}},55813:(e,t,i)=>{let n=i(1176);e.exports=(e,t,i)=>0===n(e,t,i)},99741:(e,t,i)=>{let n=i(1176);e.exports=(e,t,i)=>n(e,t,i)>0},15148:(e,t,i)=>{let n=i(1176);e.exports=(e,t,i)=>n(e,t,i)>=0},25966:(e,t,i)=>{let n=i(74049);e.exports=(e,t,i,s,r)=>{"string"==typeof i&&(r=s,s=i,i=void 0);try{return new n(e instanceof n?e.version:e,i).inc(t,s,r).version}catch(e){return null}}},99479:(e,t,i)=>{let n=i(1176);e.exports=(e,t,i)=>0>n(e,t,i)},37970:(e,t,i)=>{let n=i(1176);e.exports=(e,t,i)=>0>=n(e,t,i)},14808:(e,t,i)=>{let n=i(74049);e.exports=(e,t)=>new n(e,t).major},19370:(e,t,i)=>{let n=i(74049);e.exports=(e,t)=>new n(e,t).minor},14668:(e,t,i)=>{let n=i(1176);e.exports=(e,t,i)=>0!==n(e,t,i)},37270:(e,t,i)=>{let n=i(74049);e.exports=(e,t,i=!1)=>{if(e instanceof n)return e;try{return new n(e,t)}catch(e){if(!i)return null;throw e}}},33290:(e,t,i)=>{let n=i(74049);e.exports=(e,t)=>new n(e,t).patch},34370:(e,t,i)=>{let n=i(37270);e.exports=(e,t)=>{let i=n(e,t);return i&&i.prerelease.length?i.prerelease:null}},22105:(e,t,i)=>{let n=i(1176);e.exports=(e,t,i)=>n(t,e,i)},8832:(e,t,i)=>{let n=i(88710);e.exports=(e,t)=>e.sort((e,i)=>n(i,e,t))},94398:(e,t,i)=>{let n=i(46303);e.exports=(e,t,i)=>{try{t=new n(t,i)}catch(e){return!1}return t.test(e)}},90936:(e,t,i)=>{let n=i(88710);e.exports=(e,t)=>e.sort((e,i)=>n(e,i,t))},4924:(e,t,i)=>{let n=i(37270);e.exports=(e,t)=>{let i=n(e,t);return i?i.version:null}},17140:(e,t,i)=>{let n=i(20803),s=i(60090),r=i(74049),a=i(16933),o=i(37270),l=i(4924),c=i(7380),d=i(25966),u=i(89160),p=i(14808),h=i(19370),m=i(33290),f=i(34370),g=i(1176),v=i(22105),b=i(63753),y=i(88710),x=i(90936),_=i(8832),w=i(99741),S=i(99479),k=i(55813),E=i(14668),T=i(15148),C=i(37970),R=i(80682),O=i(47417),P=i(32512),j=i(46303),I=i(94398),N=i(92800),D=i(47252),A=i(64168),L=i(12881),M=i(46712),U=i(50144),F=i(30262),B=i(87371),$=i(83291),q=i(36415),V=i(38624);e.exports={parse:o,valid:l,clean:c,inc:d,diff:u,major:p,minor:h,patch:m,prerelease:f,compare:g,rcompare:v,compareLoose:b,compareBuild:y,sort:x,rsort:_,gt:w,lt:S,eq:k,neq:E,gte:T,lte:C,cmp:R,coerce:O,Comparator:P,Range:j,satisfies:I,toComparators:N,maxSatisfying:D,minSatisfying:A,minVersion:L,validRange:M,outside:U,gtr:F,ltr:B,intersects:$,simplifyRange:q,subset:V,SemVer:r,re:n.re,src:n.src,tokens:n.t,SEMVER_SPEC_VERSION:s.SEMVER_SPEC_VERSION,RELEASE_TYPES:s.RELEASE_TYPES,compareIdentifiers:a.compareIdentifiers,rcompareIdentifiers:a.rcompareIdentifiers}},60090:e=>{let t=Number.MAX_SAFE_INTEGER||9007199254740991;e.exports={MAX_LENGTH:256,MAX_SAFE_COMPONENT_LENGTH:16,MAX_SAFE_BUILD_LENGTH:250,MAX_SAFE_INTEGER:t,RELEASE_TYPES:["major","premajor","minor","preminor","patch","prepatch","prerelease"],SEMVER_SPEC_VERSION:"2.0.0",FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2}},50012:e=>{let t="object"==typeof process&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...e)=>console.error("SEMVER",...e):()=>{};e.exports=t},16933:e=>{let t=/^[0-9]+$/,i=(e,i)=>{let n=t.test(e),s=t.test(i);return n&&s&&(e=+e,i=+i),e===i?0:n&&!s?-1:s&&!n?1:e<i?-1:1};e.exports={compareIdentifiers:i,rcompareIdentifiers:(e,t)=>i(t,e)}},90271:e=>{class t{constructor(){this.max=1e3,this.map=new Map}get(e){let t=this.map.get(e);if(void 0!==t)return this.map.delete(e),this.map.set(e,t),t}delete(e){return this.map.delete(e)}set(e,t){if(!this.delete(e)&&void 0!==t){if(this.map.size>=this.max){let e=this.map.keys().next().value;this.delete(e)}this.map.set(e,t)}return this}}e.exports=t},6057:e=>{let t=Object.freeze({loose:!0}),i=Object.freeze({});e.exports=e=>e?"object"!=typeof e?t:e:i},20803:(e,t,i)=>{let{MAX_SAFE_COMPONENT_LENGTH:n,MAX_SAFE_BUILD_LENGTH:s,MAX_LENGTH:r}=i(60090),a=i(50012),o=(t=e.exports={}).re=[],l=t.safeRe=[],c=t.src=[],d=t.t={},u=0,p="[a-zA-Z0-9-]",h=[["\\s",1],["\\d",r],[p,s]],m=e=>{for(let[t,i]of h)e=e.split(`${t}*`).join(`${t}{0,${i}}`).split(`${t}+`).join(`${t}{1,${i}}`);return e},f=(e,t,i)=>{let n=m(t),s=u++;a(e,s,t),d[e]=s,c[s]=t,o[s]=new RegExp(t,i?"g":void 0),l[s]=new RegExp(n,i?"g":void 0)};f("NUMERICIDENTIFIER","0|[1-9]\\d*"),f("NUMERICIDENTIFIERLOOSE","\\d+"),f("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${p}*`),f("MAINVERSION",`(${c[d.NUMERICIDENTIFIER]})\\.(${c[d.NUMERICIDENTIFIER]})\\.(${c[d.NUMERICIDENTIFIER]})`),f("MAINVERSIONLOOSE",`(${c[d.NUMERICIDENTIFIERLOOSE]})\\.(${c[d.NUMERICIDENTIFIERLOOSE]})\\.(${c[d.NUMERICIDENTIFIERLOOSE]})`),f("PRERELEASEIDENTIFIER",`(?:${c[d.NUMERICIDENTIFIER]}|${c[d.NONNUMERICIDENTIFIER]})`),f("PRERELEASEIDENTIFIERLOOSE",`(?:${c[d.NUMERICIDENTIFIERLOOSE]}|${c[d.NONNUMERICIDENTIFIER]})`),f("PRERELEASE",`(?:-(${c[d.PRERELEASEIDENTIFIER]}(?:\\.${c[d.PRERELEASEIDENTIFIER]})*))`),f("PRERELEASELOOSE",`(?:-?(${c[d.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${c[d.PRERELEASEIDENTIFIERLOOSE]})*))`),f("BUILDIDENTIFIER",`${p}+`),f("BUILD",`(?:\\+(${c[d.BUILDIDENTIFIER]}(?:\\.${c[d.BUILDIDENTIFIER]})*))`),f("FULLPLAIN",`v?${c[d.MAINVERSION]}${c[d.PRERELEASE]}?${c[d.BUILD]}?`),f("FULL",`^${c[d.FULLPLAIN]}$`),f("LOOSEPLAIN",`[v=\\s]*${c[d.MAINVERSIONLOOSE]}${c[d.PRERELEASELOOSE]}?${c[d.BUILD]}?`),f("LOOSE",`^${c[d.LOOSEPLAIN]}$`),f("GTLT","((?:<|>)?=?)"),f("XRANGEIDENTIFIERLOOSE",`${c[d.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),f("XRANGEIDENTIFIER",`${c[d.NUMERICIDENTIFIER]}|x|X|\\*`),f("XRANGEPLAIN",`[v=\\s]*(${c[d.XRANGEIDENTIFIER]})(?:\\.(${c[d.XRANGEIDENTIFIER]})(?:\\.(${c[d.XRANGEIDENTIFIER]})(?:${c[d.PRERELEASE]})?${c[d.BUILD]}?)?)?`),f("XRANGEPLAINLOOSE",`[v=\\s]*(${c[d.XRANGEIDENTIFIERLOOSE]})(?:\\.(${c[d.XRANGEIDENTIFIERLOOSE]})(?:\\.(${c[d.XRANGEIDENTIFIERLOOSE]})(?:${c[d.PRERELEASELOOSE]})?${c[d.BUILD]}?)?)?`),f("XRANGE",`^${c[d.GTLT]}\\s*${c[d.XRANGEPLAIN]}$`),f("XRANGELOOSE",`^${c[d.GTLT]}\\s*${c[d.XRANGEPLAINLOOSE]}$`),f("COERCEPLAIN",`(^|[^\\d])(\\d{1,${n}})(?:\\.(\\d{1,${n}}))?(?:\\.(\\d{1,${n}}))?`),f("COERCE",`${c[d.COERCEPLAIN]}(?:$|[^\\d])`),f("COERCEFULL",c[d.COERCEPLAIN]+`(?:${c[d.PRERELEASE]})?`+`(?:${c[d.BUILD]})?`+"(?:$|[^\\d])"),f("COERCERTL",c[d.COERCE],!0),f("COERCERTLFULL",c[d.COERCEFULL],!0),f("LONETILDE","(?:~>?)"),f("TILDETRIM",`(\\s*)${c[d.LONETILDE]}\\s+`,!0),t.tildeTrimReplace="$1~",f("TILDE",`^${c[d.LONETILDE]}${c[d.XRANGEPLAIN]}$`),f("TILDELOOSE",`^${c[d.LONETILDE]}${c[d.XRANGEPLAINLOOSE]}$`),f("LONECARET","(?:\\^)"),f("CARETTRIM",`(\\s*)${c[d.LONECARET]}\\s+`,!0),t.caretTrimReplace="$1^",f("CARET",`^${c[d.LONECARET]}${c[d.XRANGEPLAIN]}$`),f("CARETLOOSE",`^${c[d.LONECARET]}${c[d.XRANGEPLAINLOOSE]}$`),f("COMPARATORLOOSE",`^${c[d.GTLT]}\\s*(${c[d.LOOSEPLAIN]})$|^$`),f("COMPARATOR",`^${c[d.GTLT]}\\s*(${c[d.FULLPLAIN]})$|^$`),f("COMPARATORTRIM",`(\\s*)${c[d.GTLT]}\\s*(${c[d.LOOSEPLAIN]}|${c[d.XRANGEPLAIN]})`,!0),t.comparatorTrimReplace="$1$2$3",f("HYPHENRANGE",`^\\s*(${c[d.XRANGEPLAIN]})\\s+-\\s+(${c[d.XRANGEPLAIN]})\\s*$`),f("HYPHENRANGELOOSE",`^\\s*(${c[d.XRANGEPLAINLOOSE]})\\s+-\\s+(${c[d.XRANGEPLAINLOOSE]})\\s*$`),f("STAR","(<|>)?=?\\s*\\*"),f("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),f("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")},30262:(e,t,i)=>{let n=i(50144);e.exports=(e,t,i)=>n(e,t,">",i)},83291:(e,t,i)=>{let n=i(46303);e.exports=(e,t,i)=>(e=new n(e,i),t=new n(t,i),e.intersects(t,i))},87371:(e,t,i)=>{let n=i(50144);e.exports=(e,t,i)=>n(e,t,"<",i)},47252:(e,t,i)=>{let n=i(74049),s=i(46303);e.exports=(e,t,i)=>{let r=null,a=null,o=null;try{o=new s(t,i)}catch(e){return null}return e.forEach(e=>{o.test(e)&&(!r||-1===a.compare(e))&&(a=new n(r=e,i))}),r}},64168:(e,t,i)=>{let n=i(74049),s=i(46303);e.exports=(e,t,i)=>{let r=null,a=null,o=null;try{o=new s(t,i)}catch(e){return null}return e.forEach(e=>{o.test(e)&&(!r||1===a.compare(e))&&(a=new n(r=e,i))}),r}},12881:(e,t,i)=>{let n=i(74049),s=i(46303),r=i(99741);e.exports=(e,t)=>{e=new s(e,t);let i=new n("0.0.0");if(e.test(i)||(i=new n("0.0.0-0"),e.test(i)))return i;i=null;for(let t=0;t<e.set.length;++t){let s=e.set[t],a=null;s.forEach(e=>{let t=new n(e.semver.version);switch(e.operator){case">":0===t.prerelease.length?t.patch++:t.prerelease.push(0),t.raw=t.format();case"":case">=":(!a||r(t,a))&&(a=t);break;case"<":case"<=":break;default:throw Error(`Unexpected operation: ${e.operator}`)}}),a&&(!i||r(i,a))&&(i=a)}return i&&e.test(i)?i:null}},50144:(e,t,i)=>{let n=i(74049),s=i(32512),{ANY:r}=s,a=i(46303),o=i(94398),l=i(99741),c=i(99479),d=i(37970),u=i(15148);e.exports=(e,t,i,p)=>{let h,m,f,g,v;switch(e=new n(e,p),t=new a(t,p),i){case">":h=l,m=d,f=c,g=">",v=">=";break;case"<":h=c,m=u,f=l,g="<",v="<=";break;default:throw TypeError('Must provide a hilo val of "<" or ">"')}if(o(e,t,p))return!1;for(let i=0;i<t.set.length;++i){let n=t.set[i],a=null,o=null;if(n.forEach(e=>{e.semver===r&&(e=new s(">=0.0.0")),a=a||e,o=o||e,h(e.semver,a.semver,p)?a=e:f(e.semver,o.semver,p)&&(o=e)}),a.operator===g||a.operator===v||(!o.operator||o.operator===g)&&m(e,o.semver)||o.operator===v&&f(e,o.semver))return!1}return!0}},36415:(e,t,i)=>{let n=i(94398),s=i(1176);e.exports=(e,t,i)=>{let r=[],a=null,o=null,l=e.sort((e,t)=>s(e,t,i));for(let e of l)n(e,t,i)?(o=e,a||(a=e)):(o&&r.push([a,o]),o=null,a=null);a&&r.push([a,null]);let c=[];for(let[e,t]of r)e===t?c.push(e):t||e!==l[0]?t?e===l[0]?c.push(`<=${t}`):c.push(`${e} - ${t}`):c.push(`>=${e}`):c.push("*");let d=c.join(" || "),u="string"==typeof t.raw?t.raw:String(t);return d.length<u.length?d:t}},38624:(e,t,i)=>{let n=i(46303),s=i(32512),{ANY:r}=s,a=i(94398),o=i(1176),l=[new s(">=0.0.0-0")],c=[new s(">=0.0.0")],d=(e,t,i)=>{let n,s,d,h,m,f,g;if(e===t)return!0;if(1===e.length&&e[0].semver===r){if(1===t.length&&t[0].semver===r)return!0;e=i.includePrerelease?l:c}if(1===t.length&&t[0].semver===r){if(i.includePrerelease)return!0;t=c}let v=new Set;for(let t of e)">"===t.operator||">="===t.operator?n=u(n,t,i):"<"===t.operator||"<="===t.operator?s=p(s,t,i):v.add(t.semver);if(v.size>1||n&&s&&((d=o(n.semver,s.semver,i))>0||0===d&&(">="!==n.operator||"<="!==s.operator)))return null;for(let e of v){if(n&&!a(e,String(n),i)||s&&!a(e,String(s),i))return null;for(let n of t)if(!a(e,String(n),i))return!1;return!0}let b=!!s&&!i.includePrerelease&&!!s.semver.prerelease.length&&s.semver,y=!!n&&!i.includePrerelease&&!!n.semver.prerelease.length&&n.semver;for(let e of(b&&1===b.prerelease.length&&"<"===s.operator&&0===b.prerelease[0]&&(b=!1),t)){if(g=g||">"===e.operator||">="===e.operator,f=f||"<"===e.operator||"<="===e.operator,n){if(y&&e.semver.prerelease&&e.semver.prerelease.length&&e.semver.major===y.major&&e.semver.minor===y.minor&&e.semver.patch===y.patch&&(y=!1),">"===e.operator||">="===e.operator){if((h=u(n,e,i))===e&&h!==n)return!1}else if(">="===n.operator&&!a(n.semver,String(e),i))return!1}if(s){if(b&&e.semver.prerelease&&e.semver.prerelease.length&&e.semver.major===b.major&&e.semver.minor===b.minor&&e.semver.patch===b.patch&&(b=!1),"<"===e.operator||"<="===e.operator){if((m=p(s,e,i))===e&&m!==s)return!1}else if("<="===s.operator&&!a(s.semver,String(e),i))return!1}if(!e.operator&&(s||n)&&0!==d)return!1}return(!n||!f||!!s||0===d)&&(!s||!g||!!n||0===d)&&!y&&!b},u=(e,t,i)=>{if(!e)return t;let n=o(e.semver,t.semver,i);return n>0?e:n<0?t:">"===t.operator&&">="===e.operator?t:e},p=(e,t,i)=>{if(!e)return t;let n=o(e.semver,t.semver,i);return n<0?e:n>0?t:"<"===t.operator&&"<="===e.operator?t:e};e.exports=(e,t,i={})=>{if(e===t)return!0;e=new n(e,i),t=new n(t,i);let s=!1;e:for(let n of e.set){for(let e of t.set){let t=d(n,e,i);if(s=s||null!==t,t)continue e}if(s)return!1}return!0}},92800:(e,t,i)=>{let n=i(46303);e.exports=(e,t)=>new n(e,t).set.map(e=>e.map(e=>e.value).join(" ").trim().split(" "))},46712:(e,t,i)=>{let n=i(46303);e.exports=(e,t)=>{try{return new n(e,t).range||"*"}catch(e){return null}}},86291:(e,t,i)=>{"use strict";i.r(t),i.d(t,{snakeCase:()=>l});var n=function(){return(n=Object.assign||function(e){for(var t,i=1,n=arguments.length;i<n;i++)for(var s in t=arguments[i])Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s]);return e}).apply(this,arguments)};function s(e){return e.toLowerCase()}Object.create,Object.create,"function"==typeof SuppressedError&&SuppressedError;var r=[/([a-z0-9])([A-Z])/g,/([A-Z])([A-Z][a-z])/g],a=/[^A-Z0-9]+/gi;function o(e,t,i){return t instanceof RegExp?e.replace(t,i):t.reduce(function(e,t){return e.replace(t,i)},e)}function l(e,t){var i;return void 0===t&&(t={}),void 0===(i=n({delimiter:"_"},t))&&(i={}),function(e,t){void 0===t&&(t={});for(var i=t.splitRegexp,n=t.stripRegexp,l=t.transform,c=t.delimiter,d=o(o(e,void 0===i?r:i,"$1\0$2"),void 0===n?a:n,"\0"),u=0,p=d.length;"\0"===d.charAt(u);)u++;for(;"\0"===d.charAt(p-1);)p--;return d.slice(u,p).split("\0").map(void 0===l?s:l).join(void 0===c?" ":c)}(e,n({delimiter:"."},i))}},51241:(e,t,i)=>{"use strict";let n=i(28297),{snakeCase:s}=i(86291);e.exports=function(e,t){return n(e,function(e,i){return[t.exclude.some(function(t){return"string"==typeof t?t===e:t.test(e)})?e:s(e,t.parsingOptions),i]},t=Object.assign({deep:!0,exclude:[],parsingOptions:{}},t))}},77777:(e,t,i)=>{"use strict";i.d(t,{x7:()=>P,Me:()=>k,oo:()=>I,RR:()=>C,Cp:()=>O,dr:()=>j,cv:()=>E,uY:()=>T,dp:()=>R});var n=i(25564);function s(e,t,i){let s,{reference:r,floating:a}=e,o=(0,n.Qq)(t),l=(0,n.Wh)(t),c=(0,n.I4)(l),d=(0,n.k3)(t),u="y"===o,p=r.x+r.width/2-a.width/2,h=r.y+r.height/2-a.height/2,m=r[c]/2-a[c]/2;switch(d){case"top":s={x:p,y:r.y-a.height};break;case"bottom":s={x:p,y:r.y+r.height};break;case"right":s={x:r.x+r.width,y:h};break;case"left":s={x:r.x-a.width,y:h};break;default:s={x:r.x,y:r.y}}switch((0,n.hp)(t)){case"start":s[l]-=m*(i&&u?-1:1);break;case"end":s[l]+=m*(i&&u?-1:1)}return s}let r=async(e,t,i)=>{let{placement:n="bottom",strategy:r="absolute",middleware:a=[],platform:o}=i,l=a.filter(Boolean),c=await (null==o.isRTL?void 0:o.isRTL(t)),d=await o.getElementRects({reference:e,floating:t,strategy:r}),{x:u,y:p}=s(d,n,c),h=n,m={},f=0;for(let i=0;i<l.length;i++){let{name:a,fn:g}=l[i],{x:v,y:b,data:y,reset:x}=await g({x:u,y:p,initialPlacement:n,placement:h,strategy:r,middlewareData:m,rects:d,platform:o,elements:{reference:e,floating:t}});u=null!=v?v:u,p=null!=b?b:p,m={...m,[a]:{...m[a],...y}},x&&f<=50&&(f++,"object"==typeof x&&(x.placement&&(h=x.placement),x.rects&&(d=!0===x.rects?await o.getElementRects({reference:e,floating:t,strategy:r}):x.rects),{x:u,y:p}=s(d,h,c)),i=-1)}return{x:u,y:p,placement:h,strategy:r,middlewareData:m}};async function a(e,t){var i;void 0===t&&(t={});let{x:s,y:r,platform:a,rects:o,elements:l,strategy:c}=e,{boundary:d="clippingAncestors",rootBoundary:u="viewport",elementContext:p="floating",altBoundary:h=!1,padding:m=0}=(0,n.ku)(t,e),f=(0,n.yd)(m),g=l[h?"floating"===p?"reference":"floating":p],v=(0,n.JB)(await a.getClippingRect({element:null==(i=await (null==a.isElement?void 0:a.isElement(g)))||i?g:g.contextElement||await (null==a.getDocumentElement?void 0:a.getDocumentElement(l.floating)),boundary:d,rootBoundary:u,strategy:c})),b="floating"===p?{x:s,y:r,width:o.floating.width,height:o.floating.height}:o.reference,y=await (null==a.getOffsetParent?void 0:a.getOffsetParent(l.floating)),x=await (null==a.isElement?void 0:a.isElement(y))&&await (null==a.getScale?void 0:a.getScale(y))||{x:1,y:1},_=(0,n.JB)(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:b,offsetParent:y,strategy:c}):b);return{top:(v.top-_.top+f.top)/x.y,bottom:(_.bottom-v.bottom+f.bottom)/x.y,left:(v.left-_.left+f.left)/x.x,right:(_.right-v.right+f.right)/x.x}}function o(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function l(e){return n.mA.some(t=>e[t]>=0)}async function c(e,t){let{placement:i,platform:s,elements:r}=e,a=await (null==s.isRTL?void 0:s.isRTL(r.floating)),o=(0,n.k3)(i),l=(0,n.hp)(i),c="y"===(0,n.Qq)(i),d=["left","top"].includes(o)?-1:1,u=a&&c?-1:1,p=(0,n.ku)(t,e),{mainAxis:h,crossAxis:m,alignmentAxis:f}="number"==typeof p?{mainAxis:p,crossAxis:0,alignmentAxis:null}:{mainAxis:p.mainAxis||0,crossAxis:p.crossAxis||0,alignmentAxis:p.alignmentAxis};return l&&"number"==typeof f&&(m="end"===l?-1*f:f),c?{x:m*u,y:h*d}:{x:h*d,y:m*u}}var d=i(26640);function u(e){let t=(0,d.Dx)(e),i=parseFloat(t.width)||0,s=parseFloat(t.height)||0,r=(0,d.Re)(e),a=r?e.offsetWidth:i,o=r?e.offsetHeight:s,l=(0,n.NM)(i)!==a||(0,n.NM)(s)!==o;return l&&(i=a,s=o),{width:i,height:s,$:l}}function p(e){return(0,d.kK)(e)?e:e.contextElement}function h(e){let t=p(e);if(!(0,d.Re)(t))return(0,n.ze)(1);let i=t.getBoundingClientRect(),{width:s,height:r,$:a}=u(t),o=(a?(0,n.NM)(i.width):i.width)/s,l=(a?(0,n.NM)(i.height):i.height)/r;return o&&Number.isFinite(o)||(o=1),l&&Number.isFinite(l)||(l=1),{x:o,y:l}}let m=(0,n.ze)(0);function f(e){let t=(0,d.Jj)(e);return(0,d.Pf)()&&t.visualViewport?{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}:m}function g(e,t,i,s){var r;void 0===t&&(t=!1),void 0===i&&(i=!1);let a=e.getBoundingClientRect(),o=p(e),l=(0,n.ze)(1);t&&(s?(0,d.kK)(s)&&(l=h(s)):l=h(e));let c=(void 0===(r=i)&&(r=!1),s&&(!r||s===(0,d.Jj)(o))&&r)?f(o):(0,n.ze)(0),u=(a.left+c.x)/l.x,m=(a.top+c.y)/l.y,g=a.width/l.x,v=a.height/l.y;if(o){let e=(0,d.Jj)(o),t=s&&(0,d.kK)(s)?(0,d.Jj)(s):s,i=e,n=(0,d.wK)(i);for(;n&&s&&t!==i;){let e=h(n),t=n.getBoundingClientRect(),s=(0,d.Dx)(n),r=t.left+(n.clientLeft+parseFloat(s.paddingLeft))*e.x,a=t.top+(n.clientTop+parseFloat(s.paddingTop))*e.y;u*=e.x,m*=e.y,g*=e.x,v*=e.y,u+=r,m+=a,i=(0,d.Jj)(n),n=(0,d.wK)(i)}}return(0,n.JB)({width:g,height:v,x:u,y:m})}function v(e,t){let i=(0,d.Lw)(e).scrollLeft;return t?t.left+i:g((0,d.tF)(e)).left+i}function b(e,t,i){let s;if("viewport"===t)s=function(e,t){let i=(0,d.Jj)(e),n=(0,d.tF)(e),s=i.visualViewport,r=n.clientWidth,a=n.clientHeight,o=0,l=0;if(s){r=s.width,a=s.height;let e=(0,d.Pf)();(!e||e&&"fixed"===t)&&(o=s.offsetLeft,l=s.offsetTop)}return{width:r,height:a,x:o,y:l}}(e,i);else if("document"===t)s=function(e){let t=(0,d.tF)(e),i=(0,d.Lw)(e),s=e.ownerDocument.body,r=(0,n.Fp)(t.scrollWidth,t.clientWidth,s.scrollWidth,s.clientWidth),a=(0,n.Fp)(t.scrollHeight,t.clientHeight,s.scrollHeight,s.clientHeight),o=-i.scrollLeft+v(e),l=-i.scrollTop;return"rtl"===(0,d.Dx)(s).direction&&(o+=(0,n.Fp)(t.clientWidth,s.clientWidth)-r),{width:r,height:a,x:o,y:l}}((0,d.tF)(e));else if((0,d.kK)(t))s=function(e,t){let i=g(e,!0,"fixed"===t),s=i.top+e.clientTop,r=i.left+e.clientLeft,a=(0,d.Re)(e)?h(e):(0,n.ze)(1),o=e.clientWidth*a.x;return{width:o,height:e.clientHeight*a.y,x:r*a.x,y:s*a.y}}(t,i);else{let i=f(e);s={...t,x:t.x-i.x,y:t.y-i.y}}return(0,n.JB)(s)}function y(e){return"static"===(0,d.Dx)(e).position}function x(e,t){if(!(0,d.Re)(e)||"fixed"===(0,d.Dx)(e).position)return null;if(t)return t(e);let i=e.offsetParent;return(0,d.tF)(e)===i&&(i=i.ownerDocument.body),i}function _(e,t){let i=(0,d.Jj)(e);if((0,d.tR)(e))return i;if(!(0,d.Re)(e)){let t=(0,d.Ow)(e);for(;t&&!(0,d.Py)(t);){if((0,d.kK)(t)&&!y(t))return t;t=(0,d.Ow)(t)}return i}let n=x(e,t);for(;n&&(0,d.Ze)(n)&&y(n);)n=x(n,t);return n&&(0,d.Py)(n)&&y(n)&&!(0,d.hT)(n)?i:n||(0,d.gQ)(e)||i}let w=async function(e){let t=this.getOffsetParent||_,i=this.getDimensions,s=await i(e.floating);return{reference:function(e,t,i){let s=(0,d.Re)(t),r=(0,d.tF)(t),a="fixed"===i,o=g(e,!0,a,t),l={scrollLeft:0,scrollTop:0},c=(0,n.ze)(0);if(s||!s&&!a){if(("body"!==(0,d.wk)(t)||(0,d.ao)(r))&&(l=(0,d.Lw)(t)),s){let e=g(t,!0,a,t);c.x=e.x+t.clientLeft,c.y=e.y+t.clientTop}else r&&(c.x=v(r))}let u=0,p=0;if(r&&!s&&!a){let e=r.getBoundingClientRect();p=e.top+l.scrollTop,u=e.left+l.scrollLeft-v(r,e)}return{x:o.left+l.scrollLeft-c.x-u,y:o.top+l.scrollTop-c.y-p,width:o.width,height:o.height}}(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:s.width,height:s.height}}},S={convertOffsetParentRelativeRectToViewportRelativeRect:function(e){let{elements:t,rect:i,offsetParent:s,strategy:r}=e,a="fixed"===r,o=(0,d.tF)(s),l=!!t&&(0,d.tR)(t.floating);if(s===o||l&&a)return i;let c={scrollLeft:0,scrollTop:0},u=(0,n.ze)(1),p=(0,n.ze)(0),m=(0,d.Re)(s);if((m||!m&&!a)&&(("body"!==(0,d.wk)(s)||(0,d.ao)(o))&&(c=(0,d.Lw)(s)),(0,d.Re)(s))){let e=g(s);u=h(s),p.x=e.x+s.clientLeft,p.y=e.y+s.clientTop}return{width:i.width*u.x,height:i.height*u.y,x:i.x*u.x-c.scrollLeft*u.x+p.x,y:i.y*u.y-c.scrollTop*u.y+p.y}},getDocumentElement:d.tF,getClippingRect:function(e){let{element:t,boundary:i,rootBoundary:s,strategy:r}=e,a=[..."clippingAncestors"===i?(0,d.tR)(t)?[]:function(e,t){let i=t.get(e);if(i)return i;let n=(0,d.Kx)(e,[],!1).filter(e=>(0,d.kK)(e)&&"body"!==(0,d.wk)(e)),s=null,r="fixed"===(0,d.Dx)(e).position,a=r?(0,d.Ow)(e):e;for(;(0,d.kK)(a)&&!(0,d.Py)(a);){let t=(0,d.Dx)(a),i=(0,d.hT)(a);i||"fixed"!==t.position||(s=null),(r?!i&&!s:!i&&"static"===t.position&&!!s&&["absolute","fixed"].includes(s.position)||(0,d.ao)(a)&&!i&&function e(t,i){let n=(0,d.Ow)(t);return!(n===i||!(0,d.kK)(n)||(0,d.Py)(n))&&("fixed"===(0,d.Dx)(n).position||e(n,i))}(e,a))?n=n.filter(e=>e!==a):s=t,a=(0,d.Ow)(a)}return t.set(e,n),n}(t,this._c):[].concat(i),s],o=a[0],l=a.reduce((e,i)=>{let s=b(t,i,r);return e.top=(0,n.Fp)(s.top,e.top),e.right=(0,n.VV)(s.right,e.right),e.bottom=(0,n.VV)(s.bottom,e.bottom),e.left=(0,n.Fp)(s.left,e.left),e},b(t,o,r));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}},getOffsetParent:_,getElementRects:w,getClientRects:function(e){return Array.from(e.getClientRects())},getDimensions:function(e){let{width:t,height:i}=u(e);return{width:t,height:i}},getScale:h,isElement:d.kK,isRTL:function(e){return"rtl"===(0,d.Dx)(e).direction}};function k(e,t,i,s){let r;void 0===s&&(s={});let{ancestorScroll:a=!0,ancestorResize:o=!0,elementResize:l="function"==typeof ResizeObserver,layoutShift:c="function"==typeof IntersectionObserver,animationFrame:u=!1}=s,h=p(e),m=a||o?[...h?(0,d.Kx)(h):[],...(0,d.Kx)(t)]:[];m.forEach(e=>{a&&e.addEventListener("scroll",i,{passive:!0}),o&&e.addEventListener("resize",i)});let f=h&&c?function(e,t){let i,s=null,r=(0,d.tF)(e);function a(){var e;clearTimeout(i),null==(e=s)||e.disconnect(),s=null}return function o(l,c){void 0===l&&(l=!1),void 0===c&&(c=1),a();let{left:d,top:u,width:p,height:h}=e.getBoundingClientRect();if(l||t(),!p||!h)return;let m=(0,n.GW)(u),f=(0,n.GW)(r.clientWidth-(d+p)),g={rootMargin:-m+"px "+-f+"px "+-(0,n.GW)(r.clientHeight-(u+h))+"px "+-(0,n.GW)(d)+"px",threshold:(0,n.Fp)(0,(0,n.VV)(1,c))||1},v=!0;function b(e){let t=e[0].intersectionRatio;if(t!==c){if(!v)return o();t?o(!1,t):i=setTimeout(()=>{o(!1,1e-7)},1e3)}v=!1}try{s=new IntersectionObserver(b,{...g,root:r.ownerDocument})}catch(e){s=new IntersectionObserver(b,g)}s.observe(e)}(!0),a}(h,i):null,v=-1,b=null;l&&(b=new ResizeObserver(e=>{let[n]=e;n&&n.target===h&&b&&(b.unobserve(t),cancelAnimationFrame(v),v=requestAnimationFrame(()=>{var e;null==(e=b)||e.observe(t)})),i()}),h&&!u&&b.observe(h),b.observe(t));let y=u?g(e):null;return u&&function t(){let n=g(e);y&&(n.x!==y.x||n.y!==y.y||n.width!==y.width||n.height!==y.height)&&i(),y=n,r=requestAnimationFrame(t)}(),i(),()=>{var e;m.forEach(e=>{a&&e.removeEventListener("scroll",i),o&&e.removeEventListener("resize",i)}),null==f||f(),null==(e=b)||e.disconnect(),b=null,u&&cancelAnimationFrame(r)}}let E=function(e){return void 0===e&&(e=0),{name:"offset",options:e,async fn(t){var i,n;let{x:s,y:r,placement:a,middlewareData:o}=t,l=await c(t,e);return a===(null==(i=o.offset)?void 0:i.placement)&&null!=(n=o.arrow)&&n.alignmentOffset?{}:{x:s+l.x,y:r+l.y,data:{...l,placement:a}}}}},T=function(e){return void 0===e&&(e={}),{name:"shift",options:e,async fn(t){let{x:i,y:s,placement:r}=t,{mainAxis:o=!0,crossAxis:l=!1,limiter:c={fn:e=>{let{x:t,y:i}=e;return{x:t,y:i}}},...d}=(0,n.ku)(e,t),u={x:i,y:s},p=await a(t,d),h=(0,n.Qq)((0,n.k3)(r)),m=(0,n.Rn)(h),f=u[m],g=u[h];if(o){let e="y"===m?"top":"left",t="y"===m?"bottom":"right",i=f+p[e],s=f-p[t];f=(0,n.uZ)(i,f,s)}if(l){let e="y"===h?"top":"left",t="y"===h?"bottom":"right",i=g+p[e],s=g-p[t];g=(0,n.uZ)(i,g,s)}let v=c.fn({...t,[m]:f,[h]:g});return{...v,data:{x:v.x-i,y:v.y-s,enabled:{[m]:o,[h]:l}}}}}},C=function(e){return void 0===e&&(e={}),{name:"flip",options:e,async fn(t){var i,s,r,o,l;let{placement:c,middlewareData:d,rects:u,initialPlacement:p,platform:h,elements:m}=t,{mainAxis:f=!0,crossAxis:g=!0,fallbackPlacements:v,fallbackStrategy:b="bestFit",fallbackAxisSideDirection:y="none",flipAlignment:x=!0,..._}=(0,n.ku)(e,t);if(null!=(i=d.arrow)&&i.alignmentOffset)return{};let w=(0,n.k3)(c),S=(0,n.Qq)(p),k=(0,n.k3)(p)===p,E=await (null==h.isRTL?void 0:h.isRTL(m.floating)),T=v||(k||!x?[(0,n.pw)(p)]:(0,n.gy)(p)),C="none"!==y;!v&&C&&T.push(...(0,n.KX)(p,x,y,E));let R=[p,...T],O=await a(t,_),P=[],j=(null==(s=d.flip)?void 0:s.overflows)||[];if(f&&P.push(O[w]),g){let e=(0,n.i8)(c,u,E);P.push(O[e[0]],O[e[1]])}if(j=[...j,{placement:c,overflows:P}],!P.every(e=>e<=0)){let e=((null==(r=d.flip)?void 0:r.index)||0)+1,t=R[e];if(t)return{data:{index:e,overflows:j},reset:{placement:t}};let i=null==(o=j.filter(e=>e.overflows[0]<=0).sort((e,t)=>e.overflows[1]-t.overflows[1])[0])?void 0:o.placement;if(!i)switch(b){case"bestFit":{let e=null==(l=j.filter(e=>{if(C){let t=(0,n.Qq)(e.placement);return t===S||"y"===t}return!0}).map(e=>[e.placement,e.overflows.filter(e=>e>0).reduce((e,t)=>e+t,0)]).sort((e,t)=>e[1]-t[1])[0])?void 0:l[0];e&&(i=e);break}case"initialPlacement":i=p}if(c!==i)return{reset:{placement:i}}}return{}}}},R=function(e){return void 0===e&&(e={}),{name:"size",options:e,async fn(t){var i,s;let r,o;let{placement:l,rects:c,platform:d,elements:u}=t,{apply:p=()=>{},...h}=(0,n.ku)(e,t),m=await a(t,h),f=(0,n.k3)(l),g=(0,n.hp)(l),v="y"===(0,n.Qq)(l),{width:b,height:y}=c.floating;"top"===f||"bottom"===f?(r=f,o=g===(await (null==d.isRTL?void 0:d.isRTL(u.floating))?"start":"end")?"left":"right"):(o=f,r="end"===g?"top":"bottom");let x=y-m.top-m.bottom,_=b-m.left-m.right,w=(0,n.VV)(y-m[r],x),S=(0,n.VV)(b-m[o],_),k=!t.middlewareData.shift,E=w,T=S;if(null!=(i=t.middlewareData.shift)&&i.enabled.x&&(T=_),null!=(s=t.middlewareData.shift)&&s.enabled.y&&(E=x),k&&!g){let e=(0,n.Fp)(m.left,0),t=(0,n.Fp)(m.right,0),i=(0,n.Fp)(m.top,0),s=(0,n.Fp)(m.bottom,0);v?T=b-2*(0!==e||0!==t?e+t:(0,n.Fp)(m.left,m.right)):E=y-2*(0!==i||0!==s?i+s:(0,n.Fp)(m.top,m.bottom))}await p({...t,availableWidth:T,availableHeight:E});let C=await d.getDimensions(u.floating);return b!==C.width||y!==C.height?{reset:{rects:!0}}:{}}}},O=function(e){return void 0===e&&(e={}),{name:"hide",options:e,async fn(t){let{rects:i}=t,{strategy:s="referenceHidden",...r}=(0,n.ku)(e,t);switch(s){case"referenceHidden":{let e=o(await a(t,{...r,elementContext:"reference"}),i.reference);return{data:{referenceHiddenOffsets:e,referenceHidden:l(e)}}}case"escaped":{let e=o(await a(t,{...r,altBoundary:!0}),i.floating);return{data:{escapedOffsets:e,escaped:l(e)}}}default:return{}}}}},P=e=>({name:"arrow",options:e,async fn(t){let{x:i,y:s,placement:r,rects:a,platform:o,elements:l,middlewareData:c}=t,{element:d,padding:u=0}=(0,n.ku)(e,t)||{};if(null==d)return{};let p=(0,n.yd)(u),h={x:i,y:s},m=(0,n.Wh)(r),f=(0,n.I4)(m),g=await o.getDimensions(d),v="y"===m,b=v?"clientHeight":"clientWidth",y=a.reference[f]+a.reference[m]-h[m]-a.floating[f],x=h[m]-a.reference[m],_=await (null==o.getOffsetParent?void 0:o.getOffsetParent(d)),w=_?_[b]:0;w&&await (null==o.isElement?void 0:o.isElement(_))||(w=l.floating[b]||a.floating[f]);let S=w/2-g[f]/2-1,k=(0,n.VV)(p[v?"top":"left"],S),E=(0,n.VV)(p[v?"bottom":"right"],S),T=w-g[f]-E,C=w/2-g[f]/2+(y/2-x/2),R=(0,n.uZ)(k,C,T),O=!c.arrow&&null!=(0,n.hp)(r)&&C!==R&&a.reference[f]/2-(C<k?k:E)-g[f]/2<0,P=O?C<k?C-k:C-T:0;return{[m]:h[m]+P,data:{[m]:R,centerOffset:C-R-P,...O&&{alignmentOffset:P}},reset:O}}}),j=function(e){return void 0===e&&(e={}),{options:e,fn(t){let{x:i,y:s,placement:r,rects:a,middlewareData:o}=t,{offset:l=0,mainAxis:c=!0,crossAxis:d=!0}=(0,n.ku)(e,t),u={x:i,y:s},p=(0,n.Qq)(r),h=(0,n.Rn)(p),m=u[h],f=u[p],g=(0,n.ku)(l,t),v="number"==typeof g?{mainAxis:g,crossAxis:0}:{mainAxis:0,crossAxis:0,...g};if(c){let e="y"===h?"height":"width",t=a.reference[h]-a.floating[e]+v.mainAxis,i=a.reference[h]+a.reference[e]-v.mainAxis;m<t?m=t:m>i&&(m=i)}if(d){var b,y;let e="y"===h?"width":"height",t=["top","left"].includes((0,n.k3)(r)),i=a.reference[p]-a.floating[e]+(t&&(null==(b=o.offset)?void 0:b[p])||0)+(t?0:v.crossAxis),s=a.reference[p]+a.reference[e]+(t?0:(null==(y=o.offset)?void 0:y[p])||0)-(t?v.crossAxis:0);f<i?f=i:f>s&&(f=s)}return{[h]:m,[p]:f}}}},I=(e,t,i)=>{let n=new Map,s={platform:S,...i},a={...s.platform,_c:n};return r(e,t,{...s,platform:a})}},77192:(e,t,i)=>{"use strict";i.d(t,{Cp:()=>b,RR:()=>g,YF:()=>u,cv:()=>h,dp:()=>v,dr:()=>f,uY:()=>m,x7:()=>y});var n=i(77777),s=i(17577),r=i(60962),a="undefined"!=typeof document?s.useLayoutEffect:s.useEffect;function o(e,t){let i,n,s;if(e===t)return!0;if(typeof e!=typeof t)return!1;if("function"==typeof e&&e.toString()===t.toString())return!0;if(e&&t&&"object"==typeof e){if(Array.isArray(e)){if((i=e.length)!==t.length)return!1;for(n=i;0!=n--;)if(!o(e[n],t[n]))return!1;return!0}if((i=(s=Object.keys(e)).length)!==Object.keys(t).length)return!1;for(n=i;0!=n--;)if(!({}).hasOwnProperty.call(t,s[n]))return!1;for(n=i;0!=n--;){let i=s[n];if(("_owner"!==i||!e.$$typeof)&&!o(e[i],t[i]))return!1}return!0}return e!=e&&t!=t}function l(e){return"undefined"==typeof window?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function c(e,t){let i=l(e);return Math.round(t*i)/i}function d(e){let t=s.useRef(e);return a(()=>{t.current=e}),t}function u(e){void 0===e&&(e={});let{placement:t="bottom",strategy:i="absolute",middleware:u=[],platform:p,elements:{reference:h,floating:m}={},transform:f=!0,whileElementsMounted:g,open:v}=e,[b,y]=s.useState({x:0,y:0,strategy:i,placement:t,middlewareData:{},isPositioned:!1}),[x,_]=s.useState(u);o(x,u)||_(u);let[w,S]=s.useState(null),[k,E]=s.useState(null),T=s.useCallback(e=>{e!==P.current&&(P.current=e,S(e))},[]),C=s.useCallback(e=>{e!==j.current&&(j.current=e,E(e))},[]),R=h||w,O=m||k,P=s.useRef(null),j=s.useRef(null),I=s.useRef(b),N=null!=g,D=d(g),A=d(p),L=d(v),M=s.useCallback(()=>{if(!P.current||!j.current)return;let e={placement:t,strategy:i,middleware:x};A.current&&(e.platform=A.current),(0,n.oo)(P.current,j.current,e).then(e=>{let t={...e,isPositioned:!1!==L.current};U.current&&!o(I.current,t)&&(I.current=t,r.flushSync(()=>{y(t)}))})},[x,t,i,A,L]);a(()=>{!1===v&&I.current.isPositioned&&(I.current.isPositioned=!1,y(e=>({...e,isPositioned:!1})))},[v]);let U=s.useRef(!1);a(()=>(U.current=!0,()=>{U.current=!1}),[]),a(()=>{if(R&&(P.current=R),O&&(j.current=O),R&&O){if(D.current)return D.current(R,O,M);M()}},[R,O,M,D,N]);let F=s.useMemo(()=>({reference:P,floating:j,setReference:T,setFloating:C}),[T,C]),B=s.useMemo(()=>({reference:R,floating:O}),[R,O]),$=s.useMemo(()=>{let e={position:i,left:0,top:0};if(!B.floating)return e;let t=c(B.floating,b.x),n=c(B.floating,b.y);return f?{...e,transform:"translate("+t+"px, "+n+"px)",...l(B.floating)>=1.5&&{willChange:"transform"}}:{position:i,left:t,top:n}},[i,f,B.floating,b.x,b.y]);return s.useMemo(()=>({...b,update:M,refs:F,elements:B,floatingStyles:$}),[b,M,F,B,$])}let p=e=>({name:"arrow",options:e,fn(t){let{element:i,padding:s}="function"==typeof e?e(t):e;return i&&({}).hasOwnProperty.call(i,"current")?null!=i.current?(0,n.x7)({element:i.current,padding:s}).fn(t):{}:i?(0,n.x7)({element:i,padding:s}).fn(t):{}}}),h=(e,t)=>({...(0,n.cv)(e),options:[e,t]}),m=(e,t)=>({...(0,n.uY)(e),options:[e,t]}),f=(e,t)=>({...(0,n.dr)(e),options:[e,t]}),g=(e,t)=>({...(0,n.RR)(e),options:[e,t]}),v=(e,t)=>({...(0,n.dp)(e),options:[e,t]}),b=(e,t)=>({...(0,n.Cp)(e),options:[e,t]}),y=(e,t)=>({...p(e),options:[e,t]})},23964:(e,t,i)=>{"use strict";let n;i.d(t,{Y$:()=>ex,wD:()=>e5,vs:()=>eh,y0:()=>e9,ll:()=>eQ,eS:()=>te,bQ:()=>ts,YF:()=>tr,XI:()=>eO,NI:()=>tc,JA:()=>em,c0:()=>tf,qs:()=>tv,ox:()=>tb});var s=i(17577),r=i.t(s,2),a=i(26640);function o(e){let t=e.activeElement;for(;(null==(i=t)||null==(i=i.shadowRoot)?void 0:i.activeElement)!=null;){var i;t=t.shadowRoot.activeElement}return t}function l(e,t){if(!e||!t)return!1;let i=null==t.getRootNode?void 0:t.getRootNode();if(e.contains(t))return!0;if(i&&(0,a.Zq)(i)){let i=t;for(;i;){if(e===i)return!0;i=i.parentNode||i.host}}return!1}function c(){let e=navigator.userAgentData;return null!=e&&e.platform?e.platform:navigator.platform}function d(){let e=navigator.userAgentData;return e&&Array.isArray(e.brands)?e.brands.map(e=>{let{brand:t,version:i}=e;return t+"/"+i}).join(" "):navigator.userAgent}function u(e){return 0===e.mozInputSource&&!!e.isTrusted||(m()&&e.pointerType?"click"===e.type&&1===e.buttons:0===e.detail&&!e.pointerType)}function p(e){return!d().includes("jsdom/")&&(!m()&&0===e.width&&0===e.height||m()&&1===e.width&&1===e.height&&0===e.pressure&&0===e.detail&&"mouse"===e.pointerType||e.width<1&&e.height<1&&0===e.pressure&&0===e.detail&&"touch"===e.pointerType)}function h(){return/apple/i.test(navigator.vendor)}function m(){let e=/android/i;return e.test(c())||e.test(d())}function f(e,t){let i=["mouse","pen"];return t||i.push("",void 0),i.includes(e)}function g(e){return(null==e?void 0:e.ownerDocument)||document}function v(e,t){return null!=t&&("composedPath"in e?e.composedPath().includes(t):null!=e.target&&t.contains(e.target))}function b(e){return"composedPath"in e?e.composedPath()[0]:e.target}function y(e){return(0,a.Re)(e)&&e.matches("input:not([type='hidden']):not([disabled]),[contenteditable]:not([contenteditable='false']),textarea:not([disabled])")}function x(e){e.preventDefault(),e.stopPropagation()}function _(e){return!!e&&"combobox"===e.getAttribute("role")&&y(e)}var w=i(25564),S='input:not([inert]),select:not([inert]),textarea:not([inert]),a[href]:not([inert]),button:not([inert]),[tabindex]:not(slot):not([inert]),audio[controls]:not([inert]),video[controls]:not([inert]),[contenteditable]:not([contenteditable="false"]):not([inert]),details>summary:first-of-type:not([inert]),details:not([inert])',k="undefined"==typeof Element,E=k?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,T=!k&&Element.prototype.getRootNode?function(e){var t;return null==e?void 0:null===(t=e.getRootNode)||void 0===t?void 0:t.call(e)}:function(e){return null==e?void 0:e.ownerDocument},C=function e(t,i){void 0===i&&(i=!0);var n,s=null==t?void 0:null===(n=t.getAttribute)||void 0===n?void 0:n.call(t,"inert");return""===s||"true"===s||i&&t&&e(t.parentNode)},R=function(e){var t,i=null==e?void 0:null===(t=e.getAttribute)||void 0===t?void 0:t.call(e,"contenteditable");return""===i||"true"===i},O=function(e,t,i){if(C(e))return[];var n=Array.prototype.slice.apply(e.querySelectorAll(S));return t&&E.call(e,S)&&n.unshift(e),n=n.filter(i)},P=function e(t,i,n){for(var s=[],r=Array.from(t);r.length;){var a=r.shift();if(!C(a,!1)){if("SLOT"===a.tagName){var o=a.assignedElements(),l=e(o.length?o:a.children,!0,n);n.flatten?s.push.apply(s,l):s.push({scopeParent:a,candidates:l})}else{E.call(a,S)&&n.filter(a)&&(i||!t.includes(a))&&s.push(a);var c=a.shadowRoot||"function"==typeof n.getShadowRoot&&n.getShadowRoot(a),d=!C(c,!1)&&(!n.shadowRootFilter||n.shadowRootFilter(a));if(c&&d){var u=e(!0===c?a.children:c.children,!0,n);n.flatten?s.push.apply(s,u):s.push({scopeParent:a,candidates:u})}else r.unshift.apply(r,a.children)}}}return s},j=function(e){return!isNaN(parseInt(e.getAttribute("tabindex"),10))},I=function(e){if(!e)throw Error("No node provided");return e.tabIndex<0&&(/^(AUDIO|VIDEO|DETAILS)$/.test(e.tagName)||R(e))&&!j(e)?0:e.tabIndex},N=function(e,t){var i=I(e);return i<0&&t&&!j(e)?0:i},D=function(e,t){return e.tabIndex===t.tabIndex?e.documentOrder-t.documentOrder:e.tabIndex-t.tabIndex},A=function(e){return"INPUT"===e.tagName},L=function(e,t){for(var i=0;i<e.length;i++)if(e[i].checked&&e[i].form===t)return e[i]},M=function(e){if(!e.name)return!0;var t,i=e.form||T(e),n=function(e){return i.querySelectorAll('input[type="radio"][name="'+e+'"]')};if("undefined"!=typeof window&&void 0!==window.CSS&&"function"==typeof window.CSS.escape)t=n(window.CSS.escape(e.name));else try{t=n(e.name)}catch(e){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",e.message),!1}var s=L(t,e.form);return!s||s===e},U=function(e){var t,i,n,s,r,a,o,l=e&&T(e),c=null===(t=l)||void 0===t?void 0:t.host,d=!1;if(l&&l!==e)for(d=!!(null!==(i=c)&&void 0!==i&&null!==(n=i.ownerDocument)&&void 0!==n&&n.contains(c)||null!=e&&null!==(s=e.ownerDocument)&&void 0!==s&&s.contains(e));!d&&c;)d=!!(null!==(a=c=null===(r=l=T(c))||void 0===r?void 0:r.host)&&void 0!==a&&null!==(o=a.ownerDocument)&&void 0!==o&&o.contains(c));return d},F=function(e){var t=e.getBoundingClientRect(),i=t.width,n=t.height;return 0===i&&0===n},B=function(e,t){var i=t.displayCheck,n=t.getShadowRoot;if("hidden"===getComputedStyle(e).visibility)return!0;var s=E.call(e,"details>summary:first-of-type")?e.parentElement:e;if(E.call(s,"details:not([open]) *"))return!0;if(i&&"full"!==i&&"legacy-full"!==i){if("non-zero-area"===i)return F(e)}else{if("function"==typeof n){for(var r=e;e;){var a=e.parentElement,o=T(e);if(a&&!a.shadowRoot&&!0===n(a))return F(e);e=e.assignedSlot?e.assignedSlot:a||o===e.ownerDocument?a:o.host}e=r}if(U(e))return!e.getClientRects().length;if("legacy-full"!==i)return!0}return!1},$=function(e){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(e.tagName))for(var t=e.parentElement;t;){if("FIELDSET"===t.tagName&&t.disabled){for(var i=0;i<t.children.length;i++){var n=t.children.item(i);if("LEGEND"===n.tagName)return!!E.call(t,"fieldset[disabled] *")||!n.contains(e)}return!0}t=t.parentElement}return!1},q=function(e,t){var i,n,s;return!(A(i=t)&&"radio"===i.type&&!M(i)||0>I(t))&&(n=e,!((s=t).disabled||C(s)||A(s)&&"hidden"===s.type||B(s,n)||"DETAILS"===s.tagName&&Array.prototype.slice.apply(s.children).some(function(e){return"SUMMARY"===e.tagName})||$(s)))},V=function(e){var t=parseInt(e.getAttribute("tabindex"),10);return!!isNaN(t)||t>=0},W=function e(t){var i=[],n=[];return t.forEach(function(t,s){var r=!!t.scopeParent,a=r?t.scopeParent:t,o=N(a,r),l=r?e(t.candidates):a;0===o?r?i.push.apply(i,l):i.push(a):n.push({documentOrder:s,tabIndex:o,item:t,isScope:r,content:l})}),n.sort(D).reduce(function(e,t){return t.isScope?e.push.apply(e,t.content):e.push(t.content),e},[]).concat(i)},z=function(e,t){return W((t=t||{}).getShadowRoot?P([e],t.includeContainer,{filter:q.bind(null,t),flatten:!1,getShadowRoot:t.getShadowRoot,shadowRootFilter:V}):O(e,t.includeContainer,q.bind(null,t)))},H=function(e,t){if(t=t||{},!e)throw Error("No node provided");return!1!==E.call(e,S)&&q(t,e)},K=i(60962),G=i(77192);let J={...r},Y=J.useInsertionEffect||(e=>e());function Q(e){let t=s.useRef(()=>{});return Y(()=>{t.current=e}),s.useCallback(function(){for(var e=arguments.length,i=Array(e),n=0;n<e;n++)i[n]=arguments[n];return null==t.current?void 0:t.current(...i)},[])}let X="ArrowUp",Z="ArrowDown",ee="ArrowLeft",et="ArrowRight";function ei(e,t,i){return Math.floor(e/t)!==i}function en(e,t){return t<0||t>=e.current.length}function es(e,t){return ea(e,{disabledIndices:t})}function er(e,t){return ea(e,{decrement:!0,startingIndex:e.current.length,disabledIndices:t})}function ea(e,t){let{startingIndex:i=-1,decrement:n=!1,disabledIndices:s,amount:r=1}=void 0===t?{}:t,a=e.current,o=i;do o+=n?-r:r;while(o>=0&&o<=a.length-1&&eo(a,o,s));return o}function eo(e,t,i){if(i)return i.includes(t);let n=e[t];return null==n||n.hasAttribute("disabled")||"true"===n.getAttribute("aria-disabled")}let el=0;function ec(e,t){void 0===t&&(t={});let{preventScroll:i=!1,cancelPrevious:n=!0,sync:s=!1}=t;n&&cancelAnimationFrame(el);let r=()=>null==e?void 0:e.focus({preventScroll:i});s?r():el=requestAnimationFrame(r)}var ed="undefined"!=typeof document?s.useLayoutEffect:s.useEffect;function eu(e,t){let i=e.compareDocumentPosition(t);return i&Node.DOCUMENT_POSITION_FOLLOWING||i&Node.DOCUMENT_POSITION_CONTAINED_BY?-1:i&Node.DOCUMENT_POSITION_PRECEDING||i&Node.DOCUMENT_POSITION_CONTAINS?1:0}let ep=s.createContext({register:()=>{},unregister:()=>{},map:new Map,elementsRef:{current:[]}});function eh(e){let{children:t,elementsRef:i,labelsRef:n}=e,[r,a]=s.useState(()=>new Map),o=s.useCallback(e=>{a(t=>new Map(t).set(e,null))},[]),l=s.useCallback(e=>{a(t=>{let i=new Map(t);return i.delete(e),i})},[]);return ed(()=>{let e=new Map(r);Array.from(e.keys()).sort(eu).forEach((t,i)=>{e.set(t,i)}),!function(e,t){if(e.size!==t.size)return!1;for(let[i,n]of e.entries())if(n!==t.get(i))return!1;return!0}(r,e)&&a(e)},[r]),s.createElement(ep.Provider,{value:s.useMemo(()=>({register:o,unregister:l,map:r,elementsRef:i,labelsRef:n}),[o,l,r,i,n])},t)}function em(e){void 0===e&&(e={});let{label:t}=e,{register:i,unregister:n,map:r,elementsRef:a,labelsRef:o}=s.useContext(ep),[l,c]=s.useState(null),d=s.useRef(null),u=s.useCallback(e=>{if(d.current=e,null!==l&&(a.current[l]=e,o)){var i;let n=void 0!==t;o.current[l]=n?t:null!=(i=null==e?void 0:e.textContent)?i:null}},[l,a,o,t]);return ed(()=>{let e=d.current;if(e)return i(e),()=>{n(e)}},[i,n]),ed(()=>{let e=d.current?r.get(d.current):null;null!=e&&c(e)},[r]),s.useMemo(()=>({ref:u,index:null==l?-1:l}),[l,u])}function ef(){return(ef=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}let eg=!1,ev=0,eb=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+ev++,ey=J.useId||function(){let[e,t]=s.useState(()=>eg?eb():void 0);return ed(()=>{null==e&&t(eb())},[]),s.useEffect(()=>{eg=!0},[]),e},ex=s.forwardRef(function(e,t){let{context:{placement:i,elements:{floating:n},middlewareData:{arrow:r,shift:o}},width:l=14,height:c=7,tipRadius:d=0,strokeWidth:u=0,staticOffset:p,stroke:h,d:m,style:{transform:f,...g}={},...v}=e,b=ey(),[y,x]=s.useState(!1);if(ed(()=>{n&&"rtl"===(0,a.Dx)(n).direction&&x(!0)},[n]),!n)return null;let[_,w]=i.split("-"),S="top"===_||"bottom"===_,k=p;(S&&null!=o&&o.x||!S&&null!=o&&o.y)&&(k=null);let E=2*u,T=E/2,C=l/2*(-(d/8)+1),R=c/2*d/4,O=!!m,P=k&&"end"===w?"bottom":"top",j=k&&"end"===w?"right":"left";k&&y&&(j="end"===w?"left":"right");let I=(null==r?void 0:r.x)!=null?k||r.x:"",N=(null==r?void 0:r.y)!=null?k||r.y:"",D=m||"M0,0 H"+l+" L"+(l-C)+","+(c-R)+(" Q"+l/2+","+c+" ")+C+","+(c-R)+" Z",A={top:O?"rotate(180deg)":"",left:O?"rotate(90deg)":"rotate(-90deg)",bottom:O?"":"rotate(180deg)",right:O?"rotate(-90deg)":"rotate(90deg)"}[_];return s.createElement("svg",ef({},v,{"aria-hidden":!0,ref:t,width:O?l:l+E,height:l,viewBox:"0 0 "+l+" "+(c>l?c:l),style:{position:"absolute",pointerEvents:"none",[j]:I,[P]:N,[_]:S||O?"100%":"calc(100% - "+E/2+"px)",transform:[A,f].filter(e=>!!e).join(" "),...g}}),E>0&&s.createElement("path",{clipPath:"url(#"+b+")",fill:"none",stroke:h,strokeWidth:E+(m?0:1),d:D}),s.createElement("path",{stroke:E&&!m?v.fill:"none",d:D}),s.createElement("clipPath",{id:b},s.createElement("rect",{x:-T,y:T*(O?-1:1),width:l+E,height:l})))}),e_=s.createContext(null),ew=s.createContext(null),eS=()=>{var e;return(null==(e=s.useContext(e_))?void 0:e.id)||null},ek=()=>s.useContext(ew);function eE(e){return"data-floating-ui-"+e}function eT(e){let t=(0,s.useRef)(e);return ed(()=>{t.current=e}),t}let eC=eE("safe-polygon");function eR(e,t,i){return i&&!f(i)?0:"number"==typeof e?e:null==e?void 0:e[t]}function eO(e,t){void 0===t&&(t={});let{open:i,onOpenChange:n,dataRef:r,events:o,elements:c}=e,{enabled:d=!0,delay:u=0,handleClose:p=null,mouseOnly:h=!1,restMs:m=0,move:v=!0}=t,b=ek(),y=eS(),x=eT(p),_=eT(u),w=eT(i),S=s.useRef(),k=s.useRef(-1),E=s.useRef(),T=s.useRef(-1),C=s.useRef(!0),R=s.useRef(!1),O=s.useRef(()=>{}),P=s.useCallback(()=>{var e;let t=null==(e=r.current.openEvent)?void 0:e.type;return(null==t?void 0:t.includes("mouse"))&&"mousedown"!==t},[r]);s.useEffect(()=>{if(d)return o.on("openchange",e),()=>{o.off("openchange",e)};function e(e){let{open:t}=e;t||(clearTimeout(k.current),clearTimeout(T.current),C.current=!0)}},[d,o]),s.useEffect(()=>{if(!d||!x.current||!i)return;function e(e){P()&&n(!1,e,"hover")}let t=g(c.floating).documentElement;return t.addEventListener("mouseleave",e),()=>{t.removeEventListener("mouseleave",e)}},[c.floating,i,n,d,x,P]);let j=s.useCallback(function(e,t,i){void 0===t&&(t=!0),void 0===i&&(i="hover");let s=eR(_.current,"close",S.current);s&&!E.current?(clearTimeout(k.current),k.current=window.setTimeout(()=>n(!1,e,i),s)):t&&(clearTimeout(k.current),n(!1,e,i))},[_,n]),I=Q(()=>{O.current(),E.current=void 0}),N=Q(()=>{if(R.current){let e=g(c.floating).body;e.style.pointerEvents="",e.removeAttribute(eC),R.current=!1}});s.useEffect(()=>{if(d&&(0,a.kK)(c.domReference)){var e;let t=c.domReference;return i&&t.addEventListener("mouseleave",u),null==(e=c.floating)||e.addEventListener("mouseleave",u),v&&t.addEventListener("mousemove",s,{once:!0}),t.addEventListener("mouseenter",s),t.addEventListener("mouseleave",o),()=>{var e;i&&t.removeEventListener("mouseleave",u),null==(e=c.floating)||e.removeEventListener("mouseleave",u),v&&t.removeEventListener("mousemove",s),t.removeEventListener("mouseenter",s),t.removeEventListener("mouseleave",o)}}function t(){return!!r.current.openEvent&&["click","mousedown"].includes(r.current.openEvent.type)}function s(e){if(clearTimeout(k.current),C.current=!1,h&&!f(S.current)||m>0&&!eR(_.current,"open"))return;let t=eR(_.current,"open",S.current);t?k.current=window.setTimeout(()=>{w.current||n(!0,e,"hover")},t):n(!0,e,"hover")}function o(e){if(t())return;O.current();let n=g(c.floating);if(clearTimeout(T.current),x.current&&r.current.floatingContext){i||clearTimeout(k.current),E.current=x.current({...r.current.floatingContext,tree:b,x:e.clientX,y:e.clientY,onClose(){N(),I(),j(e,!0,"safe-polygon")}});let t=E.current;n.addEventListener("mousemove",t),O.current=()=>{n.removeEventListener("mousemove",t)};return}"touch"===S.current&&l(c.floating,e.relatedTarget)||j(e)}function u(e){!t()&&r.current.floatingContext&&(null==x.current||x.current({...r.current.floatingContext,tree:b,x:e.clientX,y:e.clientY,onClose(){N(),I(),j(e)}})(e))}},[c,d,e,h,m,v,j,I,N,n,i,w,b,_,x,r]),ed(()=>{var e,t;if(d&&i&&null!=(e=x.current)&&e.__options.blockPointerEvents&&P()){R.current=!0;let e=c.floating;if((0,a.kK)(c.domReference)&&e){let i=g(c.floating).body;i.setAttribute(eC,"");let n=c.domReference,s=null==b||null==(t=b.nodesRef.current.find(e=>e.id===y))||null==(t=t.context)?void 0:t.elements.floating;return s&&(s.style.pointerEvents=""),i.style.pointerEvents="none",n.style.pointerEvents="auto",e.style.pointerEvents="auto",()=>{i.style.pointerEvents="",n.style.pointerEvents="",e.style.pointerEvents=""}}}},[d,i,y,c,b,x,P]),ed(()=>{i||(S.current=void 0,I(),N())},[i,I,N]),s.useEffect(()=>()=>{I(),clearTimeout(k.current),clearTimeout(T.current),N()},[d,c.domReference,I,N]);let D=s.useMemo(()=>{function e(e){S.current=e.pointerType}return{onPointerDown:e,onPointerEnter:e,onMouseMove(e){let{nativeEvent:t}=e;function s(){C.current||w.current||n(!0,t,"hover")}(!h||f(S.current))&&!i&&0!==m&&(clearTimeout(T.current),"touch"===S.current?s():T.current=window.setTimeout(s,m))}}},[h,n,i,w,m]),A=s.useMemo(()=>({onMouseEnter(){clearTimeout(k.current)},onMouseLeave(e){j(e.nativeEvent,!1)}}),[j]);return s.useMemo(()=>d?{reference:D,floating:A}:{},[d,D,A])}let eP=()=>{};function ej(e,t){let i=e.filter(e=>{var i;return e.parentId===t&&(null==(i=e.context)?void 0:i.open)}),n=i;for(;n.length;)n=e.filter(e=>{var t;return null==(t=n)?void 0:t.some(t=>{var i;return e.parentId===t.id&&(null==(i=e.context)?void 0:i.open)})}),i=i.concat(n);return i}let eI=new WeakMap,eN=new WeakSet,eD={},eA=0,eL=()=>"undefined"!=typeof HTMLElement&&"inert"in HTMLElement.prototype,eM=e=>e&&(e.host||eM(e.parentNode)),eU=(e,t)=>t.map(t=>{if(e.contains(t))return t;let i=eM(t);return e.contains(i)?i:null}).filter(e=>null!=e);function eF(e,t,i){void 0===t&&(t=!1),void 0===i&&(i=!1);let n=g(e[0]).body;return function(e,t,i,n){let s="data-floating-ui-inert",r=n?"inert":i?"aria-hidden":null,o=eU(t,e),l=new Set,c=new Set(o),d=[];eD[s]||(eD[s]=new WeakMap);let u=eD[s];return o.forEach(function e(t){!(!t||l.has(t))&&(l.add(t),t.parentNode&&e(t.parentNode))}),function e(t){!t||c.has(t)||[].forEach.call(t.children,t=>{if("script"!==(0,a.wk)(t)){if(l.has(t))e(t);else{let e=r?t.getAttribute(r):null,i=null!==e&&"false"!==e,n=(eI.get(t)||0)+1,a=(u.get(t)||0)+1;eI.set(t,n),u.set(t,a),d.push(t),1===n&&i&&eN.add(t),1===a&&t.setAttribute(s,""),!i&&r&&t.setAttribute(r,"true")}}})}(t),l.clear(),eA++,()=>{d.forEach(e=>{let t=(eI.get(e)||0)-1,i=(u.get(e)||0)-1;eI.set(e,t),u.set(e,i),t||(!eN.has(e)&&r&&e.removeAttribute(r),eN.delete(e)),i||e.removeAttribute(s)}),--eA||(eI=new WeakMap,eI=new WeakMap,eN=new WeakSet,eD={})}}(e.concat(Array.from(n.querySelectorAll("[aria-live]"))),n,t,i)}let eB=()=>({getShadowRoot:!0,displayCheck:"function"==typeof ResizeObserver&&ResizeObserver.toString().includes("[native code]")?"full":"none"});function e$(e,t){let i=z(e,eB());"prev"===t&&i.reverse();let n=i.indexOf(o(g(e)));return i.slice(n+1)[0]}function eq(){return e$(document.body,"next")}function eV(){return e$(document.body,"prev")}function eW(e,t){let i=t||e.currentTarget,n=e.relatedTarget;return!n||!l(i,n)}function ez(e){e.querySelectorAll("[data-tabindex]").forEach(e=>{let t=e.dataset.tabindex;delete e.dataset.tabindex,t?e.setAttribute("tabindex",t):e.removeAttribute("tabindex")})}let eH={border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"fixed",whiteSpace:"nowrap",width:"1px",top:0,left:0};function eK(e){"Tab"===e.key&&(e.target,clearTimeout(n))}let eG=s.forwardRef(function(e,t){let[i,n]=s.useState();ed(()=>(h()&&n("button"),document.addEventListener("keydown",eK),()=>{document.removeEventListener("keydown",eK)}),[]);let r={ref:t,tabIndex:0,role:i,"aria-hidden":!i||void 0,[eE("focus-guard")]:"",style:eH};return s.createElement("span",ef({},e,r))}),eJ=s.createContext(null),eY=eE("portal");function eQ(e){let{children:t,id:i,root:n=null,preserveTabOrder:r=!0}=e,o=function(e){void 0===e&&(e={});let{id:t,root:i}=e,n=ey(),r=eX(),[o,l]=s.useState(null),c=s.useRef(null);return ed(()=>()=>{null==o||o.remove(),queueMicrotask(()=>{c.current=null})},[o]),ed(()=>{if(!n||c.current)return;let e=t?document.getElementById(t):null;if(!e)return;let i=document.createElement("div");i.id=n,i.setAttribute(eY,""),e.appendChild(i),c.current=i,l(i)},[t,n]),ed(()=>{if(!n||c.current)return;let e=i||(null==r?void 0:r.portalNode);e&&!(0,a.kK)(e)&&(e=e.current),e=e||document.body;let s=null;t&&((s=document.createElement("div")).id=t,e.appendChild(s));let o=document.createElement("div");o.id=n,o.setAttribute(eY,""),(e=s||e).appendChild(o),c.current=o,l(o)},[t,i,n,r]),o}({id:i,root:n}),[l,c]=s.useState(null),d=s.useRef(null),u=s.useRef(null),p=s.useRef(null),h=s.useRef(null),m=null==l?void 0:l.modal,f=null==l?void 0:l.open,g=!!l&&!l.modal&&l.open&&r&&!!(n||o);return s.useEffect(()=>{if(o&&r&&!m)return o.addEventListener("focusin",e,!0),o.addEventListener("focusout",e,!0),()=>{o.removeEventListener("focusin",e,!0),o.removeEventListener("focusout",e,!0)};function e(e){o&&eW(e)&&("focusin"===e.type?ez:function(e){z(e,eB()).forEach(e=>{e.dataset.tabindex=e.getAttribute("tabindex")||"",e.setAttribute("tabindex","-1")})})(o)}},[o,r,m]),s.useEffect(()=>{o&&(f||ez(o))},[f,o]),s.createElement(eJ.Provider,{value:s.useMemo(()=>({preserveTabOrder:r,beforeOutsideRef:d,afterOutsideRef:u,beforeInsideRef:p,afterInsideRef:h,portalNode:o,setFocusManagerState:c}),[r,o])},g&&o&&s.createElement(eG,{"data-type":"outside",ref:d,onFocus:e=>{if(eW(e,o)){var t;null==(t=p.current)||t.focus()}else{let e=eV()||(null==l?void 0:l.refs.domReference.current);null==e||e.focus()}}}),g&&o&&s.createElement("span",{"aria-owns":o.id,style:eH}),o&&K.createPortal(t,o),g&&o&&s.createElement(eG,{"data-type":"outside",ref:u,onFocus:e=>{if(eW(e,o)){var t;null==(t=h.current)||t.focus()}else{let t=eq()||(null==l?void 0:l.refs.domReference.current);null==t||t.focus(),(null==l?void 0:l.closeOnFocusOut)&&(null==l||l.onOpenChange(!1,e.nativeEvent,"focus-out"))}}}))}let eX=()=>s.useContext(eJ),eZ="data-floating-ui-focusable";function e0(e){return e?e.hasAttribute(eZ)?e:e.querySelector("["+eZ+"]")||e:null}let e1=[];function e2(e){e1=e1.filter(e=>e.isConnected);let t=e;if(t&&"body"!==(0,a.wk)(t)){if(!H(t,eB())){let e=z(t,eB())[0];e&&(t=e)}e1.push(t),e1.length>20&&(e1=e1.slice(-20))}}function e3(){return e1.slice().reverse().find(e=>e.isConnected)}let e4=s.forwardRef(function(e,t){return s.createElement("button",ef({},e,{type:"button",ref:t,tabIndex:-1,style:eH}))});function e5(e){let{context:t,children:i,disabled:n=!1,order:r=["content"],guards:c=!0,initialFocus:d=0,returnFocus:h=!0,restoreFocus:m=!1,modal:f=!0,visuallyHiddenDismiss:v=!1,closeOnFocusOut:y=!0}=e,{open:w,refs:S,nodeId:k,onOpenChange:E,events:T,dataRef:C,floatingId:R,elements:{domReference:O,floating:P}}=t,j="number"==typeof d&&d<0,I=_(O)&&j,N=!eL()||c,D=eT(r),A=eT(d),L=eT(h),M=ek(),U=eX(),F=s.useRef(null),B=s.useRef(null),$=s.useRef(!1),q=s.useRef(!1),V=s.useRef(-1),W=null!=U,H=e0(P),K=Q(function(e){return void 0===e&&(e=H),e?z(e,eB()):[]}),G=Q(e=>{let t=K(e);return D.current.map(e=>O&&"reference"===e?O:H&&"floating"===e?H:t).filter(Boolean).flat()});function J(e){return!n&&v&&f?s.createElement(e4,{ref:"start"===e?F:B,onClick:e=>E(!1,e.nativeEvent)},"string"==typeof v?v:"Dismiss"):null}s.useEffect(()=>{$.current=!1},[n]),s.useEffect(()=>{if(n||!f)return;function e(e){if("Tab"===e.key){l(H,o(g(H)))&&0===K().length&&!I&&x(e);let t=G(),i=b(e);"reference"===D.current[0]&&i===O&&(x(e),e.shiftKey?ec(t[t.length-1]):ec(t[1])),"floating"===D.current[1]&&i===H&&e.shiftKey&&(x(e),ec(t[0]))}}let t=g(H);return t.addEventListener("keydown",e),()=>{t.removeEventListener("keydown",e)}},[n,O,H,f,D,I,K,G]),s.useEffect(()=>{if(!n&&P)return P.addEventListener("focusin",e),()=>{P.removeEventListener("focusin",e)};function e(e){let t=b(e),i=K().indexOf(t);-1!==i&&(V.current=i)}},[n,P,K]),s.useEffect(()=>{if(!n&&y&&P&&(0,a.Re)(O))return O.addEventListener("focusout",t),O.addEventListener("pointerdown",e),P.addEventListener("focusout",t),()=>{O.removeEventListener("focusout",t),O.removeEventListener("pointerdown",e),P.removeEventListener("focusout",t)};function e(){q.current=!0,setTimeout(()=>{q.current=!1})}function t(e){let t=e.relatedTarget;queueMicrotask(()=>{let i=!(l(O,t)||l(P,t)||l(t,P)||l(null==U?void 0:U.portalNode,t)||null!=t&&t.hasAttribute(eE("focus-guard"))||M&&(ej(M.nodesRef.current,k).find(e=>{var i,n;return l(null==(i=e.context)?void 0:i.elements.floating,t)||l(null==(n=e.context)?void 0:n.elements.domReference,t)})||(function(e,t){var i;let n=[],s=null==(i=e.find(e=>e.id===t))?void 0:i.parentId;for(;s;){let t=e.find(e=>e.id===s);s=null==t?void 0:t.parentId,t&&(n=n.concat(t))}return n})(M.nodesRef.current,k).find(e=>{var i,n;return(null==(i=e.context)?void 0:i.elements.floating)===t||(null==(n=e.context)?void 0:n.elements.domReference)===t})));if(m&&i&&o(g(H))===g(H).body){(0,a.Re)(H)&&H.focus();let e=V.current,t=K(),i=t[e]||t[t.length-1]||H;(0,a.Re)(i)&&i.focus()}(I||!f)&&t&&i&&!q.current&&t!==e3()&&($.current=!0,E(!1,e,"focus-out"))})}},[n,O,P,H,f,k,M,U,E,y,m,K,I]),s.useEffect(()=>{var e;if(n)return;let t=Array.from((null==U||null==(e=U.portalNode)?void 0:e.querySelectorAll("["+eE("portal")+"]"))||[]);if(P){let e=[P,...t,F.current,B.current,D.current.includes("reference")||I?O:null].filter(e=>null!=e),i=f||I?eF(e,N,!N):eF(e);return()=>{i()}}},[n,O,P,f,D,U,I,N]),ed(()=>{if(n||!(0,a.Re)(H))return;let e=o(g(H));queueMicrotask(()=>{let t=G(H),i=A.current,n=("number"==typeof i?t[i]:i.current)||H,s=l(H,e);j||s||!w||ec(n,{preventScroll:n===H})})},[n,w,H,j,G,A]),ed(()=>{if(n||!H)return;let e=!1,t=g(H),i=o(t),s=C.current.openEvent;function r(t){let{open:i,reason:n,event:r,nested:a}=t;i&&(s=r),"escape-key"===n&&S.domReference.current&&e2(S.domReference.current),"hover"===n&&"mouseleave"===r.type&&($.current=!0),"outside-press"===n&&(a?($.current=!1,e=!0):$.current=!(u(r)||p(r)))}e2(i),T.on("openchange",r);let c=t.createElement("span");return c.setAttribute("tabindex","-1"),c.setAttribute("aria-hidden","true"),Object.assign(c.style,eH),W&&O&&O.insertAdjacentElement("afterend",c),()=>{T.off("openchange",r);let i=o(t),n=l(P,i)||M&&ej(M.nodesRef.current,k).some(e=>{var t;return l(null==(t=e.context)?void 0:t.elements.floating,i)});(n||s&&["click","mousedown"].includes(s.type))&&S.domReference.current&&e2(S.domReference.current);let d=e3()||c;queueMicrotask(()=>{L.current&&!$.current&&(0,a.Re)(d)&&(d===i||i===t.body||n)&&d.focus({preventScroll:e}),c.remove()})}},[n,P,H,L,C,S,T,M,k,W,O]),ed(()=>{if(!n&&U)return U.setFocusManagerState({modal:f,closeOnFocusOut:y,open:w,onOpenChange:E,refs:S}),()=>{U.setFocusManagerState(null)}},[n,U,f,w,E,S,y]),ed(()=>{if(n||!H||"function"!=typeof MutationObserver||j)return;let e=()=>{let e=H.getAttribute("tabindex"),t=K(),i=o(g(P)),n=t.indexOf(i);-1!==n&&(V.current=n),D.current.includes("floating")||i!==S.domReference.current&&0===t.length?"0"!==e&&H.setAttribute("tabindex","0"):"-1"!==e&&H.setAttribute("tabindex","-1")};e();let t=new MutationObserver(e);return t.observe(H,{childList:!0,subtree:!0,attributes:!0}),()=>{t.disconnect()}},[n,P,H,S,D,K,j]);let Y=!n&&N&&(!f||!I)&&(W||f);return s.createElement(s.Fragment,null,Y&&s.createElement(eG,{"data-type":"inside",ref:null==U?void 0:U.beforeInsideRef,onFocus:e=>{if(f){let e=G();ec("reference"===r[0]?e[0]:e[e.length-1])}else if(null!=U&&U.preserveTabOrder&&U.portalNode){if($.current=!1,eW(e,U.portalNode)){let e=eq()||O;null==e||e.focus()}else{var t;null==(t=U.beforeOutsideRef.current)||t.focus()}}}}),!I&&J("start"),i,J("end"),Y&&s.createElement(eG,{"data-type":"inside",ref:null==U?void 0:U.afterInsideRef,onFocus:e=>{if(f)ec(G()[0]);else if(null!=U&&U.preserveTabOrder&&U.portalNode){if(y&&($.current=!0),eW(e,U.portalNode)){let e=eV()||O;null==e||e.focus()}else{var t;null==(t=U.afterOutsideRef.current)||t.focus()}}}}))}let e6=0,e8=()=>{},e9=s.forwardRef(function(e,t){let{lockScroll:i=!1,...n}=e;return ed(()=>{if(i)return 1==++e6&&(e8=function(){let e=/iP(hone|ad|od)|iOS/.test(c()),t=document.body.style,i=Math.round(document.documentElement.getBoundingClientRect().left)+document.documentElement.scrollLeft?"paddingLeft":"paddingRight",n=window.innerWidth-document.documentElement.clientWidth,s=t.left?parseFloat(t.left):window.scrollX,r=t.top?parseFloat(t.top):window.scrollY;if(t.overflow="hidden",n&&(t[i]=n+"px"),e){var a,o;let e=(null==(a=window.visualViewport)?void 0:a.offsetLeft)||0;Object.assign(t,{position:"fixed",top:-(r-Math.floor((null==(o=window.visualViewport)?void 0:o.offsetTop)||0))+"px",left:-(s-Math.floor(e))+"px",right:"0"})}return()=>{Object.assign(t,{overflow:"",[i]:""}),e&&(Object.assign(t,{position:"",top:"",left:"",right:""}),window.scrollTo(s,r))}}()),()=>{0==--e6&&e8()}},[i]),s.createElement("div",ef({ref:t},n,{style:{position:"fixed",overflow:"auto",top:0,right:0,bottom:0,left:0,...n.style}}))});function e7(e){return(0,a.Re)(e.target)&&"BUTTON"===e.target.tagName}function te(e,t){void 0===t&&(t={});let{open:i,onOpenChange:n,dataRef:r,elements:{domReference:a}}=e,{enabled:o=!0,event:l="click",toggle:c=!0,ignoreMouse:d=!1,keyboardHandlers:u=!0}=t,p=s.useRef(),h=s.useRef(!1),m=s.useMemo(()=>({onPointerDown(e){p.current=e.pointerType},onMouseDown(e){let t=p.current;0===e.button&&"click"!==l&&(f(t,!0)&&d||(i&&c&&(!r.current.openEvent||"mousedown"===r.current.openEvent.type)?n(!1,e.nativeEvent,"click"):(e.preventDefault(),n(!0,e.nativeEvent,"click"))))},onClick(e){let t=p.current;if("mousedown"===l&&p.current){p.current=void 0;return}f(t,!0)&&d||(i&&c&&(!r.current.openEvent||"click"===r.current.openEvent.type)?n(!1,e.nativeEvent,"click"):n(!0,e.nativeEvent,"click"))},onKeyDown(e){p.current=void 0,e.defaultPrevented||!u||e7(e)||(" "!==e.key||y(a)||(e.preventDefault(),h.current=!0),"Enter"===e.key&&(i&&c?n(!1,e.nativeEvent,"click"):n(!0,e.nativeEvent,"click")))},onKeyUp(e){!(e.defaultPrevented||!u||e7(e)||y(a))&&" "===e.key&&h.current&&(h.current=!1,i&&c?n(!1,e.nativeEvent,"click"):n(!0,e.nativeEvent,"click"))}}),[r,a,l,d,u,n,i,c]);return s.useMemo(()=>o?{reference:m}:{},[o,m])}let tt={pointerdown:"onPointerDown",mousedown:"onMouseDown",click:"onClick"},ti={pointerdown:"onPointerDownCapture",mousedown:"onMouseDownCapture",click:"onClickCapture"},tn=e=>{var t,i;return{escapeKey:"boolean"==typeof e?e:null!=(t=null==e?void 0:e.escapeKey)&&t,outsidePress:"boolean"==typeof e?e:null==(i=null==e?void 0:e.outsidePress)||i}};function ts(e,t){void 0===t&&(t={});let{open:i,onOpenChange:n,elements:r,dataRef:o}=e,{enabled:c=!0,escapeKey:d=!0,outsidePress:u=!0,outsidePressEvent:p="pointerdown",referencePress:h=!1,referencePressEvent:m="pointerdown",ancestorScroll:f=!1,bubbles:y,capture:x}=t,_=ek(),w=Q("function"==typeof u?u:()=>!1),S="function"==typeof u?w:u,k=s.useRef(!1),E=s.useRef(!1),{escapeKey:T,outsidePress:C}=tn(y),{escapeKey:R,outsidePress:O}=tn(x),P=Q(e=>{var t;if(!i||!c||!d||"Escape"!==e.key)return;let s=null==(t=o.current.floatingContext)?void 0:t.nodeId,r=_?ej(_.nodesRef.current,s):[];if(!T&&(e.stopPropagation(),r.length>0)){let e=!0;if(r.forEach(t=>{var i;if(null!=(i=t.context)&&i.open&&!t.context.dataRef.current.__escapeKeyBubbles){e=!1;return}}),!e)return}n(!1,"nativeEvent"in e?e.nativeEvent:e,"escape-key")}),j=Q(e=>{var t;let i=()=>{var t;P(e),null==(t=b(e))||t.removeEventListener("keydown",i)};null==(t=b(e))||t.addEventListener("keydown",i)}),I=Q(e=>{var t;let i=k.current;k.current=!1;let s=E.current;if(E.current=!1,"click"===p&&s||i||"function"==typeof S&&!S(e))return;let c=b(e),d="["+eE("inert")+"]",u=g(r.floating).querySelectorAll(d),h=(0,a.kK)(c)?c:null;for(;h&&!(0,a.Py)(h);){let e=(0,a.Ow)(h);if((0,a.Py)(e)||!(0,a.kK)(e))break;h=e}if(u.length&&(0,a.kK)(c)&&!c.matches("html,body")&&!l(c,r.floating)&&Array.from(u).every(e=>!l(h,e)))return;if((0,a.Re)(c)&&A){let t=c.clientWidth>0&&c.scrollWidth>c.clientWidth,i=c.clientHeight>0&&c.scrollHeight>c.clientHeight,n=i&&e.offsetX>c.clientWidth;if(i&&"rtl"===(0,a.Dx)(c).direction&&(n=e.offsetX<=c.offsetWidth-c.clientWidth),n||t&&e.offsetY>c.clientHeight)return}let m=null==(t=o.current.floatingContext)?void 0:t.nodeId,f=_&&ej(_.nodesRef.current,m).some(t=>{var i;return v(e,null==(i=t.context)?void 0:i.elements.floating)});if(v(e,r.floating)||v(e,r.domReference)||f)return;let y=_?ej(_.nodesRef.current,m):[];if(y.length>0){let e=!0;if(y.forEach(t=>{var i;if(null!=(i=t.context)&&i.open&&!t.context.dataRef.current.__outsidePressBubbles){e=!1;return}}),!e)return}n(!1,e,"outside-press")}),N=Q(e=>{var t;let i=()=>{var t;I(e),null==(t=b(e))||t.removeEventListener(p,i)};null==(t=b(e))||t.addEventListener(p,i)});s.useEffect(()=>{if(!i||!c)return;function e(e){n(!1,e,"ancestor-scroll")}o.current.__escapeKeyBubbles=T,o.current.__outsidePressBubbles=C;let t=g(r.floating);d&&t.addEventListener("keydown",R?j:P,R),S&&t.addEventListener(p,O?N:I,O);let s=[];return f&&((0,a.kK)(r.domReference)&&(s=(0,a.Kx)(r.domReference)),(0,a.kK)(r.floating)&&(s=s.concat((0,a.Kx)(r.floating))),!(0,a.kK)(r.reference)&&r.reference&&r.reference.contextElement&&(s=s.concat((0,a.Kx)(r.reference.contextElement)))),(s=s.filter(e=>{var i;return e!==(null==(i=t.defaultView)?void 0:i.visualViewport)})).forEach(t=>{t.addEventListener("scroll",e,{passive:!0})}),()=>{d&&t.removeEventListener("keydown",R?j:P,R),S&&t.removeEventListener(p,O?N:I,O),s.forEach(t=>{t.removeEventListener("scroll",e)})}},[o,r,d,S,p,i,n,f,c,T,C,P,R,j,I,O,N]),s.useEffect(()=>{k.current=!1},[S,p]);let D=s.useMemo(()=>({onKeyDown:P,[tt[m]]:e=>{h&&n(!1,e.nativeEvent,"reference-press")}}),[P,n,h,m]),A=s.useMemo(()=>({onKeyDown:P,onMouseDown(){E.current=!0},onMouseUp(){E.current=!0},[ti[p]]:()=>{k.current=!0}}),[P,p]);return s.useMemo(()=>c?{reference:D,floating:A}:{},[c,D,A])}function tr(e){void 0===e&&(e={});let{nodeId:t}=e,i=function(e){let{open:t=!1,onOpenChange:i,elements:n}=e,r=ey(),a=s.useRef({}),[o]=s.useState(()=>(function(){let e=new Map;return{emit(t,i){var n;null==(n=e.get(t))||n.forEach(e=>e(i))},on(t,i){e.set(t,[...e.get(t)||[],i])},off(t,i){var n;e.set(t,(null==(n=e.get(t))?void 0:n.filter(e=>e!==i))||[])}}})()),l=null!=eS(),[c,d]=s.useState(n.reference),u=Q((e,t,n)=>{a.current.openEvent=e?t:void 0,o.emit("openchange",{open:e,event:t,reason:n,nested:l}),null==i||i(e,t,n)}),p=s.useMemo(()=>({setPositionReference:d}),[]),h=s.useMemo(()=>({reference:c||n.reference||null,floating:n.floating||null,domReference:n.reference}),[c,n.reference,n.floating]);return s.useMemo(()=>({dataRef:a,open:t,onOpenChange:u,elements:h,events:o,floatingId:r,refs:p}),[t,u,h,o,r,p])}({...e,elements:{reference:null,floating:null,...e.elements}}),n=e.rootContext||i,r=n.elements,[o,l]=s.useState(null),[c,d]=s.useState(null),u=(null==r?void 0:r.reference)||o,p=s.useRef(null),h=ek();ed(()=>{u&&(p.current=u)},[u]);let m=(0,G.YF)({...e,elements:{...r,...c&&{reference:c}}}),f=s.useCallback(e=>{let t=(0,a.kK)(e)?{getBoundingClientRect:()=>e.getBoundingClientRect(),contextElement:e}:e;d(t),m.refs.setReference(t)},[m.refs]),g=s.useCallback(e=>{((0,a.kK)(e)||null===e)&&(p.current=e,l(e)),((0,a.kK)(m.refs.reference.current)||null===m.refs.reference.current||null!==e&&!(0,a.kK)(e))&&m.refs.setReference(e)},[m.refs]),v=s.useMemo(()=>({...m.refs,setReference:g,setPositionReference:f,domReference:p}),[m.refs,g,f]),b=s.useMemo(()=>({...m.elements,domReference:u}),[m.elements,u]),y=s.useMemo(()=>({...m,...n,refs:v,elements:b,nodeId:t}),[m,v,b,t,n]);return ed(()=>{n.dataRef.current.floatingContext=y;let e=null==h?void 0:h.nodesRef.current.find(e=>e.id===t);e&&(e.context=y)}),s.useMemo(()=>({...m,context:y,refs:v,elements:b}),[m,v,b,y])}let ta="active",to="selected";function tl(e,t,i){let n=new Map,s="item"===i,r=e;if(s&&e){let{[ta]:t,[to]:i,...n}=e;r=n}return{..."floating"===i&&{tabIndex:-1,[eZ]:""},...r,...t.map(t=>{let n=t?t[i]:null;return"function"==typeof n?e?n(e):null:n}).concat(e).reduce((e,t)=>(t&&Object.entries(t).forEach(t=>{let[i,r]=t;if(!(s&&[ta,to].includes(i))){if(0===i.indexOf("on")){if(n.has(i)||n.set(i,[]),"function"==typeof r){var a;null==(a=n.get(i))||a.push(r),e[i]=function(){for(var e,t=arguments.length,s=Array(t),r=0;r<t;r++)s[r]=arguments[r];return null==(e=n.get(i))?void 0:e.map(e=>e(...s)).find(e=>void 0!==e)}}}else e[i]=r}}),e),{})}}function tc(e){void 0===e&&(e=[]);let t=e.map(e=>null==e?void 0:e.reference),i=e.map(e=>null==e?void 0:e.floating),n=e.map(e=>null==e?void 0:e.item),r=s.useCallback(t=>tl(t,e,"reference"),t),a=s.useCallback(t=>tl(t,e,"floating"),i),o=s.useCallback(t=>tl(t,e,"item"),n);return s.useMemo(()=>({getReferenceProps:r,getFloatingProps:a,getItemProps:o}),[r,a,o])}let td=!1;function tu(e,t,i){switch(e){case"vertical":return t;case"horizontal":return i;default:return t||i}}function tp(e,t){return tu(t,e===X||e===Z,e===ee||e===et)}function th(e,t,i){return tu(t,e===Z,i?e===ee:e===et)||"Enter"===e||" "===e||""===e}function tm(e,t,i){return tu(t,i?e===et:e===ee,e===X)}function tf(e,t){let{open:i,onOpenChange:n,elements:r}=e,{listRef:d,activeIndex:m,onNavigate:f=()=>{},enabled:v=!0,selectedIndex:b=null,allowEscape:y=!1,loop:S=!1,nested:k=!1,rtl:E=!1,virtual:T=!1,focusItemOnOpen:C="auto",focusItemOnHover:R=!0,openOnArrowKeyDown:O=!0,disabledIndices:P,orientation:j="vertical",cols:I=1,scrollItemIntoView:N=!0,virtualItemRef:D,itemSizes:A,dense:L=!1}=t,M=eT(e0(r.floating)),U=eS(),F=ek(),B=Q(f),$=s.useRef(C),q=s.useRef(null!=b?b:-1),V=s.useRef(null),W=s.useRef(!0),z=s.useRef(B),H=s.useRef(!!r.floating),K=s.useRef(i),G=s.useRef(!1),J=s.useRef(!1),Y=eT(P),el=eT(i),eu=eT(N),ep=eT(b),[eh,em]=s.useState(),[ef,eg]=s.useState(),ev=Q(function(e,t,i){function n(e){T?(em(e.id),null==F||F.events.emit("virtualfocus",e),D&&(D.current=e)):ec(e,{preventScroll:!0,sync:!!(c().toLowerCase().startsWith("mac")&&!navigator.maxTouchPoints&&h())&&(td||G.current)})}void 0===i&&(i=!1);let s=e.current[t.current];s&&n(s),requestAnimationFrame(()=>{let r=e.current[t.current]||s;if(!r)return;s||n(r);let a=eu.current;a&&ey&&(i||!W.current)&&(null==r.scrollIntoView||r.scrollIntoView("boolean"==typeof a?{block:"nearest",inline:"nearest"}:a))})});ed(()=>{document.createElement("div").focus({get preventScroll(){return td=!0,!1}})},[]),ed(()=>{v&&(i&&r.floating?$.current&&null!=b&&(J.current=!0,q.current=b,B(b)):H.current&&(q.current=-1,z.current(null)))},[v,i,r.floating,b,B]),ed(()=>{if(v&&i&&r.floating){if(null==m){if(G.current=!1,null==ep.current&&(H.current&&(q.current=-1,ev(d,q)),(!K.current||!H.current)&&$.current&&(null!=V.current||!0===$.current&&null==V.current))){let e=0,t=()=>{null==d.current[0]?(e<2&&(e?requestAnimationFrame:queueMicrotask)(t),e++):(q.current=null==V.current||th(V.current,j,E)||k?es(d,Y.current):er(d,Y.current),V.current=null,B(q.current))};t()}}else en(d,m)||(q.current=m,ev(d,q,J.current),J.current=!1)}},[v,i,r.floating,m,ep,k,d,j,E,B,ev,Y]),ed(()=>{var e;if(!v||r.floating||!F||T||!H.current)return;let t=F.nodesRef.current,i=null==(e=t.find(e=>e.id===U))||null==(e=e.context)?void 0:e.elements.floating,n=o(g(r.floating)),s=t.some(e=>e.context&&l(e.context.elements.floating,n));i&&!s&&W.current&&i.focus({preventScroll:!0})},[v,r.floating,F,U,T]),ed(()=>{if(v&&F&&T&&!U)return F.events.on("virtualfocus",e),()=>{F.events.off("virtualfocus",e)};function e(e){eg(e.id),D&&(D.current=e)}},[v,F,T,U,D]),ed(()=>{z.current=B,H.current=!!r.floating}),ed(()=>{i||(V.current=null)},[i]),ed(()=>{K.current=i},[i]);let eb=null!=m,ey=s.useMemo(()=>{function e(e){if(!i)return;let t=d.current.indexOf(e);-1!==t&&B(t)}return{onFocus(t){let{currentTarget:i}=t;e(i)},onClick:e=>{let{currentTarget:t}=e;return t.focus({preventScroll:!0})},...R&&{onMouseMove(t){let{currentTarget:i}=t;e(i)},onPointerLeave(e){let{pointerType:t}=e;W.current&&"touch"!==t&&(q.current=-1,ev(d,q),B(null),T||ec(M.current,{preventScroll:!0}))}}}},[i,M,ev,R,d,B,T]),ex=Q(e=>{if(W.current=!1,G.current=!0,!el.current&&e.currentTarget===M.current)return;if(k&&tm(e.key,j,E)){x(e),n(!1,e.nativeEvent,"list-navigation"),(0,a.Re)(r.domReference)&&!T&&r.domReference.focus();return}let t=q.current,s=es(d,P),l=er(d,P);if("Home"===e.key&&(x(e),q.current=s,B(q.current)),"End"===e.key&&(x(e),q.current=l,B(q.current)),I>1){var c;let t=A||Array.from({length:d.current.length},()=>({width:1,height:1})),i=function(e,t,i){let n=[],s=0;return e.forEach((e,r)=>{let{width:a,height:o}=e,l=!1;for(i&&(s=0);!l;){let e=[];for(let i=0;i<a;i++)for(let n=0;n<o;n++)e.push(s+i+n*t);s%t+a<=t&&e.every(e=>null==n[e])?(e.forEach(e=>{n[e]=r}),l=!0):s++}}),[...n]}(t,I,L),n=i.findIndex(e=>null!=e&&!eo(d.current,e,P)),r=i.reduce((e,t,i)=>null==t||eo(d.current,t,P)?e:i,-1),a=i[function(e,t){let{event:i,orientation:n,loop:s,cols:r,disabledIndices:a,minIndex:o,maxIndex:l,prevIndex:c,stopEvent:d=!1}=t,u=c;if(i.key===X){if(d&&x(i),-1===c)u=l;else if(u=ea(e,{startingIndex:u,amount:r,decrement:!0,disabledIndices:a}),s&&(c-r<o||u<0)){let e=c%r,t=l%r,i=l-(t-e);u=t===e?l:t>e?i:i-r}en(e,u)&&(u=c)}if(i.key===Z&&(d&&x(i),-1===c?u=o:(u=ea(e,{startingIndex:c,amount:r,disabledIndices:a}),s&&c+r>l&&(u=ea(e,{startingIndex:c%r-r,amount:r,disabledIndices:a}))),en(e,u)&&(u=c)),"both"===n){let t=(0,w.GW)(c/r);i.key===et&&(d&&x(i),c%r!=r-1?(u=ea(e,{startingIndex:c,disabledIndices:a}),s&&ei(u,r,t)&&(u=ea(e,{startingIndex:c-c%r-1,disabledIndices:a}))):s&&(u=ea(e,{startingIndex:c-c%r-1,disabledIndices:a})),ei(u,r,t)&&(u=c)),i.key===ee&&(d&&x(i),c%r!=0?(u=ea(e,{startingIndex:c,decrement:!0,disabledIndices:a}),s&&ei(u,r,t)&&(u=ea(e,{startingIndex:c+(r-c%r),decrement:!0,disabledIndices:a}))):s&&(u=ea(e,{startingIndex:c+(r-c%r),decrement:!0,disabledIndices:a})),ei(u,r,t)&&(u=c));let n=(0,w.GW)(l/r)===t;en(e,u)&&(u=s&&n?i.key===ee?l:ea(e,{startingIndex:c-c%r-1,disabledIndices:a}):c)}return u}({current:i.map(e=>null!=e?d.current[e]:null)},{event:e,orientation:j,loop:S,cols:I,disabledIndices:(c=[...P||d.current.map((e,t)=>eo(d.current,t)?t:void 0),void 0],i.flatMap((e,t)=>c.includes(e)?[t]:[])),minIndex:n,maxIndex:r,prevIndex:function(e,t,i,n,s){if(-1===e)return -1;let r=i.indexOf(e),a=t[e];switch(s){case"tl":return r;case"tr":if(!a)return r;return r+a.width-1;case"bl":if(!a)return r;return r+(a.height-1)*n;case"br":return i.lastIndexOf(e)}}(q.current>l?s:q.current,t,i,I,e.key===Z?"bl":e.key===et?"tr":"tl"),stopEvent:!0})];if(null!=a&&(q.current=a,B(q.current)),"both"===j)return}if(tp(e.key,j)){if(x(e),i&&!T&&o(e.currentTarget.ownerDocument)===e.currentTarget){q.current=th(e.key,j,E)?s:l,B(q.current);return}th(e.key,j,E)?S?q.current=t>=l?y&&t!==d.current.length?-1:s:ea(d,{startingIndex:t,disabledIndices:P}):q.current=Math.min(l,ea(d,{startingIndex:t,disabledIndices:P})):S?q.current=t<=s?y&&-1!==t?d.current.length:l:ea(d,{startingIndex:t,decrement:!0,disabledIndices:P}):q.current=Math.max(s,ea(d,{startingIndex:t,decrement:!0,disabledIndices:P})),en(d,q.current)?B(null):B(q.current)}}),e_=s.useMemo(()=>T&&i&&eb&&{"aria-activedescendant":ef||eh},[T,i,eb,ef,eh]),ew=s.useMemo(()=>({"aria-orientation":"both"===j?void 0:j,...!_(r.domReference)&&e_,onKeyDown:ex,onPointerMove(){W.current=!0}}),[e_,ex,r.domReference,j]),eE=s.useMemo(()=>{function e(e){"auto"===C&&u(e.nativeEvent)&&($.current=!0)}return{...e_,onKeyDown(e){var t,s,r,a,o,l;W.current=!1;let c=0===e.key.indexOf("Arrow"),u=(t=e.key,tu(j,E?t===ee:t===et,t===Z)),p=tm(e.key,j,E),h=tp(e.key,j),m=(k?u:h)||"Enter"===e.key||""===e.key.trim();if(T&&i){let t,i;let n=null==F?void 0:F.nodesRef.current.find(e=>null==e.parentId),m=F&&n?(s=F.nodesRef.current,r=n.id,i=-1,function e(n,r){r>i&&(t=n,i=r),ej(s,n).forEach(t=>{e(t.id,r+1)})}(r,0),s.find(e=>e.id===t)):null;if(c&&m&&D){let t=new KeyboardEvent("keydown",{key:e.key,bubbles:!0});if(u||p){let i=(null==(a=m.context)?void 0:a.elements.domReference)===e.currentTarget,n=p&&!i?null==(o=m.context)?void 0:o.elements.domReference:u?d.current.find(e=>(null==e?void 0:e.id)===eh):null;n&&(x(e),n.dispatchEvent(t),eg(void 0))}if(h&&m.context&&m.context.open&&m.parentId&&e.currentTarget!==m.context.elements.domReference){x(e),null==(l=m.context.elements.domReference)||l.dispatchEvent(t);return}}return ex(e)}if(i||O||!c){if(m&&(V.current=k&&h?null:e.key),k){u&&(x(e),i?(q.current=es(d,Y.current),B(q.current)):n(!0,e.nativeEvent,"list-navigation"));return}h&&(null!=b&&(q.current=b),x(e),!i&&O?n(!0,e.nativeEvent,"list-navigation"):ex(e),i&&B(q.current))}},onFocus(){i&&!T&&B(null)},onPointerDown:function(e){$.current=C,"auto"===C&&p(e.nativeEvent)&&($.current=!0)},onMouseDown:e,onClick:e}},[eh,e_,ex,Y,C,d,k,B,n,i,O,j,E,b,F,T,D]);return s.useMemo(()=>v?{reference:eE,floating:ew,item:ey}:{},[v,eE,ew,ey])}let tg=new Map([["select","listbox"],["combobox","listbox"],["label",!1]]);function tv(e,t){var i;void 0===t&&(t={});let{open:n,floatingId:r}=e,{enabled:a=!0,role:o="dialog"}=t,l=null!=(i=tg.get(o))?i:o,c=ey(),d=null!=eS(),u=s.useMemo(()=>"tooltip"===l||"label"===o?{["aria-"+("label"===o?"labelledby":"describedby")]:n?r:void 0}:{"aria-expanded":n?"true":"false","aria-haspopup":"alertdialog"===l?"dialog":l,"aria-controls":n?r:void 0,..."listbox"===l&&{role:"combobox"},..."menu"===l&&{id:c},..."menu"===l&&d&&{role:"menuitem"},..."select"===o&&{"aria-autocomplete":"none"},..."combobox"===o&&{"aria-autocomplete":"list"}},[l,r,d,n,c,o]),p=s.useMemo(()=>{let e={id:r,...l&&{role:l}};return"tooltip"===l||"label"===o?e:{...e,..."menu"===l&&{"aria-labelledby":c}}},[l,r,c,o]),h=s.useCallback(e=>{let{active:t,selected:i}=e,n={role:"option",...t&&{id:r+"-option"}};switch(o){case"select":return{...n,"aria-selected":t&&i};case"combobox":return{...n,...t&&{"aria-selected":!0}}}return{}},[r,o]);return s.useMemo(()=>a?{reference:u,floating:p,item:h}:{},[a,u,p,h])}function tb(e,t){var i;let{open:n,dataRef:r}=e,{listRef:a,activeIndex:o,onMatch:l,onTypingChange:c,enabled:d=!0,findMatch:u=null,resetMs:p=750,ignoreKeys:h=[],selectedIndex:m=null}=t,f=s.useRef(),g=s.useRef(""),v=s.useRef(null!=(i=null!=m?m:o)?i:-1),b=s.useRef(null),y=Q(l),_=Q(c),w=eT(u),S=eT(h);ed(()=>{n&&(clearTimeout(f.current),b.current=null,g.current="")},[n]),ed(()=>{if(n&&""===g.current){var e;v.current=null!=(e=null!=m?m:o)?e:-1}},[n,m,o]);let k=Q(e=>{e?r.current.typing||(r.current.typing=e,_(e)):r.current.typing&&(r.current.typing=e,_(e))}),E=Q(e=>{function t(e,t,i){let n=w.current?w.current(t,i):t.find(e=>(null==e?void 0:e.toLocaleLowerCase().indexOf(i.toLocaleLowerCase()))===0);return n?e.indexOf(n):-1}let i=a.current;if(g.current.length>0&&" "!==g.current[0]&&(-1===t(i,i,g.current)?k(!1):" "===e.key&&x(e)),null==i||S.current.includes(e.key)||1!==e.key.length||e.ctrlKey||e.metaKey||e.altKey)return;n&&" "!==e.key&&(x(e),k(!0)),i.every(e=>{var t,i;return!e||(null==(t=e[0])?void 0:t.toLocaleLowerCase())!==(null==(i=e[1])?void 0:i.toLocaleLowerCase())})&&g.current===e.key&&(g.current="",v.current=b.current),g.current+=e.key,clearTimeout(f.current),f.current=setTimeout(()=>{g.current="",v.current=b.current,k(!1)},p);let s=v.current,r=t(i,[...i.slice((s||0)+1),...i.slice(0,(s||0)+1)],g.current);-1!==r?(y(r),b.current=r):" "!==e.key&&(g.current="",k(!1))}),T=s.useMemo(()=>({onKeyDown:E}),[E]),C=s.useMemo(()=>({onKeyDown:E,onKeyUp(e){" "===e.key&&k(!1)}}),[E,k]);return s.useMemo(()=>d?{reference:T,floating:C}:{},[d,T,C])}},26640:(e,t,i)=>{"use strict";function n(){return"undefined"!=typeof window}function s(e){return o(e)?(e.nodeName||"").toLowerCase():"#document"}function r(e){var t;return(null==e||null==(t=e.ownerDocument)?void 0:t.defaultView)||window}function a(e){var t;return null==(t=(o(e)?e.ownerDocument:e.document)||window.document)?void 0:t.documentElement}function o(e){return!!n()&&(e instanceof Node||e instanceof r(e).Node)}function l(e){return!!n()&&(e instanceof Element||e instanceof r(e).Element)}function c(e){return!!n()&&(e instanceof HTMLElement||e instanceof r(e).HTMLElement)}function d(e){return!!n()&&"undefined"!=typeof ShadowRoot&&(e instanceof ShadowRoot||e instanceof r(e).ShadowRoot)}function u(e){let{overflow:t,overflowX:i,overflowY:n,display:s}=b(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+i)&&!["inline","contents"].includes(s)}function p(e){return["table","td","th"].includes(s(e))}function h(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch(e){return!1}})}function m(e){let t=g(),i=l(e)?b(e):e;return"none"!==i.transform||"none"!==i.perspective||!!i.containerType&&"normal"!==i.containerType||!t&&!!i.backdropFilter&&"none"!==i.backdropFilter||!t&&!!i.filter&&"none"!==i.filter||["transform","perspective","filter"].some(e=>(i.willChange||"").includes(e))||["paint","layout","strict","content"].some(e=>(i.contain||"").includes(e))}function f(e){let t=x(e);for(;c(t)&&!v(t);){if(m(t))return t;if(h(t))break;t=x(t)}return null}function g(){return"undefined"!=typeof CSS&&!!CSS.supports&&CSS.supports("-webkit-backdrop-filter","none")}function v(e){return["html","body","#document"].includes(s(e))}function b(e){return r(e).getComputedStyle(e)}function y(e){return l(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function x(e){if("html"===s(e))return e;let t=e.assignedSlot||e.parentNode||d(e)&&e.host||a(e);return d(t)?t.host:t}function _(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}i.d(t,{Dx:()=>b,Jj:()=>r,Kx:()=>function e(t,i,n){var s;void 0===i&&(i=[]),void 0===n&&(n=!0);let a=function e(t){let i=x(t);return v(i)?t.ownerDocument?t.ownerDocument.body:t.body:c(i)&&u(i)?i:e(i)}(t),o=a===(null==(s=t.ownerDocument)?void 0:s.body),l=r(a);if(o){let t=_(l);return i.concat(l,l.visualViewport||[],u(a)?a:[],t&&n?e(t):[])}return i.concat(a,e(a,[],n))},Lw:()=>y,Ow:()=>x,Pf:()=>g,Py:()=>v,Re:()=>c,Ze:()=>p,Zq:()=>d,ao:()=>u,gQ:()=>f,hT:()=>m,kK:()=>l,tF:()=>a,tR:()=>h,wK:()=>_,wk:()=>s})},25564:(e,t,i)=>{"use strict";i.d(t,{Fp:()=>r,GW:()=>o,I4:()=>g,JB:()=>E,KX:()=>w,NM:()=>a,Qq:()=>v,Rn:()=>f,VV:()=>s,Wh:()=>b,gy:()=>x,hp:()=>m,i8:()=>y,k3:()=>h,ku:()=>p,mA:()=>n,pw:()=>S,uZ:()=>u,yd:()=>k,ze:()=>l});let n=["top","right","bottom","left"],s=Math.min,r=Math.max,a=Math.round,o=Math.floor,l=e=>({x:e,y:e}),c={left:"right",right:"left",bottom:"top",top:"bottom"},d={start:"end",end:"start"};function u(e,t,i){return r(e,s(t,i))}function p(e,t){return"function"==typeof e?e(t):e}function h(e){return e.split("-")[0]}function m(e){return e.split("-")[1]}function f(e){return"x"===e?"y":"x"}function g(e){return"y"===e?"height":"width"}function v(e){return["top","bottom"].includes(h(e))?"y":"x"}function b(e){return f(v(e))}function y(e,t,i){void 0===i&&(i=!1);let n=m(e),s=b(e),r=g(s),a="x"===s?n===(i?"end":"start")?"right":"left":"start"===n?"bottom":"top";return t.reference[r]>t.floating[r]&&(a=S(a)),[a,S(a)]}function x(e){let t=S(e);return[_(e),t,_(t)]}function _(e){return e.replace(/start|end/g,e=>d[e])}function w(e,t,i,n){let s=m(e),r=function(e,t,i){let n=["left","right"],s=["right","left"];switch(e){case"top":case"bottom":if(i)return t?s:n;return t?n:s;case"left":case"right":return t?["top","bottom"]:["bottom","top"];default:return[]}}(h(e),"start"===i,n);return s&&(r=r.map(e=>e+"-"+s),t&&(r=r.concat(r.map(_)))),r}function S(e){return e.replace(/left|right|bottom|top/g,e=>c[e])}function k(e){return"number"!=typeof e?{top:0,right:0,bottom:0,left:0,...e}:{top:e,right:e,bottom:e,left:e}}function E(e){let{x:t,y:i,width:n,height:s}=e;return{width:n,height:s,top:i,left:t,right:t+n,bottom:i+s,x:t,y:i}}},98958:(e,t,i)=>{"use strict";i.d(t,{Dx:()=>ei,VY:()=>et,aV:()=>ee,dk:()=>en,fC:()=>Q,h_:()=>Z,x8:()=>es,xz:()=>X});var n=i(17577),s=i(82561),r=i(48051),a=i(93095),o=i(88957),l=i(52067),c=i(825),d=i(10441),u=i(83078),p=i(9815),h=i(45226),m=i(80699),f=i(95011),g=i(35664),v=i(34214),b=i(10326),y="Dialog",[x,_]=(0,a.b)(y),[w,S]=x(y),k=e=>{let{__scopeDialog:t,children:i,open:s,defaultOpen:r,onOpenChange:a,modal:c=!0}=e,d=n.useRef(null),u=n.useRef(null),[p=!1,h]=(0,l.T)({prop:s,defaultProp:r,onChange:a});return(0,b.jsx)(w,{scope:t,triggerRef:d,contentRef:u,contentId:(0,o.M)(),titleId:(0,o.M)(),descriptionId:(0,o.M)(),open:p,onOpenChange:h,onOpenToggle:n.useCallback(()=>h(e=>!e),[h]),modal:c,children:i})};k.displayName=y;var E="DialogTrigger",T=n.forwardRef((e,t)=>{let{__scopeDialog:i,...n}=e,a=S(E,i),o=(0,r.e)(t,a.triggerRef);return(0,b.jsx)(h.WV.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":z(a.open),...n,ref:o,onClick:(0,s.M)(e.onClick,a.onOpenToggle)})});T.displayName=E;var C="DialogPortal",[R,O]=x(C,{forceMount:void 0}),P=e=>{let{__scopeDialog:t,forceMount:i,children:s,container:r}=e,a=S(C,t);return(0,b.jsx)(R,{scope:t,forceMount:i,children:n.Children.map(s,e=>(0,b.jsx)(p.z,{present:i||a.open,children:(0,b.jsx)(u.h,{asChild:!0,container:r,children:e})}))})};P.displayName=C;var j="DialogOverlay",I=n.forwardRef((e,t)=>{let i=O(j,e.__scopeDialog),{forceMount:n=i.forceMount,...s}=e,r=S(j,e.__scopeDialog);return r.modal?(0,b.jsx)(p.z,{present:n||r.open,children:(0,b.jsx)(N,{...s,ref:t})}):null});I.displayName=j;var N=n.forwardRef((e,t)=>{let{__scopeDialog:i,...n}=e,s=S(j,i);return(0,b.jsx)(f.Z,{as:v.g7,allowPinchZoom:!0,shards:[s.contentRef],children:(0,b.jsx)(h.WV.div,{"data-state":z(s.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),D="DialogContent",A=n.forwardRef((e,t)=>{let i=O(D,e.__scopeDialog),{forceMount:n=i.forceMount,...s}=e,r=S(D,e.__scopeDialog);return(0,b.jsx)(p.z,{present:n||r.open,children:r.modal?(0,b.jsx)(L,{...s,ref:t}):(0,b.jsx)(M,{...s,ref:t})})});A.displayName=D;var L=n.forwardRef((e,t)=>{let i=S(D,e.__scopeDialog),a=n.useRef(null),o=(0,r.e)(t,i.contentRef,a);return n.useEffect(()=>{let e=a.current;if(e)return(0,g.Ry)(e)},[]),(0,b.jsx)(U,{...e,ref:o,trapFocus:i.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:(0,s.M)(e.onCloseAutoFocus,e=>{e.preventDefault(),i.triggerRef.current?.focus()}),onPointerDownOutside:(0,s.M)(e.onPointerDownOutside,e=>{let t=e.detail.originalEvent,i=0===t.button&&!0===t.ctrlKey;(2===t.button||i)&&e.preventDefault()}),onFocusOutside:(0,s.M)(e.onFocusOutside,e=>e.preventDefault())})}),M=n.forwardRef((e,t)=>{let i=S(D,e.__scopeDialog),s=n.useRef(!1),r=n.useRef(!1);return(0,b.jsx)(U,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:t=>{e.onCloseAutoFocus?.(t),t.defaultPrevented||(s.current||i.triggerRef.current?.focus(),t.preventDefault()),s.current=!1,r.current=!1},onInteractOutside:t=>{e.onInteractOutside?.(t),t.defaultPrevented||(s.current=!0,"pointerdown"!==t.detail.originalEvent.type||(r.current=!0));let n=t.target;i.triggerRef.current?.contains(n)&&t.preventDefault(),"focusin"===t.detail.originalEvent.type&&r.current&&t.preventDefault()}})}),U=n.forwardRef((e,t)=>{let{__scopeDialog:i,trapFocus:s,onOpenAutoFocus:a,onCloseAutoFocus:o,...l}=e,u=S(D,i),p=n.useRef(null),h=(0,r.e)(t,p);return(0,m.EW)(),(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(d.M,{asChild:!0,loop:!0,trapped:s,onMountAutoFocus:a,onUnmountAutoFocus:o,children:(0,b.jsx)(c.XB,{role:"dialog",id:u.contentId,"aria-describedby":u.descriptionId,"aria-labelledby":u.titleId,"data-state":z(u.open),...l,ref:h,onDismiss:()=>u.onOpenChange(!1)})}),(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(J,{titleId:u.titleId}),(0,b.jsx)(Y,{contentRef:p,descriptionId:u.descriptionId})]})]})}),F="DialogTitle",B=n.forwardRef((e,t)=>{let{__scopeDialog:i,...n}=e,s=S(F,i);return(0,b.jsx)(h.WV.h2,{id:s.titleId,...n,ref:t})});B.displayName=F;var $="DialogDescription",q=n.forwardRef((e,t)=>{let{__scopeDialog:i,...n}=e,s=S($,i);return(0,b.jsx)(h.WV.p,{id:s.descriptionId,...n,ref:t})});q.displayName=$;var V="DialogClose",W=n.forwardRef((e,t)=>{let{__scopeDialog:i,...n}=e,r=S(V,i);return(0,b.jsx)(h.WV.button,{type:"button",...n,ref:t,onClick:(0,s.M)(e.onClick,()=>r.onOpenChange(!1))})});function z(e){return e?"open":"closed"}W.displayName=V;var H="DialogTitleWarning",[K,G]=(0,a.k)(H,{contentName:D,titleName:F,docsSlug:"dialog"}),J=({titleId:e})=>{let t=G(H),i=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return n.useEffect(()=>{e&&!document.getElementById(e)&&console.error(i)},[i,e]),null},Y=({contentRef:e,descriptionId:t})=>{let i=G("DialogDescriptionWarning"),s=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${i.contentName}}.`;return n.useEffect(()=>{let i=e.current?.getAttribute("aria-describedby");t&&i&&!document.getElementById(t)&&console.warn(s)},[s,e,t]),null},Q=k,X=T,Z=P,ee=I,et=A,ei=B,en=q,es=W},80699:(e,t,i)=>{"use strict";i.d(t,{EW:()=>r});var n=i(17577),s=0;function r(){n.useEffect(()=>{let e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??a()),document.body.insertAdjacentElement("beforeend",e[1]??a()),s++,()=>{1===s&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),s--}},[])}function a(){let e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.cssText="outline: none; opacity: 0; position: fixed; pointer-events: none",e}},10441:(e,t,i)=>{"use strict";i.d(t,{M:()=>u});var n=i(17577),s=i(48051),r=i(45226),a=i(55049),o=i(10326),l="focusScope.autoFocusOnMount",c="focusScope.autoFocusOnUnmount",d={bubbles:!1,cancelable:!0},u=n.forwardRef((e,t)=>{let{loop:i=!1,trapped:u=!1,onMountAutoFocus:g,onUnmountAutoFocus:v,...b}=e,[y,x]=n.useState(null),_=(0,a.W)(g),w=(0,a.W)(v),S=n.useRef(null),k=(0,s.e)(t,e=>x(e)),E=n.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;n.useEffect(()=>{if(u){let e=function(e){if(E.paused||!y)return;let t=e.target;y.contains(t)?S.current=t:m(S.current,{select:!0})},t=function(e){if(E.paused||!y)return;let t=e.relatedTarget;null===t||y.contains(t)||m(S.current,{select:!0})};document.addEventListener("focusin",e),document.addEventListener("focusout",t);let i=new MutationObserver(function(e){if(document.activeElement===document.body)for(let t of e)t.removedNodes.length>0&&m(y)});return y&&i.observe(y,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",e),document.removeEventListener("focusout",t),i.disconnect()}}},[u,y,E.paused]),n.useEffect(()=>{if(y){f.add(E);let e=document.activeElement;if(!y.contains(e)){let t=new CustomEvent(l,d);y.addEventListener(l,_),y.dispatchEvent(t),t.defaultPrevented||(function(e,{select:t=!1}={}){let i=document.activeElement;for(let n of e)if(m(n,{select:t}),document.activeElement!==i)return}(p(y).filter(e=>"A"!==e.tagName),{select:!0}),document.activeElement===e&&m(y))}return()=>{y.removeEventListener(l,_),setTimeout(()=>{let t=new CustomEvent(c,d);y.addEventListener(c,w),y.dispatchEvent(t),t.defaultPrevented||m(e??document.body,{select:!0}),y.removeEventListener(c,w),f.remove(E)},0)}}},[y,_,w,E]);let T=n.useCallback(e=>{if(!i&&!u||E.paused)return;let t="Tab"===e.key&&!e.altKey&&!e.ctrlKey&&!e.metaKey,n=document.activeElement;if(t&&n){let t=e.currentTarget,[s,r]=function(e){let t=p(e);return[h(t,e),h(t.reverse(),e)]}(t);s&&r?e.shiftKey||n!==r?e.shiftKey&&n===s&&(e.preventDefault(),i&&m(r,{select:!0})):(e.preventDefault(),i&&m(s,{select:!0})):n===t&&e.preventDefault()}},[i,u,E.paused]);return(0,o.jsx)(r.WV.div,{tabIndex:-1,...b,ref:k,onKeyDown:T})});function p(e){let t=[],i=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:e=>{let t="INPUT"===e.tagName&&"hidden"===e.type;return e.disabled||e.hidden||t?NodeFilter.FILTER_SKIP:e.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;i.nextNode();)t.push(i.currentNode);return t}function h(e,t){for(let i of e)if(!function(e,{upTo:t}){if("hidden"===getComputedStyle(e).visibility)return!0;for(;e&&(void 0===t||e!==t);){if("none"===getComputedStyle(e).display)return!0;e=e.parentElement}return!1}(i,{upTo:t}))return i}function m(e,{select:t=!1}={}){if(e&&e.focus){var i;let n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&(i=e)instanceof HTMLInputElement&&"select"in i&&t&&e.select()}}u.displayName="FocusScope";var f=function(){let e=[];return{add(t){let i=e[0];t!==i&&i?.pause(),(e=g(e,t)).unshift(t)},remove(t){e=g(e,t),e[0]?.resume()}}}();function g(e,t){let i=[...e],n=i.indexOf(t);return -1!==n&&i.splice(n,1),i}},88957:(e,t,i)=>{"use strict";i.d(t,{M:()=>l});var n,s=i(17577),r=i(65819),a=(n||(n=i.t(s,2)))["useId".toString()]||(()=>void 0),o=0;function l(e){let[t,i]=s.useState(a());return(0,r.b)(()=>{e||i(e=>e??String(o++))},[e]),e||(t?`radix-${t}`:"")}},65826:(e,t,i)=>{"use strict";i.d(t,{CR:()=>d,FC:()=>h,Jh:()=>l,KL:()=>m,XA:()=>c,ZT:()=>s,_T:()=>a,ev:()=>u,mG:()=>o,pi:()=>r,qq:()=>p});var n=function(e,t){return(n=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])})(e,t)};function s(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function i(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}var r=function(){return(r=Object.assign||function(e){for(var t,i=1,n=arguments.length;i<n;i++)for(var s in t=arguments[i])Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s]);return e}).apply(this,arguments)};function a(e,t){var i={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&0>t.indexOf(n)&&(i[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)0>t.indexOf(n[s])&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(i[n[s]]=e[n[s]]);return i}function o(e,t,i,n){return new(i||(i=Promise))(function(s,r){function a(e){try{l(n.next(e))}catch(e){r(e)}}function o(e){try{l(n.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?s(e.value):((t=e.value)instanceof i?t:new i(function(e){e(t)})).then(a,o)}l((n=n.apply(e,t||[])).next())})}function l(e,t){var i,n,s,r={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]},a=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return a.next=o(0),a.throw=o(1),a.return=o(2),"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function o(o){return function(l){return function(o){if(i)throw TypeError("Generator is already executing.");for(;a&&(a=0,o[0]&&(r=0)),r;)try{if(i=1,n&&(s=2&o[0]?n.return:o[0]?n.throw||((s=n.return)&&s.call(n),0):n.next)&&!(s=s.call(n,o[1])).done)return s;switch(n=0,s&&(o=[2&o[0],s.value]),o[0]){case 0:case 1:s=o;break;case 4:return r.label++,{value:o[1],done:!1};case 5:r.label++,n=o[1],o=[0];continue;case 7:o=r.ops.pop(),r.trys.pop();continue;default:if(!(s=(s=r.trys).length>0&&s[s.length-1])&&(6===o[0]||2===o[0])){r=0;continue}if(3===o[0]&&(!s||o[1]>s[0]&&o[1]<s[3])){r.label=o[1];break}if(6===o[0]&&r.label<s[1]){r.label=s[1],s=o;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(o);break}s[2]&&r.ops.pop(),r.trys.pop();continue}o=t.call(e,r)}catch(e){o=[6,e],n=0}finally{i=s=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,l])}}}function c(e){var t="function"==typeof Symbol&&Symbol.iterator,i=t&&e[t],n=0;if(i)return i.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function d(e,t){var i="function"==typeof Symbol&&e[Symbol.iterator];if(!i)return e;var n,s,r=i.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=r.next()).done;)a.push(n.value)}catch(e){s={error:e}}finally{try{n&&!n.done&&(i=r.return)&&i.call(r)}finally{if(s)throw s.error}}return a}function u(e,t,i){if(i||2==arguments.length)for(var n,s=0,r=t.length;s<r;s++)!n&&s in t||(n||(n=Array.prototype.slice.call(t,0,s)),n[s]=t[s]);return e.concat(n||Array.prototype.slice.call(t))}function p(e){return this instanceof p?(this.v=e,this):new p(e)}function h(e,t,i){if(!Symbol.asyncIterator)throw TypeError("Symbol.asyncIterator is not defined.");var n,s=i.apply(e,t||[]),r=[];return n=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",function(e){return function(t){return Promise.resolve(t).then(e,c)}}),n[Symbol.asyncIterator]=function(){return this},n;function a(e,t){s[e]&&(n[e]=function(t){return new Promise(function(i,n){r.push([e,t,i,n])>1||o(e,t)})},t&&(n[e]=t(n[e])))}function o(e,t){try{var i;(i=s[e](t)).value instanceof p?Promise.resolve(i.value.v).then(l,c):d(r[0][2],i)}catch(e){d(r[0][3],e)}}function l(e){o("next",e)}function c(e){o("throw",e)}function d(e,t){e(t),r.shift(),r.length&&o(r[0][0],r[0][1])}}function m(e){if(!Symbol.asyncIterator)throw TypeError("Symbol.asyncIterator is not defined.");var t,i=e[Symbol.asyncIterator];return i?i.call(e):(e=c(e),t={},n("next"),n("throw"),n("return"),t[Symbol.asyncIterator]=function(){return this},t);function n(i){t[i]=e[i]&&function(t){return new Promise(function(n,s){(function(e,t,i,n){Promise.resolve(n).then(function(t){e({value:t,done:i})},t)})(n,s,(t=e[i](t)).done,t.value)})}}}Object.create,Object.create,"function"==typeof SuppressedError&&SuppressedError},40572:e=>{"use strict";e.exports=JSON.parse('{"application/1d-interleaved-parityfec":{"source":"iana"},"application/3gpdash-qoe-report+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/3gpp-ims+xml":{"source":"iana","compressible":true},"application/3gpphal+json":{"source":"iana","compressible":true},"application/3gpphalforms+json":{"source":"iana","compressible":true},"application/a2l":{"source":"iana"},"application/ace+cbor":{"source":"iana"},"application/activemessage":{"source":"iana"},"application/activity+json":{"source":"iana","compressible":true},"application/alto-costmap+json":{"source":"iana","compressible":true},"application/alto-costmapfilter+json":{"source":"iana","compressible":true},"application/alto-directory+json":{"source":"iana","compressible":true},"application/alto-endpointcost+json":{"source":"iana","compressible":true},"application/alto-endpointcostparams+json":{"source":"iana","compressible":true},"application/alto-endpointprop+json":{"source":"iana","compressible":true},"application/alto-endpointpropparams+json":{"source":"iana","compressible":true},"application/alto-error+json":{"source":"iana","compressible":true},"application/alto-networkmap+json":{"source":"iana","compressible":true},"application/alto-networkmapfilter+json":{"source":"iana","compressible":true},"application/alto-updatestreamcontrol+json":{"source":"iana","compressible":true},"application/alto-updatestreamparams+json":{"source":"iana","compressible":true},"application/aml":{"source":"iana"},"application/andrew-inset":{"source":"iana","extensions":["ez"]},"application/applefile":{"source":"iana"},"application/applixware":{"source":"apache","extensions":["aw"]},"application/at+jwt":{"source":"iana"},"application/atf":{"source":"iana"},"application/atfx":{"source":"iana"},"application/atom+xml":{"source":"iana","compressible":true,"extensions":["atom"]},"application/atomcat+xml":{"source":"iana","compressible":true,"extensions":["atomcat"]},"application/atomdeleted+xml":{"source":"iana","compressible":true,"extensions":["atomdeleted"]},"application/atomicmail":{"source":"iana"},"application/atomsvc+xml":{"source":"iana","compressible":true,"extensions":["atomsvc"]},"application/atsc-dwd+xml":{"source":"iana","compressible":true,"extensions":["dwd"]},"application/atsc-dynamic-event-message":{"source":"iana"},"application/atsc-held+xml":{"source":"iana","compressible":true,"extensions":["held"]},"application/atsc-rdt+json":{"source":"iana","compressible":true},"application/atsc-rsat+xml":{"source":"iana","compressible":true,"extensions":["rsat"]},"application/atxml":{"source":"iana"},"application/auth-policy+xml":{"source":"iana","compressible":true},"application/bacnet-xdd+zip":{"source":"iana","compressible":false},"application/batch-smtp":{"source":"iana"},"application/bdoc":{"compressible":false,"extensions":["bdoc"]},"application/beep+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/calendar+json":{"source":"iana","compressible":true},"application/calendar+xml":{"source":"iana","compressible":true,"extensions":["xcs"]},"application/call-completion":{"source":"iana"},"application/cals-1840":{"source":"iana"},"application/captive+json":{"source":"iana","compressible":true},"application/cbor":{"source":"iana"},"application/cbor-seq":{"source":"iana"},"application/cccex":{"source":"iana"},"application/ccmp+xml":{"source":"iana","compressible":true},"application/ccxml+xml":{"source":"iana","compressible":true,"extensions":["ccxml"]},"application/cdfx+xml":{"source":"iana","compressible":true,"extensions":["cdfx"]},"application/cdmi-capability":{"source":"iana","extensions":["cdmia"]},"application/cdmi-container":{"source":"iana","extensions":["cdmic"]},"application/cdmi-domain":{"source":"iana","extensions":["cdmid"]},"application/cdmi-object":{"source":"iana","extensions":["cdmio"]},"application/cdmi-queue":{"source":"iana","extensions":["cdmiq"]},"application/cdni":{"source":"iana"},"application/cea":{"source":"iana"},"application/cea-2018+xml":{"source":"iana","compressible":true},"application/cellml+xml":{"source":"iana","compressible":true},"application/cfw":{"source":"iana"},"application/city+json":{"source":"iana","compressible":true},"application/clr":{"source":"iana"},"application/clue+xml":{"source":"iana","compressible":true},"application/clue_info+xml":{"source":"iana","compressible":true},"application/cms":{"source":"iana"},"application/cnrp+xml":{"source":"iana","compressible":true},"application/coap-group+json":{"source":"iana","compressible":true},"application/coap-payload":{"source":"iana"},"application/commonground":{"source":"iana"},"application/conference-info+xml":{"source":"iana","compressible":true},"application/cose":{"source":"iana"},"application/cose-key":{"source":"iana"},"application/cose-key-set":{"source":"iana"},"application/cpl+xml":{"source":"iana","compressible":true,"extensions":["cpl"]},"application/csrattrs":{"source":"iana"},"application/csta+xml":{"source":"iana","compressible":true},"application/cstadata+xml":{"source":"iana","compressible":true},"application/csvm+json":{"source":"iana","compressible":true},"application/cu-seeme":{"source":"apache","extensions":["cu"]},"application/cwt":{"source":"iana"},"application/cybercash":{"source":"iana"},"application/dart":{"compressible":true},"application/dash+xml":{"source":"iana","compressible":true,"extensions":["mpd"]},"application/dash-patch+xml":{"source":"iana","compressible":true,"extensions":["mpp"]},"application/dashdelta":{"source":"iana"},"application/davmount+xml":{"source":"iana","compressible":true,"extensions":["davmount"]},"application/dca-rft":{"source":"iana"},"application/dcd":{"source":"iana"},"application/dec-dx":{"source":"iana"},"application/dialog-info+xml":{"source":"iana","compressible":true},"application/dicom":{"source":"iana"},"application/dicom+json":{"source":"iana","compressible":true},"application/dicom+xml":{"source":"iana","compressible":true},"application/dii":{"source":"iana"},"application/dit":{"source":"iana"},"application/dns":{"source":"iana"},"application/dns+json":{"source":"iana","compressible":true},"application/dns-message":{"source":"iana"},"application/docbook+xml":{"source":"apache","compressible":true,"extensions":["dbk"]},"application/dots+cbor":{"source":"iana"},"application/dskpp+xml":{"source":"iana","compressible":true},"application/dssc+der":{"source":"iana","extensions":["dssc"]},"application/dssc+xml":{"source":"iana","compressible":true,"extensions":["xdssc"]},"application/dvcs":{"source":"iana"},"application/ecmascript":{"source":"iana","compressible":true,"extensions":["es","ecma"]},"application/edi-consent":{"source":"iana"},"application/edi-x12":{"source":"iana","compressible":false},"application/edifact":{"source":"iana","compressible":false},"application/efi":{"source":"iana"},"application/elm+json":{"source":"iana","charset":"UTF-8","compressible":true},"application/elm+xml":{"source":"iana","compressible":true},"application/emergencycalldata.cap+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/emergencycalldata.comment+xml":{"source":"iana","compressible":true},"application/emergencycalldata.control+xml":{"source":"iana","compressible":true},"application/emergencycalldata.deviceinfo+xml":{"source":"iana","compressible":true},"application/emergencycalldata.ecall.msd":{"source":"iana"},"application/emergencycalldata.providerinfo+xml":{"source":"iana","compressible":true},"application/emergencycalldata.serviceinfo+xml":{"source":"iana","compressible":true},"application/emergencycalldata.subscriberinfo+xml":{"source":"iana","compressible":true},"application/emergencycalldata.veds+xml":{"source":"iana","compressible":true},"application/emma+xml":{"source":"iana","compressible":true,"extensions":["emma"]},"application/emotionml+xml":{"source":"iana","compressible":true,"extensions":["emotionml"]},"application/encaprtp":{"source":"iana"},"application/epp+xml":{"source":"iana","compressible":true},"application/epub+zip":{"source":"iana","compressible":false,"extensions":["epub"]},"application/eshop":{"source":"iana"},"application/exi":{"source":"iana","extensions":["exi"]},"application/expect-ct-report+json":{"source":"iana","compressible":true},"application/express":{"source":"iana","extensions":["exp"]},"application/fastinfoset":{"source":"iana"},"application/fastsoap":{"source":"iana"},"application/fdt+xml":{"source":"iana","compressible":true,"extensions":["fdt"]},"application/fhir+json":{"source":"iana","charset":"UTF-8","compressible":true},"application/fhir+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/fido.trusted-apps+json":{"compressible":true},"application/fits":{"source":"iana"},"application/flexfec":{"source":"iana"},"application/font-sfnt":{"source":"iana"},"application/font-tdpfr":{"source":"iana","extensions":["pfr"]},"application/font-woff":{"source":"iana","compressible":false},"application/framework-attributes+xml":{"source":"iana","compressible":true},"application/geo+json":{"source":"iana","compressible":true,"extensions":["geojson"]},"application/geo+json-seq":{"source":"iana"},"application/geopackage+sqlite3":{"source":"iana"},"application/geoxacml+xml":{"source":"iana","compressible":true},"application/gltf-buffer":{"source":"iana"},"application/gml+xml":{"source":"iana","compressible":true,"extensions":["gml"]},"application/gpx+xml":{"source":"apache","compressible":true,"extensions":["gpx"]},"application/gxf":{"source":"apache","extensions":["gxf"]},"application/gzip":{"source":"iana","compressible":false,"extensions":["gz"]},"application/h224":{"source":"iana"},"application/held+xml":{"source":"iana","compressible":true},"application/hjson":{"extensions":["hjson"]},"application/http":{"source":"iana"},"application/hyperstudio":{"source":"iana","extensions":["stk"]},"application/ibe-key-request+xml":{"source":"iana","compressible":true},"application/ibe-pkg-reply+xml":{"source":"iana","compressible":true},"application/ibe-pp-data":{"source":"iana"},"application/iges":{"source":"iana"},"application/im-iscomposing+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/index":{"source":"iana"},"application/index.cmd":{"source":"iana"},"application/index.obj":{"source":"iana"},"application/index.response":{"source":"iana"},"application/index.vnd":{"source":"iana"},"application/inkml+xml":{"source":"iana","compressible":true,"extensions":["ink","inkml"]},"application/iotp":{"source":"iana"},"application/ipfix":{"source":"iana","extensions":["ipfix"]},"application/ipp":{"source":"iana"},"application/isup":{"source":"iana"},"application/its+xml":{"source":"iana","compressible":true,"extensions":["its"]},"application/java-archive":{"source":"apache","compressible":false,"extensions":["jar","war","ear"]},"application/java-serialized-object":{"source":"apache","compressible":false,"extensions":["ser"]},"application/java-vm":{"source":"apache","compressible":false,"extensions":["class"]},"application/javascript":{"source":"iana","charset":"UTF-8","compressible":true,"extensions":["js","mjs"]},"application/jf2feed+json":{"source":"iana","compressible":true},"application/jose":{"source":"iana"},"application/jose+json":{"source":"iana","compressible":true},"application/jrd+json":{"source":"iana","compressible":true},"application/jscalendar+json":{"source":"iana","compressible":true},"application/json":{"source":"iana","charset":"UTF-8","compressible":true,"extensions":["json","map"]},"application/json-patch+json":{"source":"iana","compressible":true},"application/json-seq":{"source":"iana"},"application/json5":{"extensions":["json5"]},"application/jsonml+json":{"source":"apache","compressible":true,"extensions":["jsonml"]},"application/jwk+json":{"source":"iana","compressible":true},"application/jwk-set+json":{"source":"iana","compressible":true},"application/jwt":{"source":"iana"},"application/kpml-request+xml":{"source":"iana","compressible":true},"application/kpml-response+xml":{"source":"iana","compressible":true},"application/ld+json":{"source":"iana","compressible":true,"extensions":["jsonld"]},"application/lgr+xml":{"source":"iana","compressible":true,"extensions":["lgr"]},"application/link-format":{"source":"iana"},"application/load-control+xml":{"source":"iana","compressible":true},"application/lost+xml":{"source":"iana","compressible":true,"extensions":["lostxml"]},"application/lostsync+xml":{"source":"iana","compressible":true},"application/lpf+zip":{"source":"iana","compressible":false},"application/lxf":{"source":"iana"},"application/mac-binhex40":{"source":"iana","extensions":["hqx"]},"application/mac-compactpro":{"source":"apache","extensions":["cpt"]},"application/macwriteii":{"source":"iana"},"application/mads+xml":{"source":"iana","compressible":true,"extensions":["mads"]},"application/manifest+json":{"source":"iana","charset":"UTF-8","compressible":true,"extensions":["webmanifest"]},"application/marc":{"source":"iana","extensions":["mrc"]},"application/marcxml+xml":{"source":"iana","compressible":true,"extensions":["mrcx"]},"application/mathematica":{"source":"iana","extensions":["ma","nb","mb"]},"application/mathml+xml":{"source":"iana","compressible":true,"extensions":["mathml"]},"application/mathml-content+xml":{"source":"iana","compressible":true},"application/mathml-presentation+xml":{"source":"iana","compressible":true},"application/mbms-associated-procedure-description+xml":{"source":"iana","compressible":true},"application/mbms-deregister+xml":{"source":"iana","compressible":true},"application/mbms-envelope+xml":{"source":"iana","compressible":true},"application/mbms-msk+xml":{"source":"iana","compressible":true},"application/mbms-msk-response+xml":{"source":"iana","compressible":true},"application/mbms-protection-description+xml":{"source":"iana","compressible":true},"application/mbms-reception-report+xml":{"source":"iana","compressible":true},"application/mbms-register+xml":{"source":"iana","compressible":true},"application/mbms-register-response+xml":{"source":"iana","compressible":true},"application/mbms-schedule+xml":{"source":"iana","compressible":true},"application/mbms-user-service-description+xml":{"source":"iana","compressible":true},"application/mbox":{"source":"iana","extensions":["mbox"]},"application/media-policy-dataset+xml":{"source":"iana","compressible":true,"extensions":["mpf"]},"application/media_control+xml":{"source":"iana","compressible":true},"application/mediaservercontrol+xml":{"source":"iana","compressible":true,"extensions":["mscml"]},"application/merge-patch+json":{"source":"iana","compressible":true},"application/metalink+xml":{"source":"apache","compressible":true,"extensions":["metalink"]},"application/metalink4+xml":{"source":"iana","compressible":true,"extensions":["meta4"]},"application/mets+xml":{"source":"iana","compressible":true,"extensions":["mets"]},"application/mf4":{"source":"iana"},"application/mikey":{"source":"iana"},"application/mipc":{"source":"iana"},"application/missing-blocks+cbor-seq":{"source":"iana"},"application/mmt-aei+xml":{"source":"iana","compressible":true,"extensions":["maei"]},"application/mmt-usd+xml":{"source":"iana","compressible":true,"extensions":["musd"]},"application/mods+xml":{"source":"iana","compressible":true,"extensions":["mods"]},"application/moss-keys":{"source":"iana"},"application/moss-signature":{"source":"iana"},"application/mosskey-data":{"source":"iana"},"application/mosskey-request":{"source":"iana"},"application/mp21":{"source":"iana","extensions":["m21","mp21"]},"application/mp4":{"source":"iana","extensions":["mp4s","m4p"]},"application/mpeg4-generic":{"source":"iana"},"application/mpeg4-iod":{"source":"iana"},"application/mpeg4-iod-xmt":{"source":"iana"},"application/mrb-consumer+xml":{"source":"iana","compressible":true},"application/mrb-publish+xml":{"source":"iana","compressible":true},"application/msc-ivr+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/msc-mixer+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/msword":{"source":"iana","compressible":false,"extensions":["doc","dot"]},"application/mud+json":{"source":"iana","compressible":true},"application/multipart-core":{"source":"iana"},"application/mxf":{"source":"iana","extensions":["mxf"]},"application/n-quads":{"source":"iana","extensions":["nq"]},"application/n-triples":{"source":"iana","extensions":["nt"]},"application/nasdata":{"source":"iana"},"application/news-checkgroups":{"source":"iana","charset":"US-ASCII"},"application/news-groupinfo":{"source":"iana","charset":"US-ASCII"},"application/news-transmission":{"source":"iana"},"application/nlsml+xml":{"source":"iana","compressible":true},"application/node":{"source":"iana","extensions":["cjs"]},"application/nss":{"source":"iana"},"application/oauth-authz-req+jwt":{"source":"iana"},"application/oblivious-dns-message":{"source":"iana"},"application/ocsp-request":{"source":"iana"},"application/ocsp-response":{"source":"iana"},"application/octet-stream":{"source":"iana","compressible":false,"extensions":["bin","dms","lrf","mar","so","dist","distz","pkg","bpk","dump","elc","deploy","exe","dll","deb","dmg","iso","img","msi","msp","msm","buffer"]},"application/oda":{"source":"iana","extensions":["oda"]},"application/odm+xml":{"source":"iana","compressible":true},"application/odx":{"source":"iana"},"application/oebps-package+xml":{"source":"iana","compressible":true,"extensions":["opf"]},"application/ogg":{"source":"iana","compressible":false,"extensions":["ogx"]},"application/omdoc+xml":{"source":"apache","compressible":true,"extensions":["omdoc"]},"application/onenote":{"source":"apache","extensions":["onetoc","onetoc2","onetmp","onepkg"]},"application/opc-nodeset+xml":{"source":"iana","compressible":true},"application/oscore":{"source":"iana"},"application/oxps":{"source":"iana","extensions":["oxps"]},"application/p21":{"source":"iana"},"application/p21+zip":{"source":"iana","compressible":false},"application/p2p-overlay+xml":{"source":"iana","compressible":true,"extensions":["relo"]},"application/parityfec":{"source":"iana"},"application/passport":{"source":"iana"},"application/patch-ops-error+xml":{"source":"iana","compressible":true,"extensions":["xer"]},"application/pdf":{"source":"iana","compressible":false,"extensions":["pdf"]},"application/pdx":{"source":"iana"},"application/pem-certificate-chain":{"source":"iana"},"application/pgp-encrypted":{"source":"iana","compressible":false,"extensions":["pgp"]},"application/pgp-keys":{"source":"iana","extensions":["asc"]},"application/pgp-signature":{"source":"iana","extensions":["asc","sig"]},"application/pics-rules":{"source":"apache","extensions":["prf"]},"application/pidf+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/pidf-diff+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/pkcs10":{"source":"iana","extensions":["p10"]},"application/pkcs12":{"source":"iana"},"application/pkcs7-mime":{"source":"iana","extensions":["p7m","p7c"]},"application/pkcs7-signature":{"source":"iana","extensions":["p7s"]},"application/pkcs8":{"source":"iana","extensions":["p8"]},"application/pkcs8-encrypted":{"source":"iana"},"application/pkix-attr-cert":{"source":"iana","extensions":["ac"]},"application/pkix-cert":{"source":"iana","extensions":["cer"]},"application/pkix-crl":{"source":"iana","extensions":["crl"]},"application/pkix-pkipath":{"source":"iana","extensions":["pkipath"]},"application/pkixcmp":{"source":"iana","extensions":["pki"]},"application/pls+xml":{"source":"iana","compressible":true,"extensions":["pls"]},"application/poc-settings+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/postscript":{"source":"iana","compressible":true,"extensions":["ai","eps","ps"]},"application/ppsp-tracker+json":{"source":"iana","compressible":true},"application/problem+json":{"source":"iana","compressible":true},"application/problem+xml":{"source":"iana","compressible":true},"application/provenance+xml":{"source":"iana","compressible":true,"extensions":["provx"]},"application/prs.alvestrand.titrax-sheet":{"source":"iana"},"application/prs.cww":{"source":"iana","extensions":["cww"]},"application/prs.cyn":{"source":"iana","charset":"7-BIT"},"application/prs.hpub+zip":{"source":"iana","compressible":false},"application/prs.nprend":{"source":"iana"},"application/prs.plucker":{"source":"iana"},"application/prs.rdf-xml-crypt":{"source":"iana"},"application/prs.xsf+xml":{"source":"iana","compressible":true},"application/pskc+xml":{"source":"iana","compressible":true,"extensions":["pskcxml"]},"application/pvd+json":{"source":"iana","compressible":true},"application/qsig":{"source":"iana"},"application/raml+yaml":{"compressible":true,"extensions":["raml"]},"application/raptorfec":{"source":"iana"},"application/rdap+json":{"source":"iana","compressible":true},"application/rdf+xml":{"source":"iana","compressible":true,"extensions":["rdf","owl"]},"application/reginfo+xml":{"source":"iana","compressible":true,"extensions":["rif"]},"application/relax-ng-compact-syntax":{"source":"iana","extensions":["rnc"]},"application/remote-printing":{"source":"iana"},"application/reputon+json":{"source":"iana","compressible":true},"application/resource-lists+xml":{"source":"iana","compressible":true,"extensions":["rl"]},"application/resource-lists-diff+xml":{"source":"iana","compressible":true,"extensions":["rld"]},"application/rfc+xml":{"source":"iana","compressible":true},"application/riscos":{"source":"iana"},"application/rlmi+xml":{"source":"iana","compressible":true},"application/rls-services+xml":{"source":"iana","compressible":true,"extensions":["rs"]},"application/route-apd+xml":{"source":"iana","compressible":true,"extensions":["rapd"]},"application/route-s-tsid+xml":{"source":"iana","compressible":true,"extensions":["sls"]},"application/route-usd+xml":{"source":"iana","compressible":true,"extensions":["rusd"]},"application/rpki-ghostbusters":{"source":"iana","extensions":["gbr"]},"application/rpki-manifest":{"source":"iana","extensions":["mft"]},"application/rpki-publication":{"source":"iana"},"application/rpki-roa":{"source":"iana","extensions":["roa"]},"application/rpki-updown":{"source":"iana"},"application/rsd+xml":{"source":"apache","compressible":true,"extensions":["rsd"]},"application/rss+xml":{"source":"apache","compressible":true,"extensions":["rss"]},"application/rtf":{"source":"iana","compressible":true,"extensions":["rtf"]},"application/rtploopback":{"source":"iana"},"application/rtx":{"source":"iana"},"application/samlassertion+xml":{"source":"iana","compressible":true},"application/samlmetadata+xml":{"source":"iana","compressible":true},"application/sarif+json":{"source":"iana","compressible":true},"application/sarif-external-properties+json":{"source":"iana","compressible":true},"application/sbe":{"source":"iana"},"application/sbml+xml":{"source":"iana","compressible":true,"extensions":["sbml"]},"application/scaip+xml":{"source":"iana","compressible":true},"application/scim+json":{"source":"iana","compressible":true},"application/scvp-cv-request":{"source":"iana","extensions":["scq"]},"application/scvp-cv-response":{"source":"iana","extensions":["scs"]},"application/scvp-vp-request":{"source":"iana","extensions":["spq"]},"application/scvp-vp-response":{"source":"iana","extensions":["spp"]},"application/sdp":{"source":"iana","extensions":["sdp"]},"application/secevent+jwt":{"source":"iana"},"application/senml+cbor":{"source":"iana"},"application/senml+json":{"source":"iana","compressible":true},"application/senml+xml":{"source":"iana","compressible":true,"extensions":["senmlx"]},"application/senml-etch+cbor":{"source":"iana"},"application/senml-etch+json":{"source":"iana","compressible":true},"application/senml-exi":{"source":"iana"},"application/sensml+cbor":{"source":"iana"},"application/sensml+json":{"source":"iana","compressible":true},"application/sensml+xml":{"source":"iana","compressible":true,"extensions":["sensmlx"]},"application/sensml-exi":{"source":"iana"},"application/sep+xml":{"source":"iana","compressible":true},"application/sep-exi":{"source":"iana"},"application/session-info":{"source":"iana"},"application/set-payment":{"source":"iana"},"application/set-payment-initiation":{"source":"iana","extensions":["setpay"]},"application/set-registration":{"source":"iana"},"application/set-registration-initiation":{"source":"iana","extensions":["setreg"]},"application/sgml":{"source":"iana"},"application/sgml-open-catalog":{"source":"iana"},"application/shf+xml":{"source":"iana","compressible":true,"extensions":["shf"]},"application/sieve":{"source":"iana","extensions":["siv","sieve"]},"application/simple-filter+xml":{"source":"iana","compressible":true},"application/simple-message-summary":{"source":"iana"},"application/simplesymbolcontainer":{"source":"iana"},"application/sipc":{"source":"iana"},"application/slate":{"source":"iana"},"application/smil":{"source":"iana"},"application/smil+xml":{"source":"iana","compressible":true,"extensions":["smi","smil"]},"application/smpte336m":{"source":"iana"},"application/soap+fastinfoset":{"source":"iana"},"application/soap+xml":{"source":"iana","compressible":true},"application/sparql-query":{"source":"iana","extensions":["rq"]},"application/sparql-results+xml":{"source":"iana","compressible":true,"extensions":["srx"]},"application/spdx+json":{"source":"iana","compressible":true},"application/spirits-event+xml":{"source":"iana","compressible":true},"application/sql":{"source":"iana"},"application/srgs":{"source":"iana","extensions":["gram"]},"application/srgs+xml":{"source":"iana","compressible":true,"extensions":["grxml"]},"application/sru+xml":{"source":"iana","compressible":true,"extensions":["sru"]},"application/ssdl+xml":{"source":"apache","compressible":true,"extensions":["ssdl"]},"application/ssml+xml":{"source":"iana","compressible":true,"extensions":["ssml"]},"application/stix+json":{"source":"iana","compressible":true},"application/swid+xml":{"source":"iana","compressible":true,"extensions":["swidtag"]},"application/tamp-apex-update":{"source":"iana"},"application/tamp-apex-update-confirm":{"source":"iana"},"application/tamp-community-update":{"source":"iana"},"application/tamp-community-update-confirm":{"source":"iana"},"application/tamp-error":{"source":"iana"},"application/tamp-sequence-adjust":{"source":"iana"},"application/tamp-sequence-adjust-confirm":{"source":"iana"},"application/tamp-status-query":{"source":"iana"},"application/tamp-status-response":{"source":"iana"},"application/tamp-update":{"source":"iana"},"application/tamp-update-confirm":{"source":"iana"},"application/tar":{"compressible":true},"application/taxii+json":{"source":"iana","compressible":true},"application/td+json":{"source":"iana","compressible":true},"application/tei+xml":{"source":"iana","compressible":true,"extensions":["tei","teicorpus"]},"application/tetra_isi":{"source":"iana"},"application/thraud+xml":{"source":"iana","compressible":true,"extensions":["tfi"]},"application/timestamp-query":{"source":"iana"},"application/timestamp-reply":{"source":"iana"},"application/timestamped-data":{"source":"iana","extensions":["tsd"]},"application/tlsrpt+gzip":{"source":"iana"},"application/tlsrpt+json":{"source":"iana","compressible":true},"application/tnauthlist":{"source":"iana"},"application/token-introspection+jwt":{"source":"iana"},"application/toml":{"compressible":true,"extensions":["toml"]},"application/trickle-ice-sdpfrag":{"source":"iana"},"application/trig":{"source":"iana","extensions":["trig"]},"application/ttml+xml":{"source":"iana","compressible":true,"extensions":["ttml"]},"application/tve-trigger":{"source":"iana"},"application/tzif":{"source":"iana"},"application/tzif-leap":{"source":"iana"},"application/ubjson":{"compressible":false,"extensions":["ubj"]},"application/ulpfec":{"source":"iana"},"application/urc-grpsheet+xml":{"source":"iana","compressible":true},"application/urc-ressheet+xml":{"source":"iana","compressible":true,"extensions":["rsheet"]},"application/urc-targetdesc+xml":{"source":"iana","compressible":true,"extensions":["td"]},"application/urc-uisocketdesc+xml":{"source":"iana","compressible":true},"application/vcard+json":{"source":"iana","compressible":true},"application/vcard+xml":{"source":"iana","compressible":true},"application/vemmi":{"source":"iana"},"application/vividence.scriptfile":{"source":"apache"},"application/vnd.1000minds.decision-model+xml":{"source":"iana","compressible":true,"extensions":["1km"]},"application/vnd.3gpp-prose+xml":{"source":"iana","compressible":true},"application/vnd.3gpp-prose-pc3ch+xml":{"source":"iana","compressible":true},"application/vnd.3gpp-v2x-local-service-information":{"source":"iana"},"application/vnd.3gpp.5gnas":{"source":"iana"},"application/vnd.3gpp.access-transfer-events+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.bsf+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.gmop+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.gtpc":{"source":"iana"},"application/vnd.3gpp.interworking-data":{"source":"iana"},"application/vnd.3gpp.lpp":{"source":"iana"},"application/vnd.3gpp.mc-signalling-ear":{"source":"iana"},"application/vnd.3gpp.mcdata-affiliation-command+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcdata-info+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcdata-payload":{"source":"iana"},"application/vnd.3gpp.mcdata-service-config+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcdata-signalling":{"source":"iana"},"application/vnd.3gpp.mcdata-ue-config+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcdata-user-profile+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcptt-affiliation-command+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcptt-floor-request+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcptt-info+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcptt-location-info+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcptt-mbms-usage-info+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcptt-service-config+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcptt-signed+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcptt-ue-config+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcptt-ue-init-config+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcptt-user-profile+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcvideo-affiliation-command+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcvideo-affiliation-info+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcvideo-info+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcvideo-location-info+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcvideo-mbms-usage-info+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcvideo-service-config+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcvideo-transmission-request+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcvideo-ue-config+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcvideo-user-profile+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mid-call+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.ngap":{"source":"iana"},"application/vnd.3gpp.pfcp":{"source":"iana"},"application/vnd.3gpp.pic-bw-large":{"source":"iana","extensions":["plb"]},"application/vnd.3gpp.pic-bw-small":{"source":"iana","extensions":["psb"]},"application/vnd.3gpp.pic-bw-var":{"source":"iana","extensions":["pvb"]},"application/vnd.3gpp.s1ap":{"source":"iana"},"application/vnd.3gpp.sms":{"source":"iana"},"application/vnd.3gpp.sms+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.srvcc-ext+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.srvcc-info+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.state-and-event-info+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.ussd+xml":{"source":"iana","compressible":true},"application/vnd.3gpp2.bcmcsinfo+xml":{"source":"iana","compressible":true},"application/vnd.3gpp2.sms":{"source":"iana"},"application/vnd.3gpp2.tcap":{"source":"iana","extensions":["tcap"]},"application/vnd.3lightssoftware.imagescal":{"source":"iana"},"application/vnd.3m.post-it-notes":{"source":"iana","extensions":["pwn"]},"application/vnd.accpac.simply.aso":{"source":"iana","extensions":["aso"]},"application/vnd.accpac.simply.imp":{"source":"iana","extensions":["imp"]},"application/vnd.acucobol":{"source":"iana","extensions":["acu"]},"application/vnd.acucorp":{"source":"iana","extensions":["atc","acutc"]},"application/vnd.adobe.air-application-installer-package+zip":{"source":"apache","compressible":false,"extensions":["air"]},"application/vnd.adobe.flash.movie":{"source":"iana"},"application/vnd.adobe.formscentral.fcdt":{"source":"iana","extensions":["fcdt"]},"application/vnd.adobe.fxp":{"source":"iana","extensions":["fxp","fxpl"]},"application/vnd.adobe.partial-upload":{"source":"iana"},"application/vnd.adobe.xdp+xml":{"source":"iana","compressible":true,"extensions":["xdp"]},"application/vnd.adobe.xfdf":{"source":"iana","extensions":["xfdf"]},"application/vnd.aether.imp":{"source":"iana"},"application/vnd.afpc.afplinedata":{"source":"iana"},"application/vnd.afpc.afplinedata-pagedef":{"source":"iana"},"application/vnd.afpc.cmoca-cmresource":{"source":"iana"},"application/vnd.afpc.foca-charset":{"source":"iana"},"application/vnd.afpc.foca-codedfont":{"source":"iana"},"application/vnd.afpc.foca-codepage":{"source":"iana"},"application/vnd.afpc.modca":{"source":"iana"},"application/vnd.afpc.modca-cmtable":{"source":"iana"},"application/vnd.afpc.modca-formdef":{"source":"iana"},"application/vnd.afpc.modca-mediummap":{"source":"iana"},"application/vnd.afpc.modca-objectcontainer":{"source":"iana"},"application/vnd.afpc.modca-overlay":{"source":"iana"},"application/vnd.afpc.modca-pagesegment":{"source":"iana"},"application/vnd.age":{"source":"iana","extensions":["age"]},"application/vnd.ah-barcode":{"source":"iana"},"application/vnd.ahead.space":{"source":"iana","extensions":["ahead"]},"application/vnd.airzip.filesecure.azf":{"source":"iana","extensions":["azf"]},"application/vnd.airzip.filesecure.azs":{"source":"iana","extensions":["azs"]},"application/vnd.amadeus+json":{"source":"iana","compressible":true},"application/vnd.amazon.ebook":{"source":"apache","extensions":["azw"]},"application/vnd.amazon.mobi8-ebook":{"source":"iana"},"application/vnd.americandynamics.acc":{"source":"iana","extensions":["acc"]},"application/vnd.amiga.ami":{"source":"iana","extensions":["ami"]},"application/vnd.amundsen.maze+xml":{"source":"iana","compressible":true},"application/vnd.android.ota":{"source":"iana"},"application/vnd.android.package-archive":{"source":"apache","compressible":false,"extensions":["apk"]},"application/vnd.anki":{"source":"iana"},"application/vnd.anser-web-certificate-issue-initiation":{"source":"iana","extensions":["cii"]},"application/vnd.anser-web-funds-transfer-initiation":{"source":"apache","extensions":["fti"]},"application/vnd.antix.game-component":{"source":"iana","extensions":["atx"]},"application/vnd.apache.arrow.file":{"source":"iana"},"application/vnd.apache.arrow.stream":{"source":"iana"},"application/vnd.apache.thrift.binary":{"source":"iana"},"application/vnd.apache.thrift.compact":{"source":"iana"},"application/vnd.apache.thrift.json":{"source":"iana"},"application/vnd.api+json":{"source":"iana","compressible":true},"application/vnd.aplextor.warrp+json":{"source":"iana","compressible":true},"application/vnd.apothekende.reservation+json":{"source":"iana","compressible":true},"application/vnd.apple.installer+xml":{"source":"iana","compressible":true,"extensions":["mpkg"]},"application/vnd.apple.keynote":{"source":"iana","extensions":["key"]},"application/vnd.apple.mpegurl":{"source":"iana","extensions":["m3u8"]},"application/vnd.apple.numbers":{"source":"iana","extensions":["numbers"]},"application/vnd.apple.pages":{"source":"iana","extensions":["pages"]},"application/vnd.apple.pkpass":{"compressible":false,"extensions":["pkpass"]},"application/vnd.arastra.swi":{"source":"iana"},"application/vnd.aristanetworks.swi":{"source":"iana","extensions":["swi"]},"application/vnd.artisan+json":{"source":"iana","compressible":true},"application/vnd.artsquare":{"source":"iana"},"application/vnd.astraea-software.iota":{"source":"iana","extensions":["iota"]},"application/vnd.audiograph":{"source":"iana","extensions":["aep"]},"application/vnd.autopackage":{"source":"iana"},"application/vnd.avalon+json":{"source":"iana","compressible":true},"application/vnd.avistar+xml":{"source":"iana","compressible":true},"application/vnd.balsamiq.bmml+xml":{"source":"iana","compressible":true,"extensions":["bmml"]},"application/vnd.balsamiq.bmpr":{"source":"iana"},"application/vnd.banana-accounting":{"source":"iana"},"application/vnd.bbf.usp.error":{"source":"iana"},"application/vnd.bbf.usp.msg":{"source":"iana"},"application/vnd.bbf.usp.msg+json":{"source":"iana","compressible":true},"application/vnd.bekitzur-stech+json":{"source":"iana","compressible":true},"application/vnd.bint.med-content":{"source":"iana"},"application/vnd.biopax.rdf+xml":{"source":"iana","compressible":true},"application/vnd.blink-idb-value-wrapper":{"source":"iana"},"application/vnd.blueice.multipass":{"source":"iana","extensions":["mpm"]},"application/vnd.bluetooth.ep.oob":{"source":"iana"},"application/vnd.bluetooth.le.oob":{"source":"iana"},"application/vnd.bmi":{"source":"iana","extensions":["bmi"]},"application/vnd.bpf":{"source":"iana"},"application/vnd.bpf3":{"source":"iana"},"application/vnd.businessobjects":{"source":"iana","extensions":["rep"]},"application/vnd.byu.uapi+json":{"source":"iana","compressible":true},"application/vnd.cab-jscript":{"source":"iana"},"application/vnd.canon-cpdl":{"source":"iana"},"application/vnd.canon-lips":{"source":"iana"},"application/vnd.capasystems-pg+json":{"source":"iana","compressible":true},"application/vnd.cendio.thinlinc.clientconf":{"source":"iana"},"application/vnd.century-systems.tcp_stream":{"source":"iana"},"application/vnd.chemdraw+xml":{"source":"iana","compressible":true,"extensions":["cdxml"]},"application/vnd.chess-pgn":{"source":"iana"},"application/vnd.chipnuts.karaoke-mmd":{"source":"iana","extensions":["mmd"]},"application/vnd.ciedi":{"source":"iana"},"application/vnd.cinderella":{"source":"iana","extensions":["cdy"]},"application/vnd.cirpack.isdn-ext":{"source":"iana"},"application/vnd.citationstyles.style+xml":{"source":"iana","compressible":true,"extensions":["csl"]},"application/vnd.claymore":{"source":"iana","extensions":["cla"]},"application/vnd.cloanto.rp9":{"source":"iana","extensions":["rp9"]},"application/vnd.clonk.c4group":{"source":"iana","extensions":["c4g","c4d","c4f","c4p","c4u"]},"application/vnd.cluetrust.cartomobile-config":{"source":"iana","extensions":["c11amc"]},"application/vnd.cluetrust.cartomobile-config-pkg":{"source":"iana","extensions":["c11amz"]},"application/vnd.coffeescript":{"source":"iana"},"application/vnd.collabio.xodocuments.document":{"source":"iana"},"application/vnd.collabio.xodocuments.document-template":{"source":"iana"},"application/vnd.collabio.xodocuments.presentation":{"source":"iana"},"application/vnd.collabio.xodocuments.presentation-template":{"source":"iana"},"application/vnd.collabio.xodocuments.spreadsheet":{"source":"iana"},"application/vnd.collabio.xodocuments.spreadsheet-template":{"source":"iana"},"application/vnd.collection+json":{"source":"iana","compressible":true},"application/vnd.collection.doc+json":{"source":"iana","compressible":true},"application/vnd.collection.next+json":{"source":"iana","compressible":true},"application/vnd.comicbook+zip":{"source":"iana","compressible":false},"application/vnd.comicbook-rar":{"source":"iana"},"application/vnd.commerce-battelle":{"source":"iana"},"application/vnd.commonspace":{"source":"iana","extensions":["csp"]},"application/vnd.contact.cmsg":{"source":"iana","extensions":["cdbcmsg"]},"application/vnd.coreos.ignition+json":{"source":"iana","compressible":true},"application/vnd.cosmocaller":{"source":"iana","extensions":["cmc"]},"application/vnd.crick.clicker":{"source":"iana","extensions":["clkx"]},"application/vnd.crick.clicker.keyboard":{"source":"iana","extensions":["clkk"]},"application/vnd.crick.clicker.palette":{"source":"iana","extensions":["clkp"]},"application/vnd.crick.clicker.template":{"source":"iana","extensions":["clkt"]},"application/vnd.crick.clicker.wordbank":{"source":"iana","extensions":["clkw"]},"application/vnd.criticaltools.wbs+xml":{"source":"iana","compressible":true,"extensions":["wbs"]},"application/vnd.cryptii.pipe+json":{"source":"iana","compressible":true},"application/vnd.crypto-shade-file":{"source":"iana"},"application/vnd.cryptomator.encrypted":{"source":"iana"},"application/vnd.cryptomator.vault":{"source":"iana"},"application/vnd.ctc-posml":{"source":"iana","extensions":["pml"]},"application/vnd.ctct.ws+xml":{"source":"iana","compressible":true},"application/vnd.cups-pdf":{"source":"iana"},"application/vnd.cups-postscript":{"source":"iana"},"application/vnd.cups-ppd":{"source":"iana","extensions":["ppd"]},"application/vnd.cups-raster":{"source":"iana"},"application/vnd.cups-raw":{"source":"iana"},"application/vnd.curl":{"source":"iana"},"application/vnd.curl.car":{"source":"apache","extensions":["car"]},"application/vnd.curl.pcurl":{"source":"apache","extensions":["pcurl"]},"application/vnd.cyan.dean.root+xml":{"source":"iana","compressible":true},"application/vnd.cybank":{"source":"iana"},"application/vnd.cyclonedx+json":{"source":"iana","compressible":true},"application/vnd.cyclonedx+xml":{"source":"iana","compressible":true},"application/vnd.d2l.coursepackage1p0+zip":{"source":"iana","compressible":false},"application/vnd.d3m-dataset":{"source":"iana"},"application/vnd.d3m-problem":{"source":"iana"},"application/vnd.dart":{"source":"iana","compressible":true,"extensions":["dart"]},"application/vnd.data-vision.rdz":{"source":"iana","extensions":["rdz"]},"application/vnd.datapackage+json":{"source":"iana","compressible":true},"application/vnd.dataresource+json":{"source":"iana","compressible":true},"application/vnd.dbf":{"source":"iana","extensions":["dbf"]},"application/vnd.debian.binary-package":{"source":"iana"},"application/vnd.dece.data":{"source":"iana","extensions":["uvf","uvvf","uvd","uvvd"]},"application/vnd.dece.ttml+xml":{"source":"iana","compressible":true,"extensions":["uvt","uvvt"]},"application/vnd.dece.unspecified":{"source":"iana","extensions":["uvx","uvvx"]},"application/vnd.dece.zip":{"source":"iana","extensions":["uvz","uvvz"]},"application/vnd.denovo.fcselayout-link":{"source":"iana","extensions":["fe_launch"]},"application/vnd.desmume.movie":{"source":"iana"},"application/vnd.dir-bi.plate-dl-nosuffix":{"source":"iana"},"application/vnd.dm.delegation+xml":{"source":"iana","compressible":true},"application/vnd.dna":{"source":"iana","extensions":["dna"]},"application/vnd.document+json":{"source":"iana","compressible":true},"application/vnd.dolby.mlp":{"source":"apache","extensions":["mlp"]},"application/vnd.dolby.mobile.1":{"source":"iana"},"application/vnd.dolby.mobile.2":{"source":"iana"},"application/vnd.doremir.scorecloud-binary-document":{"source":"iana"},"application/vnd.dpgraph":{"source":"iana","extensions":["dpg"]},"application/vnd.dreamfactory":{"source":"iana","extensions":["dfac"]},"application/vnd.drive+json":{"source":"iana","compressible":true},"application/vnd.ds-keypoint":{"source":"apache","extensions":["kpxx"]},"application/vnd.dtg.local":{"source":"iana"},"application/vnd.dtg.local.flash":{"source":"iana"},"application/vnd.dtg.local.html":{"source":"iana"},"application/vnd.dvb.ait":{"source":"iana","extensions":["ait"]},"application/vnd.dvb.dvbisl+xml":{"source":"iana","compressible":true},"application/vnd.dvb.dvbj":{"source":"iana"},"application/vnd.dvb.esgcontainer":{"source":"iana"},"application/vnd.dvb.ipdcdftnotifaccess":{"source":"iana"},"application/vnd.dvb.ipdcesgaccess":{"source":"iana"},"application/vnd.dvb.ipdcesgaccess2":{"source":"iana"},"application/vnd.dvb.ipdcesgpdd":{"source":"iana"},"application/vnd.dvb.ipdcroaming":{"source":"iana"},"application/vnd.dvb.iptv.alfec-base":{"source":"iana"},"application/vnd.dvb.iptv.alfec-enhancement":{"source":"iana"},"application/vnd.dvb.notif-aggregate-root+xml":{"source":"iana","compressible":true},"application/vnd.dvb.notif-container+xml":{"source":"iana","compressible":true},"application/vnd.dvb.notif-generic+xml":{"source":"iana","compressible":true},"application/vnd.dvb.notif-ia-msglist+xml":{"source":"iana","compressible":true},"application/vnd.dvb.notif-ia-registration-request+xml":{"source":"iana","compressible":true},"application/vnd.dvb.notif-ia-registration-response+xml":{"source":"iana","compressible":true},"application/vnd.dvb.notif-init+xml":{"source":"iana","compressible":true},"application/vnd.dvb.pfr":{"source":"iana"},"application/vnd.dvb.service":{"source":"iana","extensions":["svc"]},"application/vnd.dxr":{"source":"iana"},"application/vnd.dynageo":{"source":"iana","extensions":["geo"]},"application/vnd.dzr":{"source":"iana"},"application/vnd.easykaraoke.cdgdownload":{"source":"iana"},"application/vnd.ecdis-update":{"source":"iana"},"application/vnd.ecip.rlp":{"source":"iana"},"application/vnd.eclipse.ditto+json":{"source":"iana","compressible":true},"application/vnd.ecowin.chart":{"source":"iana","extensions":["mag"]},"application/vnd.ecowin.filerequest":{"source":"iana"},"application/vnd.ecowin.fileupdate":{"source":"iana"},"application/vnd.ecowin.series":{"source":"iana"},"application/vnd.ecowin.seriesrequest":{"source":"iana"},"application/vnd.ecowin.seriesupdate":{"source":"iana"},"application/vnd.efi.img":{"source":"iana"},"application/vnd.efi.iso":{"source":"iana"},"application/vnd.emclient.accessrequest+xml":{"source":"iana","compressible":true},"application/vnd.enliven":{"source":"iana","extensions":["nml"]},"application/vnd.enphase.envoy":{"source":"iana"},"application/vnd.eprints.data+xml":{"source":"iana","compressible":true},"application/vnd.epson.esf":{"source":"iana","extensions":["esf"]},"application/vnd.epson.msf":{"source":"iana","extensions":["msf"]},"application/vnd.epson.quickanime":{"source":"iana","extensions":["qam"]},"application/vnd.epson.salt":{"source":"iana","extensions":["slt"]},"application/vnd.epson.ssf":{"source":"iana","extensions":["ssf"]},"application/vnd.ericsson.quickcall":{"source":"iana"},"application/vnd.espass-espass+zip":{"source":"iana","compressible":false},"application/vnd.eszigno3+xml":{"source":"iana","compressible":true,"extensions":["es3","et3"]},"application/vnd.etsi.aoc+xml":{"source":"iana","compressible":true},"application/vnd.etsi.asic-e+zip":{"source":"iana","compressible":false},"application/vnd.etsi.asic-s+zip":{"source":"iana","compressible":false},"application/vnd.etsi.cug+xml":{"source":"iana","compressible":true},"application/vnd.etsi.iptvcommand+xml":{"source":"iana","compressible":true},"application/vnd.etsi.iptvdiscovery+xml":{"source":"iana","compressible":true},"application/vnd.etsi.iptvprofile+xml":{"source":"iana","compressible":true},"application/vnd.etsi.iptvsad-bc+xml":{"source":"iana","compressible":true},"application/vnd.etsi.iptvsad-cod+xml":{"source":"iana","compressible":true},"application/vnd.etsi.iptvsad-npvr+xml":{"source":"iana","compressible":true},"application/vnd.etsi.iptvservice+xml":{"source":"iana","compressible":true},"application/vnd.etsi.iptvsync+xml":{"source":"iana","compressible":true},"application/vnd.etsi.iptvueprofile+xml":{"source":"iana","compressible":true},"application/vnd.etsi.mcid+xml":{"source":"iana","compressible":true},"application/vnd.etsi.mheg5":{"source":"iana"},"application/vnd.etsi.overload-control-policy-dataset+xml":{"source":"iana","compressible":true},"application/vnd.etsi.pstn+xml":{"source":"iana","compressible":true},"application/vnd.etsi.sci+xml":{"source":"iana","compressible":true},"application/vnd.etsi.simservs+xml":{"source":"iana","compressible":true},"application/vnd.etsi.timestamp-token":{"source":"iana"},"application/vnd.etsi.tsl+xml":{"source":"iana","compressible":true},"application/vnd.etsi.tsl.der":{"source":"iana"},"application/vnd.eu.kasparian.car+json":{"source":"iana","compressible":true},"application/vnd.eudora.data":{"source":"iana"},"application/vnd.evolv.ecig.profile":{"source":"iana"},"application/vnd.evolv.ecig.settings":{"source":"iana"},"application/vnd.evolv.ecig.theme":{"source":"iana"},"application/vnd.exstream-empower+zip":{"source":"iana","compressible":false},"application/vnd.exstream-package":{"source":"iana"},"application/vnd.ezpix-album":{"source":"iana","extensions":["ez2"]},"application/vnd.ezpix-package":{"source":"iana","extensions":["ez3"]},"application/vnd.f-secure.mobile":{"source":"iana"},"application/vnd.familysearch.gedcom+zip":{"source":"iana","compressible":false},"application/vnd.fastcopy-disk-image":{"source":"iana"},"application/vnd.fdf":{"source":"iana","extensions":["fdf"]},"application/vnd.fdsn.mseed":{"source":"iana","extensions":["mseed"]},"application/vnd.fdsn.seed":{"source":"iana","extensions":["seed","dataless"]},"application/vnd.ffsns":{"source":"iana"},"application/vnd.ficlab.flb+zip":{"source":"iana","compressible":false},"application/vnd.filmit.zfc":{"source":"iana"},"application/vnd.fints":{"source":"iana"},"application/vnd.firemonkeys.cloudcell":{"source":"iana"},"application/vnd.flographit":{"source":"iana","extensions":["gph"]},"application/vnd.fluxtime.clip":{"source":"iana","extensions":["ftc"]},"application/vnd.font-fontforge-sfd":{"source":"iana"},"application/vnd.framemaker":{"source":"iana","extensions":["fm","frame","maker","book"]},"application/vnd.frogans.fnc":{"source":"iana","extensions":["fnc"]},"application/vnd.frogans.ltf":{"source":"iana","extensions":["ltf"]},"application/vnd.fsc.weblaunch":{"source":"iana","extensions":["fsc"]},"application/vnd.fujifilm.fb.docuworks":{"source":"iana"},"application/vnd.fujifilm.fb.docuworks.binder":{"source":"iana"},"application/vnd.fujifilm.fb.docuworks.container":{"source":"iana"},"application/vnd.fujifilm.fb.jfi+xml":{"source":"iana","compressible":true},"application/vnd.fujitsu.oasys":{"source":"iana","extensions":["oas"]},"application/vnd.fujitsu.oasys2":{"source":"iana","extensions":["oa2"]},"application/vnd.fujitsu.oasys3":{"source":"iana","extensions":["oa3"]},"application/vnd.fujitsu.oasysgp":{"source":"iana","extensions":["fg5"]},"application/vnd.fujitsu.oasysprs":{"source":"iana","extensions":["bh2"]},"application/vnd.fujixerox.art-ex":{"source":"iana"},"application/vnd.fujixerox.art4":{"source":"iana"},"application/vnd.fujixerox.ddd":{"source":"iana","extensions":["ddd"]},"application/vnd.fujixerox.docuworks":{"source":"iana","extensions":["xdw"]},"application/vnd.fujixerox.docuworks.binder":{"source":"iana","extensions":["xbd"]},"application/vnd.fujixerox.docuworks.container":{"source":"iana"},"application/vnd.fujixerox.hbpl":{"source":"iana"},"application/vnd.fut-misnet":{"source":"iana"},"application/vnd.futoin+cbor":{"source":"iana"},"application/vnd.futoin+json":{"source":"iana","compressible":true},"application/vnd.fuzzysheet":{"source":"iana","extensions":["fzs"]},"application/vnd.genomatix.tuxedo":{"source":"iana","extensions":["txd"]},"application/vnd.gentics.grd+json":{"source":"iana","compressible":true},"application/vnd.geo+json":{"source":"iana","compressible":true},"application/vnd.geocube+xml":{"source":"iana","compressible":true},"application/vnd.geogebra.file":{"source":"iana","extensions":["ggb"]},"application/vnd.geogebra.slides":{"source":"iana"},"application/vnd.geogebra.tool":{"source":"iana","extensions":["ggt"]},"application/vnd.geometry-explorer":{"source":"iana","extensions":["gex","gre"]},"application/vnd.geonext":{"source":"iana","extensions":["gxt"]},"application/vnd.geoplan":{"source":"iana","extensions":["g2w"]},"application/vnd.geospace":{"source":"iana","extensions":["g3w"]},"application/vnd.gerber":{"source":"iana"},"application/vnd.globalplatform.card-content-mgt":{"source":"iana"},"application/vnd.globalplatform.card-content-mgt-response":{"source":"iana"},"application/vnd.gmx":{"source":"iana","extensions":["gmx"]},"application/vnd.google-apps.document":{"compressible":false,"extensions":["gdoc"]},"application/vnd.google-apps.presentation":{"compressible":false,"extensions":["gslides"]},"application/vnd.google-apps.spreadsheet":{"compressible":false,"extensions":["gsheet"]},"application/vnd.google-earth.kml+xml":{"source":"iana","compressible":true,"extensions":["kml"]},"application/vnd.google-earth.kmz":{"source":"iana","compressible":false,"extensions":["kmz"]},"application/vnd.gov.sk.e-form+xml":{"source":"iana","compressible":true},"application/vnd.gov.sk.e-form+zip":{"source":"iana","compressible":false},"application/vnd.gov.sk.xmldatacontainer+xml":{"source":"iana","compressible":true},"application/vnd.grafeq":{"source":"iana","extensions":["gqf","gqs"]},"application/vnd.gridmp":{"source":"iana"},"application/vnd.groove-account":{"source":"iana","extensions":["gac"]},"application/vnd.groove-help":{"source":"iana","extensions":["ghf"]},"application/vnd.groove-identity-message":{"source":"iana","extensions":["gim"]},"application/vnd.groove-injector":{"source":"iana","extensions":["grv"]},"application/vnd.groove-tool-message":{"source":"iana","extensions":["gtm"]},"application/vnd.groove-tool-template":{"source":"iana","extensions":["tpl"]},"application/vnd.groove-vcard":{"source":"iana","extensions":["vcg"]},"application/vnd.hal+json":{"source":"iana","compressible":true},"application/vnd.hal+xml":{"source":"iana","compressible":true,"extensions":["hal"]},"application/vnd.handheld-entertainment+xml":{"source":"iana","compressible":true,"extensions":["zmm"]},"application/vnd.hbci":{"source":"iana","extensions":["hbci"]},"application/vnd.hc+json":{"source":"iana","compressible":true},"application/vnd.hcl-bireports":{"source":"iana"},"application/vnd.hdt":{"source":"iana"},"application/vnd.heroku+json":{"source":"iana","compressible":true},"application/vnd.hhe.lesson-player":{"source":"iana","extensions":["les"]},"application/vnd.hl7cda+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/vnd.hl7v2+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/vnd.hp-hpgl":{"source":"iana","extensions":["hpgl"]},"application/vnd.hp-hpid":{"source":"iana","extensions":["hpid"]},"application/vnd.hp-hps":{"source":"iana","extensions":["hps"]},"application/vnd.hp-jlyt":{"source":"iana","extensions":["jlt"]},"application/vnd.hp-pcl":{"source":"iana","extensions":["pcl"]},"application/vnd.hp-pclxl":{"source":"iana","extensions":["pclxl"]},"application/vnd.httphone":{"source":"iana"},"application/vnd.hydrostatix.sof-data":{"source":"iana","extensions":["sfd-hdstx"]},"application/vnd.hyper+json":{"source":"iana","compressible":true},"application/vnd.hyper-item+json":{"source":"iana","compressible":true},"application/vnd.hyperdrive+json":{"source":"iana","compressible":true},"application/vnd.hzn-3d-crossword":{"source":"iana"},"application/vnd.ibm.afplinedata":{"source":"iana"},"application/vnd.ibm.electronic-media":{"source":"iana"},"application/vnd.ibm.minipay":{"source":"iana","extensions":["mpy"]},"application/vnd.ibm.modcap":{"source":"iana","extensions":["afp","listafp","list3820"]},"application/vnd.ibm.rights-management":{"source":"iana","extensions":["irm"]},"application/vnd.ibm.secure-container":{"source":"iana","extensions":["sc"]},"application/vnd.iccprofile":{"source":"iana","extensions":["icc","icm"]},"application/vnd.ieee.1905":{"source":"iana"},"application/vnd.igloader":{"source":"iana","extensions":["igl"]},"application/vnd.imagemeter.folder+zip":{"source":"iana","compressible":false},"application/vnd.imagemeter.image+zip":{"source":"iana","compressible":false},"application/vnd.immervision-ivp":{"source":"iana","extensions":["ivp"]},"application/vnd.immervision-ivu":{"source":"iana","extensions":["ivu"]},"application/vnd.ims.imsccv1p1":{"source":"iana"},"application/vnd.ims.imsccv1p2":{"source":"iana"},"application/vnd.ims.imsccv1p3":{"source":"iana"},"application/vnd.ims.lis.v2.result+json":{"source":"iana","compressible":true},"application/vnd.ims.lti.v2.toolconsumerprofile+json":{"source":"iana","compressible":true},"application/vnd.ims.lti.v2.toolproxy+json":{"source":"iana","compressible":true},"application/vnd.ims.lti.v2.toolproxy.id+json":{"source":"iana","compressible":true},"application/vnd.ims.lti.v2.toolsettings+json":{"source":"iana","compressible":true},"application/vnd.ims.lti.v2.toolsettings.simple+json":{"source":"iana","compressible":true},"application/vnd.informedcontrol.rms+xml":{"source":"iana","compressible":true},"application/vnd.informix-visionary":{"source":"iana"},"application/vnd.infotech.project":{"source":"iana"},"application/vnd.infotech.project+xml":{"source":"iana","compressible":true},"application/vnd.innopath.wamp.notification":{"source":"iana"},"application/vnd.insors.igm":{"source":"iana","extensions":["igm"]},"application/vnd.intercon.formnet":{"source":"iana","extensions":["xpw","xpx"]},"application/vnd.intergeo":{"source":"iana","extensions":["i2g"]},"application/vnd.intertrust.digibox":{"source":"iana"},"application/vnd.intertrust.nncp":{"source":"iana"},"application/vnd.intu.qbo":{"source":"iana","extensions":["qbo"]},"application/vnd.intu.qfx":{"source":"iana","extensions":["qfx"]},"application/vnd.iptc.g2.catalogitem+xml":{"source":"iana","compressible":true},"application/vnd.iptc.g2.conceptitem+xml":{"source":"iana","compressible":true},"application/vnd.iptc.g2.knowledgeitem+xml":{"source":"iana","compressible":true},"application/vnd.iptc.g2.newsitem+xml":{"source":"iana","compressible":true},"application/vnd.iptc.g2.newsmessage+xml":{"source":"iana","compressible":true},"application/vnd.iptc.g2.packageitem+xml":{"source":"iana","compressible":true},"application/vnd.iptc.g2.planningitem+xml":{"source":"iana","compressible":true},"application/vnd.ipunplugged.rcprofile":{"source":"iana","extensions":["rcprofile"]},"application/vnd.irepository.package+xml":{"source":"iana","compressible":true,"extensions":["irp"]},"application/vnd.is-xpr":{"source":"iana","extensions":["xpr"]},"application/vnd.isac.fcs":{"source":"iana","extensions":["fcs"]},"application/vnd.iso11783-10+zip":{"source":"iana","compressible":false},"application/vnd.jam":{"source":"iana","extensions":["jam"]},"application/vnd.japannet-directory-service":{"source":"iana"},"application/vnd.japannet-jpnstore-wakeup":{"source":"iana"},"application/vnd.japannet-payment-wakeup":{"source":"iana"},"application/vnd.japannet-registration":{"source":"iana"},"application/vnd.japannet-registration-wakeup":{"source":"iana"},"application/vnd.japannet-setstore-wakeup":{"source":"iana"},"application/vnd.japannet-verification":{"source":"iana"},"application/vnd.japannet-verification-wakeup":{"source":"iana"},"application/vnd.jcp.javame.midlet-rms":{"source":"iana","extensions":["rms"]},"application/vnd.jisp":{"source":"iana","extensions":["jisp"]},"application/vnd.joost.joda-archive":{"source":"iana","extensions":["joda"]},"application/vnd.jsk.isdn-ngn":{"source":"iana"},"application/vnd.kahootz":{"source":"iana","extensions":["ktz","ktr"]},"application/vnd.kde.karbon":{"source":"iana","extensions":["karbon"]},"application/vnd.kde.kchart":{"source":"iana","extensions":["chrt"]},"application/vnd.kde.kformula":{"source":"iana","extensions":["kfo"]},"application/vnd.kde.kivio":{"source":"iana","extensions":["flw"]},"application/vnd.kde.kontour":{"source":"iana","extensions":["kon"]},"application/vnd.kde.kpresenter":{"source":"iana","extensions":["kpr","kpt"]},"application/vnd.kde.kspread":{"source":"iana","extensions":["ksp"]},"application/vnd.kde.kword":{"source":"iana","extensions":["kwd","kwt"]},"application/vnd.kenameaapp":{"source":"iana","extensions":["htke"]},"application/vnd.kidspiration":{"source":"iana","extensions":["kia"]},"application/vnd.kinar":{"source":"iana","extensions":["kne","knp"]},"application/vnd.koan":{"source":"iana","extensions":["skp","skd","skt","skm"]},"application/vnd.kodak-descriptor":{"source":"iana","extensions":["sse"]},"application/vnd.las":{"source":"iana"},"application/vnd.las.las+json":{"source":"iana","compressible":true},"application/vnd.las.las+xml":{"source":"iana","compressible":true,"extensions":["lasxml"]},"application/vnd.laszip":{"source":"iana"},"application/vnd.leap+json":{"source":"iana","compressible":true},"application/vnd.liberty-request+xml":{"source":"iana","compressible":true},"application/vnd.llamagraphics.life-balance.desktop":{"source":"iana","extensions":["lbd"]},"application/vnd.llamagraphics.life-balance.exchange+xml":{"source":"iana","compressible":true,"extensions":["lbe"]},"application/vnd.logipipe.circuit+zip":{"source":"iana","compressible":false},"application/vnd.loom":{"source":"iana"},"application/vnd.lotus-1-2-3":{"source":"iana","extensions":["123"]},"application/vnd.lotus-approach":{"source":"iana","extensions":["apr"]},"application/vnd.lotus-freelance":{"source":"iana","extensions":["pre"]},"application/vnd.lotus-notes":{"source":"iana","extensions":["nsf"]},"application/vnd.lotus-organizer":{"source":"iana","extensions":["org"]},"application/vnd.lotus-screencam":{"source":"iana","extensions":["scm"]},"application/vnd.lotus-wordpro":{"source":"iana","extensions":["lwp"]},"application/vnd.macports.portpkg":{"source":"iana","extensions":["portpkg"]},"application/vnd.mapbox-vector-tile":{"source":"iana","extensions":["mvt"]},"application/vnd.marlin.drm.actiontoken+xml":{"source":"iana","compressible":true},"application/vnd.marlin.drm.conftoken+xml":{"source":"iana","compressible":true},"application/vnd.marlin.drm.license+xml":{"source":"iana","compressible":true},"application/vnd.marlin.drm.mdcf":{"source":"iana"},"application/vnd.mason+json":{"source":"iana","compressible":true},"application/vnd.maxar.archive.3tz+zip":{"source":"iana","compressible":false},"application/vnd.maxmind.maxmind-db":{"source":"iana"},"application/vnd.mcd":{"source":"iana","extensions":["mcd"]},"application/vnd.medcalcdata":{"source":"iana","extensions":["mc1"]},"application/vnd.mediastation.cdkey":{"source":"iana","extensions":["cdkey"]},"application/vnd.meridian-slingshot":{"source":"iana"},"application/vnd.mfer":{"source":"iana","extensions":["mwf"]},"application/vnd.mfmp":{"source":"iana","extensions":["mfm"]},"application/vnd.micro+json":{"source":"iana","compressible":true},"application/vnd.micrografx.flo":{"source":"iana","extensions":["flo"]},"application/vnd.micrografx.igx":{"source":"iana","extensions":["igx"]},"application/vnd.microsoft.portable-executable":{"source":"iana"},"application/vnd.microsoft.windows.thumbnail-cache":{"source":"iana"},"application/vnd.miele+json":{"source":"iana","compressible":true},"application/vnd.mif":{"source":"iana","extensions":["mif"]},"application/vnd.minisoft-hp3000-save":{"source":"iana"},"application/vnd.mitsubishi.misty-guard.trustweb":{"source":"iana"},"application/vnd.mobius.daf":{"source":"iana","extensions":["daf"]},"application/vnd.mobius.dis":{"source":"iana","extensions":["dis"]},"application/vnd.mobius.mbk":{"source":"iana","extensions":["mbk"]},"application/vnd.mobius.mqy":{"source":"iana","extensions":["mqy"]},"application/vnd.mobius.msl":{"source":"iana","extensions":["msl"]},"application/vnd.mobius.plc":{"source":"iana","extensions":["plc"]},"application/vnd.mobius.txf":{"source":"iana","extensions":["txf"]},"application/vnd.mophun.application":{"source":"iana","extensions":["mpn"]},"application/vnd.mophun.certificate":{"source":"iana","extensions":["mpc"]},"application/vnd.motorola.flexsuite":{"source":"iana"},"application/vnd.motorola.flexsuite.adsi":{"source":"iana"},"application/vnd.motorola.flexsuite.fis":{"source":"iana"},"application/vnd.motorola.flexsuite.gotap":{"source":"iana"},"application/vnd.motorola.flexsuite.kmr":{"source":"iana"},"application/vnd.motorola.flexsuite.ttc":{"source":"iana"},"application/vnd.motorola.flexsuite.wem":{"source":"iana"},"application/vnd.motorola.iprm":{"source":"iana"},"application/vnd.mozilla.xul+xml":{"source":"iana","compressible":true,"extensions":["xul"]},"application/vnd.ms-3mfdocument":{"source":"iana"},"application/vnd.ms-artgalry":{"source":"iana","extensions":["cil"]},"application/vnd.ms-asf":{"source":"iana"},"application/vnd.ms-cab-compressed":{"source":"iana","extensions":["cab"]},"application/vnd.ms-color.iccprofile":{"source":"apache"},"application/vnd.ms-excel":{"source":"iana","compressible":false,"extensions":["xls","xlm","xla","xlc","xlt","xlw"]},"application/vnd.ms-excel.addin.macroenabled.12":{"source":"iana","extensions":["xlam"]},"application/vnd.ms-excel.sheet.binary.macroenabled.12":{"source":"iana","extensions":["xlsb"]},"application/vnd.ms-excel.sheet.macroenabled.12":{"source":"iana","extensions":["xlsm"]},"application/vnd.ms-excel.template.macroenabled.12":{"source":"iana","extensions":["xltm"]},"application/vnd.ms-fontobject":{"source":"iana","compressible":true,"extensions":["eot"]},"application/vnd.ms-htmlhelp":{"source":"iana","extensions":["chm"]},"application/vnd.ms-ims":{"source":"iana","extensions":["ims"]},"application/vnd.ms-lrm":{"source":"iana","extensions":["lrm"]},"application/vnd.ms-office.activex+xml":{"source":"iana","compressible":true},"application/vnd.ms-officetheme":{"source":"iana","extensions":["thmx"]},"application/vnd.ms-opentype":{"source":"apache","compressible":true},"application/vnd.ms-outlook":{"compressible":false,"extensions":["msg"]},"application/vnd.ms-package.obfuscated-opentype":{"source":"apache"},"application/vnd.ms-pki.seccat":{"source":"apache","extensions":["cat"]},"application/vnd.ms-pki.stl":{"source":"apache","extensions":["stl"]},"application/vnd.ms-playready.initiator+xml":{"source":"iana","compressible":true},"application/vnd.ms-powerpoint":{"source":"iana","compressible":false,"extensions":["ppt","pps","pot"]},"application/vnd.ms-powerpoint.addin.macroenabled.12":{"source":"iana","extensions":["ppam"]},"application/vnd.ms-powerpoint.presentation.macroenabled.12":{"source":"iana","extensions":["pptm"]},"application/vnd.ms-powerpoint.slide.macroenabled.12":{"source":"iana","extensions":["sldm"]},"application/vnd.ms-powerpoint.slideshow.macroenabled.12":{"source":"iana","extensions":["ppsm"]},"application/vnd.ms-powerpoint.template.macroenabled.12":{"source":"iana","extensions":["potm"]},"application/vnd.ms-printdevicecapabilities+xml":{"source":"iana","compressible":true},"application/vnd.ms-printing.printticket+xml":{"source":"apache","compressible":true},"application/vnd.ms-printschematicket+xml":{"source":"iana","compressible":true},"application/vnd.ms-project":{"source":"iana","extensions":["mpp","mpt"]},"application/vnd.ms-tnef":{"source":"iana"},"application/vnd.ms-windows.devicepairing":{"source":"iana"},"application/vnd.ms-windows.nwprinting.oob":{"source":"iana"},"application/vnd.ms-windows.printerpairing":{"source":"iana"},"application/vnd.ms-windows.wsd.oob":{"source":"iana"},"application/vnd.ms-wmdrm.lic-chlg-req":{"source":"iana"},"application/vnd.ms-wmdrm.lic-resp":{"source":"iana"},"application/vnd.ms-wmdrm.meter-chlg-req":{"source":"iana"},"application/vnd.ms-wmdrm.meter-resp":{"source":"iana"},"application/vnd.ms-word.document.macroenabled.12":{"source":"iana","extensions":["docm"]},"application/vnd.ms-word.template.macroenabled.12":{"source":"iana","extensions":["dotm"]},"application/vnd.ms-works":{"source":"iana","extensions":["wps","wks","wcm","wdb"]},"application/vnd.ms-wpl":{"source":"iana","extensions":["wpl"]},"application/vnd.ms-xpsdocument":{"source":"iana","compressible":false,"extensions":["xps"]},"application/vnd.msa-disk-image":{"source":"iana"},"application/vnd.mseq":{"source":"iana","extensions":["mseq"]},"application/vnd.msign":{"source":"iana"},"application/vnd.multiad.creator":{"source":"iana"},"application/vnd.multiad.creator.cif":{"source":"iana"},"application/vnd.music-niff":{"source":"iana"},"application/vnd.musician":{"source":"iana","extensions":["mus"]},"application/vnd.muvee.style":{"source":"iana","extensions":["msty"]},"application/vnd.mynfc":{"source":"iana","extensions":["taglet"]},"application/vnd.nacamar.ybrid+json":{"source":"iana","compressible":true},"application/vnd.ncd.control":{"source":"iana"},"application/vnd.ncd.reference":{"source":"iana"},"application/vnd.nearst.inv+json":{"source":"iana","compressible":true},"application/vnd.nebumind.line":{"source":"iana"},"application/vnd.nervana":{"source":"iana"},"application/vnd.netfpx":{"source":"iana"},"application/vnd.neurolanguage.nlu":{"source":"iana","extensions":["nlu"]},"application/vnd.nimn":{"source":"iana"},"application/vnd.nintendo.nitro.rom":{"source":"iana"},"application/vnd.nintendo.snes.rom":{"source":"iana"},"application/vnd.nitf":{"source":"iana","extensions":["ntf","nitf"]},"application/vnd.noblenet-directory":{"source":"iana","extensions":["nnd"]},"application/vnd.noblenet-sealer":{"source":"iana","extensions":["nns"]},"application/vnd.noblenet-web":{"source":"iana","extensions":["nnw"]},"application/vnd.nokia.catalogs":{"source":"iana"},"application/vnd.nokia.conml+wbxml":{"source":"iana"},"application/vnd.nokia.conml+xml":{"source":"iana","compressible":true},"application/vnd.nokia.iptv.config+xml":{"source":"iana","compressible":true},"application/vnd.nokia.isds-radio-presets":{"source":"iana"},"application/vnd.nokia.landmark+wbxml":{"source":"iana"},"application/vnd.nokia.landmark+xml":{"source":"iana","compressible":true},"application/vnd.nokia.landmarkcollection+xml":{"source":"iana","compressible":true},"application/vnd.nokia.n-gage.ac+xml":{"source":"iana","compressible":true,"extensions":["ac"]},"application/vnd.nokia.n-gage.data":{"source":"iana","extensions":["ngdat"]},"application/vnd.nokia.n-gage.symbian.install":{"source":"iana","extensions":["n-gage"]},"application/vnd.nokia.ncd":{"source":"iana"},"application/vnd.nokia.pcd+wbxml":{"source":"iana"},"application/vnd.nokia.pcd+xml":{"source":"iana","compressible":true},"application/vnd.nokia.radio-preset":{"source":"iana","extensions":["rpst"]},"application/vnd.nokia.radio-presets":{"source":"iana","extensions":["rpss"]},"application/vnd.novadigm.edm":{"source":"iana","extensions":["edm"]},"application/vnd.novadigm.edx":{"source":"iana","extensions":["edx"]},"application/vnd.novadigm.ext":{"source":"iana","extensions":["ext"]},"application/vnd.ntt-local.content-share":{"source":"iana"},"application/vnd.ntt-local.file-transfer":{"source":"iana"},"application/vnd.ntt-local.ogw_remote-access":{"source":"iana"},"application/vnd.ntt-local.sip-ta_remote":{"source":"iana"},"application/vnd.ntt-local.sip-ta_tcp_stream":{"source":"iana"},"application/vnd.oasis.opendocument.chart":{"source":"iana","extensions":["odc"]},"application/vnd.oasis.opendocument.chart-template":{"source":"iana","extensions":["otc"]},"application/vnd.oasis.opendocument.database":{"source":"iana","extensions":["odb"]},"application/vnd.oasis.opendocument.formula":{"source":"iana","extensions":["odf"]},"application/vnd.oasis.opendocument.formula-template":{"source":"iana","extensions":["odft"]},"application/vnd.oasis.opendocument.graphics":{"source":"iana","compressible":false,"extensions":["odg"]},"application/vnd.oasis.opendocument.graphics-template":{"source":"iana","extensions":["otg"]},"application/vnd.oasis.opendocument.image":{"source":"iana","extensions":["odi"]},"application/vnd.oasis.opendocument.image-template":{"source":"iana","extensions":["oti"]},"application/vnd.oasis.opendocument.presentation":{"source":"iana","compressible":false,"extensions":["odp"]},"application/vnd.oasis.opendocument.presentation-template":{"source":"iana","extensions":["otp"]},"application/vnd.oasis.opendocument.spreadsheet":{"source":"iana","compressible":false,"extensions":["ods"]},"application/vnd.oasis.opendocument.spreadsheet-template":{"source":"iana","extensions":["ots"]},"application/vnd.oasis.opendocument.text":{"source":"iana","compressible":false,"extensions":["odt"]},"application/vnd.oasis.opendocument.text-master":{"source":"iana","extensions":["odm"]},"application/vnd.oasis.opendocument.text-template":{"source":"iana","extensions":["ott"]},"application/vnd.oasis.opendocument.text-web":{"source":"iana","extensions":["oth"]},"application/vnd.obn":{"source":"iana"},"application/vnd.ocf+cbor":{"source":"iana"},"application/vnd.oci.image.manifest.v1+json":{"source":"iana","compressible":true},"application/vnd.oftn.l10n+json":{"source":"iana","compressible":true},"application/vnd.oipf.contentaccessdownload+xml":{"source":"iana","compressible":true},"application/vnd.oipf.contentaccessstreaming+xml":{"source":"iana","compressible":true},"application/vnd.oipf.cspg-hexbinary":{"source":"iana"},"application/vnd.oipf.dae.svg+xml":{"source":"iana","compressible":true},"application/vnd.oipf.dae.xhtml+xml":{"source":"iana","compressible":true},"application/vnd.oipf.mippvcontrolmessage+xml":{"source":"iana","compressible":true},"application/vnd.oipf.pae.gem":{"source":"iana"},"application/vnd.oipf.spdiscovery+xml":{"source":"iana","compressible":true},"application/vnd.oipf.spdlist+xml":{"source":"iana","compressible":true},"application/vnd.oipf.ueprofile+xml":{"source":"iana","compressible":true},"application/vnd.oipf.userprofile+xml":{"source":"iana","compressible":true},"application/vnd.olpc-sugar":{"source":"iana","extensions":["xo"]},"application/vnd.oma-scws-config":{"source":"iana"},"application/vnd.oma-scws-http-request":{"source":"iana"},"application/vnd.oma-scws-http-response":{"source":"iana"},"application/vnd.oma.bcast.associated-procedure-parameter+xml":{"source":"iana","compressible":true},"application/vnd.oma.bcast.drm-trigger+xml":{"source":"iana","compressible":true},"application/vnd.oma.bcast.imd+xml":{"source":"iana","compressible":true},"application/vnd.oma.bcast.ltkm":{"source":"iana"},"application/vnd.oma.bcast.notification+xml":{"source":"iana","compressible":true},"application/vnd.oma.bcast.provisioningtrigger":{"source":"iana"},"application/vnd.oma.bcast.sgboot":{"source":"iana"},"application/vnd.oma.bcast.sgdd+xml":{"source":"iana","compressible":true},"application/vnd.oma.bcast.sgdu":{"source":"iana"},"application/vnd.oma.bcast.simple-symbol-container":{"source":"iana"},"application/vnd.oma.bcast.smartcard-trigger+xml":{"source":"iana","compressible":true},"application/vnd.oma.bcast.sprov+xml":{"source":"iana","compressible":true},"application/vnd.oma.bcast.stkm":{"source":"iana"},"application/vnd.oma.cab-address-book+xml":{"source":"iana","compressible":true},"application/vnd.oma.cab-feature-handler+xml":{"source":"iana","compressible":true},"application/vnd.oma.cab-pcc+xml":{"source":"iana","compressible":true},"application/vnd.oma.cab-subs-invite+xml":{"source":"iana","compressible":true},"application/vnd.oma.cab-user-prefs+xml":{"source":"iana","compressible":true},"application/vnd.oma.dcd":{"source":"iana"},"application/vnd.oma.dcdc":{"source":"iana"},"application/vnd.oma.dd2+xml":{"source":"iana","compressible":true,"extensions":["dd2"]},"application/vnd.oma.drm.risd+xml":{"source":"iana","compressible":true},"application/vnd.oma.group-usage-list+xml":{"source":"iana","compressible":true},"application/vnd.oma.lwm2m+cbor":{"source":"iana"},"application/vnd.oma.lwm2m+json":{"source":"iana","compressible":true},"application/vnd.oma.lwm2m+tlv":{"source":"iana"},"application/vnd.oma.pal+xml":{"source":"iana","compressible":true},"application/vnd.oma.poc.detailed-progress-report+xml":{"source":"iana","compressible":true},"application/vnd.oma.poc.final-report+xml":{"source":"iana","compressible":true},"application/vnd.oma.poc.groups+xml":{"source":"iana","compressible":true},"application/vnd.oma.poc.invocation-descriptor+xml":{"source":"iana","compressible":true},"application/vnd.oma.poc.optimized-progress-report+xml":{"source":"iana","compressible":true},"application/vnd.oma.push":{"source":"iana"},"application/vnd.oma.scidm.messages+xml":{"source":"iana","compressible":true},"application/vnd.oma.xcap-directory+xml":{"source":"iana","compressible":true},"application/vnd.omads-email+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/vnd.omads-file+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/vnd.omads-folder+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/vnd.omaloc-supl-init":{"source":"iana"},"application/vnd.onepager":{"source":"iana"},"application/vnd.onepagertamp":{"source":"iana"},"application/vnd.onepagertamx":{"source":"iana"},"application/vnd.onepagertat":{"source":"iana"},"application/vnd.onepagertatp":{"source":"iana"},"application/vnd.onepagertatx":{"source":"iana"},"application/vnd.openblox.game+xml":{"source":"iana","compressible":true,"extensions":["obgx"]},"application/vnd.openblox.game-binary":{"source":"iana"},"application/vnd.openeye.oeb":{"source":"iana"},"application/vnd.openofficeorg.extension":{"source":"apache","extensions":["oxt"]},"application/vnd.openstreetmap.data+xml":{"source":"iana","compressible":true,"extensions":["osm"]},"application/vnd.opentimestamps.ots":{"source":"iana"},"application/vnd.openxmlformats-officedocument.custom-properties+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.customxmlproperties+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.drawing+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.drawingml.chart+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.drawingml.diagramcolors+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.drawingml.diagramdata+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.drawingml.diagramlayout+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.drawingml.diagramstyle+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.extended-properties+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.commentauthors+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.comments+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.handoutmaster+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.notesmaster+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.notesslide+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.presentation":{"source":"iana","compressible":false,"extensions":["pptx"]},"application/vnd.openxmlformats-officedocument.presentationml.presentation.main+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.presprops+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.slide":{"source":"iana","extensions":["sldx"]},"application/vnd.openxmlformats-officedocument.presentationml.slide+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.slidelayout+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.slidemaster+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.slideshow":{"source":"iana","extensions":["ppsx"]},"application/vnd.openxmlformats-officedocument.presentationml.slideshow.main+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.slideupdateinfo+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.tablestyles+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.tags+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.template":{"source":"iana","extensions":["potx"]},"application/vnd.openxmlformats-officedocument.presentationml.template.main+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.viewprops+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.calcchain+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.externallink+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.pivotcachedefinition+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.pivotcacherecords+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.pivottable+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.querytable+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.revisionheaders+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.revisionlog+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedstrings+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":{"source":"iana","compressible":false,"extensions":["xlsx"]},"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetmetadata+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.tablesinglecells+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.template":{"source":"iana","extensions":["xltx"]},"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.usernames+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.volatiledependencies+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.theme+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.themeoverride+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.vmldrawing":{"source":"iana"},"application/vnd.openxmlformats-officedocument.wordprocessingml.comments+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.wordprocessingml.document":{"source":"iana","compressible":false,"extensions":["docx"]},"application/vnd.openxmlformats-officedocument.wordprocessingml.document.glossary+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.wordprocessingml.document.main+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.wordprocessingml.endnotes+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.wordprocessingml.fonttable+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.wordprocessingml.footer+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.wordprocessingml.footnotes+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.wordprocessingml.numbering+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.wordprocessingml.settings+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.wordprocessingml.styles+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.wordprocessingml.template":{"source":"iana","extensions":["dotx"]},"application/vnd.openxmlformats-officedocument.wordprocessingml.template.main+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.wordprocessingml.websettings+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-package.core-properties+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-package.digital-signature-xmlsignature+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-package.relationships+xml":{"source":"iana","compressible":true},"application/vnd.oracle.resource+json":{"source":"iana","compressible":true},"application/vnd.orange.indata":{"source":"iana"},"application/vnd.osa.netdeploy":{"source":"iana"},"application/vnd.osgeo.mapguide.package":{"source":"iana","extensions":["mgp"]},"application/vnd.osgi.bundle":{"source":"iana"},"application/vnd.osgi.dp":{"source":"iana","extensions":["dp"]},"application/vnd.osgi.subsystem":{"source":"iana","extensions":["esa"]},"application/vnd.otps.ct-kip+xml":{"source":"iana","compressible":true},"application/vnd.oxli.countgraph":{"source":"iana"},"application/vnd.pagerduty+json":{"source":"iana","compressible":true},"application/vnd.palm":{"source":"iana","extensions":["pdb","pqa","oprc"]},"application/vnd.panoply":{"source":"iana"},"application/vnd.paos.xml":{"source":"iana"},"application/vnd.patentdive":{"source":"iana"},"application/vnd.patientecommsdoc":{"source":"iana"},"application/vnd.pawaafile":{"source":"iana","extensions":["paw"]},"application/vnd.pcos":{"source":"iana"},"application/vnd.pg.format":{"source":"iana","extensions":["str"]},"application/vnd.pg.osasli":{"source":"iana","extensions":["ei6"]},"application/vnd.piaccess.application-licence":{"source":"iana"},"application/vnd.picsel":{"source":"iana","extensions":["efif"]},"application/vnd.pmi.widget":{"source":"iana","extensions":["wg"]},"application/vnd.poc.group-advertisement+xml":{"source":"iana","compressible":true},"application/vnd.pocketlearn":{"source":"iana","extensions":["plf"]},"application/vnd.powerbuilder6":{"source":"iana","extensions":["pbd"]},"application/vnd.powerbuilder6-s":{"source":"iana"},"application/vnd.powerbuilder7":{"source":"iana"},"application/vnd.powerbuilder7-s":{"source":"iana"},"application/vnd.powerbuilder75":{"source":"iana"},"application/vnd.powerbuilder75-s":{"source":"iana"},"application/vnd.preminet":{"source":"iana"},"application/vnd.previewsystems.box":{"source":"iana","extensions":["box"]},"application/vnd.proteus.magazine":{"source":"iana","extensions":["mgz"]},"application/vnd.psfs":{"source":"iana"},"application/vnd.publishare-delta-tree":{"source":"iana","extensions":["qps"]},"application/vnd.pvi.ptid1":{"source":"iana","extensions":["ptid"]},"application/vnd.pwg-multiplexed":{"source":"iana"},"application/vnd.pwg-xhtml-print+xml":{"source":"iana","compressible":true},"application/vnd.qualcomm.brew-app-res":{"source":"iana"},"application/vnd.quarantainenet":{"source":"iana"},"application/vnd.quark.quarkxpress":{"source":"iana","extensions":["qxd","qxt","qwd","qwt","qxl","qxb"]},"application/vnd.quobject-quoxdocument":{"source":"iana"},"application/vnd.radisys.moml+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-audit+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-audit-conf+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-audit-conn+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-audit-dialog+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-audit-stream+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-conf+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-dialog+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-dialog-base+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-dialog-fax-detect+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-dialog-fax-sendrecv+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-dialog-group+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-dialog-speech+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-dialog-transform+xml":{"source":"iana","compressible":true},"application/vnd.rainstor.data":{"source":"iana"},"application/vnd.rapid":{"source":"iana"},"application/vnd.rar":{"source":"iana","extensions":["rar"]},"application/vnd.realvnc.bed":{"source":"iana","extensions":["bed"]},"application/vnd.recordare.musicxml":{"source":"iana","extensions":["mxl"]},"application/vnd.recordare.musicxml+xml":{"source":"iana","compressible":true,"extensions":["musicxml"]},"application/vnd.renlearn.rlprint":{"source":"iana"},"application/vnd.resilient.logic":{"source":"iana"},"application/vnd.restful+json":{"source":"iana","compressible":true},"application/vnd.rig.cryptonote":{"source":"iana","extensions":["cryptonote"]},"application/vnd.rim.cod":{"source":"apache","extensions":["cod"]},"application/vnd.rn-realmedia":{"source":"apache","extensions":["rm"]},"application/vnd.rn-realmedia-vbr":{"source":"apache","extensions":["rmvb"]},"application/vnd.route66.link66+xml":{"source":"iana","compressible":true,"extensions":["link66"]},"application/vnd.rs-274x":{"source":"iana"},"application/vnd.ruckus.download":{"source":"iana"},"application/vnd.s3sms":{"source":"iana"},"application/vnd.sailingtracker.track":{"source":"iana","extensions":["st"]},"application/vnd.sar":{"source":"iana"},"application/vnd.sbm.cid":{"source":"iana"},"application/vnd.sbm.mid2":{"source":"iana"},"application/vnd.scribus":{"source":"iana"},"application/vnd.sealed.3df":{"source":"iana"},"application/vnd.sealed.csf":{"source":"iana"},"application/vnd.sealed.doc":{"source":"iana"},"application/vnd.sealed.eml":{"source":"iana"},"application/vnd.sealed.mht":{"source":"iana"},"application/vnd.sealed.net":{"source":"iana"},"application/vnd.sealed.ppt":{"source":"iana"},"application/vnd.sealed.tiff":{"source":"iana"},"application/vnd.sealed.xls":{"source":"iana"},"application/vnd.sealedmedia.softseal.html":{"source":"iana"},"application/vnd.sealedmedia.softseal.pdf":{"source":"iana"},"application/vnd.seemail":{"source":"iana","extensions":["see"]},"application/vnd.seis+json":{"source":"iana","compressible":true},"application/vnd.sema":{"source":"iana","extensions":["sema"]},"application/vnd.semd":{"source":"iana","extensions":["semd"]},"application/vnd.semf":{"source":"iana","extensions":["semf"]},"application/vnd.shade-save-file":{"source":"iana"},"application/vnd.shana.informed.formdata":{"source":"iana","extensions":["ifm"]},"application/vnd.shana.informed.formtemplate":{"source":"iana","extensions":["itp"]},"application/vnd.shana.informed.interchange":{"source":"iana","extensions":["iif"]},"application/vnd.shana.informed.package":{"source":"iana","extensions":["ipk"]},"application/vnd.shootproof+json":{"source":"iana","compressible":true},"application/vnd.shopkick+json":{"source":"iana","compressible":true},"application/vnd.shp":{"source":"iana"},"application/vnd.shx":{"source":"iana"},"application/vnd.sigrok.session":{"source":"iana"},"application/vnd.simtech-mindmapper":{"source":"iana","extensions":["twd","twds"]},"application/vnd.siren+json":{"source":"iana","compressible":true},"application/vnd.smaf":{"source":"iana","extensions":["mmf"]},"application/vnd.smart.notebook":{"source":"iana"},"application/vnd.smart.teacher":{"source":"iana","extensions":["teacher"]},"application/vnd.snesdev-page-table":{"source":"iana"},"application/vnd.software602.filler.form+xml":{"source":"iana","compressible":true,"extensions":["fo"]},"application/vnd.software602.filler.form-xml-zip":{"source":"iana"},"application/vnd.solent.sdkm+xml":{"source":"iana","compressible":true,"extensions":["sdkm","sdkd"]},"application/vnd.spotfire.dxp":{"source":"iana","extensions":["dxp"]},"application/vnd.spotfire.sfs":{"source":"iana","extensions":["sfs"]},"application/vnd.sqlite3":{"source":"iana"},"application/vnd.sss-cod":{"source":"iana"},"application/vnd.sss-dtf":{"source":"iana"},"application/vnd.sss-ntf":{"source":"iana"},"application/vnd.stardivision.calc":{"source":"apache","extensions":["sdc"]},"application/vnd.stardivision.draw":{"source":"apache","extensions":["sda"]},"application/vnd.stardivision.impress":{"source":"apache","extensions":["sdd"]},"application/vnd.stardivision.math":{"source":"apache","extensions":["smf"]},"application/vnd.stardivision.writer":{"source":"apache","extensions":["sdw","vor"]},"application/vnd.stardivision.writer-global":{"source":"apache","extensions":["sgl"]},"application/vnd.stepmania.package":{"source":"iana","extensions":["smzip"]},"application/vnd.stepmania.stepchart":{"source":"iana","extensions":["sm"]},"application/vnd.street-stream":{"source":"iana"},"application/vnd.sun.wadl+xml":{"source":"iana","compressible":true,"extensions":["wadl"]},"application/vnd.sun.xml.calc":{"source":"apache","extensions":["sxc"]},"application/vnd.sun.xml.calc.template":{"source":"apache","extensions":["stc"]},"application/vnd.sun.xml.draw":{"source":"apache","extensions":["sxd"]},"application/vnd.sun.xml.draw.template":{"source":"apache","extensions":["std"]},"application/vnd.sun.xml.impress":{"source":"apache","extensions":["sxi"]},"application/vnd.sun.xml.impress.template":{"source":"apache","extensions":["sti"]},"application/vnd.sun.xml.math":{"source":"apache","extensions":["sxm"]},"application/vnd.sun.xml.writer":{"source":"apache","extensions":["sxw"]},"application/vnd.sun.xml.writer.global":{"source":"apache","extensions":["sxg"]},"application/vnd.sun.xml.writer.template":{"source":"apache","extensions":["stw"]},"application/vnd.sus-calendar":{"source":"iana","extensions":["sus","susp"]},"application/vnd.svd":{"source":"iana","extensions":["svd"]},"application/vnd.swiftview-ics":{"source":"iana"},"application/vnd.sycle+xml":{"source":"iana","compressible":true},"application/vnd.syft+json":{"source":"iana","compressible":true},"application/vnd.symbian.install":{"source":"apache","extensions":["sis","sisx"]},"application/vnd.syncml+xml":{"source":"iana","charset":"UTF-8","compressible":true,"extensions":["xsm"]},"application/vnd.syncml.dm+wbxml":{"source":"iana","charset":"UTF-8","extensions":["bdm"]},"application/vnd.syncml.dm+xml":{"source":"iana","charset":"UTF-8","compressible":true,"extensions":["xdm"]},"application/vnd.syncml.dm.notification":{"source":"iana"},"application/vnd.syncml.dmddf+wbxml":{"source":"iana"},"application/vnd.syncml.dmddf+xml":{"source":"iana","charset":"UTF-8","compressible":true,"extensions":["ddf"]},"application/vnd.syncml.dmtnds+wbxml":{"source":"iana"},"application/vnd.syncml.dmtnds+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/vnd.syncml.ds.notification":{"source":"iana"},"application/vnd.tableschema+json":{"source":"iana","compressible":true},"application/vnd.tao.intent-module-archive":{"source":"iana","extensions":["tao"]},"application/vnd.tcpdump.pcap":{"source":"iana","extensions":["pcap","cap","dmp"]},"application/vnd.think-cell.ppttc+json":{"source":"iana","compressible":true},"application/vnd.tmd.mediaflex.api+xml":{"source":"iana","compressible":true},"application/vnd.tml":{"source":"iana"},"application/vnd.tmobile-livetv":{"source":"iana","extensions":["tmo"]},"application/vnd.tri.onesource":{"source":"iana"},"application/vnd.trid.tpt":{"source":"iana","extensions":["tpt"]},"application/vnd.triscape.mxs":{"source":"iana","extensions":["mxs"]},"application/vnd.trueapp":{"source":"iana","extensions":["tra"]},"application/vnd.truedoc":{"source":"iana"},"application/vnd.ubisoft.webplayer":{"source":"iana"},"application/vnd.ufdl":{"source":"iana","extensions":["ufd","ufdl"]},"application/vnd.uiq.theme":{"source":"iana","extensions":["utz"]},"application/vnd.umajin":{"source":"iana","extensions":["umj"]},"application/vnd.unity":{"source":"iana","extensions":["unityweb"]},"application/vnd.uoml+xml":{"source":"iana","compressible":true,"extensions":["uoml"]},"application/vnd.uplanet.alert":{"source":"iana"},"application/vnd.uplanet.alert-wbxml":{"source":"iana"},"application/vnd.uplanet.bearer-choice":{"source":"iana"},"application/vnd.uplanet.bearer-choice-wbxml":{"source":"iana"},"application/vnd.uplanet.cacheop":{"source":"iana"},"application/vnd.uplanet.cacheop-wbxml":{"source":"iana"},"application/vnd.uplanet.channel":{"source":"iana"},"application/vnd.uplanet.channel-wbxml":{"source":"iana"},"application/vnd.uplanet.list":{"source":"iana"},"application/vnd.uplanet.list-wbxml":{"source":"iana"},"application/vnd.uplanet.listcmd":{"source":"iana"},"application/vnd.uplanet.listcmd-wbxml":{"source":"iana"},"application/vnd.uplanet.signal":{"source":"iana"},"application/vnd.uri-map":{"source":"iana"},"application/vnd.valve.source.material":{"source":"iana"},"application/vnd.vcx":{"source":"iana","extensions":["vcx"]},"application/vnd.vd-study":{"source":"iana"},"application/vnd.vectorworks":{"source":"iana"},"application/vnd.vel+json":{"source":"iana","compressible":true},"application/vnd.verimatrix.vcas":{"source":"iana"},"application/vnd.veritone.aion+json":{"source":"iana","compressible":true},"application/vnd.veryant.thin":{"source":"iana"},"application/vnd.ves.encrypted":{"source":"iana"},"application/vnd.vidsoft.vidconference":{"source":"iana"},"application/vnd.visio":{"source":"iana","extensions":["vsd","vst","vss","vsw"]},"application/vnd.visionary":{"source":"iana","extensions":["vis"]},"application/vnd.vividence.scriptfile":{"source":"iana"},"application/vnd.vsf":{"source":"iana","extensions":["vsf"]},"application/vnd.wap.sic":{"source":"iana"},"application/vnd.wap.slc":{"source":"iana"},"application/vnd.wap.wbxml":{"source":"iana","charset":"UTF-8","extensions":["wbxml"]},"application/vnd.wap.wmlc":{"source":"iana","extensions":["wmlc"]},"application/vnd.wap.wmlscriptc":{"source":"iana","extensions":["wmlsc"]},"application/vnd.webturbo":{"source":"iana","extensions":["wtb"]},"application/vnd.wfa.dpp":{"source":"iana"},"application/vnd.wfa.p2p":{"source":"iana"},"application/vnd.wfa.wsc":{"source":"iana"},"application/vnd.windows.devicepairing":{"source":"iana"},"application/vnd.wmc":{"source":"iana"},"application/vnd.wmf.bootstrap":{"source":"iana"},"application/vnd.wolfram.mathematica":{"source":"iana"},"application/vnd.wolfram.mathematica.package":{"source":"iana"},"application/vnd.wolfram.player":{"source":"iana","extensions":["nbp"]},"application/vnd.wordperfect":{"source":"iana","extensions":["wpd"]},"application/vnd.wqd":{"source":"iana","extensions":["wqd"]},"application/vnd.wrq-hp3000-labelled":{"source":"iana"},"application/vnd.wt.stf":{"source":"iana","extensions":["stf"]},"application/vnd.wv.csp+wbxml":{"source":"iana"},"application/vnd.wv.csp+xml":{"source":"iana","compressible":true},"application/vnd.wv.ssp+xml":{"source":"iana","compressible":true},"application/vnd.xacml+json":{"source":"iana","compressible":true},"application/vnd.xara":{"source":"iana","extensions":["xar"]},"application/vnd.xfdl":{"source":"iana","extensions":["xfdl"]},"application/vnd.xfdl.webform":{"source":"iana"},"application/vnd.xmi+xml":{"source":"iana","compressible":true},"application/vnd.xmpie.cpkg":{"source":"iana"},"application/vnd.xmpie.dpkg":{"source":"iana"},"application/vnd.xmpie.plan":{"source":"iana"},"application/vnd.xmpie.ppkg":{"source":"iana"},"application/vnd.xmpie.xlim":{"source":"iana"},"application/vnd.yamaha.hv-dic":{"source":"iana","extensions":["hvd"]},"application/vnd.yamaha.hv-script":{"source":"iana","extensions":["hvs"]},"application/vnd.yamaha.hv-voice":{"source":"iana","extensions":["hvp"]},"application/vnd.yamaha.openscoreformat":{"source":"iana","extensions":["osf"]},"application/vnd.yamaha.openscoreformat.osfpvg+xml":{"source":"iana","compressible":true,"extensions":["osfpvg"]},"application/vnd.yamaha.remote-setup":{"source":"iana"},"application/vnd.yamaha.smaf-audio":{"source":"iana","extensions":["saf"]},"application/vnd.yamaha.smaf-phrase":{"source":"iana","extensions":["spf"]},"application/vnd.yamaha.through-ngn":{"source":"iana"},"application/vnd.yamaha.tunnel-udpencap":{"source":"iana"},"application/vnd.yaoweme":{"source":"iana"},"application/vnd.yellowriver-custom-menu":{"source":"iana","extensions":["cmp"]},"application/vnd.youtube.yt":{"source":"iana"},"application/vnd.zul":{"source":"iana","extensions":["zir","zirz"]},"application/vnd.zzazz.deck+xml":{"source":"iana","compressible":true,"extensions":["zaz"]},"application/voicexml+xml":{"source":"iana","compressible":true,"extensions":["vxml"]},"application/voucher-cms+json":{"source":"iana","compressible":true},"application/vq-rtcpxr":{"source":"iana"},"application/wasm":{"source":"iana","compressible":true,"extensions":["wasm"]},"application/watcherinfo+xml":{"source":"iana","compressible":true,"extensions":["wif"]},"application/webpush-options+json":{"source":"iana","compressible":true},"application/whoispp-query":{"source":"iana"},"application/whoispp-response":{"source":"iana"},"application/widget":{"source":"iana","extensions":["wgt"]},"application/winhlp":{"source":"apache","extensions":["hlp"]},"application/wita":{"source":"iana"},"application/wordperfect5.1":{"source":"iana"},"application/wsdl+xml":{"source":"iana","compressible":true,"extensions":["wsdl"]},"application/wspolicy+xml":{"source":"iana","compressible":true,"extensions":["wspolicy"]},"application/x-7z-compressed":{"source":"apache","compressible":false,"extensions":["7z"]},"application/x-abiword":{"source":"apache","extensions":["abw"]},"application/x-ace-compressed":{"source":"apache","extensions":["ace"]},"application/x-amf":{"source":"apache"},"application/x-apple-diskimage":{"source":"apache","extensions":["dmg"]},"application/x-arj":{"compressible":false,"extensions":["arj"]},"application/x-authorware-bin":{"source":"apache","extensions":["aab","x32","u32","vox"]},"application/x-authorware-map":{"source":"apache","extensions":["aam"]},"application/x-authorware-seg":{"source":"apache","extensions":["aas"]},"application/x-bcpio":{"source":"apache","extensions":["bcpio"]},"application/x-bdoc":{"compressible":false,"extensions":["bdoc"]},"application/x-bittorrent":{"source":"apache","extensions":["torrent"]},"application/x-blorb":{"source":"apache","extensions":["blb","blorb"]},"application/x-bzip":{"source":"apache","compressible":false,"extensions":["bz"]},"application/x-bzip2":{"source":"apache","compressible":false,"extensions":["bz2","boz"]},"application/x-cbr":{"source":"apache","extensions":["cbr","cba","cbt","cbz","cb7"]},"application/x-cdlink":{"source":"apache","extensions":["vcd"]},"application/x-cfs-compressed":{"source":"apache","extensions":["cfs"]},"application/x-chat":{"source":"apache","extensions":["chat"]},"application/x-chess-pgn":{"source":"apache","extensions":["pgn"]},"application/x-chrome-extension":{"extensions":["crx"]},"application/x-cocoa":{"source":"nginx","extensions":["cco"]},"application/x-compress":{"source":"apache"},"application/x-conference":{"source":"apache","extensions":["nsc"]},"application/x-cpio":{"source":"apache","extensions":["cpio"]},"application/x-csh":{"source":"apache","extensions":["csh"]},"application/x-deb":{"compressible":false},"application/x-debian-package":{"source":"apache","extensions":["deb","udeb"]},"application/x-dgc-compressed":{"source":"apache","extensions":["dgc"]},"application/x-director":{"source":"apache","extensions":["dir","dcr","dxr","cst","cct","cxt","w3d","fgd","swa"]},"application/x-doom":{"source":"apache","extensions":["wad"]},"application/x-dtbncx+xml":{"source":"apache","compressible":true,"extensions":["ncx"]},"application/x-dtbook+xml":{"source":"apache","compressible":true,"extensions":["dtb"]},"application/x-dtbresource+xml":{"source":"apache","compressible":true,"extensions":["res"]},"application/x-dvi":{"source":"apache","compressible":false,"extensions":["dvi"]},"application/x-envoy":{"source":"apache","extensions":["evy"]},"application/x-eva":{"source":"apache","extensions":["eva"]},"application/x-font-bdf":{"source":"apache","extensions":["bdf"]},"application/x-font-dos":{"source":"apache"},"application/x-font-framemaker":{"source":"apache"},"application/x-font-ghostscript":{"source":"apache","extensions":["gsf"]},"application/x-font-libgrx":{"source":"apache"},"application/x-font-linux-psf":{"source":"apache","extensions":["psf"]},"application/x-font-pcf":{"source":"apache","extensions":["pcf"]},"application/x-font-snf":{"source":"apache","extensions":["snf"]},"application/x-font-speedo":{"source":"apache"},"application/x-font-sunos-news":{"source":"apache"},"application/x-font-type1":{"source":"apache","extensions":["pfa","pfb","pfm","afm"]},"application/x-font-vfont":{"source":"apache"},"application/x-freearc":{"source":"apache","extensions":["arc"]},"application/x-futuresplash":{"source":"apache","extensions":["spl"]},"application/x-gca-compressed":{"source":"apache","extensions":["gca"]},"application/x-glulx":{"source":"apache","extensions":["ulx"]},"application/x-gnumeric":{"source":"apache","extensions":["gnumeric"]},"application/x-gramps-xml":{"source":"apache","extensions":["gramps"]},"application/x-gtar":{"source":"apache","extensions":["gtar"]},"application/x-gzip":{"source":"apache"},"application/x-hdf":{"source":"apache","extensions":["hdf"]},"application/x-httpd-php":{"compressible":true,"extensions":["php"]},"application/x-install-instructions":{"source":"apache","extensions":["install"]},"application/x-iso9660-image":{"source":"apache","extensions":["iso"]},"application/x-iwork-keynote-sffkey":{"extensions":["key"]},"application/x-iwork-numbers-sffnumbers":{"extensions":["numbers"]},"application/x-iwork-pages-sffpages":{"extensions":["pages"]},"application/x-java-archive-diff":{"source":"nginx","extensions":["jardiff"]},"application/x-java-jnlp-file":{"source":"apache","compressible":false,"extensions":["jnlp"]},"application/x-javascript":{"compressible":true},"application/x-keepass2":{"extensions":["kdbx"]},"application/x-latex":{"source":"apache","compressible":false,"extensions":["latex"]},"application/x-lua-bytecode":{"extensions":["luac"]},"application/x-lzh-compressed":{"source":"apache","extensions":["lzh","lha"]},"application/x-makeself":{"source":"nginx","extensions":["run"]},"application/x-mie":{"source":"apache","extensions":["mie"]},"application/x-mobipocket-ebook":{"source":"apache","extensions":["prc","mobi"]},"application/x-mpegurl":{"compressible":false},"application/x-ms-application":{"source":"apache","extensions":["application"]},"application/x-ms-shortcut":{"source":"apache","extensions":["lnk"]},"application/x-ms-wmd":{"source":"apache","extensions":["wmd"]},"application/x-ms-wmz":{"source":"apache","extensions":["wmz"]},"application/x-ms-xbap":{"source":"apache","extensions":["xbap"]},"application/x-msaccess":{"source":"apache","extensions":["mdb"]},"application/x-msbinder":{"source":"apache","extensions":["obd"]},"application/x-mscardfile":{"source":"apache","extensions":["crd"]},"application/x-msclip":{"source":"apache","extensions":["clp"]},"application/x-msdos-program":{"extensions":["exe"]},"application/x-msdownload":{"source":"apache","extensions":["exe","dll","com","bat","msi"]},"application/x-msmediaview":{"source":"apache","extensions":["mvb","m13","m14"]},"application/x-msmetafile":{"source":"apache","extensions":["wmf","wmz","emf","emz"]},"application/x-msmoney":{"source":"apache","extensions":["mny"]},"application/x-mspublisher":{"source":"apache","extensions":["pub"]},"application/x-msschedule":{"source":"apache","extensions":["scd"]},"application/x-msterminal":{"source":"apache","extensions":["trm"]},"application/x-mswrite":{"source":"apache","extensions":["wri"]},"application/x-netcdf":{"source":"apache","extensions":["nc","cdf"]},"application/x-ns-proxy-autoconfig":{"compressible":true,"extensions":["pac"]},"application/x-nzb":{"source":"apache","extensions":["nzb"]},"application/x-perl":{"source":"nginx","extensions":["pl","pm"]},"application/x-pilot":{"source":"nginx","extensions":["prc","pdb"]},"application/x-pkcs12":{"source":"apache","compressible":false,"extensions":["p12","pfx"]},"application/x-pkcs7-certificates":{"source":"apache","extensions":["p7b","spc"]},"application/x-pkcs7-certreqresp":{"source":"apache","extensions":["p7r"]},"application/x-pki-message":{"source":"iana"},"application/x-rar-compressed":{"source":"apache","compressible":false,"extensions":["rar"]},"application/x-redhat-package-manager":{"source":"nginx","extensions":["rpm"]},"application/x-research-info-systems":{"source":"apache","extensions":["ris"]},"application/x-sea":{"source":"nginx","extensions":["sea"]},"application/x-sh":{"source":"apache","compressible":true,"extensions":["sh"]},"application/x-shar":{"source":"apache","extensions":["shar"]},"application/x-shockwave-flash":{"source":"apache","compressible":false,"extensions":["swf"]},"application/x-silverlight-app":{"source":"apache","extensions":["xap"]},"application/x-sql":{"source":"apache","extensions":["sql"]},"application/x-stuffit":{"source":"apache","compressible":false,"extensions":["sit"]},"application/x-stuffitx":{"source":"apache","extensions":["sitx"]},"application/x-subrip":{"source":"apache","extensions":["srt"]},"application/x-sv4cpio":{"source":"apache","extensions":["sv4cpio"]},"application/x-sv4crc":{"source":"apache","extensions":["sv4crc"]},"application/x-t3vm-image":{"source":"apache","extensions":["t3"]},"application/x-tads":{"source":"apache","extensions":["gam"]},"application/x-tar":{"source":"apache","compressible":true,"extensions":["tar"]},"application/x-tcl":{"source":"apache","extensions":["tcl","tk"]},"application/x-tex":{"source":"apache","extensions":["tex"]},"application/x-tex-tfm":{"source":"apache","extensions":["tfm"]},"application/x-texinfo":{"source":"apache","extensions":["texinfo","texi"]},"application/x-tgif":{"source":"apache","extensions":["obj"]},"application/x-ustar":{"source":"apache","extensions":["ustar"]},"application/x-virtualbox-hdd":{"compressible":true,"extensions":["hdd"]},"application/x-virtualbox-ova":{"compressible":true,"extensions":["ova"]},"application/x-virtualbox-ovf":{"compressible":true,"extensions":["ovf"]},"application/x-virtualbox-vbox":{"compressible":true,"extensions":["vbox"]},"application/x-virtualbox-vbox-extpack":{"compressible":false,"extensions":["vbox-extpack"]},"application/x-virtualbox-vdi":{"compressible":true,"extensions":["vdi"]},"application/x-virtualbox-vhd":{"compressible":true,"extensions":["vhd"]},"application/x-virtualbox-vmdk":{"compressible":true,"extensions":["vmdk"]},"application/x-wais-source":{"source":"apache","extensions":["src"]},"application/x-web-app-manifest+json":{"compressible":true,"extensions":["webapp"]},"application/x-www-form-urlencoded":{"source":"iana","compressible":true},"application/x-x509-ca-cert":{"source":"iana","extensions":["der","crt","pem"]},"application/x-x509-ca-ra-cert":{"source":"iana"},"application/x-x509-next-ca-cert":{"source":"iana"},"application/x-xfig":{"source":"apache","extensions":["fig"]},"application/x-xliff+xml":{"source":"apache","compressible":true,"extensions":["xlf"]},"application/x-xpinstall":{"source":"apache","compressible":false,"extensions":["xpi"]},"application/x-xz":{"source":"apache","extensions":["xz"]},"application/x-zmachine":{"source":"apache","extensions":["z1","z2","z3","z4","z5","z6","z7","z8"]},"application/x400-bp":{"source":"iana"},"application/xacml+xml":{"source":"iana","compressible":true},"application/xaml+xml":{"source":"apache","compressible":true,"extensions":["xaml"]},"application/xcap-att+xml":{"source":"iana","compressible":true,"extensions":["xav"]},"application/xcap-caps+xml":{"source":"iana","compressible":true,"extensions":["xca"]},"application/xcap-diff+xml":{"source":"iana","compressible":true,"extensions":["xdf"]},"application/xcap-el+xml":{"source":"iana","compressible":true,"extensions":["xel"]},"application/xcap-error+xml":{"source":"iana","compressible":true},"application/xcap-ns+xml":{"source":"iana","compressible":true,"extensions":["xns"]},"application/xcon-conference-info+xml":{"source":"iana","compressible":true},"application/xcon-conference-info-diff+xml":{"source":"iana","compressible":true},"application/xenc+xml":{"source":"iana","compressible":true,"extensions":["xenc"]},"application/xhtml+xml":{"source":"iana","compressible":true,"extensions":["xhtml","xht"]},"application/xhtml-voice+xml":{"source":"apache","compressible":true},"application/xliff+xml":{"source":"iana","compressible":true,"extensions":["xlf"]},"application/xml":{"source":"iana","compressible":true,"extensions":["xml","xsl","xsd","rng"]},"application/xml-dtd":{"source":"iana","compressible":true,"extensions":["dtd"]},"application/xml-external-parsed-entity":{"source":"iana"},"application/xml-patch+xml":{"source":"iana","compressible":true},"application/xmpp+xml":{"source":"iana","compressible":true},"application/xop+xml":{"source":"iana","compressible":true,"extensions":["xop"]},"application/xproc+xml":{"source":"apache","compressible":true,"extensions":["xpl"]},"application/xslt+xml":{"source":"iana","compressible":true,"extensions":["xsl","xslt"]},"application/xspf+xml":{"source":"apache","compressible":true,"extensions":["xspf"]},"application/xv+xml":{"source":"iana","compressible":true,"extensions":["mxml","xhvml","xvml","xvm"]},"application/yang":{"source":"iana","extensions":["yang"]},"application/yang-data+json":{"source":"iana","compressible":true},"application/yang-data+xml":{"source":"iana","compressible":true},"application/yang-patch+json":{"source":"iana","compressible":true},"application/yang-patch+xml":{"source":"iana","compressible":true},"application/yin+xml":{"source":"iana","compressible":true,"extensions":["yin"]},"application/zip":{"source":"iana","compressible":false,"extensions":["zip"]},"application/zlib":{"source":"iana"},"application/zstd":{"source":"iana"},"audio/1d-interleaved-parityfec":{"source":"iana"},"audio/32kadpcm":{"source":"iana"},"audio/3gpp":{"source":"iana","compressible":false,"extensions":["3gpp"]},"audio/3gpp2":{"source":"iana"},"audio/aac":{"source":"iana"},"audio/ac3":{"source":"iana"},"audio/adpcm":{"source":"apache","extensions":["adp"]},"audio/amr":{"source":"iana","extensions":["amr"]},"audio/amr-wb":{"source":"iana"},"audio/amr-wb+":{"source":"iana"},"audio/aptx":{"source":"iana"},"audio/asc":{"source":"iana"},"audio/atrac-advanced-lossless":{"source":"iana"},"audio/atrac-x":{"source":"iana"},"audio/atrac3":{"source":"iana"},"audio/basic":{"source":"iana","compressible":false,"extensions":["au","snd"]},"audio/bv16":{"source":"iana"},"audio/bv32":{"source":"iana"},"audio/clearmode":{"source":"iana"},"audio/cn":{"source":"iana"},"audio/dat12":{"source":"iana"},"audio/dls":{"source":"iana"},"audio/dsr-es201108":{"source":"iana"},"audio/dsr-es202050":{"source":"iana"},"audio/dsr-es202211":{"source":"iana"},"audio/dsr-es202212":{"source":"iana"},"audio/dv":{"source":"iana"},"audio/dvi4":{"source":"iana"},"audio/eac3":{"source":"iana"},"audio/encaprtp":{"source":"iana"},"audio/evrc":{"source":"iana"},"audio/evrc-qcp":{"source":"iana"},"audio/evrc0":{"source":"iana"},"audio/evrc1":{"source":"iana"},"audio/evrcb":{"source":"iana"},"audio/evrcb0":{"source":"iana"},"audio/evrcb1":{"source":"iana"},"audio/evrcnw":{"source":"iana"},"audio/evrcnw0":{"source":"iana"},"audio/evrcnw1":{"source":"iana"},"audio/evrcwb":{"source":"iana"},"audio/evrcwb0":{"source":"iana"},"audio/evrcwb1":{"source":"iana"},"audio/evs":{"source":"iana"},"audio/flexfec":{"source":"iana"},"audio/fwdred":{"source":"iana"},"audio/g711-0":{"source":"iana"},"audio/g719":{"source":"iana"},"audio/g722":{"source":"iana"},"audio/g7221":{"source":"iana"},"audio/g723":{"source":"iana"},"audio/g726-16":{"source":"iana"},"audio/g726-24":{"source":"iana"},"audio/g726-32":{"source":"iana"},"audio/g726-40":{"source":"iana"},"audio/g728":{"source":"iana"},"audio/g729":{"source":"iana"},"audio/g7291":{"source":"iana"},"audio/g729d":{"source":"iana"},"audio/g729e":{"source":"iana"},"audio/gsm":{"source":"iana"},"audio/gsm-efr":{"source":"iana"},"audio/gsm-hr-08":{"source":"iana"},"audio/ilbc":{"source":"iana"},"audio/ip-mr_v2.5":{"source":"iana"},"audio/isac":{"source":"apache"},"audio/l16":{"source":"iana"},"audio/l20":{"source":"iana"},"audio/l24":{"source":"iana","compressible":false},"audio/l8":{"source":"iana"},"audio/lpc":{"source":"iana"},"audio/melp":{"source":"iana"},"audio/melp1200":{"source":"iana"},"audio/melp2400":{"source":"iana"},"audio/melp600":{"source":"iana"},"audio/mhas":{"source":"iana"},"audio/midi":{"source":"apache","extensions":["mid","midi","kar","rmi"]},"audio/mobile-xmf":{"source":"iana","extensions":["mxmf"]},"audio/mp3":{"compressible":false,"extensions":["mp3"]},"audio/mp4":{"source":"iana","compressible":false,"extensions":["m4a","mp4a"]},"audio/mp4a-latm":{"source":"iana"},"audio/mpa":{"source":"iana"},"audio/mpa-robust":{"source":"iana"},"audio/mpeg":{"source":"iana","compressible":false,"extensions":["mpga","mp2","mp2a","mp3","m2a","m3a"]},"audio/mpeg4-generic":{"source":"iana"},"audio/musepack":{"source":"apache"},"audio/ogg":{"source":"iana","compressible":false,"extensions":["oga","ogg","spx","opus"]},"audio/opus":{"source":"iana"},"audio/parityfec":{"source":"iana"},"audio/pcma":{"source":"iana"},"audio/pcma-wb":{"source":"iana"},"audio/pcmu":{"source":"iana"},"audio/pcmu-wb":{"source":"iana"},"audio/prs.sid":{"source":"iana"},"audio/qcelp":{"source":"iana"},"audio/raptorfec":{"source":"iana"},"audio/red":{"source":"iana"},"audio/rtp-enc-aescm128":{"source":"iana"},"audio/rtp-midi":{"source":"iana"},"audio/rtploopback":{"source":"iana"},"audio/rtx":{"source":"iana"},"audio/s3m":{"source":"apache","extensions":["s3m"]},"audio/scip":{"source":"iana"},"audio/silk":{"source":"apache","extensions":["sil"]},"audio/smv":{"source":"iana"},"audio/smv-qcp":{"source":"iana"},"audio/smv0":{"source":"iana"},"audio/sofa":{"source":"iana"},"audio/sp-midi":{"source":"iana"},"audio/speex":{"source":"iana"},"audio/t140c":{"source":"iana"},"audio/t38":{"source":"iana"},"audio/telephone-event":{"source":"iana"},"audio/tetra_acelp":{"source":"iana"},"audio/tetra_acelp_bb":{"source":"iana"},"audio/tone":{"source":"iana"},"audio/tsvcis":{"source":"iana"},"audio/uemclip":{"source":"iana"},"audio/ulpfec":{"source":"iana"},"audio/usac":{"source":"iana"},"audio/vdvi":{"source":"iana"},"audio/vmr-wb":{"source":"iana"},"audio/vnd.3gpp.iufp":{"source":"iana"},"audio/vnd.4sb":{"source":"iana"},"audio/vnd.audiokoz":{"source":"iana"},"audio/vnd.celp":{"source":"iana"},"audio/vnd.cisco.nse":{"source":"iana"},"audio/vnd.cmles.radio-events":{"source":"iana"},"audio/vnd.cns.anp1":{"source":"iana"},"audio/vnd.cns.inf1":{"source":"iana"},"audio/vnd.dece.audio":{"source":"iana","extensions":["uva","uvva"]},"audio/vnd.digital-winds":{"source":"iana","extensions":["eol"]},"audio/vnd.dlna.adts":{"source":"iana"},"audio/vnd.dolby.heaac.1":{"source":"iana"},"audio/vnd.dolby.heaac.2":{"source":"iana"},"audio/vnd.dolby.mlp":{"source":"iana"},"audio/vnd.dolby.mps":{"source":"iana"},"audio/vnd.dolby.pl2":{"source":"iana"},"audio/vnd.dolby.pl2x":{"source":"iana"},"audio/vnd.dolby.pl2z":{"source":"iana"},"audio/vnd.dolby.pulse.1":{"source":"iana"},"audio/vnd.dra":{"source":"iana","extensions":["dra"]},"audio/vnd.dts":{"source":"iana","extensions":["dts"]},"audio/vnd.dts.hd":{"source":"iana","extensions":["dtshd"]},"audio/vnd.dts.uhd":{"source":"iana"},"audio/vnd.dvb.file":{"source":"iana"},"audio/vnd.everad.plj":{"source":"iana"},"audio/vnd.hns.audio":{"source":"iana"},"audio/vnd.lucent.voice":{"source":"iana","extensions":["lvp"]},"audio/vnd.ms-playready.media.pya":{"source":"iana","extensions":["pya"]},"audio/vnd.nokia.mobile-xmf":{"source":"iana"},"audio/vnd.nortel.vbk":{"source":"iana"},"audio/vnd.nuera.ecelp4800":{"source":"iana","extensions":["ecelp4800"]},"audio/vnd.nuera.ecelp7470":{"source":"iana","extensions":["ecelp7470"]},"audio/vnd.nuera.ecelp9600":{"source":"iana","extensions":["ecelp9600"]},"audio/vnd.octel.sbc":{"source":"iana"},"audio/vnd.presonus.multitrack":{"source":"iana"},"audio/vnd.qcelp":{"source":"iana"},"audio/vnd.rhetorex.32kadpcm":{"source":"iana"},"audio/vnd.rip":{"source":"iana","extensions":["rip"]},"audio/vnd.rn-realaudio":{"compressible":false},"audio/vnd.sealedmedia.softseal.mpeg":{"source":"iana"},"audio/vnd.vmx.cvsd":{"source":"iana"},"audio/vnd.wave":{"compressible":false},"audio/vorbis":{"source":"iana","compressible":false},"audio/vorbis-config":{"source":"iana"},"audio/wav":{"compressible":false,"extensions":["wav"]},"audio/wave":{"compressible":false,"extensions":["wav"]},"audio/webm":{"source":"apache","compressible":false,"extensions":["weba"]},"audio/x-aac":{"source":"apache","compressible":false,"extensions":["aac"]},"audio/x-aiff":{"source":"apache","extensions":["aif","aiff","aifc"]},"audio/x-caf":{"source":"apache","compressible":false,"extensions":["caf"]},"audio/x-flac":{"source":"apache","extensions":["flac"]},"audio/x-m4a":{"source":"nginx","extensions":["m4a"]},"audio/x-matroska":{"source":"apache","extensions":["mka"]},"audio/x-mpegurl":{"source":"apache","extensions":["m3u"]},"audio/x-ms-wax":{"source":"apache","extensions":["wax"]},"audio/x-ms-wma":{"source":"apache","extensions":["wma"]},"audio/x-pn-realaudio":{"source":"apache","extensions":["ram","ra"]},"audio/x-pn-realaudio-plugin":{"source":"apache","extensions":["rmp"]},"audio/x-realaudio":{"source":"nginx","extensions":["ra"]},"audio/x-tta":{"source":"apache"},"audio/x-wav":{"source":"apache","extensions":["wav"]},"audio/xm":{"source":"apache","extensions":["xm"]},"chemical/x-cdx":{"source":"apache","extensions":["cdx"]},"chemical/x-cif":{"source":"apache","extensions":["cif"]},"chemical/x-cmdf":{"source":"apache","extensions":["cmdf"]},"chemical/x-cml":{"source":"apache","extensions":["cml"]},"chemical/x-csml":{"source":"apache","extensions":["csml"]},"chemical/x-pdb":{"source":"apache"},"chemical/x-xyz":{"source":"apache","extensions":["xyz"]},"font/collection":{"source":"iana","extensions":["ttc"]},"font/otf":{"source":"iana","compressible":true,"extensions":["otf"]},"font/sfnt":{"source":"iana"},"font/ttf":{"source":"iana","compressible":true,"extensions":["ttf"]},"font/woff":{"source":"iana","extensions":["woff"]},"font/woff2":{"source":"iana","extensions":["woff2"]},"image/aces":{"source":"iana","extensions":["exr"]},"image/apng":{"compressible":false,"extensions":["apng"]},"image/avci":{"source":"iana","extensions":["avci"]},"image/avcs":{"source":"iana","extensions":["avcs"]},"image/avif":{"source":"iana","compressible":false,"extensions":["avif"]},"image/bmp":{"source":"iana","compressible":true,"extensions":["bmp"]},"image/cgm":{"source":"iana","extensions":["cgm"]},"image/dicom-rle":{"source":"iana","extensions":["drle"]},"image/emf":{"source":"iana","extensions":["emf"]},"image/fits":{"source":"iana","extensions":["fits"]},"image/g3fax":{"source":"iana","extensions":["g3"]},"image/gif":{"source":"iana","compressible":false,"extensions":["gif"]},"image/heic":{"source":"iana","extensions":["heic"]},"image/heic-sequence":{"source":"iana","extensions":["heics"]},"image/heif":{"source":"iana","extensions":["heif"]},"image/heif-sequence":{"source":"iana","extensions":["heifs"]},"image/hej2k":{"source":"iana","extensions":["hej2"]},"image/hsj2":{"source":"iana","extensions":["hsj2"]},"image/ief":{"source":"iana","extensions":["ief"]},"image/jls":{"source":"iana","extensions":["jls"]},"image/jp2":{"source":"iana","compressible":false,"extensions":["jp2","jpg2"]},"image/jpeg":{"source":"iana","compressible":false,"extensions":["jpeg","jpg","jpe"]},"image/jph":{"source":"iana","extensions":["jph"]},"image/jphc":{"source":"iana","extensions":["jhc"]},"image/jpm":{"source":"iana","compressible":false,"extensions":["jpm"]},"image/jpx":{"source":"iana","compressible":false,"extensions":["jpx","jpf"]},"image/jxr":{"source":"iana","extensions":["jxr"]},"image/jxra":{"source":"iana","extensions":["jxra"]},"image/jxrs":{"source":"iana","extensions":["jxrs"]},"image/jxs":{"source":"iana","extensions":["jxs"]},"image/jxsc":{"source":"iana","extensions":["jxsc"]},"image/jxsi":{"source":"iana","extensions":["jxsi"]},"image/jxss":{"source":"iana","extensions":["jxss"]},"image/ktx":{"source":"iana","extensions":["ktx"]},"image/ktx2":{"source":"iana","extensions":["ktx2"]},"image/naplps":{"source":"iana"},"image/pjpeg":{"compressible":false},"image/png":{"source":"iana","compressible":false,"extensions":["png"]},"image/prs.btif":{"source":"iana","extensions":["btif"]},"image/prs.pti":{"source":"iana","extensions":["pti"]},"image/pwg-raster":{"source":"iana"},"image/sgi":{"source":"apache","extensions":["sgi"]},"image/svg+xml":{"source":"iana","compressible":true,"extensions":["svg","svgz"]},"image/t38":{"source":"iana","extensions":["t38"]},"image/tiff":{"source":"iana","compressible":false,"extensions":["tif","tiff"]},"image/tiff-fx":{"source":"iana","extensions":["tfx"]},"image/vnd.adobe.photoshop":{"source":"iana","compressible":true,"extensions":["psd"]},"image/vnd.airzip.accelerator.azv":{"source":"iana","extensions":["azv"]},"image/vnd.cns.inf2":{"source":"iana"},"image/vnd.dece.graphic":{"source":"iana","extensions":["uvi","uvvi","uvg","uvvg"]},"image/vnd.djvu":{"source":"iana","extensions":["djvu","djv"]},"image/vnd.dvb.subtitle":{"source":"iana","extensions":["sub"]},"image/vnd.dwg":{"source":"iana","extensions":["dwg"]},"image/vnd.dxf":{"source":"iana","extensions":["dxf"]},"image/vnd.fastbidsheet":{"source":"iana","extensions":["fbs"]},"image/vnd.fpx":{"source":"iana","extensions":["fpx"]},"image/vnd.fst":{"source":"iana","extensions":["fst"]},"image/vnd.fujixerox.edmics-mmr":{"source":"iana","extensions":["mmr"]},"image/vnd.fujixerox.edmics-rlc":{"source":"iana","extensions":["rlc"]},"image/vnd.globalgraphics.pgb":{"source":"iana"},"image/vnd.microsoft.icon":{"source":"iana","compressible":true,"extensions":["ico"]},"image/vnd.mix":{"source":"iana"},"image/vnd.mozilla.apng":{"source":"iana"},"image/vnd.ms-dds":{"compressible":true,"extensions":["dds"]},"image/vnd.ms-modi":{"source":"iana","extensions":["mdi"]},"image/vnd.ms-photo":{"source":"apache","extensions":["wdp"]},"image/vnd.net-fpx":{"source":"iana","extensions":["npx"]},"image/vnd.pco.b16":{"source":"iana","extensions":["b16"]},"image/vnd.radiance":{"source":"iana"},"image/vnd.sealed.png":{"source":"iana"},"image/vnd.sealedmedia.softseal.gif":{"source":"iana"},"image/vnd.sealedmedia.softseal.jpg":{"source":"iana"},"image/vnd.svf":{"source":"iana"},"image/vnd.tencent.tap":{"source":"iana","extensions":["tap"]},"image/vnd.valve.source.texture":{"source":"iana","extensions":["vtf"]},"image/vnd.wap.wbmp":{"source":"iana","extensions":["wbmp"]},"image/vnd.xiff":{"source":"iana","extensions":["xif"]},"image/vnd.zbrush.pcx":{"source":"iana","extensions":["pcx"]},"image/webp":{"source":"apache","extensions":["webp"]},"image/wmf":{"source":"iana","extensions":["wmf"]},"image/x-3ds":{"source":"apache","extensions":["3ds"]},"image/x-cmu-raster":{"source":"apache","extensions":["ras"]},"image/x-cmx":{"source":"apache","extensions":["cmx"]},"image/x-freehand":{"source":"apache","extensions":["fh","fhc","fh4","fh5","fh7"]},"image/x-icon":{"source":"apache","compressible":true,"extensions":["ico"]},"image/x-jng":{"source":"nginx","extensions":["jng"]},"image/x-mrsid-image":{"source":"apache","extensions":["sid"]},"image/x-ms-bmp":{"source":"nginx","compressible":true,"extensions":["bmp"]},"image/x-pcx":{"source":"apache","extensions":["pcx"]},"image/x-pict":{"source":"apache","extensions":["pic","pct"]},"image/x-portable-anymap":{"source":"apache","extensions":["pnm"]},"image/x-portable-bitmap":{"source":"apache","extensions":["pbm"]},"image/x-portable-graymap":{"source":"apache","extensions":["pgm"]},"image/x-portable-pixmap":{"source":"apache","extensions":["ppm"]},"image/x-rgb":{"source":"apache","extensions":["rgb"]},"image/x-tga":{"source":"apache","extensions":["tga"]},"image/x-xbitmap":{"source":"apache","extensions":["xbm"]},"image/x-xcf":{"compressible":false},"image/x-xpixmap":{"source":"apache","extensions":["xpm"]},"image/x-xwindowdump":{"source":"apache","extensions":["xwd"]},"message/cpim":{"source":"iana"},"message/delivery-status":{"source":"iana"},"message/disposition-notification":{"source":"iana","extensions":["disposition-notification"]},"message/external-body":{"source":"iana"},"message/feedback-report":{"source":"iana"},"message/global":{"source":"iana","extensions":["u8msg"]},"message/global-delivery-status":{"source":"iana","extensions":["u8dsn"]},"message/global-disposition-notification":{"source":"iana","extensions":["u8mdn"]},"message/global-headers":{"source":"iana","extensions":["u8hdr"]},"message/http":{"source":"iana","compressible":false},"message/imdn+xml":{"source":"iana","compressible":true},"message/news":{"source":"iana"},"message/partial":{"source":"iana","compressible":false},"message/rfc822":{"source":"iana","compressible":true,"extensions":["eml","mime"]},"message/s-http":{"source":"iana"},"message/sip":{"source":"iana"},"message/sipfrag":{"source":"iana"},"message/tracking-status":{"source":"iana"},"message/vnd.si.simp":{"source":"iana"},"message/vnd.wfa.wsc":{"source":"iana","extensions":["wsc"]},"model/3mf":{"source":"iana","extensions":["3mf"]},"model/e57":{"source":"iana"},"model/gltf+json":{"source":"iana","compressible":true,"extensions":["gltf"]},"model/gltf-binary":{"source":"iana","compressible":true,"extensions":["glb"]},"model/iges":{"source":"iana","compressible":false,"extensions":["igs","iges"]},"model/mesh":{"source":"iana","compressible":false,"extensions":["msh","mesh","silo"]},"model/mtl":{"source":"iana","extensions":["mtl"]},"model/obj":{"source":"iana","extensions":["obj"]},"model/step":{"source":"iana"},"model/step+xml":{"source":"iana","compressible":true,"extensions":["stpx"]},"model/step+zip":{"source":"iana","compressible":false,"extensions":["stpz"]},"model/step-xml+zip":{"source":"iana","compressible":false,"extensions":["stpxz"]},"model/stl":{"source":"iana","extensions":["stl"]},"model/vnd.collada+xml":{"source":"iana","compressible":true,"extensions":["dae"]},"model/vnd.dwf":{"source":"iana","extensions":["dwf"]},"model/vnd.flatland.3dml":{"source":"iana"},"model/vnd.gdl":{"source":"iana","extensions":["gdl"]},"model/vnd.gs-gdl":{"source":"apache"},"model/vnd.gs.gdl":{"source":"iana"},"model/vnd.gtw":{"source":"iana","extensions":["gtw"]},"model/vnd.moml+xml":{"source":"iana","compressible":true},"model/vnd.mts":{"source":"iana","extensions":["mts"]},"model/vnd.opengex":{"source":"iana","extensions":["ogex"]},"model/vnd.parasolid.transmit.binary":{"source":"iana","extensions":["x_b"]},"model/vnd.parasolid.transmit.text":{"source":"iana","extensions":["x_t"]},"model/vnd.pytha.pyox":{"source":"iana"},"model/vnd.rosette.annotated-data-model":{"source":"iana"},"model/vnd.sap.vds":{"source":"iana","extensions":["vds"]},"model/vnd.usdz+zip":{"source":"iana","compressible":false,"extensions":["usdz"]},"model/vnd.valve.source.compiled-map":{"source":"iana","extensions":["bsp"]},"model/vnd.vtu":{"source":"iana","extensions":["vtu"]},"model/vrml":{"source":"iana","compressible":false,"extensions":["wrl","vrml"]},"model/x3d+binary":{"source":"apache","compressible":false,"extensions":["x3db","x3dbz"]},"model/x3d+fastinfoset":{"source":"iana","extensions":["x3db"]},"model/x3d+vrml":{"source":"apache","compressible":false,"extensions":["x3dv","x3dvz"]},"model/x3d+xml":{"source":"iana","compressible":true,"extensions":["x3d","x3dz"]},"model/x3d-vrml":{"source":"iana","extensions":["x3dv"]},"multipart/alternative":{"source":"iana","compressible":false},"multipart/appledouble":{"source":"iana"},"multipart/byteranges":{"source":"iana"},"multipart/digest":{"source":"iana"},"multipart/encrypted":{"source":"iana","compressible":false},"multipart/form-data":{"source":"iana","compressible":false},"multipart/header-set":{"source":"iana"},"multipart/mixed":{"source":"iana"},"multipart/multilingual":{"source":"iana"},"multipart/parallel":{"source":"iana"},"multipart/related":{"source":"iana","compressible":false},"multipart/report":{"source":"iana"},"multipart/signed":{"source":"iana","compressible":false},"multipart/vnd.bint.med-plus":{"source":"iana"},"multipart/voice-message":{"source":"iana"},"multipart/x-mixed-replace":{"source":"iana"},"text/1d-interleaved-parityfec":{"source":"iana"},"text/cache-manifest":{"source":"iana","compressible":true,"extensions":["appcache","manifest"]},"text/calendar":{"source":"iana","extensions":["ics","ifb"]},"text/calender":{"compressible":true},"text/cmd":{"compressible":true},"text/coffeescript":{"extensions":["coffee","litcoffee"]},"text/cql":{"source":"iana"},"text/cql-expression":{"source":"iana"},"text/cql-identifier":{"source":"iana"},"text/css":{"source":"iana","charset":"UTF-8","compressible":true,"extensions":["css"]},"text/csv":{"source":"iana","compressible":true,"extensions":["csv"]},"text/csv-schema":{"source":"iana"},"text/directory":{"source":"iana"},"text/dns":{"source":"iana"},"text/ecmascript":{"source":"iana"},"text/encaprtp":{"source":"iana"},"text/enriched":{"source":"iana"},"text/fhirpath":{"source":"iana"},"text/flexfec":{"source":"iana"},"text/fwdred":{"source":"iana"},"text/gff3":{"source":"iana"},"text/grammar-ref-list":{"source":"iana"},"text/html":{"source":"iana","compressible":true,"extensions":["html","htm","shtml"]},"text/jade":{"extensions":["jade"]},"text/javascript":{"source":"iana","compressible":true},"text/jcr-cnd":{"source":"iana"},"text/jsx":{"compressible":true,"extensions":["jsx"]},"text/less":{"compressible":true,"extensions":["less"]},"text/markdown":{"source":"iana","compressible":true,"extensions":["markdown","md"]},"text/mathml":{"source":"nginx","extensions":["mml"]},"text/mdx":{"compressible":true,"extensions":["mdx"]},"text/mizar":{"source":"iana"},"text/n3":{"source":"iana","charset":"UTF-8","compressible":true,"extensions":["n3"]},"text/parameters":{"source":"iana","charset":"UTF-8"},"text/parityfec":{"source":"iana"},"text/plain":{"source":"iana","compressible":true,"extensions":["txt","text","conf","def","list","log","in","ini"]},"text/provenance-notation":{"source":"iana","charset":"UTF-8"},"text/prs.fallenstein.rst":{"source":"iana"},"text/prs.lines.tag":{"source":"iana","extensions":["dsc"]},"text/prs.prop.logic":{"source":"iana"},"text/raptorfec":{"source":"iana"},"text/red":{"source":"iana"},"text/rfc822-headers":{"source":"iana"},"text/richtext":{"source":"iana","compressible":true,"extensions":["rtx"]},"text/rtf":{"source":"iana","compressible":true,"extensions":["rtf"]},"text/rtp-enc-aescm128":{"source":"iana"},"text/rtploopback":{"source":"iana"},"text/rtx":{"source":"iana"},"text/sgml":{"source":"iana","extensions":["sgml","sgm"]},"text/shaclc":{"source":"iana"},"text/shex":{"source":"iana","extensions":["shex"]},"text/slim":{"extensions":["slim","slm"]},"text/spdx":{"source":"iana","extensions":["spdx"]},"text/strings":{"source":"iana"},"text/stylus":{"extensions":["stylus","styl"]},"text/t140":{"source":"iana"},"text/tab-separated-values":{"source":"iana","compressible":true,"extensions":["tsv"]},"text/troff":{"source":"iana","extensions":["t","tr","roff","man","me","ms"]},"text/turtle":{"source":"iana","charset":"UTF-8","extensions":["ttl"]},"text/ulpfec":{"source":"iana"},"text/uri-list":{"source":"iana","compressible":true,"extensions":["uri","uris","urls"]},"text/vcard":{"source":"iana","compressible":true,"extensions":["vcard"]},"text/vnd.a":{"source":"iana"},"text/vnd.abc":{"source":"iana"},"text/vnd.ascii-art":{"source":"iana"},"text/vnd.curl":{"source":"iana","extensions":["curl"]},"text/vnd.curl.dcurl":{"source":"apache","extensions":["dcurl"]},"text/vnd.curl.mcurl":{"source":"apache","extensions":["mcurl"]},"text/vnd.curl.scurl":{"source":"apache","extensions":["scurl"]},"text/vnd.debian.copyright":{"source":"iana","charset":"UTF-8"},"text/vnd.dmclientscript":{"source":"iana"},"text/vnd.dvb.subtitle":{"source":"iana","extensions":["sub"]},"text/vnd.esmertec.theme-descriptor":{"source":"iana","charset":"UTF-8"},"text/vnd.familysearch.gedcom":{"source":"iana","extensions":["ged"]},"text/vnd.ficlab.flt":{"source":"iana"},"text/vnd.fly":{"source":"iana","extensions":["fly"]},"text/vnd.fmi.flexstor":{"source":"iana","extensions":["flx"]},"text/vnd.gml":{"source":"iana"},"text/vnd.graphviz":{"source":"iana","extensions":["gv"]},"text/vnd.hans":{"source":"iana"},"text/vnd.hgl":{"source":"iana"},"text/vnd.in3d.3dml":{"source":"iana","extensions":["3dml"]},"text/vnd.in3d.spot":{"source":"iana","extensions":["spot"]},"text/vnd.iptc.newsml":{"source":"iana"},"text/vnd.iptc.nitf":{"source":"iana"},"text/vnd.latex-z":{"source":"iana"},"text/vnd.motorola.reflex":{"source":"iana"},"text/vnd.ms-mediapackage":{"source":"iana"},"text/vnd.net2phone.commcenter.command":{"source":"iana"},"text/vnd.radisys.msml-basic-layout":{"source":"iana"},"text/vnd.senx.warpscript":{"source":"iana"},"text/vnd.si.uricatalogue":{"source":"iana"},"text/vnd.sosi":{"source":"iana"},"text/vnd.sun.j2me.app-descriptor":{"source":"iana","charset":"UTF-8","extensions":["jad"]},"text/vnd.trolltech.linguist":{"source":"iana","charset":"UTF-8"},"text/vnd.wap.si":{"source":"iana"},"text/vnd.wap.sl":{"source":"iana"},"text/vnd.wap.wml":{"source":"iana","extensions":["wml"]},"text/vnd.wap.wmlscript":{"source":"iana","extensions":["wmls"]},"text/vtt":{"source":"iana","charset":"UTF-8","compressible":true,"extensions":["vtt"]},"text/x-asm":{"source":"apache","extensions":["s","asm"]},"text/x-c":{"source":"apache","extensions":["c","cc","cxx","cpp","h","hh","dic"]},"text/x-component":{"source":"nginx","extensions":["htc"]},"text/x-fortran":{"source":"apache","extensions":["f","for","f77","f90"]},"text/x-gwt-rpc":{"compressible":true},"text/x-handlebars-template":{"extensions":["hbs"]},"text/x-java-source":{"source":"apache","extensions":["java"]},"text/x-jquery-tmpl":{"compressible":true},"text/x-lua":{"extensions":["lua"]},"text/x-markdown":{"compressible":true,"extensions":["mkd"]},"text/x-nfo":{"source":"apache","extensions":["nfo"]},"text/x-opml":{"source":"apache","extensions":["opml"]},"text/x-org":{"compressible":true,"extensions":["org"]},"text/x-pascal":{"source":"apache","extensions":["p","pas"]},"text/x-processing":{"compressible":true,"extensions":["pde"]},"text/x-sass":{"extensions":["sass"]},"text/x-scss":{"extensions":["scss"]},"text/x-setext":{"source":"apache","extensions":["etx"]},"text/x-sfv":{"source":"apache","extensions":["sfv"]},"text/x-suse-ymp":{"compressible":true,"extensions":["ymp"]},"text/x-uuencode":{"source":"apache","extensions":["uu"]},"text/x-vcalendar":{"source":"apache","extensions":["vcs"]},"text/x-vcard":{"source":"apache","extensions":["vcf"]},"text/xml":{"source":"iana","compressible":true,"extensions":["xml"]},"text/xml-external-parsed-entity":{"source":"iana"},"text/yaml":{"compressible":true,"extensions":["yaml","yml"]},"video/1d-interleaved-parityfec":{"source":"iana"},"video/3gpp":{"source":"iana","extensions":["3gp","3gpp"]},"video/3gpp-tt":{"source":"iana"},"video/3gpp2":{"source":"iana","extensions":["3g2"]},"video/av1":{"source":"iana"},"video/bmpeg":{"source":"iana"},"video/bt656":{"source":"iana"},"video/celb":{"source":"iana"},"video/dv":{"source":"iana"},"video/encaprtp":{"source":"iana"},"video/ffv1":{"source":"iana"},"video/flexfec":{"source":"iana"},"video/h261":{"source":"iana","extensions":["h261"]},"video/h263":{"source":"iana","extensions":["h263"]},"video/h263-1998":{"source":"iana"},"video/h263-2000":{"source":"iana"},"video/h264":{"source":"iana","extensions":["h264"]},"video/h264-rcdo":{"source":"iana"},"video/h264-svc":{"source":"iana"},"video/h265":{"source":"iana"},"video/iso.segment":{"source":"iana","extensions":["m4s"]},"video/jpeg":{"source":"iana","extensions":["jpgv"]},"video/jpeg2000":{"source":"iana"},"video/jpm":{"source":"apache","extensions":["jpm","jpgm"]},"video/jxsv":{"source":"iana"},"video/mj2":{"source":"iana","extensions":["mj2","mjp2"]},"video/mp1s":{"source":"iana"},"video/mp2p":{"source":"iana"},"video/mp2t":{"source":"iana","extensions":["ts"]},"video/mp4":{"source":"iana","compressible":false,"extensions":["mp4","mp4v","mpg4"]},"video/mp4v-es":{"source":"iana"},"video/mpeg":{"source":"iana","compressible":false,"extensions":["mpeg","mpg","mpe","m1v","m2v"]},"video/mpeg4-generic":{"source":"iana"},"video/mpv":{"source":"iana"},"video/nv":{"source":"iana"},"video/ogg":{"source":"iana","compressible":false,"extensions":["ogv"]},"video/parityfec":{"source":"iana"},"video/pointer":{"source":"iana"},"video/quicktime":{"source":"iana","compressible":false,"extensions":["qt","mov"]},"video/raptorfec":{"source":"iana"},"video/raw":{"source":"iana"},"video/rtp-enc-aescm128":{"source":"iana"},"video/rtploopback":{"source":"iana"},"video/rtx":{"source":"iana"},"video/scip":{"source":"iana"},"video/smpte291":{"source":"iana"},"video/smpte292m":{"source":"iana"},"video/ulpfec":{"source":"iana"},"video/vc1":{"source":"iana"},"video/vc2":{"source":"iana"},"video/vnd.cctv":{"source":"iana"},"video/vnd.dece.hd":{"source":"iana","extensions":["uvh","uvvh"]},"video/vnd.dece.mobile":{"source":"iana","extensions":["uvm","uvvm"]},"video/vnd.dece.mp4":{"source":"iana"},"video/vnd.dece.pd":{"source":"iana","extensions":["uvp","uvvp"]},"video/vnd.dece.sd":{"source":"iana","extensions":["uvs","uvvs"]},"video/vnd.dece.video":{"source":"iana","extensions":["uvv","uvvv"]},"video/vnd.directv.mpeg":{"source":"iana"},"video/vnd.directv.mpeg-tts":{"source":"iana"},"video/vnd.dlna.mpeg-tts":{"source":"iana"},"video/vnd.dvb.file":{"source":"iana","extensions":["dvb"]},"video/vnd.fvt":{"source":"iana","extensions":["fvt"]},"video/vnd.hns.video":{"source":"iana"},"video/vnd.iptvforum.1dparityfec-1010":{"source":"iana"},"video/vnd.iptvforum.1dparityfec-2005":{"source":"iana"},"video/vnd.iptvforum.2dparityfec-1010":{"source":"iana"},"video/vnd.iptvforum.2dparityfec-2005":{"source":"iana"},"video/vnd.iptvforum.ttsavc":{"source":"iana"},"video/vnd.iptvforum.ttsmpeg2":{"source":"iana"},"video/vnd.motorola.video":{"source":"iana"},"video/vnd.motorola.videop":{"source":"iana"},"video/vnd.mpegurl":{"source":"iana","extensions":["mxu","m4u"]},"video/vnd.ms-playready.media.pyv":{"source":"iana","extensions":["pyv"]},"video/vnd.nokia.interleaved-multimedia":{"source":"iana"},"video/vnd.nokia.mp4vr":{"source":"iana"},"video/vnd.nokia.videovoip":{"source":"iana"},"video/vnd.objectvideo":{"source":"iana"},"video/vnd.radgamettools.bink":{"source":"iana"},"video/vnd.radgamettools.smacker":{"source":"iana"},"video/vnd.sealed.mpeg1":{"source":"iana"},"video/vnd.sealed.mpeg4":{"source":"iana"},"video/vnd.sealed.swf":{"source":"iana"},"video/vnd.sealedmedia.softseal.mov":{"source":"iana"},"video/vnd.uvvu.mp4":{"source":"iana","extensions":["uvu","uvvu"]},"video/vnd.vivo":{"source":"iana","extensions":["viv"]},"video/vnd.youtube.yt":{"source":"iana"},"video/vp8":{"source":"iana"},"video/vp9":{"source":"iana"},"video/webm":{"source":"apache","compressible":false,"extensions":["webm"]},"video/x-f4v":{"source":"apache","extensions":["f4v"]},"video/x-fli":{"source":"apache","extensions":["fli"]},"video/x-flv":{"source":"apache","compressible":false,"extensions":["flv"]},"video/x-m4v":{"source":"apache","extensions":["m4v"]},"video/x-matroska":{"source":"apache","compressible":false,"extensions":["mkv","mk3d","mks"]},"video/x-mng":{"source":"apache","extensions":["mng"]},"video/x-ms-asf":{"source":"apache","extensions":["asf","asx"]},"video/x-ms-vob":{"source":"apache","extensions":["vob"]},"video/x-ms-wm":{"source":"apache","extensions":["wm"]},"video/x-ms-wmv":{"source":"apache","compressible":false,"extensions":["wmv"]},"video/x-ms-wmx":{"source":"apache","extensions":["wmx"]},"video/x-ms-wvx":{"source":"apache","extensions":["wvx"]},"video/x-msvideo":{"source":"apache","extensions":["avi"]},"video/x-sgi-movie":{"source":"apache","extensions":["movie"]},"video/x-smv":{"source":"apache","extensions":["smv"]},"x-conference/x-cooltalk":{"source":"apache","extensions":["ice"]},"x-shader/x-fragment":{"compressible":true},"x-shader/x-vertex":{"compressible":true}}')}};