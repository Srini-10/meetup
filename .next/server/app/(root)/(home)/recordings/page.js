(()=>{var e={};e.id=844,e.ids=[844],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},39491:e=>{"use strict";e.exports=require("assert")},14300:e=>{"use strict";e.exports=require("buffer")},6113:e=>{"use strict";e.exports=require("crypto")},82361:e=>{"use strict";e.exports=require("events")},57147:e=>{"use strict";e.exports=require("fs")},13685:e=>{"use strict";e.exports=require("http")},95687:e=>{"use strict";e.exports=require("https")},41808:e=>{"use strict";e.exports=require("net")},92761:e=>{"use strict";e.exports=require("node:async_hooks")},6005:e=>{"use strict";e.exports=require("node:crypto")},22037:e=>{"use strict";e.exports=require("os")},71017:e=>{"use strict";e.exports=require("path")},12781:e=>{"use strict";e.exports=require("stream")},24404:e=>{"use strict";e.exports=require("tls")},76224:e=>{"use strict";e.exports=require("tty")},57310:e=>{"use strict";e.exports=require("url")},73837:e=>{"use strict";e.exports=require("util")},59796:e=>{"use strict";e.exports=require("zlib")},66241:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>a.a,__next_app__:()=>p,originalPathname:()=>u,pages:()=>d,routeModule:()=>x,tree:()=>c}),r(9900),r(61967),r(35866),r(31216);var s=r(23191),i=r(88716),n=r(37922),a=r.n(n),o=r(95231),l={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>o[e]);r.d(t,l);let c=["",{children:["(root)",{children:["(home)",{children:["recordings",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,9900)),"/Users/srinivasanp/meetup/app/(root)/(home)/recordings/page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,61967)),"/Users/srinivasanp/meetup/app/(root)/layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,35866,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,57481))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(r.bind(r,31216)),"/Users/srinivasanp/meetup/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,35866,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,57481))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],d=["/Users/srinivasanp/meetup/app/(root)/(home)/recordings/page.tsx"],u="/(root)/(home)/recordings/page",p={require:r,loadChunk:()=>Promise.resolve()},x=new s.AppPageRouteModule({definition:{kind:i.x.APP_PAGE,page:"/(root)/(home)/recordings/page",pathname:"/recordings",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},60420:(e,t,r)=>{Promise.resolve().then(r.bind(r,51864))},51864:(e,t,r)=>{"use strict";r.d(t,{default:()=>h});var s=r(10326),i=r(66775),n=r(36982),a=r(17577);let o=()=>{let[e,t]=(0,a.useState)([]),[r,s]=(0,a.useState)(!1),o=(0,n.b12)(),{user:l}=(0,i.aF)();(0,a.useEffect)(()=>{(async()=>{if(o&&l?.id){s(!0);try{let{calls:e}=await o.queryCalls({sort:[{field:"starts_at",direction:-1}],filter_conditions:{starts_at:{$exists:!0},$or:[{created_by_user_id:l.id},{members:{$in:[l.id]}}]}});t(e)}catch(e){console.log(e)}finally{s(!1)}}})()},[o,l?.id]);let c=new Date;return{endedCalls:e.filter(({state:{startsAt:e,endedAt:t}})=>e&&new Date(e)<c||!!t),upcomingCalls:e.filter(({state:{startsAt:e}})=>e&&new Date(e)>c),recordings:e,isLoading:r}};var l=r(35047),c=r(77863),d=r(46226),u=r(90772),p=r(58464),x=r(94215);let g=({icon:e,title:t,date:r,isPreviousMeeting:i,buttonIcon1:n,handleClick:a,link:o,buttonText:l})=>{let{toast:g}=(0,x.pm)();return s.jsx(s.Fragment,{children:(0,s.jsxs)("section",{className:"flex min-h-[258px] w-full flex-col justify-between rounded-[14px] bg-gray-800 px-5 py-8 xl:max-w-[568px",children:[(0,s.jsxs)("article",{className:"flex flex-col gap-5",children:[s.jsx(d.default,{src:e,alt:"upcoming",width:28,height:28}),s.jsx("div",{className:"flex justify-between",children:(0,s.jsxs)("div",{className:"flex flex-col gap-2",children:[s.jsx("h1",{className:"text-2xl font-bold",children:t}),s.jsx("p",{className:"text-base font-normal",children:r})]})})]}),(0,s.jsxs)("article",{className:(0,c.cn)("flex justify-center relative",{}),children:[(0,s.jsxs)("div",{className:"relative flex w-full max-sm:hidden",children:[p.b.map((e,t)=>s.jsx(d.default,{src:e,alt:"attendees",width:40,height:40,className:(0,c.cn)("rounded-full",{absolute:t>0}),style:{top:0,left:28*t}},t)),s.jsx("div",{className:"flex justify-center items-center absolute left-[136px] size-10 rounded-full border-[5px] border-gray-700 bg-gray-800",children:"+5"})]}),!i&&(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsxs)(u.z,{onClick:a,className:"rounded bg-blue-500 px-6",children:[n&&s.jsx(d.default,{src:n,alt:"feature",width:20,height:20}),"\xa0 ",l]}),s.jsx(u.z,{onClick:()=>{navigator.clipboard.writeText(o),g({title:"Link Copied"})},className:"bg-gray-800 px-6",children:s.jsx(d.default,{src:"icons/copy.svg",alt:"feature",width:20,height:20})})]})]})]})})};var m=r(13192);let h=({type:e})=>{let{endedCalls:t,upcomingCalls:r,callRecordings:i,isLoading:n}=o(),[c,d]=(0,a.useState)([]),u=(0,l.useRouter)(),{toast:p}=(0,x.pm)();(0,a.useEffect)(()=>{let t=async()=>{try{let e=(await Promise.all(i.map(e=>e.queryRecordings()))).filter(e=>e.recordings.length>0).flatMap(e=>e.recordings);d(e)}catch(e){p({title:"try again later"})}};"recordings"===e&&t()},[e,i]);let h=(()=>{switch(e){case"ended":return t;case"recordings":return c;case"upcoming":return r;default:return[]}})(),f=(()=>{switch(e){case"ended":return"No previous Calls";case"recordings":return"No Recordings";case"upcoming":return"No Upcoming Calls";default:return[]}})();return n?s.jsx(m.Z,{}):s.jsx(s.Fragment,{children:s.jsx("div",{className:"grid grid-cols-1 gap-5 xl:grid-cols-2",children:h&&h.length>0?h.map(t=>s.jsx(g,{icon:"ended"===e?"/icons/previous.svg":"upcoming"===e?"/icons/upcoming.svg":"/icons/recordings.svg",title:t.state?.custom?.description?.substring(0,26)||t?.filename?.substring(0,20)||"Personal Meeting",date:t.state?.startsAt.toLocaleString()||t.start_time.toLocaleString(),isPreviousMeeting:"ended"==e,buttonIcon1:"recordings"===e?"/icons/play.svg":void 0,buttonText:"recordings"===e?"Play":"Start",handleClick:"recordings"===e?()=>u.push(`${t.url}`):()=>u.push(`/meeting/${t.id}`),link:"recordings"===e?t.url:`${process.env.NEXT_PUBLIC_BASE_URL}/meeting/${t.id}`},t.id)):s.jsx("h1",{children:f})})})}},9900:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n});var s=r(19510),i=r(99792);r(71159);let n=()=>s.jsx(s.Fragment,{children:(0,s.jsxs)("section",{className:"flex size-full flex-col gap-10 text-white",children:[s.jsx("h1",{className:"text-3xl font-bold",children:"Recordings"}),s.jsx(i.Z,{type:"recordings"})]})})},99792:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});let s=(0,r(68570).createProxy)(String.raw`/Users/srinivasanp/meetup/components/CallList.tsx#default`)}};var t=require("../../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[948,448,362,564,82],()=>r(66241));module.exports=s})();