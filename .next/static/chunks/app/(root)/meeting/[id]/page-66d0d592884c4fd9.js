(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[814],{89592:function(e,t,a){Promise.resolve().then(a.bind(a,15474))},15474:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return z}});var r=a(57437),s=a(7651),n=a(37440),l=a(26543),i=a(2265),d=a(68070),o=a(87592),c=a(22468),u=a(28165);let f=d.fC,m=d.xz;d.ZA,d.Uv,d.Tr,d.Ee,i.forwardRef((e,t)=>{let{className:a,inset:s,children:l,...i}=e;return(0,r.jsxs)(d.fF,{ref:t,className:(0,n.cn)("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-neutral-100 data-[state=open]:bg-neutral-100 dark:focus:bg-neutral-800 dark:data-[state=open]:bg-neutral-800",s&&"pl-8",a),...i,children:[l,(0,r.jsx)(o.Z,{className:"ml-auto h-4 w-4"})]})}).displayName=d.fF.displayName,i.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(d.tu,{ref:t,className:(0,n.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border border-neutral-200 bg-white p-1 text-neutral-950 shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 dark:border-neutral-800 dark:bg-neutral-950 dark:text-neutral-50",a),...s})}).displayName=d.tu.displayName;let x=i.forwardRef((e,t)=>{let{className:a,sideOffset:s=4,...l}=e;return(0,r.jsx)(d.Uv,{children:(0,r.jsx)(d.VY,{ref:t,sideOffset:s,className:(0,n.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border border-neutral-200 bg-white p-1 text-neutral-950 shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 dark:border-neutral-800 dark:bg-neutral-950 dark:text-neutral-50",a),...l})})});x.displayName=d.VY.displayName;let h=i.forwardRef((e,t)=>{let{className:a,inset:s,...l}=e;return(0,r.jsx)(d.ck,{ref:t,className:(0,n.cn)("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-neutral-100 focus:text-neutral-900 data-[disabled]:pointer-events-none data-[disabled]:opacity-50 dark:focus:bg-neutral-800 dark:focus:text-neutral-50",s&&"pl-8",a),...l})});h.displayName=d.ck.displayName,i.forwardRef((e,t)=>{let{className:a,children:s,checked:l,...i}=e;return(0,r.jsxs)(d.oC,{ref:t,className:(0,n.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-neutral-100 focus:text-neutral-900 data-[disabled]:pointer-events-none data-[disabled]:opacity-50 dark:focus:bg-neutral-800 dark:focus:text-neutral-50",a),checked:l,...i,children:[(0,r.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,r.jsx)(d.wU,{children:(0,r.jsx)(c.Z,{className:"h-4 w-4"})})}),s]})}).displayName=d.oC.displayName,i.forwardRef((e,t)=>{let{className:a,children:s,...l}=e;return(0,r.jsxs)(d.Rk,{ref:t,className:(0,n.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-neutral-100 focus:text-neutral-900 data-[disabled]:pointer-events-none data-[disabled]:opacity-50 dark:focus:bg-neutral-800 dark:focus:text-neutral-50",a),...l,children:[(0,r.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,r.jsx)(d.wU,{children:(0,r.jsx)(u.Z,{className:"h-2 w-2 fill-current"})})}),s]})}).displayName=d.Rk.displayName,i.forwardRef((e,t)=>{let{className:a,inset:s,...l}=e;return(0,r.jsx)(d.__,{ref:t,className:(0,n.cn)("px-2 py-1.5 text-sm font-semibold",s&&"pl-8",a),...l})}).displayName=d.__.displayName;let p=i.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(d.Z0,{ref:t,className:(0,n.cn)("-mx-1 my-1 h-px bg-neutral-100 dark:bg-neutral-800",a),...s})});p.displayName=d.Z0.displayName;var b=a(66117),g=a(11240),j=a(16463),v=a(50495),N=()=>{let e=(0,l.W7t)(),t=(0,j.useRouter)(),{useLocalParticipant:a}=(0,l.dvl)(),s=a();return s&&(null==e?void 0:e.state.createdBy)&&s.userId===e.state.createdBy.id?(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(v.z,{onClick:async()=>{await e.endCall(),t.push("/")},className:"bg-red-500",children:"End call for everyone"})}):null},k=e=>{let{call:t}=e,a=!!(0,j.useSearchParams)().get("personal"),d=(0,j.useRouter)(),[o,c]=(0,i.useState)("speaker-left"),[u,v]=(0,i.useState)(!1),{useCallCallingState:k}=(0,l.dvl)();return k()!==l.Uq0.JOINED?(0,r.jsx)(s.Z,{}):(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)("section",{className:"relative h-screen w-full overflow-hidden pt-4 text-white",children:[(0,r.jsxs)("div",{className:"relative flex size-full items-center justify-center",children:[(0,r.jsx)("div",{className:"flex size-full max-w-[1000px] items-center",children:(0,r.jsx)(()=>{switch(o){case"grid":return(0,r.jsx)(l.ZXw,{});case"speaker-right":return(0,r.jsx)(l.gy1,{participantsBarPosition:"left"});default:return(0,r.jsx)(l.gy1,{participantsBarPosition:"right"})}},{})}),(0,r.jsx)("div",{className:(0,n.cn)("h-[calc(100vh-86px)] hidden ml-2",{"show-block":u}),children:(0,r.jsx)(l.lkp,{onClose:()=>v(!1)})})]}),(0,r.jsxs)("div",{className:"fixed bottom-0 flex w-full items-center justify-center gap-5 flex-wrap",children:[(0,r.jsx)(l.PHQ,{onLeave:()=>d.push("/")}),(0,r.jsxs)(f,{children:[(0,r.jsx)("div",{className:"flex items-center",children:(0,r.jsx)(m,{className:"cursor-pointer rounded-2xl bg-[#19232d] px-4 py-2 hover:bg-[#4c535b]",children:(0,r.jsx)(b.Z,{size:20,className:"text-white"})})}),(0,r.jsxs)(x,{className:"bg-gray-800 border-gray-700 text-white",children:[["Grid","Speaker-Left","Speaker-Right"].map((e,t)=>(0,r.jsx)("div",{className:"cursor-pointer",children:(0,r.jsx)(h,{onClick:()=>{c(e.toLowerCase())},children:e})},t)),(0,r.jsx)(p,{className:"border-gray-700"})]}),(0,r.jsx)("button",{onClick:()=>v(e=>!e),className:"",children:(0,r.jsx)("div",{className:"cursor-pointer rounded-2xl bg-[#19232d] px-4 py-2 hover:bg-[#4c535b]",children:(0,r.jsx)(g.Z,{size:20,className:"text-white"})})})]}),(0,r.jsx)(l.GUv,{}),!a&&(0,r.jsx)(N,{})]})]})})},w=e=>{let{setIsSetupComplete:t}=e,[a,s]=(0,i.useState)(!1),n=(0,l.W7t)();if(!n)throw Error("useCall must be used within StreamCall component");return(0,i.useEffect)(()=>{a?(null==n||n.camera.disable(),null==n||n.microphone.disable()):(null==n||n.camera.enable(),null==n||n.microphone.enable())},[a,null==n?void 0:n.camera,null==n?void 0:n.microphone]),(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)("div",{className:"flex flex-col h-screen w-full items-center justify-center gap-3 text-white",children:[(0,r.jsx)("h1",{className:"text-2xl font-bold",children:"Setup"}),(0,r.jsx)(l.FoN,{}),(0,r.jsxs)("div",{className:"flex h-16 items-center justify-center gap-3",children:[(0,r.jsxs)("label",{className:"flex items-center justify-center gap-2 font-medium",children:[(0,r.jsx)("input",{type:"checkbox",checked:a,onChange:e=>s(e.target.checked)}),"Join without camera and microphone"]}),(0,r.jsx)(l.Avh,{})]}),(0,r.jsx)(v.z,{className:"rounded-md bg-green-500 px-4 py-2.5",onClick:()=>{n.join(),t(!0)},children:"Join Meeting"})]})})},y=a(24173),C=a(93073),z=e=>{let{params:{id:t}}=e,{user:a,isLoaded:n}=(0,C.aF)(),[d,o]=(0,i.useState)(!1),{call:c,isCallLoading:u}=(0,y.J)(t);return!n||u?(0,r.jsx)(s.Z,{}):(0,r.jsx)(r.Fragment,{children:(0,r.jsx)("main",{className:"h-screen w-full",children:(0,r.jsx)(l.N_D,{call:c,children:(0,r.jsx)(l.c3T,{children:d?(0,r.jsx)(k,{call:c}):(0,r.jsx)(w,{setIsSetupComplete:o})})})})})}},7651:function(e,t,a){"use strict";var r=a(57437),s=a(66648);a(2265),t.Z=()=>(0,r.jsx)(r.Fragment,{children:(0,r.jsx)("div",{className:"flex justify-center items-center h-screen w-screen",children:(0,r.jsx)(s.default,{src:"/icons/loading-circle.svg",alt:"loading",width:50,height:50})})})},50495:function(e,t,a){"use strict";a.d(t,{z:function(){return o}});var r=a(57437),s=a(2265),n=a(71538),l=a(12218),i=a(37440);let d=(0,l.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-white transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-neutral-950 focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 dark:ring-offset-neutral-950 dark:focus-visible:ring-neutral-300",{variants:{variant:{default:"bg-neutral-900 text-neutral-50 hover:bg-neutral-900/90 dark:bg-neutral-50 dark:text-neutral-900 dark:hover:bg-neutral-50/90",destructive:"bg-red-500 text-neutral-50 hover:bg-red-500/90 dark:bg-red-900 dark:text-neutral-50 dark:hover:bg-red-900/90",outline:"border border-neutral-200 bg-white hover:bg-neutral-100 hover:text-neutral-900 dark:border-neutral-800 dark:bg-neutral-950 dark:hover:bg-neutral-800 dark:hover:text-neutral-50",secondary:"bg-neutral-100 text-neutral-900 hover:bg-neutral-100/80 dark:bg-neutral-800 dark:text-neutral-50 dark:hover:bg-neutral-800/80",ghost:"hover:bg-neutral-100 hover:text-neutral-900 dark:hover:bg-neutral-800 dark:hover:text-neutral-50",link:"text-neutral-900 underline-offset-4 hover:underline dark:text-neutral-50"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),o=s.forwardRef((e,t)=>{let{className:a,variant:s,size:l,asChild:o=!1,...c}=e,u=o?n.g7:"button";return(0,r.jsx)(u,{className:(0,i.cn)(d({variant:s,size:l,className:a})),ref:t,...c})});o.displayName="Button"},24173:function(e,t,a){"use strict";a.d(t,{J:function(){return n}});var r=a(26543),s=a(2265);let n=e=>{let[t,a]=(0,s.useState)(),[n,l]=(0,s.useState)(!0),i=(0,r.b12)();return(0,s.useEffect)(()=>{i&&(async()=>{let{calls:t}=await i.queryCalls({filter_conditions:{id:e}});t.length>0&&a(t[0]),l(!1)})()},[i,e]),{call:t,isCallLoading:n}}},37440:function(e,t,a){"use strict";a.d(t,{cn:function(){return n}});var r=a(44839),s=a(96164);function n(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return(0,s.m6)((0,r.W)(t))}}},function(e){e.O(0,[463,674,501,627,183,269,648,216,86,641,971,23,744],function(){return e(e.s=89592)}),_N_E=e.O()}]);